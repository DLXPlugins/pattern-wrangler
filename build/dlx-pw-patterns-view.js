(()=>{var e,t,n={252(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var i,r,o;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(r=i;0!==r--;)if(!e(t[r],n[r]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(r of t.entries())if(!n.has(r[0]))return!1;for(r of t.entries())if(!e(r[1],n.get(r[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(r of t.entries())if(!n.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if((i=t.length)!=n.length)return!1;for(r=i;0!==r--;)if(t[r]!==n[r])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=i;0!==r--;)if(!Object.prototype.hasOwnProperty.call(n,o[r]))return!1;for(r=i;0!==r--;){var a=o[r];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n}},270(e,t,n){"use strict";var i,r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(i=function(e){return i=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},i(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=i(e),r=0;r<n.length;r++)"default"!==n[r]&&o(t,e,n[r]);return a(t,e),t}),l=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(609)),u=n(665),d=(0,n(489).createAnimation)("BeatLoader","50% {transform: scale(0.75);opacity: 0.2} 100% {transform: scale(1);opacity: 1}","beat");t.default=function(e){var t=e.loading,n=void 0===t||t,i=e.color,o=void 0===i?"#000000":i,a=e.speedMultiplier,s=void 0===a?1:a,f=e.cssOverride,h=void 0===f?{}:f,p=e.size,m=void 0===p?15:p,g=e.margin,v=void 0===g?2:g,b=l(e,["loading","color","speedMultiplier","cssOverride","size","margin"]),y=r({display:"inherit"},h),w=function(e){return{display:"inline-block",backgroundColor:o,width:(0,u.cssValue)(m),height:(0,u.cssValue)(m),margin:(0,u.cssValue)(v),borderRadius:"100%",animation:"".concat(d," ").concat(.7/s,"s ").concat(e%2?"0s":"".concat(.35/s,"s")," infinite linear"),animationFillMode:"both"}};return n?c.createElement("span",r({style:y},b),c.createElement("span",{style:w(1)}),c.createElement("span",{style:w(2)}),c.createElement("span",{style:w(3)})):null}},286(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.resourceCache=void 0;const r=i(n(802)),o=new Map;t.resourceCache=function(e){o.has(e)||o.set(e,new Map);const t=o.get(e);return{get:(...e)=>t.get((0,r.default)(e)),set:(e,...n)=>t.set((0,r.default)(n),e),delete:(...e)=>t.delete((0,r.default)(e)),clear:()=>(o.delete(e),t.clear())}}},405(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeDataReader=void 0;const i=n(286);t.initializeDataReader=function(e,...t){const n=(0,i.resourceCache)(e),r=n.get(...t);if(r)return r;let o,a,s="init";const l=e(...t).then(e=>(o=e,s="done",e)).catch(e=>{a=e,s="error"});function c(e){if("init"===s)throw l;if("error"===s)throw a;return"function"==typeof e?e(o):o}return n.set(c,...t),c}},469(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},484(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.script=t.image=void 0,t.image=function(e){return new Promise((t,n)=>{const i=new Image;i.onload=()=>{t(e)},i.onerror=n,i.src=e})},t.script=function(e){return new Promise((t,n)=>{const i=document.createElement("script");i.onload=()=>{t(e)},i.onerror=n,i.src=e,document.getElementsByTagName("body")[0].appendChild(i)})}},489(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAnimation=void 0,t.createAnimation=function(e,t,n){var i="react-spinners-".concat(e,"-").concat(n);if("undefined"==typeof window||!window.document)return i;var r=document.createElement("style");document.head.appendChild(r);var o=r.sheet,a="\n    @keyframes ".concat(i," {\n      ").concat(t,"\n    }\n  ");return o&&o.insertRule(a,0),i}},493(e,t,n){"use strict";var i=n(609),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=i.useState,a=i.useEffect,s=i.useLayoutEffect,l=i.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),i=o({inst:{value:n,getSnapshot:t}}),r=i[0].inst,u=i[1];return s(function(){r.value=n,r.getSnapshot=t,c(r)&&u({inst:r})},[e,n,t]),a(function(){return c(r)&&u({inst:r}),e(function(){c(r)&&u({inst:r})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:u},609(e){"use strict";e.exports=window.React},665(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseLengthAndUnit=i,t.cssValue=function(e){var t=i(e);return"".concat(t.value).concat(t.unit)};var n={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function i(e){if("number"==typeof e)return{value:e,unit:"px"};var t,i=(e.match(/^[0-9.]*/)||"").toString();t=i.includes(".")?parseFloat(i):parseInt(i,10);var r=(e.match(/[^0-9]*$/)||"").toString();return n[r]?{value:t,unit:r}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}},699(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(n(609)),l=a(n(742));t.default=({children:e,fallback:t,errorMessage:n,errorComponent:i})=>{const r=i||l.default;return s.createElement(r,{errorMessage:n},s.createElement(s.Suspense,{fallback:t},e))}},715(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useAsyncResource=void 0;const i=n(609),r=n(405);t.useAsyncResource=function(e,...t){const n=(0,i.useRef)(()=>{});(0,i.useMemo)(()=>{t.length&&(!e.length&&1===t.length&&Array.isArray(t[0])&&0===t[0].length?n.current=(0,r.initializeDataReader)(e):n.current=(0,r.initializeDataReader)(e,...t))},[e,...t]);const[,o]=(0,i.useState)(0),a=(0,i.useCallback)((...t)=>{n.current=(0,r.initializeDataReader)(e,...t),o(e=>1-e)},[e]);return[n.current,a]}},731(e){var t={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",Ấ:"A",Ắ:"A",Ẳ:"A",Ẵ:"A",Ặ:"A",Æ:"AE",Ầ:"A",Ằ:"A",Ȃ:"A",Ả:"A",Ạ:"A",Ẩ:"A",Ẫ:"A",Ậ:"A",Ç:"C",Ḉ:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ế:"E",Ḗ:"E",Ề:"E",Ḕ:"E",Ḝ:"E",Ȇ:"E",Ẻ:"E",Ẽ:"E",Ẹ:"E",Ể:"E",Ễ:"E",Ệ:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ḯ:"I",Ȋ:"I",Ỉ:"I",Ị:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",Ố:"O",Ṍ:"O",Ṓ:"O",Ȏ:"O",Ỏ:"O",Ọ:"O",Ổ:"O",Ỗ:"O",Ộ:"O",Ờ:"O",Ở:"O",Ỡ:"O",Ớ:"O",Ợ:"O",Ù:"U",Ú:"U",Û:"U",Ü:"U",Ủ:"U",Ụ:"U",Ử:"U",Ữ:"U",Ự:"U",Ý:"Y",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",ấ:"a",ắ:"a",ẳ:"a",ẵ:"a",ặ:"a",æ:"ae",ầ:"a",ằ:"a",ȃ:"a",ả:"a",ạ:"a",ẩ:"a",ẫ:"a",ậ:"a",ç:"c",ḉ:"c",è:"e",é:"e",ê:"e",ë:"e",ế:"e",ḗ:"e",ề:"e",ḕ:"e",ḝ:"e",ȇ:"e",ẻ:"e",ẽ:"e",ẹ:"e",ể:"e",ễ:"e",ệ:"e",ì:"i",í:"i",î:"i",ï:"i",ḯ:"i",ȋ:"i",ỉ:"i",ị:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",ố:"o",ṍ:"o",ṓ:"o",ȏ:"o",ỏ:"o",ọ:"o",ổ:"o",ỗ:"o",ộ:"o",ờ:"o",ở:"o",ỡ:"o",ớ:"o",ợ:"o",ù:"u",ú:"u",û:"u",ü:"u",ủ:"u",ụ:"u",ử:"u",ữ:"u",ự:"u",ý:"y",ÿ:"y",Ā:"A",ā:"a",Ă:"A",ă:"a",Ą:"A",ą:"a",Ć:"C",ć:"c",Ĉ:"C",ĉ:"c",Ċ:"C",ċ:"c",Č:"C",č:"c",C̆:"C",c̆:"c",Ď:"D",ď:"d",Đ:"D",đ:"d",Ē:"E",ē:"e",Ĕ:"E",ĕ:"e",Ė:"E",ė:"e",Ę:"E",ę:"e",Ě:"E",ě:"e",Ĝ:"G",Ǵ:"G",ĝ:"g",ǵ:"g",Ğ:"G",ğ:"g",Ġ:"G",ġ:"g",Ģ:"G",ģ:"g",Ĥ:"H",ĥ:"h",Ħ:"H",ħ:"h",Ḫ:"H",ḫ:"h",Ĩ:"I",ĩ:"i",Ī:"I",ī:"i",Ĭ:"I",ĭ:"i",Į:"I",į:"i",İ:"I",ı:"i",Ĳ:"IJ",ĳ:"ij",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",Ḱ:"K",ḱ:"k",K̆:"K",k̆:"k",Ĺ:"L",ĺ:"l",Ļ:"L",ļ:"l",Ľ:"L",ľ:"l",Ŀ:"L",ŀ:"l",Ł:"l",ł:"l",Ḿ:"M",ḿ:"m",M̆:"M",m̆:"m",Ń:"N",ń:"n",Ņ:"N",ņ:"n",Ň:"N",ň:"n",ŉ:"n",N̆:"N",n̆:"n",Ō:"O",ō:"o",Ŏ:"O",ŏ:"o",Ő:"O",ő:"o",Œ:"OE",œ:"oe",P̆:"P",p̆:"p",Ŕ:"R",ŕ:"r",Ŗ:"R",ŗ:"r",Ř:"R",ř:"r",R̆:"R",r̆:"r",Ȓ:"R",ȓ:"r",Ś:"S",ś:"s",Ŝ:"S",ŝ:"s",Ş:"S",Ș:"S",ș:"s",ş:"s",Š:"S",š:"s",Ţ:"T",ţ:"t",ț:"t",Ț:"T",Ť:"T",ť:"t",Ŧ:"T",ŧ:"t",T̆:"T",t̆:"t",Ũ:"U",ũ:"u",Ū:"U",ū:"u",Ŭ:"U",ŭ:"u",Ů:"U",ů:"u",Ű:"U",ű:"u",Ų:"U",ų:"u",Ȗ:"U",ȗ:"u",V̆:"V",v̆:"v",Ŵ:"W",ŵ:"w",Ẃ:"W",ẃ:"w",X̆:"X",x̆:"x",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Y̆:"Y",y̆:"y",Ź:"Z",ź:"z",Ż:"Z",ż:"z",Ž:"Z",ž:"z",ſ:"s",ƒ:"f",Ơ:"O",ơ:"o",Ư:"U",ư:"u",Ǎ:"A",ǎ:"a",Ǐ:"I",ǐ:"i",Ǒ:"O",ǒ:"o",Ǔ:"U",ǔ:"u",Ǖ:"U",ǖ:"u",Ǘ:"U",ǘ:"u",Ǚ:"U",ǚ:"u",Ǜ:"U",ǜ:"u",Ứ:"U",ứ:"u",Ṹ:"U",ṹ:"u",Ǻ:"A",ǻ:"a",Ǽ:"AE",ǽ:"ae",Ǿ:"O",ǿ:"o",Þ:"TH",þ:"th",Ṕ:"P",ṕ:"p",Ṥ:"S",ṥ:"s",X́:"X",x́:"x",Ѓ:"Г",ѓ:"г",Ќ:"К",ќ:"к",A̋:"A",a̋:"a",E̋:"E",e̋:"e",I̋:"I",i̋:"i",Ǹ:"N",ǹ:"n",Ồ:"O",ồ:"o",Ṑ:"O",ṑ:"o",Ừ:"U",ừ:"u",Ẁ:"W",ẁ:"w",Ỳ:"Y",ỳ:"y",Ȁ:"A",ȁ:"a",Ȅ:"E",ȅ:"e",Ȉ:"I",ȉ:"i",Ȍ:"O",ȍ:"o",Ȑ:"R",ȑ:"r",Ȕ:"U",ȕ:"u",B̌:"B",b̌:"b",Č̣:"C",č̣:"c",Ê̌:"E",ê̌:"e",F̌:"F",f̌:"f",Ǧ:"G",ǧ:"g",Ȟ:"H",ȟ:"h",J̌:"J",ǰ:"j",Ǩ:"K",ǩ:"k",M̌:"M",m̌:"m",P̌:"P",p̌:"p",Q̌:"Q",q̌:"q",Ř̩:"R",ř̩:"r",Ṧ:"S",ṧ:"s",V̌:"V",v̌:"v",W̌:"W",w̌:"w",X̌:"X",x̌:"x",Y̌:"Y",y̌:"y",A̧:"A",a̧:"a",B̧:"B",b̧:"b",Ḑ:"D",ḑ:"d",Ȩ:"E",ȩ:"e",Ɛ̧:"E",ɛ̧:"e",Ḩ:"H",ḩ:"h",I̧:"I",i̧:"i",Ɨ̧:"I",ɨ̧:"i",M̧:"M",m̧:"m",O̧:"O",o̧:"o",Q̧:"Q",q̧:"q",U̧:"U",u̧:"u",X̧:"X",x̧:"x",Z̧:"Z",z̧:"z",й:"и",Й:"И",ё:"е",Ё:"Е"},n=Object.keys(t).join("|"),i=new RegExp(n,"g"),r=new RegExp(n,"");function o(e){return t[e]}var a=function(e){return e.replace(i,o)};e.exports=a,e.exports.has=function(e){return!!e.match(r)},e.exports.remove=a},742(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const a=o(n(609));class s extends a.Component{static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps({errorMessage:e},t){return t.error?{errorMessage:"function"==typeof e?e(t.error):e||t.error.message}:t}constructor(e){super(e),this.state={}}render(){return this.state.errorMessage?this.state.errorMessage:this.props.children}}t.default=s},802(e){e.exports=function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){return r(t[a][1][e]||e)},l,l.exports,e,t,n,i)}return n[a].exports}for(var o=void 0,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){(function(i,r,o,a,s,l,c,u,d){"use strict";var f=e("crypto");function h(e,t){return function(e,t){var n;if(void 0===(n="passthrough"!==t.algorithm?f.createHash(t.algorithm):new y).write&&(n.write=n.update,n.end=n.update),b(t,n).dispatch(e),n.update||n.end(""),n.digest)return n.digest("buffer"===t.encoding?void 0:t.encoding);var i=n.read();return"buffer"!==t.encoding?i.toString(t.encoding):i}(e,t=g(e,t))}(n=t.exports=h).sha1=function(e){return h(e)},n.keys=function(e){return h(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},n.MD5=function(e){return h(e,{algorithm:"md5",encoding:"hex"})},n.keysMD5=function(e){return h(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var p=f.getHashes?f.getHashes().slice():["sha1","md5"];p.push("passthrough");var m=["buffer","hex","binary","base64"];function g(e,t){t=t||{};var n={};if(n.algorithm=t.algorithm||"sha1",n.encoding=t.encoding||"hex",n.excludeValues=!!t.excludeValues,n.algorithm=n.algorithm.toLowerCase(),n.encoding=n.encoding.toLowerCase(),n.ignoreUnknown=!0===t.ignoreUnknown,n.respectType=!1!==t.respectType,n.respectFunctionNames=!1!==t.respectFunctionNames,n.respectFunctionProperties=!1!==t.respectFunctionProperties,n.unorderedArrays=!0===t.unorderedArrays,n.unorderedSets=!1!==t.unorderedSets,n.unorderedObjects=!1!==t.unorderedObjects,n.replacer=t.replacer||void 0,n.excludeKeys=t.excludeKeys||void 0,void 0===e)throw new Error("Object argument required.");for(var i=0;i<p.length;++i)p[i].toLowerCase()===n.algorithm.toLowerCase()&&(n.algorithm=p[i]);if(-1===p.indexOf(n.algorithm))throw new Error('Algorithm "'+n.algorithm+'"  not supported. supported values: '+p.join(", "));if(-1===m.indexOf(n.encoding)&&"passthrough"!==n.algorithm)throw new Error('Encoding "'+n.encoding+'"  not supported. supported values: '+m.join(", "));return n}function v(e){if("function"==typeof e)return null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))}function b(e,t,n){function i(e){return t.update?t.update(e,"utf8"):t.write(e,"utf8")}return n=n||[],{dispatch:function(t){return e.replacer&&(t=e.replacer(t)),this["_"+(null===t?"null":typeof t)](t)},_object:function(t){var r,a=Object.prototype.toString.call(t),s=/\[object (.*)\]/i.exec(a);if(s=(s=s?s[1]:"unknown:["+a+"]").toLowerCase(),0<=(r=n.indexOf(t)))return this.dispatch("[CIRCULAR:"+r+"]");if(n.push(t),void 0!==o&&o.isBuffer&&o.isBuffer(t))return i("buffer:"),i(t);if("object"===s||"function"===s||"asyncfunction"===s){var l=Object.keys(t);e.unorderedObjects&&(l=l.sort()),!1===e.respectType||v(t)||l.splice(0,0,"prototype","__proto__","constructor"),e.excludeKeys&&(l=l.filter(function(t){return!e.excludeKeys(t)})),i("object:"+l.length+":");var c=this;return l.forEach(function(n){c.dispatch(n),i(":"),e.excludeValues||c.dispatch(t[n]),i(",")})}if(!this["_"+s]){if(e.ignoreUnknown)return i("["+s+"]");throw new Error('Unknown object type "'+s+'"')}this["_"+s](t)},_array:function(t,r){r=void 0!==r?r:!1!==e.unorderedArrays;var o=this;if(i("array:"+t.length+":"),!r||t.length<=1)return t.forEach(function(e){return o.dispatch(e)});var a=[],s=t.map(function(t){var i=new y,r=n.slice();return b(e,i,r).dispatch(t),a=a.concat(r.slice(n.length)),i.read().toString()});return n=n.concat(a),s.sort(),this._array(s,!1)},_date:function(e){return i("date:"+e.toJSON())},_symbol:function(e){return i("symbol:"+e.toString())},_error:function(e){return i("error:"+e.toString())},_boolean:function(e){return i("bool:"+e.toString())},_string:function(e){i("string:"+e.length+":"),i(e.toString())},_function:function(t){i("fn:"),v(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this._object(t)},_number:function(e){return i("number:"+e.toString())},_xml:function(e){return i("xml:"+e.toString())},_null:function(){return i("Null")},_undefined:function(){return i("Undefined")},_regexp:function(e){return i("regex:"+e.toString())},_uint8array:function(e){return i("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint8clampedarray:function(e){return i("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},_int8array:function(e){return i("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint16array:function(e){return i("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_int16array:function(e){return i("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_uint32array:function(e){return i("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_int32array:function(e){return i("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_float32array:function(e){return i("float32array:"),this.dispatch(Array.prototype.slice.call(e))},_float64array:function(e){return i("float64array:"),this.dispatch(Array.prototype.slice.call(e))},_arraybuffer:function(e){return i("arraybuffer:"),this.dispatch(new Uint8Array(e))},_url:function(e){return i("url:"+e.toString())},_map:function(t){i("map:");var n=Array.from(t);return this._array(n,!1!==e.unorderedSets)},_set:function(t){i("set:");var n=Array.from(t);return this._array(n,!1!==e.unorderedSets)},_file:function(e){return i("file:"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},_blob:function(){if(e.ignoreUnknown)return i("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return i("domwindow")},_bigint:function(e){return i("bigint:"+e.toString())},_process:function(){return i("process")},_timer:function(){return i("timer")},_pipe:function(){return i("pipe")},_tcp:function(){return i("tcp")},_udp:function(){return i("udp")},_tty:function(){return i("tty")},_statwatcher:function(){return i("statwatcher")},_securecontext:function(){return i("securecontext")},_connection:function(){return i("connection")},_zlib:function(){return i("zlib")},_context:function(){return i("context")},_nodescript:function(){return i("nodescript")},_httpparser:function(){return i("httpparser")},_dataview:function(){return i("dataview")},_signal:function(){return i("signal")},_fsevent:function(){return i("fsevent")},_tlswrap:function(){return i("tlswrap")}}}function y(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}n.writeToStream=function(e,t,n){return void 0===n&&(n=t,t={}),b(t=g(e,t),n).dispatch(e)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_7eac155c.js","/")},{buffer:3,crypto:5,lYpoI2:10}],2:[function(e,t,n){(function(e,t,i,r,o,a,s,l,c){!function(e){"use strict";var t="undefined"!=typeof Uint8Array?Uint8Array:Array,n="+".charCodeAt(0),i="/".charCodeAt(0),r="0".charCodeAt(0),o="a".charCodeAt(0),a="A".charCodeAt(0),s="-".charCodeAt(0),l="_".charCodeAt(0);function c(e){var t=e.charCodeAt(0);return t===n||t===s?62:t===i||t===l?63:t<r?-1:t<r+10?t-r+26+26:t<a+26?t-a:t<o+26?t-o+26:void 0}e.toByteArray=function(e){var n,i;if(0<e.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.length,o="="===e.charAt(r-2)?2:"="===e.charAt(r-1)?1:0,a=new t(3*e.length/4-o),s=0<o?e.length-4:e.length,l=0;function u(e){a[l++]=e}for(n=0;n<s;n+=4,0)u((16711680&(i=c(e.charAt(n))<<18|c(e.charAt(n+1))<<12|c(e.charAt(n+2))<<6|c(e.charAt(n+3))))>>16),u((65280&i)>>8),u(255&i);return 2==o?u(255&(i=c(e.charAt(n))<<2|c(e.charAt(n+1))>>4)):1==o&&(u((i=c(e.charAt(n))<<10|c(e.charAt(n+1))<<4|c(e.charAt(n+2))>>2)>>8&255),u(255&i)),a},e.fromByteArray=function(e){var t,n,i,r,o=e.length%3,a="";function s(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)}for(t=0,i=e.length-o;t<i;t+=3)a+=s((r=n=(e[t]<<16)+(e[t+1]<<8)+e[t+2])>>18&63)+s(r>>12&63)+s(r>>6&63)+s(63&r);switch(o){case 1:a+=s((n=e[e.length-1])>>2),a+=s(n<<4&63),a+="==";break;case 2:a+=s((n=(e[e.length-2]<<8)+e[e.length-1])>>10),a+=s(n>>4&63),a+=s(n<<2&63),a+="="}return a}}(void 0===n?this.base64js={}:n)}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:10}],3:[function(e,t,n){(function(t,i,r,o,a,s,l,c,u){var d=e("base64-js"),f=e("ieee754");function r(e,t,n){if(!(this instanceof r))return new r(e,t,n);var i,o,a,s,l,c=typeof e;if("base64"===t&&"string"==c)for(e=(i=e).trim?i.trim():i.replace(/^\s+|\s+$/g,"");e.length%4!=0;)e+="=";if("number"==c)o=O(e);else if("string"==c)o=r.byteLength(e,t);else{if("object"!=c)throw new Error("First argument needs to be a number, array or string.");o=O(e.length)}if(r._useTypedArrays?a=r._augment(new Uint8Array(o)):((a=this).length=o,a._isBuffer=!0),r._useTypedArrays&&"number"==typeof e.byteLength)a._set(e);else if(j(l=e)||r.isBuffer(l)||l&&"object"==typeof l&&"number"==typeof l.length)for(s=0;s<o;s++)r.isBuffer(e)?a[s]=e.readUInt8(s):a[s]=e[s];else if("string"==c)a.write(e,0,t);else if("number"==c&&!r._useTypedArrays&&!n)for(s=0;s<o;s++)a[s]=0;return a}function h(e,t,n,i){i||(F("boolean"==typeof n,"missing or invalid endian"),F(null!=t,"missing offset"),F(t+1<e.length,"Trying to read beyond buffer length"));var r,o=e.length;if(!(o<=t))return n?(r=e[t],t+1<o&&(r|=e[t+1]<<8)):(r=e[t]<<8,t+1<o&&(r|=e[t+1])),r}function p(e,t,n,i){i||(F("boolean"==typeof n,"missing or invalid endian"),F(null!=t,"missing offset"),F(t+3<e.length,"Trying to read beyond buffer length"));var r,o=e.length;if(!(o<=t))return n?(t+2<o&&(r=e[t+2]<<16),t+1<o&&(r|=e[t+1]<<8),r|=e[t],t+3<o&&(r+=e[t+3]<<24>>>0)):(t+1<o&&(r=e[t+1]<<16),t+2<o&&(r|=e[t+2]<<8),t+3<o&&(r|=e[t+3]),r+=e[t]<<24>>>0),r}function m(e,t,n,i){if(i||(F("boolean"==typeof n,"missing or invalid endian"),F(null!=t,"missing offset"),F(t+1<e.length,"Trying to read beyond buffer length")),!(e.length<=t)){var r=h(e,t,n,!0);return 32768&r?-1*(65535-r+1):r}}function g(e,t,n,i){if(i||(F("boolean"==typeof n,"missing or invalid endian"),F(null!=t,"missing offset"),F(t+3<e.length,"Trying to read beyond buffer length")),!(e.length<=t)){var r=p(e,t,n,!0);return 2147483648&r?-1*(4294967295-r+1):r}}function v(e,t,n,i){return i||(F("boolean"==typeof n,"missing or invalid endian"),F(t+3<e.length,"Trying to read beyond buffer length")),f.read(e,t,n,23,4)}function b(e,t,n,i){return i||(F("boolean"==typeof n,"missing or invalid endian"),F(t+7<e.length,"Trying to read beyond buffer length")),f.read(e,t,n,52,8)}function y(e,t,n,i,r){r||(F(null!=t,"missing value"),F("boolean"==typeof i,"missing or invalid endian"),F(null!=n,"missing offset"),F(n+1<e.length,"trying to write beyond buffer length"),L(t,65535));var o=e.length;if(!(o<=n))for(var a=0,s=Math.min(o-n,2);a<s;a++)e[n+a]=(t&255<<8*(i?a:1-a))>>>8*(i?a:1-a)}function w(e,t,n,i,r){r||(F(null!=t,"missing value"),F("boolean"==typeof i,"missing or invalid endian"),F(null!=n,"missing offset"),F(n+3<e.length,"trying to write beyond buffer length"),L(t,4294967295));var o=e.length;if(!(o<=n))for(var a=0,s=Math.min(o-n,4);a<s;a++)e[n+a]=t>>>8*(i?a:3-a)&255}function x(e,t,n,i,r){r||(F(null!=t,"missing value"),F("boolean"==typeof i,"missing or invalid endian"),F(null!=n,"missing offset"),F(n+1<e.length,"Trying to write beyond buffer length"),R(t,32767,-32768)),e.length<=n||y(e,0<=t?t:65535+t+1,n,i,r)}function _(e,t,n,i,r){r||(F(null!=t,"missing value"),F("boolean"==typeof i,"missing or invalid endian"),F(null!=n,"missing offset"),F(n+3<e.length,"Trying to write beyond buffer length"),R(t,2147483647,-2147483648)),e.length<=n||w(e,0<=t?t:4294967295+t+1,n,i,r)}function S(e,t,n,i,r){r||(F(null!=t,"missing value"),F("boolean"==typeof i,"missing or invalid endian"),F(null!=n,"missing offset"),F(n+3<e.length,"Trying to write beyond buffer length"),N(t,34028234663852886e22,-34028234663852886e22)),e.length<=n||f.write(e,t,n,i,23,4)}function E(e,t,n,i,r){r||(F(null!=t,"missing value"),F("boolean"==typeof i,"missing or invalid endian"),F(null!=n,"missing offset"),F(n+7<e.length,"Trying to write beyond buffer length"),N(t,17976931348623157e292,-17976931348623157e292)),e.length<=n||f.write(e,t,n,i,52,8)}n.Buffer=r,n.SlowBuffer=r,n.INSPECT_MAX_BYTES=50,r.poolSize=8192,r._useTypedArrays=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray}catch(e){return!1}}(),r.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.isBuffer=function(e){return!(null==e||!e._isBuffer)},r.byteLength=function(e,t){var n;switch(e+="",t||"utf8"){case"hex":n=e.length/2;break;case"utf8":case"utf-8":n=A(e).length;break;case"ascii":case"binary":case"raw":n=e.length;break;case"base64":n=T(e).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*e.length;break;default:throw new Error("Unknown encoding")}return n},r.concat=function(e,t){if(F(j(e),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===e.length)return new r(0);if(1===e.length)return e[0];if("number"!=typeof t)for(o=t=0;o<e.length;o++)t+=e[o].length;for(var n=new r(t),i=0,o=0;o<e.length;o++){var a=e[o];a.copy(n,i),i+=a.length}return n},r.prototype.write=function(e,t,n,i){var o;isFinite(t)?isFinite(n)||(i=n,n=void 0):(o=i,i=t,t=n,n=o),t=Number(t)||0;var a,s,l,c,u,d,f,h=this.length-t;switch((!n||h<(n=Number(n)))&&(n=h),i=String(i||"utf8").toLowerCase()){case"hex":a=function(e,t,n,i){n=Number(n)||0;var o=e.length-n;(!i||o<(i=Number(i)))&&(i=o);var a=t.length;F(a%2==0,"Invalid hex string"),a/2<i&&(i=a/2);for(var s=0;s<i;s++){var l=parseInt(t.substr(2*s,2),16);F(!isNaN(l),"Invalid hex string"),e[n+s]=l}return r._charsWritten=2*s,s}(this,e,t,n);break;case"utf8":case"utf-8":u=e,d=t,f=n,a=r._charsWritten=I(A(u),this,d,f);break;case"ascii":case"binary":a=function(e,t,n,i){return r._charsWritten=I(function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}(this,e,t,n);break;case"base64":s=e,l=t,c=n,a=r._charsWritten=I(T(s),this,l,c);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":a=function(e,t,n,i){return r._charsWritten=I(function(e){for(var t,n,i,r=[],o=0;o<e.length;o++)n=(t=e.charCodeAt(o))>>8,i=t%256,r.push(i),r.push(n);return r}(t),e,n,i)}(this,e,t,n);break;default:throw new Error("Unknown encoding")}return a},r.prototype.toString=function(e,t,n){var i,r,o,a,s=this;if(e=String(e||"utf8").toLowerCase(),t=Number(t)||0,(n=void 0!==n?Number(n):n=s.length)===t)return"";switch(e){case"hex":i=function(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||i<n)&&(n=i);for(var r="",o=t;o<n;o++)r+=k(e[o]);return r}(s,t,n);break;case"utf8":case"utf-8":i=function(e,t,n){var i="",r="";n=Math.min(e.length,n);for(var o=t;o<n;o++)e[o]<=127?(i+=M(r)+String.fromCharCode(e[o]),r=""):r+="%"+e[o].toString(16);return i+M(r)}(s,t,n);break;case"ascii":case"binary":i=function(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;r++)i+=String.fromCharCode(e[r]);return i}(s,t,n);break;case"base64":r=s,a=n,i=0===(o=t)&&a===r.length?d.fromByteArray(r):d.fromByteArray(r.slice(o,a));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":i=function(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}(s,t,n);break;default:throw new Error("Unknown encoding")}return i},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},r.prototype.copy=function(e,t,n,i){if(n=n||0,i||0===i||(i=this.length),t=t||0,i!==n&&0!==e.length&&0!==this.length){F(n<=i,"sourceEnd < sourceStart"),F(0<=t&&t<e.length,"targetStart out of bounds"),F(0<=n&&n<this.length,"sourceStart out of bounds"),F(0<=i&&i<=this.length,"sourceEnd out of bounds"),i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var o=i-n;if(o<100||!r._useTypedArrays)for(var a=0;a<o;a++)e[a+t]=this[a+n];else e._set(this.subarray(n,n+o),t)}},r.prototype.slice=function(e,t){var n=this.length;if(e=P(e,n,0),t=P(t,n,n),r._useTypedArrays)return r._augment(this.subarray(e,t));for(var i=t-e,o=new r(i,void 0,!0),a=0;a<i;a++)o[a]=this[a+e];return o},r.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},r.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},r.prototype.readUInt8=function(e,t){if(t||(F(null!=e,"missing offset"),F(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return this[e]},r.prototype.readUInt16LE=function(e,t){return h(this,e,!0,t)},r.prototype.readUInt16BE=function(e,t){return h(this,e,!1,t)},r.prototype.readUInt32LE=function(e,t){return p(this,e,!0,t)},r.prototype.readUInt32BE=function(e,t){return p(this,e,!1,t)},r.prototype.readInt8=function(e,t){if(t||(F(null!=e,"missing offset"),F(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return 128&this[e]?-1*(255-this[e]+1):this[e]},r.prototype.readInt16LE=function(e,t){return m(this,e,!0,t)},r.prototype.readInt16BE=function(e,t){return m(this,e,!1,t)},r.prototype.readInt32LE=function(e,t){return g(this,e,!0,t)},r.prototype.readInt32BE=function(e,t){return g(this,e,!1,t)},r.prototype.readFloatLE=function(e,t){return v(this,e,!0,t)},r.prototype.readFloatBE=function(e,t){return v(this,e,!1,t)},r.prototype.readDoubleLE=function(e,t){return b(this,e,!0,t)},r.prototype.readDoubleBE=function(e,t){return b(this,e,!1,t)},r.prototype.writeUInt8=function(e,t,n){n||(F(null!=e,"missing value"),F(null!=t,"missing offset"),F(t<this.length,"trying to write beyond buffer length"),L(e,255)),t>=this.length||(this[t]=e)},r.prototype.writeUInt16LE=function(e,t,n){y(this,e,t,!0,n)},r.prototype.writeUInt16BE=function(e,t,n){y(this,e,t,!1,n)},r.prototype.writeUInt32LE=function(e,t,n){w(this,e,t,!0,n)},r.prototype.writeUInt32BE=function(e,t,n){w(this,e,t,!1,n)},r.prototype.writeInt8=function(e,t,n){n||(F(null!=e,"missing value"),F(null!=t,"missing offset"),F(t<this.length,"Trying to write beyond buffer length"),R(e,127,-128)),t>=this.length||(0<=e?this.writeUInt8(e,t,n):this.writeUInt8(255+e+1,t,n))},r.prototype.writeInt16LE=function(e,t,n){x(this,e,t,!0,n)},r.prototype.writeInt16BE=function(e,t,n){x(this,e,t,!1,n)},r.prototype.writeInt32LE=function(e,t,n){_(this,e,t,!0,n)},r.prototype.writeInt32BE=function(e,t,n){_(this,e,t,!1,n)},r.prototype.writeFloatLE=function(e,t,n){S(this,e,t,!0,n)},r.prototype.writeFloatBE=function(e,t,n){S(this,e,t,!1,n)},r.prototype.writeDoubleLE=function(e,t,n){E(this,e,t,!0,n)},r.prototype.writeDoubleBE=function(e,t,n){E(this,e,t,!1,n)},r.prototype.fill=function(e,t,n){if(e=e||0,t=t||0,n=n||this.length,"string"==typeof e&&(e=e.charCodeAt(0)),F("number"==typeof e&&!isNaN(e),"value is not a number"),F(t<=n,"end < start"),n!==t&&0!==this.length){F(0<=t&&t<this.length,"start out of bounds"),F(0<=n&&n<=this.length,"end out of bounds");for(var i=t;i<n;i++)this[i]=e}},r.prototype.inspect=function(){for(var e=[],t=this.length,i=0;i<t;i++)if(e[i]=k(this[i]),i===n.INSPECT_MAX_BYTES){e[i+1]="...";break}return"<Buffer "+e.join(" ")+">"},r.prototype.toArrayBuffer=function(){if("undefined"==typeof Uint8Array)throw new Error("Buffer.toArrayBuffer not supported in this browser");if(r._useTypedArrays)return new r(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;t<n;t+=1)e[t]=this[t];return e.buffer};var C=r.prototype;function P(e,t,n){return"number"!=typeof e?n:t<=(e=~~e)?t:0<=e||0<=(e+=t)?e:0}function O(e){return(e=~~Math.ceil(+e))<0?0:e}function j(e){return(Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)}function k(e){return e<16?"0"+e.toString(16):e.toString(16)}function A(e){for(var t=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<=127)t.push(e.charCodeAt(n));else{var r=n;55296<=i&&i<=57343&&n++;for(var o=encodeURIComponent(e.slice(r,n+1)).substr(1).split("%"),a=0;a<o.length;a++)t.push(parseInt(o[a],16))}}return t}function T(e){return d.toByteArray(e)}function I(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);r++)t[r+n]=e[r];return r}function M(e){try{return decodeURIComponent(e)}catch(e){return String.fromCharCode(65533)}}function L(e,t){F("number"==typeof e,"cannot write a non-number as a number"),F(0<=e,"specified a negative value for writing an unsigned value"),F(e<=t,"value is larger than maximum value for type"),F(Math.floor(e)===e,"value has a fractional component")}function R(e,t,n){F("number"==typeof e,"cannot write a non-number as a number"),F(e<=t,"value larger than maximum allowed value"),F(n<=e,"value smaller than minimum allowed value"),F(Math.floor(e)===e,"value has a fractional component")}function N(e,t,n){F("number"==typeof e,"cannot write a non-number as a number"),F(e<=t,"value larger than maximum allowed value"),F(n<=e,"value smaller than minimum allowed value")}function F(e,t){if(!e)throw new Error(t||"Failed assertion")}r._augment=function(e){return e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=C.get,e.set=C.set,e.write=C.write,e.toString=C.toString,e.toLocaleString=C.toString,e.toJSON=C.toJSON,e.copy=C.copy,e.slice=C.slice,e.readUInt8=C.readUInt8,e.readUInt16LE=C.readUInt16LE,e.readUInt16BE=C.readUInt16BE,e.readUInt32LE=C.readUInt32LE,e.readUInt32BE=C.readUInt32BE,e.readInt8=C.readInt8,e.readInt16LE=C.readInt16LE,e.readInt16BE=C.readInt16BE,e.readInt32LE=C.readInt32LE,e.readInt32BE=C.readInt32BE,e.readFloatLE=C.readFloatLE,e.readFloatBE=C.readFloatBE,e.readDoubleLE=C.readDoubleLE,e.readDoubleBE=C.readDoubleBE,e.writeUInt8=C.writeUInt8,e.writeUInt16LE=C.writeUInt16LE,e.writeUInt16BE=C.writeUInt16BE,e.writeUInt32LE=C.writeUInt32LE,e.writeUInt32BE=C.writeUInt32BE,e.writeInt8=C.writeInt8,e.writeInt16LE=C.writeInt16LE,e.writeInt16BE=C.writeInt16BE,e.writeInt32LE=C.writeInt32LE,e.writeInt32BE=C.writeInt32BE,e.writeFloatLE=C.writeFloatLE,e.writeFloatBE=C.writeFloatBE,e.writeDoubleLE=C.writeDoubleLE,e.writeDoubleBE=C.writeDoubleBE,e.fill=C.fill,e.inspect=C.inspect,e.toArrayBuffer=C.toArrayBuffer,e}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:11,lYpoI2:10}],4:[function(e,t,n){(function(n,i,r,o,a,s,l,c,u){r=e("buffer").Buffer;var d=new r(4);d.fill(0),t.exports={hash:function(e,t,n,i){return r.isBuffer(e)||(e=new r(e)),function(e,t,n){for(var i=new r(t),o=n?i.writeInt32BE:i.writeInt32LE,a=0;a<e.length;a++)o.call(i,e[a],4*a,!0);return i}(t(function(e,t){var n;e.length%4!=0&&(n=e.length+(4-e.length%4),e=r.concat([e,d],n));for(var i=[],o=t?e.readInt32BE:e.readInt32LE,a=0;a<e.length;a+=4)i.push(o.call(e,a));return i}(e,i),8*e.length),n,i)}}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:10}],5:[function(e,t,n){(function(t,i,r,o,a,s,l,c,u){r=e("buffer").Buffer;var d=e("./sha"),f=e("./sha256"),h=e("./rng"),p={sha1:d,sha256:f,md5:e("./md5")},m=64,g=new r(m);function v(e,t){var n=p[e=e||"sha1"],i=[];return n||b("algorithm:",e,"is not yet supported"),{update:function(e){return r.isBuffer(e)||(e=new r(e)),i.push(e),e.length,this},digest:function(e){var o=r.concat(i),a=t?function(e,t,n){r.isBuffer(t)||(t=new r(t)),r.isBuffer(n)||(n=new r(n)),t.length>m?t=e(t):t.length<m&&(t=r.concat([t,g],m));for(var i=new r(m),o=new r(m),a=0;a<m;a++)i[a]=54^t[a],o[a]=92^t[a];var s=e(r.concat([i,n]));return e(r.concat([o,s]))}(n,t,o):n(o);return i=null,e?a.toString(e):a}}}function b(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}g.fill(0),n.createHash=function(e){return v(e)},n.createHmac=v,n.randomBytes=function(e,t){if(!t||!t.call)return new r(h(e));try{t.call(this,void 0,new r(h(e)))}catch(e){t(e)}},function(e,t){for(var n in e)t(e[n])}(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],function(e){n[e]=function(){b("sorry,",e,"is not implemented yet")}})}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:10}],6:[function(e,t,n){(function(n,i,r,o,a,s,l,c,u){var d=e("./helpers");function f(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,i=-271733879,r=-1732584194,o=271733878,a=0;a<e.length;a+=16){var s=n,l=i,c=r,u=o;n=p(n,i,r,o,e[a+0],7,-680876936),o=p(o,n,i,r,e[a+1],12,-389564586),r=p(r,o,n,i,e[a+2],17,606105819),i=p(i,r,o,n,e[a+3],22,-1044525330),n=p(n,i,r,o,e[a+4],7,-176418897),o=p(o,n,i,r,e[a+5],12,1200080426),r=p(r,o,n,i,e[a+6],17,-1473231341),i=p(i,r,o,n,e[a+7],22,-45705983),n=p(n,i,r,o,e[a+8],7,1770035416),o=p(o,n,i,r,e[a+9],12,-1958414417),r=p(r,o,n,i,e[a+10],17,-42063),i=p(i,r,o,n,e[a+11],22,-1990404162),n=p(n,i,r,o,e[a+12],7,1804603682),o=p(o,n,i,r,e[a+13],12,-40341101),r=p(r,o,n,i,e[a+14],17,-1502002290),n=m(n,i=p(i,r,o,n,e[a+15],22,1236535329),r,o,e[a+1],5,-165796510),o=m(o,n,i,r,e[a+6],9,-1069501632),r=m(r,o,n,i,e[a+11],14,643717713),i=m(i,r,o,n,e[a+0],20,-373897302),n=m(n,i,r,o,e[a+5],5,-701558691),o=m(o,n,i,r,e[a+10],9,38016083),r=m(r,o,n,i,e[a+15],14,-660478335),i=m(i,r,o,n,e[a+4],20,-405537848),n=m(n,i,r,o,e[a+9],5,568446438),o=m(o,n,i,r,e[a+14],9,-1019803690),r=m(r,o,n,i,e[a+3],14,-187363961),i=m(i,r,o,n,e[a+8],20,1163531501),n=m(n,i,r,o,e[a+13],5,-1444681467),o=m(o,n,i,r,e[a+2],9,-51403784),r=m(r,o,n,i,e[a+7],14,1735328473),n=g(n,i=m(i,r,o,n,e[a+12],20,-1926607734),r,o,e[a+5],4,-378558),o=g(o,n,i,r,e[a+8],11,-2022574463),r=g(r,o,n,i,e[a+11],16,1839030562),i=g(i,r,o,n,e[a+14],23,-35309556),n=g(n,i,r,o,e[a+1],4,-1530992060),o=g(o,n,i,r,e[a+4],11,1272893353),r=g(r,o,n,i,e[a+7],16,-155497632),i=g(i,r,o,n,e[a+10],23,-1094730640),n=g(n,i,r,o,e[a+13],4,681279174),o=g(o,n,i,r,e[a+0],11,-358537222),r=g(r,o,n,i,e[a+3],16,-722521979),i=g(i,r,o,n,e[a+6],23,76029189),n=g(n,i,r,o,e[a+9],4,-640364487),o=g(o,n,i,r,e[a+12],11,-421815835),r=g(r,o,n,i,e[a+15],16,530742520),n=v(n,i=g(i,r,o,n,e[a+2],23,-995338651),r,o,e[a+0],6,-198630844),o=v(o,n,i,r,e[a+7],10,1126891415),r=v(r,o,n,i,e[a+14],15,-1416354905),i=v(i,r,o,n,e[a+5],21,-57434055),n=v(n,i,r,o,e[a+12],6,1700485571),o=v(o,n,i,r,e[a+3],10,-1894986606),r=v(r,o,n,i,e[a+10],15,-1051523),i=v(i,r,o,n,e[a+1],21,-2054922799),n=v(n,i,r,o,e[a+8],6,1873313359),o=v(o,n,i,r,e[a+15],10,-30611744),r=v(r,o,n,i,e[a+6],15,-1560198380),i=v(i,r,o,n,e[a+13],21,1309151649),n=v(n,i,r,o,e[a+4],6,-145523070),o=v(o,n,i,r,e[a+11],10,-1120210379),r=v(r,o,n,i,e[a+2],15,718787259),i=v(i,r,o,n,e[a+9],21,-343485551),n=b(n,s),i=b(i,l),r=b(r,c),o=b(o,u)}return Array(n,i,r,o)}function h(e,t,n,i,r,o){return b((a=b(b(t,e),b(i,o)))<<(s=r)|a>>>32-s,n);var a,s}function p(e,t,n,i,r,o,a){return h(t&n|~t&i,e,t,r,o,a)}function m(e,t,n,i,r,o,a){return h(t&i|n&~i,e,t,r,o,a)}function g(e,t,n,i,r,o,a){return h(t^n^i,e,t,r,o,a)}function v(e,t,n,i,r,o,a){return h(n^(t|~i),e,t,r,o,a)}function b(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}t.exports=function(e){return d.hash(e,f,16)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],7:[function(e,t,n){(function(e,n,i,r,o,a,s,l,c){var u;u=function(e){for(var t,n=new Array(e),i=0;i<e;i++)!(3&i)&&(t=4294967296*Math.random()),n[i]=t>>>((3&i)<<3)&255;return n},t.exports=u}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:10}],8:[function(e,t,n){(function(n,i,r,o,a,s,l,c,u){var d=e("./helpers");function f(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var n,i,r,o,a,s=Array(80),l=1732584193,c=-271733879,u=-1732584194,d=271733878,f=-1009589776,m=0;m<e.length;m+=16){for(var g=l,v=c,b=u,y=d,w=f,x=0;x<80;x++){s[x]=x<16?e[m+x]:p(s[x-3]^s[x-8]^s[x-14]^s[x-16],1);var _=h(h(p(l,5),(r=c,o=u,a=d,(i=x)<20?r&o|~r&a:!(i<40)&&i<60?r&o|r&a|o&a:r^o^a)),h(h(f,s[x]),(n=x)<20?1518500249:n<40?1859775393:n<60?-1894007588:-899497514));f=d,d=u,u=p(c,30),c=l,l=_}l=h(l,g),c=h(c,v),u=h(u,b),d=h(d,y),f=h(f,w)}return Array(l,c,u,d,f)}function h(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function p(e,t){return e<<t|e>>>32-t}t.exports=function(e){return d.hash(e,f,20,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],9:[function(e,t,n){(function(n,i,r,o,a,s,l,c,u){function d(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function f(e,t){return e>>>t|e<<32-t}function h(e,t){var n,i,r,o,a,s,l,c,u,h,p=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),m=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),g=new Array(64);e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var v,b,y,w,x,_,S,E,C=0;C<e.length;C+=16){n=m[0],i=m[1],r=m[2],o=m[3],a=m[4],s=m[5],l=m[6],c=m[7];for(var P=0;P<64;P++)g[P]=P<16?e[P+C]:d(d(d(f(E=g[P-2],17)^f(E,19)^E>>>10,g[P-7]),f(S=g[P-15],7)^f(S,18)^S>>>3),g[P-16]),u=d(d(d(d(c,f(_=a,6)^f(_,11)^f(_,25)),(x=a)&s^~x&l),p[P]),g[P]),h=d(f(w=n,2)^f(w,13)^f(w,22),(v=n)&(b=i)^v&(y=r)^b&y),c=l,l=s,s=a,a=d(o,u),o=r,r=i,i=n,n=d(u,h);m[0]=d(n,m[0]),m[1]=d(i,m[1]),m[2]=d(r,m[2]),m[3]=d(o,m[3]),m[4]=d(a,m[4]),m[5]=d(s,m[5]),m[6]=d(l,m[6]),m[7]=d(c,m[7])}return m}var p=e("./helpers");t.exports=function(e){return p.hash(e,h,32,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],10:[function(e,t,n){(function(e,n,i,r,o,a,s,l,c){function u(){}(e=t.exports={}).nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;t!==window&&null!==t||"process-tick"!==e.data||(e.stopPropagation(),0<n.length&&n.shift()())},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.on=u,e.addListener=u,e.once=u,e.off=u,e.removeListener=u,e.removeAllListeners=u,e.emit=u,e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:10}],11:[function(e,t,n){(function(e,t,i,r,o,a,s,l,c){n.read=function(e,t,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?r-1:0,f=n?-1:1,h=e[t+d];for(d+=f,o=h&(1<<-u)-1,h>>=-u,u+=s;0<u;o=256*o+e[t+d],d+=f,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=i;0<u;a=256*a+e[t+d],d+=f,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,i),o-=c}return(h?-1:1)*a*Math.pow(2,o-i)},n.write=function(e,t,n,i,r,o){var a,s,l,c=8*o-r-1,u=(1<<c)-1,d=u>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:o-1,p=i?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),2<=(t+=1<=a+d?f/l:f*Math.pow(2,1-d))*l&&(a++,l/=2),u<=a+d?(s=0,a=u):1<=a+d?(s=(t*l-1)*Math.pow(2,r),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,r),a=0));8<=r;e[n+h]=255&s,h+=p,s/=256,r-=8);for(a=a<<r|s,c+=r;0<c;e[n+h]=255&a,h+=p,a/=256,c-=8);e[n+h-p]|=128*m}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/ieee754/index.js","/node_modules/ieee754")},{buffer:3,lYpoI2:10}]},{},[1])(1)},888(e,t,n){"use strict";e.exports=n(493)},912(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncResourceContent=t.resourceCache=t.fileResource=t.preloadResource=t.useAsyncResource=void 0,o(n(469),t);const l=n(715);Object.defineProperty(t,"useAsyncResource",{enumerable:!0,get:function(){return l.useAsyncResource}});const c=a(n(484));t.fileResource=c;const u=n(286);Object.defineProperty(t,"resourceCache",{enumerable:!0,get:function(){return u.resourceCache}});const d=n(405);Object.defineProperty(t,"preloadResource",{enumerable:!0,get:function(){return d.initializeDataReader}});const f=s(n(699));t.AsyncResourceContent=f.default},942(e,t){var n;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,o(n)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)i.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},985(e,t){!function(e){"use strict";const t=(e,t=1e4)=>(e=parseFloat(e+"")||0,Math.round((e+Number.EPSILON)*t)/t),n=function(e){if(!(e&&e instanceof Element&&e.offsetParent))return!1;const t=e.scrollHeight>e.clientHeight,n=window.getComputedStyle(e).overflowY,i=-1!==n.indexOf("hidden"),r=-1!==n.indexOf("visible");return t&&!i&&!r},i=function(e,t=void 0){return!(!e||e===document.body||t&&e===t)&&(n(e)?e:i(e.parentElement,t))},r=function(e){var t=(new DOMParser).parseFromString(e,"text/html").body;if(t.childElementCount>1){for(var n=document.createElement("div");t.firstChild;)n.appendChild(t.firstChild);return n}return t.firstChild},o=e=>`${e||""}`.split(" ").filter(e=>!!e),a=(e,t,n)=>{e&&o(t).forEach(t=>{e.classList.toggle(t,n||!1)})};class s{constructor(e){Object.defineProperty(this,"pageX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pageY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nativePointer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.nativePointer=e,this.pageX=e.pageX,this.pageY=e.pageY,this.clientX=e.clientX,this.clientY=e.clientY,this.id=self.Touch&&e instanceof Touch?e.identifier:-1,this.time=Date.now()}}const l={passive:!1};class c{constructor(e,{start:t=()=>!0,move:n=()=>{},end:i=()=>{}}){Object.defineProperty(this,"element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"moveCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"endCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"startPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.element=e,this.startCallback=t,this.moveCallback=n,this.endCallback=i;for(const e of["onPointerStart","onTouchStart","onMove","onTouchEnd","onPointerEnd","onWindowBlur"])this[e]=this[e].bind(this);this.element.addEventListener("mousedown",this.onPointerStart,l),this.element.addEventListener("touchstart",this.onTouchStart,l),this.element.addEventListener("touchmove",this.onMove,l),this.element.addEventListener("touchend",this.onTouchEnd),this.element.addEventListener("touchcancel",this.onTouchEnd)}onPointerStart(e){if(!e.buttons||0!==e.button)return;const t=new s(e);this.currentPointers.some(e=>e.id===t.id)||this.triggerPointerStart(t,e)&&(window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseup",this.onPointerEnd),window.addEventListener("blur",this.onWindowBlur))}onTouchStart(e){for(const t of Array.from(e.changedTouches||[]))this.triggerPointerStart(new s(t),e);window.addEventListener("blur",this.onWindowBlur)}onMove(e){const t=this.currentPointers.slice(),n="changedTouches"in e?Array.from(e.changedTouches||[]).map(e=>new s(e)):[new s(e)],i=[];for(const e of n){const t=this.currentPointers.findIndex(t=>t.id===e.id);t<0||(i.push(e),this.currentPointers[t]=e)}i.length&&this.moveCallback(e,this.currentPointers.slice(),t)}onPointerEnd(e){e.buttons>0&&0!==e.button||(this.triggerPointerEnd(e,new s(e)),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur))}onTouchEnd(e){for(const t of Array.from(e.changedTouches||[]))this.triggerPointerEnd(e,new s(t))}triggerPointerStart(e,t){return!!this.startCallback(t,e,this.currentPointers.slice())&&(this.currentPointers.push(e),this.startPointers.push(e),!0)}triggerPointerEnd(e,t){const n=this.currentPointers.findIndex(e=>e.id===t.id);n<0||(this.currentPointers.splice(n,1),this.startPointers.splice(n,1),this.endCallback(e,t,this.currentPointers.slice()))}onWindowBlur(){this.clear()}clear(){for(;this.currentPointers.length;){const e=this.currentPointers[this.currentPointers.length-1];this.currentPointers.splice(this.currentPointers.length-1,1),this.startPointers.splice(this.currentPointers.length-1,1),this.endCallback(new Event("touchend",{bubbles:!0,cancelable:!0,clientX:e.clientX,clientY:e.clientY}),e,this.currentPointers.slice())}}stop(){this.element.removeEventListener("mousedown",this.onPointerStart,l),this.element.removeEventListener("touchstart",this.onTouchStart,l),this.element.removeEventListener("touchmove",this.onMove,l),this.element.removeEventListener("touchend",this.onTouchEnd),this.element.removeEventListener("touchcancel",this.onTouchEnd),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur)}}function u(e,t){return t?Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2)):0}function d(e,t){return t?{clientX:(e.clientX+t.clientX)/2,clientY:(e.clientY+t.clientY)/2}:e}const f=e=>"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e),h=(e,...t)=>{const n=t.length;for(let i=0;i<n;i++){const n=t[i]||{};Object.entries(n).forEach(([t,n])=>{const i=Array.isArray(n)?[]:{};e[t]||Object.assign(e,{[t]:i}),f(n)?Object.assign(e[t],h(i,n)):Array.isArray(n)?Object.assign(e,{[t]:[...n]}):Object.assign(e,{[t]:n})})}return e},p=function(e,t){return e.split(".").reduce((e,t)=>"object"==typeof e?e[t]:void 0,t)};class m{constructor(e={}){Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.setOptions(e);for(const e of Object.getOwnPropertyNames(Object.getPrototypeOf(this)))e.startsWith("on")&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}setOptions(e){this.options=e?h({},this.constructor.defaults,e):{};for(const[e,t]of Object.entries(this.option("on")||{}))this.on(e,t)}option(e,...t){let n=p(e,this.options);return n&&"function"==typeof n&&(n=n.call(this,this,...t)),n}optionFor(e,t,n,...i){let r=p(t,e);var o;"string"!=typeof(o=r)||isNaN(o)||isNaN(parseFloat(o))||(r=parseFloat(r)),"true"===r&&(r=!0),"false"===r&&(r=!1),r&&"function"==typeof r&&(r=r.call(this,this,e,...i));let a=p(t,this.options);return a&&"function"==typeof a?r=a.call(this,this,e,...i,r):void 0===r&&(r=a),void 0===r?n:r}cn(e){const t=this.options.classes;return t&&t[e]||""}localize(e,t=[]){e=String(e).replace(/\{\{(\w+).?(\w+)?\}\}/g,(e,t,n)=>{let i="";return n?i=this.option(`${t[0]+t.toLowerCase().substring(1)}.l10n.${n}`):t&&(i=this.option(`l10n.${t}`)),i||(i=e),i});for(let n=0;n<t.length;n++)e=e.split(t[n][0]).join(t[n][1]);return e.replace(/\{\{(.*?)\}\}/g,(e,t)=>t)}on(e,t){let n=[];"string"==typeof e?n=e.split(" "):Array.isArray(e)&&(n=e),this.events||(this.events=new Map),n.forEach(e=>{let n=this.events.get(e);n||(this.events.set(e,[]),n=[]),n.includes(t)||n.push(t),this.events.set(e,n)})}off(e,t){let n=[];"string"==typeof e?n=e.split(" "):Array.isArray(e)&&(n=e),n.forEach(e=>{const n=this.events.get(e);if(Array.isArray(n)){const e=n.indexOf(t);e>-1&&n.splice(e,1)}})}emit(e,...t){[...this.events.get(e)||[]].forEach(e=>e(this,...t)),"*"!==e&&this.emit("*",e,...t)}}Object.defineProperty(m,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.36"}),Object.defineProperty(m,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{}});class g extends m{constructor(e={}){super(e),Object.defineProperty(this,"plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}})}attachPlugins(e={}){const t=new Map;for(const[n,i]of Object.entries(e)){const e=this.option(n),r=this.plugins[n];r||!1===e?r&&!1===e&&(r.detach(),delete this.plugins[n]):t.set(n,new i(this,e||{}))}for(const[e,n]of t)this.plugins[e]=n,n.attach()}detachPlugins(e){e=e||Object.keys(this.plugins);for(const t of e){const e=this.plugins[t];e&&e.detach(),delete this.plugins[t]}return this.emit("detachPlugins"),this}}var v;!function(e){e[e.Init=0]="Init",e[e.Error=1]="Error",e[e.Ready=2]="Ready",e[e.Panning=3]="Panning",e[e.Mousemove=4]="Mousemove",e[e.Destroy=5]="Destroy"}(v||(v={}));const b=["a","b","c","d","e","f"],y={PANUP:"Move up",PANDOWN:"Move down",PANLEFT:"Move left",PANRIGHT:"Move right",ZOOMIN:"Zoom in",ZOOMOUT:"Zoom out",TOGGLEZOOM:"Toggle zoom level",TOGGLE1TO1:"Toggle zoom level",ITERATEZOOM:"Toggle zoom level",ROTATECCW:"Rotate counterclockwise",ROTATECW:"Rotate clockwise",FLIPX:"Flip horizontally",FLIPY:"Flip vertically",FITX:"Fit horizontally",FITY:"Fit vertically",RESET:"Reset",TOGGLEFS:"Toggle fullscreen"},w={content:null,width:"auto",height:"auto",panMode:"drag",touch:!0,dragMinThreshold:3,lockAxis:!1,mouseMoveFactor:1,mouseMoveFriction:.12,zoom:!0,pinchToZoom:!0,panOnlyZoomed:"auto",minScale:1,maxScale:2,friction:.25,dragFriction:.35,decelFriction:.05,click:"toggleZoom",dblClick:!1,wheel:"zoom",wheelLimit:7,spinner:!0,bounds:"auto",infinite:!1,rubberband:!0,bounce:!0,maxVelocity:75,transformParent:!1,classes:{content:"f-panzoom__content",isLoading:"is-loading",canZoomIn:"can-zoom_in",canZoomOut:"can-zoom_out",isDraggable:"is-draggable",isDragging:"is-dragging",inFullscreen:"in-fullscreen",htmlHasFullscreen:"with-panzoom-in-fullscreen"},l10n:y},x='<circle cx="25" cy="25" r="20"></circle>',_='<div class="f-spinner"><svg viewBox="0 0 50 50">'+x+x+"</svg></div>",S=e=>e&&null!==e&&e instanceof Element&&"nodeType"in e,E=(e,t)=>{e&&o(t).forEach(t=>{e.classList.remove(t)})},C=(e,t)=>{e&&o(t).forEach(t=>{e.classList.add(t)})},P={a:1,b:0,c:0,d:1,e:0,f:0},O=1e4,j="mousemove",k="drag",A="content",T="auto";let I=null,M=null;class L extends g{get fits(){return this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1}get isTouchDevice(){return null===M&&(M=window.matchMedia("(hover: none)").matches),M}get isMobile(){return null===I&&(I=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)),I}get panMode(){return this.options.panMode!==j||this.isTouchDevice?k:j}get panOnlyZoomed(){const e=this.options.panOnlyZoomed;return e===T?this.isTouchDevice:e}get isInfinite(){return this.option("infinite")}get angle(){return 180*Math.atan2(this.current.b,this.current.a)/Math.PI||0}get targetAngle(){return 180*Math.atan2(this.target.b,this.target.a)/Math.PI||0}get scale(){const{a:e,b:t}=this.current;return Math.sqrt(e*e+t*t)||1}get targetScale(){const{a:e,b:t}=this.target;return Math.sqrt(e*e+t*t)||1}get minScale(){return this.option("minScale")||1}get fullScale(){const{contentRect:e}=this;return e.fullWidth/e.fitWidth||1}get maxScale(){return this.fullScale*(this.option("maxScale")||1)||1}get coverScale(){const{containerRect:e,contentRect:t}=this,n=Math.max(e.height/t.fitHeight,e.width/t.fitWidth)||1;return Math.min(this.fullScale,n)}get isScaling(){return Math.abs(this.targetScale-this.scale)>1e-5&&!this.isResting}get isContentLoading(){const e=this.content;return!!(e&&e instanceof HTMLImageElement)&&!e.complete}get isResting(){if(this.isBouncingX||this.isBouncingY)return!1;for(const e of b){const t="e"==e||"f"===e?1e-4:1e-5;if(Math.abs(this.target[e]-this.current[e])>t)return!1}return!(!this.ignoreBounds&&!this.checkBounds().inBounds)}constructor(e,t={},n={}){var i;if(super(t),Object.defineProperty(this,"pointerTracker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"resizeObserver",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"updateTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"rAF",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"isTicking",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreBounds",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isBouncingX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isBouncingY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"clicks",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"trackingPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"cwd",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"pmme",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"friction",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:v.Init}),Object.defineProperty(this,"isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"spinner",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"containerRect",{enumerable:!0,configurable:!0,writable:!0,value:{width:0,height:0,innerWidth:0,innerHeight:0}}),Object.defineProperty(this,"contentRect",{enumerable:!0,configurable:!0,writable:!0,value:{top:0,right:0,bottom:0,left:0,fullWidth:0,fullHeight:0,fitWidth:0,fitHeight:0,width:0,height:0}}),Object.defineProperty(this,"dragStart",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,top:0,left:0,time:0}}),Object.defineProperty(this,"dragOffset",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,time:0}}),Object.defineProperty(this,"current",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},P)}),Object.defineProperty(this,"target",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},P)}),Object.defineProperty(this,"velocity",{enumerable:!0,configurable:!0,writable:!0,value:{a:0,b:0,c:0,d:0,e:0,f:0}}),Object.defineProperty(this,"lockedAxis",{enumerable:!0,configurable:!0,writable:!0,value:!1}),!e)throw new Error("Container Element Not Found");this.container=e,this.initContent(),this.attachPlugins(Object.assign(Object.assign({},L.Plugins),n)),this.emit("attachPlugins"),this.emit("init");const o=this.content;if(o.addEventListener("load",this.onLoad),o.addEventListener("error",this.onError),this.isContentLoading){if(this.option("spinner")){e.classList.add(this.cn("isLoading"));const t=r(_);!e.contains(o)||o.parentElement instanceof HTMLPictureElement?this.spinner=e.appendChild(t):this.spinner=(null===(i=o.parentElement)||void 0===i?void 0:i.insertBefore(t,o))||null}this.emit("beforeLoad")}else queueMicrotask(()=>{this.enable()})}initContent(){const{container:e}=this,t=this.cn(A);let n=this.option(A)||e.querySelector(`.${t}`);if(n||(n=e.querySelector("img,picture")||e.firstElementChild,n&&C(n,t)),n instanceof HTMLPictureElement&&(n=n.querySelector("img")),!n)throw new Error("No content found");this.content=n}onLoad(){const{spinner:e,container:t,state:n}=this;e&&(e.remove(),this.spinner=null),this.option("spinner")&&t.classList.remove(this.cn("isLoading")),this.emit("afterLoad"),n===v.Init?this.enable():this.updateMetrics()}onError(){this.state!==v.Destroy&&(this.spinner&&(this.spinner.remove(),this.spinner=null),this.stop(),this.detachEvents(),this.state=v.Error,this.emit("error"))}getNextScale(e){const{fullScale:t,targetScale:n,coverScale:i,maxScale:r,minScale:o}=this;let a=o;switch(e){case"toggleMax":a=n-o<.5*(r-o)?r:o;break;case"toggleCover":a=n-o<.5*(i-o)?i:o;break;case"toggleZoom":a=n-o<.5*(t-o)?t:o;break;case"iterateZoom":let e=[1,t,r].sort((e,t)=>e-t),s=e.findIndex(e=>e>n+1e-5);a=e[s]||1}return a}attachObserver(){var e;const t=()=>{const{container:e,containerRect:t}=this;return Math.abs(t.width-e.getBoundingClientRect().width)>.1||Math.abs(t.height-e.getBoundingClientRect().height)>.1};this.resizeObserver||void 0===window.ResizeObserver||(this.resizeObserver=new ResizeObserver(()=>{this.updateTimer||(t()?(this.onResize(),this.isMobile&&(this.updateTimer=setTimeout(()=>{t()&&this.onResize(),this.updateTimer=null},500))):this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null))})),null===(e=this.resizeObserver)||void 0===e||e.observe(this.container)}detachObserver(){var e;null===(e=this.resizeObserver)||void 0===e||e.disconnect()}attachEvents(){const{container:e}=this;e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),e.addEventListener("wheel",this.onWheel,{passive:!1}),this.pointerTracker=new c(e,{start:this.onPointerDown,move:this.onPointerMove,end:this.onPointerUp}),document.addEventListener(j,this.onMouseMove)}detachEvents(){var e;const{container:t}=this;t.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),t.removeEventListener("wheel",this.onWheel,{passive:!1}),null===(e=this.pointerTracker)||void 0===e||e.stop(),this.pointerTracker=null,document.removeEventListener(j,this.onMouseMove),document.removeEventListener("keydown",this.onKeydown,!0),this.clickTimer&&(clearTimeout(this.clickTimer),this.clickTimer=null),this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null)}animate(){this.setTargetForce();const e=this.friction,t=this.option("maxVelocity");for(const n of b)e?(this.velocity[n]*=1-e,t&&!this.isScaling&&(this.velocity[n]=Math.max(Math.min(this.velocity[n],t),-1*t)),this.current[n]+=this.velocity[n]):this.current[n]=this.target[n];this.setTransform(),this.setEdgeForce(),!this.isResting||this.isDragging?this.rAF=requestAnimationFrame(()=>this.animate()):this.stop("current")}setTargetForce(){for(const e of b)"e"===e&&this.isBouncingX||"f"===e&&this.isBouncingY||(this.velocity[e]=(1/(1-this.friction)-1)*(this.target[e]-this.current[e]))}checkBounds(e=0,t=0){const{current:n}=this,i=n.e+e,r=n.f+t,o=this.getBounds(),{x:a,y:s}=o,l=a.min,c=a.max,u=s.min,d=s.max;let f=0,h=0;return l!==1/0&&i<l?f=l-i:c!==1/0&&i>c&&(f=c-i),u!==1/0&&r<u?h=u-r:d!==1/0&&r>d&&(h=d-r),Math.abs(f)<1e-4&&(f=0),Math.abs(h)<1e-4&&(h=0),Object.assign(Object.assign({},o),{xDiff:f,yDiff:h,inBounds:!f&&!h})}clampTargetBounds(){const{target:e}=this,{x:t,y:n}=this.getBounds();t.min!==1/0&&(e.e=Math.max(e.e,t.min)),t.max!==1/0&&(e.e=Math.min(e.e,t.max)),n.min!==1/0&&(e.f=Math.max(e.f,n.min)),n.max!==1/0&&(e.f=Math.min(e.f,n.max))}calculateContentDim(e=this.current){const{content:t,contentRect:n}=this,{fitWidth:i,fitHeight:r,fullWidth:o,fullHeight:a}=n;let s=o,l=a;if(this.option("zoom")||0!==this.angle){const n=!(t instanceof HTMLImageElement||"none"!==window.getComputedStyle(t).maxWidth&&"none"!==window.getComputedStyle(t).maxHeight),c=n?o:i,u=n?a:r,d=this.getMatrix(e),f=new DOMPoint(0,0).matrixTransform(d),h=new DOMPoint(0+c,0).matrixTransform(d),p=new DOMPoint(0+c,0+u).matrixTransform(d),m=new DOMPoint(0,0+u).matrixTransform(d),g=Math.abs(p.x-f.x),v=Math.abs(p.y-f.y),b=Math.abs(m.x-h.x),y=Math.abs(m.y-h.y);s=Math.max(g,b),l=Math.max(v,y)}return{contentWidth:s,contentHeight:l}}setEdgeForce(){if(this.ignoreBounds||this.isDragging||this.panMode===j||this.targetScale<this.scale)return this.isBouncingX=!1,void(this.isBouncingY=!1);const{target:e}=this,{x:t,y:n,xDiff:i,yDiff:r}=this.checkBounds(),o=this.option("maxVelocity");let a=this.velocity.e,s=this.velocity.f;0!==i?(this.isBouncingX=!0,i*a<=0?a+=.14*i:(a=.14*i,t.min!==1/0&&(this.target.e=Math.max(e.e,t.min)),t.max!==1/0&&(this.target.e=Math.min(e.e,t.max))),o&&(a=Math.max(Math.min(a,o),-1*o))):this.isBouncingX=!1,0!==r?(this.isBouncingY=!0,r*s<=0?s+=.14*r:(s=.14*r,n.min!==1/0&&(this.target.f=Math.max(e.f,n.min)),n.max!==1/0&&(this.target.f=Math.min(e.f,n.max))),o&&(s=Math.max(Math.min(s,o),-1*o))):this.isBouncingY=!1,this.isBouncingX&&(this.velocity.e=a),this.isBouncingY&&(this.velocity.f=s)}enable(){const{content:e}=this,t=new DOMMatrixReadOnly(window.getComputedStyle(e).transform);for(const e of b)this.current[e]=this.target[e]=t[e];this.updateMetrics(),this.attachObserver(),this.attachEvents(),this.state=v.Ready,this.emit("ready")}onClick(e){var t;"click"===e.type&&0===e.detail&&(this.dragOffset.x=0,this.dragOffset.y=0),this.isDragging&&(null===(t=this.pointerTracker)||void 0===t||t.clear(),this.trackingPoints=[],this.startDecelAnim());const n=e.target;if(!n||e.defaultPrevented)return;if(n.hasAttribute("disabled"))return e.preventDefault(),void e.stopPropagation();if((()=>{const e=window.getSelection();return e&&"Range"===e.type})()&&!n.closest("button"))return;const i=n.closest("[data-panzoom-action]"),r=n.closest("[data-panzoom-change]"),o=i||r,a=o&&S(o)?o.dataset:null;if(a){const t=a.panzoomChange,n=a.panzoomAction;if((t||n)&&e.preventDefault(),t){let n={};try{n=JSON.parse(t)}catch(e){console&&console.warn("The given data was not valid JSON")}return void this.applyChange(n)}if(n)return void(this[n]&&this[n]())}if(Math.abs(this.dragOffset.x)>3||Math.abs(this.dragOffset.y)>3)return e.preventDefault(),void e.stopPropagation();if(n.closest("[data-fancybox]"))return;const s=this.content.getBoundingClientRect(),l=this.dragStart;if(l.time&&!this.canZoomOut()&&(Math.abs(s.x-l.x)>2||Math.abs(s.y-l.y)>2))return;this.dragStart.time=0;const c=t=>{this.option("zoom",e)&&t&&"string"==typeof t&&/(iterateZoom)|(toggle(Zoom|Full|Cover|Max)|(zoomTo(Fit|Cover|Max)))/.test(t)&&"function"==typeof this[t]&&(e.preventDefault(),this[t]({event:e}))},u=this.option("click",e),d=this.option("dblClick",e);d?(this.clicks++,1==this.clicks&&(this.clickTimer=setTimeout(()=>{1===this.clicks?(this.emit("click",e),!e.defaultPrevented&&u&&c(u)):(this.emit("dblClick",e),e.defaultPrevented||c(d)),this.clicks=0,this.clickTimer=null},350))):(this.emit("click",e),!e.defaultPrevented&&u&&c(u))}addTrackingPoint(e){const t=this.trackingPoints.filter(e=>e.time>Date.now()-100);t.push(e),this.trackingPoints=t}onPointerDown(e,t,n){var i;if(!1===this.option("touch",e))return!1;this.pwt=0,this.dragOffset={x:0,y:0,time:0},this.trackingPoints=[];const r=this.content.getBoundingClientRect();if(this.dragStart={x:r.x,y:r.y,top:r.top,left:r.left,time:Date.now()},this.clickTimer)return!1;if(this.panMode===j&&this.targetScale>1)return e.preventDefault(),e.stopPropagation(),!1;const o=e.composedPath()[0];if(!n.length){if(["TEXTAREA","OPTION","INPUT","SELECT","VIDEO","IFRAME"].includes(o.nodeName)||o.closest("[contenteditable],[data-selectable],[data-draggable],[data-clickable],[data-panzoom-change],[data-panzoom-action]"))return!1;null===(i=window.getSelection())||void 0===i||i.removeAllRanges()}if("mousedown"===e.type)["A","BUTTON"].includes(o.nodeName)||e.preventDefault();else if(Math.abs(this.velocity.a)>.3)return!1;return this.target.e=this.current.e,this.target.f=this.current.f,this.stop(),this.isDragging||(this.isDragging=!0,this.addTrackingPoint(t),this.emit("touchStart",e)),!0}onPointerMove(e,n,r){if(!1===this.option("touch",e))return;if(!this.isDragging)return;if(n.length<2&&this.panOnlyZoomed&&t(this.targetScale)<=t(this.minScale))return;if(this.emit("touchMove",e),e.defaultPrevented)return;this.addTrackingPoint(n[0]);const{content:o}=this,a=d(r[0],r[1]),s=d(n[0],n[1]);let l=0,c=0;if(n.length>1){const e=o.getBoundingClientRect();l=a.clientX-e.left-.5*e.width,c=a.clientY-e.top-.5*e.height}const f=u(r[0],r[1]),h=u(n[0],n[1]);let p=f?h/f:1,m=s.clientX-a.clientX,g=s.clientY-a.clientY;this.dragOffset.x+=m,this.dragOffset.y+=g,this.dragOffset.time=Date.now()-this.dragStart.time;let v=t(this.targetScale)===t(this.minScale)&&this.option("lockAxis");if(v&&!this.lockedAxis)if("xy"===v||"y"===v||"touchmove"===e.type){if(Math.abs(this.dragOffset.x)<6&&Math.abs(this.dragOffset.y)<6)return void e.preventDefault();const t=Math.abs(180*Math.atan2(this.dragOffset.y,this.dragOffset.x)/Math.PI);this.lockedAxis=t>45&&t<135?"y":"x",this.dragOffset.x=0,this.dragOffset.y=0,m=0,g=0}else this.lockedAxis=v;if(i(e.target,this.content)&&(v="x",this.dragOffset.y=0),v&&"xy"!==v&&this.lockedAxis!==v&&t(this.targetScale)===t(this.minScale))return;e.cancelable&&e.preventDefault(),this.container.classList.add(this.cn("isDragging"));const b=this.checkBounds(m,g);this.option("rubberband")?("x"!==this.isInfinite&&(b.xDiff>0&&m<0||b.xDiff<0&&m>0)&&(m*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitWidth*b.xDiff))),"y"!==this.isInfinite&&(b.yDiff>0&&g<0||b.yDiff<0&&g>0)&&(g*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitHeight*b.yDiff)))):(b.xDiff&&(m=0),b.yDiff&&(g=0));const y=this.targetScale,w=this.minScale,x=this.maxScale;y<.5*w&&(p=Math.max(p,w)),y>1.5*x&&(p=Math.min(p,x)),"y"===this.lockedAxis&&t(y)===t(w)&&(m=0),"x"===this.lockedAxis&&t(y)===t(w)&&(g=0),this.applyChange({originX:l,originY:c,panX:m,panY:g,scale:p,friction:this.option("dragFriction"),ignoreBounds:!0})}onPointerUp(e,t,n){if(n.length)return this.dragOffset.x=0,this.dragOffset.y=0,void(this.trackingPoints=[]);this.container.classList.remove(this.cn("isDragging")),this.isDragging&&(this.addTrackingPoint(t),this.panOnlyZoomed&&this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1&&(this.trackingPoints=[]),i(e.target,this.content)&&"y"===this.lockedAxis&&(this.trackingPoints=[]),this.emit("touchEnd",e),this.isDragging=!1,this.lockedAxis=!1,this.state!==v.Destroy&&(e.defaultPrevented||this.startDecelAnim()))}startDecelAnim(){var e;const n=this.isScaling;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(const e of b)this.velocity[e]=0;this.target.e=this.current.e,this.target.f=this.current.f,E(this.container,"is-scaling"),E(this.container,"is-animating"),this.isTicking=!1;const{trackingPoints:i}=this,r=i[0],o=i[i.length-1];let a=0,s=0,l=0;o&&r&&(a=o.clientX-r.clientX,s=o.clientY-r.clientY,l=o.time-r.time);const c=(null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1;1!==c&&(a*=c,s*=c);let u=0,d=0,f=0,h=0,p=this.option("decelFriction");const m=this.targetScale;if(l>0){f=Math.abs(a)>3?a/(l/30):0,h=Math.abs(s)>3?s/(l/30):0;const e=this.option("maxVelocity");e&&(f=Math.max(Math.min(f,e),-1*e),h=Math.max(Math.min(h,e),-1*e))}f&&(u=f/(1/(1-p)-1)),h&&(d=h/(1/(1-p)-1)),("y"===this.option("lockAxis")||"xy"===this.option("lockAxis")&&"y"===this.lockedAxis&&t(m)===this.minScale)&&(u=f=0),("x"===this.option("lockAxis")||"xy"===this.option("lockAxis")&&"x"===this.lockedAxis&&t(m)===this.minScale)&&(d=h=0);const g=this.dragOffset.x,v=this.dragOffset.y,y=this.option("dragMinThreshold")||0;Math.abs(g)<y&&Math.abs(v)<y&&(u=d=0,f=h=0),(this.option("zoom")&&(m<this.minScale-1e-5||m>this.maxScale+1e-5)||n&&!u&&!d)&&(p=.35),this.applyChange({panX:u,panY:d,friction:p}),this.emit("decel",f,h,g,v)}onWheel(e){var t=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce(function(e,t){return Math.abs(t)>Math.abs(e)?t:e});const n=Math.max(-1,Math.min(1,t));if(this.emit("wheel",e,n),this.panMode===j)return;if(e.defaultPrevented)return;const i=this.option("wheel");"pan"===i?(e.preventDefault(),this.panOnlyZoomed&&!this.canZoomOut()||this.applyChange({panX:2*-e.deltaX,panY:2*-e.deltaY,bounce:!1})):"zoom"===i&&!1!==this.option("zoom")&&this.zoomWithWheel(e)}onMouseMove(e){this.panWithMouse(e)}onKeydown(e){"Escape"===e.key&&this.toggleFS()}onResize(){this.updateMetrics(),this.checkBounds().inBounds||this.requestTick()}setTransform(){this.emit("beforeTransform");const{current:e,target:n,content:i,contentRect:r}=this,o=Object.assign({},P);for(const i of b){const r="e"==i||"f"===i?O:1e5;o[i]=t(e[i],r),Math.abs(n[i]-e[i])<("e"==i||"f"===i?.51:.001)&&(e[i]=n[i])}let{a,b:s,c:l,d:c,e:u,f:d}=o,f=`matrix(${a}, ${s}, ${l}, ${c}, ${u}, ${d})`,h=i.parentElement instanceof HTMLPictureElement?i.parentElement:i;if(this.option("transformParent")&&(h=h.parentElement||h),h.style.transform===f)return;h.style.transform=f;const{contentWidth:p,contentHeight:m}=this.calculateContentDim();r.width=p,r.height=m,this.emit("afterTransform")}updateMetrics(e=!1){var n;if(!this||this.state===v.Destroy)return;if(this.isContentLoading)return;const i=Math.max(1,(null===(n=window.visualViewport)||void 0===n?void 0:n.scale)||1),{container:r,content:o}=this,a=o instanceof HTMLImageElement,s=r.getBoundingClientRect(),l=getComputedStyle(this.container);let c=s.width*i,u=s.height*i;const d=parseFloat(l.paddingTop)+parseFloat(l.paddingBottom),f=c-(parseFloat(l.paddingLeft)+parseFloat(l.paddingRight)),h=u-d;this.containerRect={width:c,height:u,innerWidth:f,innerHeight:h};const p=parseFloat(o.dataset.width||"")||(e=>{let t=0;return t=e instanceof HTMLImageElement?e.naturalWidth:e instanceof SVGElement?e.width.baseVal.value:Math.max(e.offsetWidth,e.scrollWidth),t||0})(o),m=parseFloat(o.dataset.height||"")||(e=>{let t=0;return t=e instanceof HTMLImageElement?e.naturalHeight:e instanceof SVGElement?e.height.baseVal.value:Math.max(e.offsetHeight,e.scrollHeight),t||0})(o);let g=this.option("width",p)||T,b=this.option("height",m)||T;const y=g===T,w=b===T;"number"!=typeof g&&(g=p),"number"!=typeof b&&(b=m),y&&(g=p*(b/m)),w&&(b=m/(p/g));let x=o.parentElement instanceof HTMLPictureElement?o.parentElement:o;this.option("transformParent")&&(x=x.parentElement||x);const _=x.getAttribute("style")||"";x.style.setProperty("transform","none","important"),a&&(x.style.width="",x.style.height=""),x.offsetHeight;const S=o.getBoundingClientRect();let E=S.width*i,C=S.height*i,P=E,O=C;E=Math.min(E,g),C=Math.min(C,b),a?({width:E,height:C}=((e,t,n,i)=>{const r=n/e,o=i/t,a=Math.min(r,o);return{width:e*=a,height:t*=a}})(g,b,E,C)):(E=Math.min(E,g),C=Math.min(C,b));let j=.5*(O-C),k=.5*(P-E);this.contentRect=Object.assign(Object.assign({},this.contentRect),{top:S.top-s.top+j,bottom:s.bottom-S.bottom+j,left:S.left-s.left+k,right:s.right-S.right+k,fitWidth:E,fitHeight:C,width:E,height:C,fullWidth:g,fullHeight:b}),x.style.cssText=_,a&&(x.style.width=`${E}px`,x.style.height=`${C}px`),this.setTransform(),!0!==e&&this.emit("refresh"),this.ignoreBounds||(t(this.targetScale)<t(this.minScale)?this.zoomTo(this.minScale,{friction:0}):this.targetScale>this.maxScale?this.zoomTo(this.maxScale,{friction:0}):this.state===v.Init||this.checkBounds().inBounds||this.requestTick()),this.updateControls()}calculateBounds(){const{contentWidth:e,contentHeight:n}=this.calculateContentDim(this.target),{targetScale:i,lockedAxis:r}=this,{fitWidth:o,fitHeight:a}=this.contentRect;let s=0,l=0,c=0,u=0;const d=this.option("infinite");if(!0===d||r&&d===r)s=-1/0,c=1/0,l=-1/0,u=1/0;else{let{containerRect:r,contentRect:d}=this,f=t(o*i,O),h=t(a*i,O),{innerWidth:p,innerHeight:m}=r;if(r.width===f&&(p=r.width),r.width===h&&(m=r.height),e>p){c=.5*(e-p),s=-1*c;let t=.5*(d.right-d.left);s+=t,c+=t}if(o>p&&e<p&&(s-=.5*(o-p),c-=.5*(o-p)),n>m){u=.5*(n-m),l=-1*u;let e=.5*(d.bottom-d.top);l+=e,u+=e}a>m&&n<m&&(s-=.5*(a-m),c-=.5*(a-m))}return{x:{min:s,max:c},y:{min:l,max:u}}}getBounds(){const e=this.option("bounds");return e!==T?e:this.calculateBounds()}updateControls(){const e=this,n=e.container,{panMode:i,contentRect:r,targetScale:o,minScale:s}=e;let l=s,c=e.option("click")||!1;c&&(l=e.getNextScale(c));let u=e.canZoomIn(),d=e.canZoomOut(),f=i===k&&!!this.option("touch"),h=d&&f;if(f&&(t(o)<t(s)&&!this.panOnlyZoomed&&(h=!0),(t(r.width,1)>t(r.fitWidth,1)||t(r.height,1)>t(r.fitHeight,1))&&(h=!0)),t(r.width*o,1)<t(r.fitWidth,1)&&(h=!1),i===j&&(h=!1),a(n,this.cn("isDraggable"),h),!this.option("zoom"))return;let p=u&&t(l)>t(o),m=!p&&!h&&d&&t(l)<t(o);a(n,this.cn("canZoomIn"),p),a(n,this.cn("canZoomOut"),m);for(const e of n.querySelectorAll("[data-panzoom-action]")){let t=!1,n=!1;switch(e.dataset.panzoomAction){case"zoomIn":u?t=!0:n=!0;break;case"zoomOut":d?t=!0:n=!0;break;case"toggleZoom":case"iterateZoom":u||d?t=!0:n=!0;const i=e.querySelector("g");i&&(i.style.display=u?"":"none")}t?(e.removeAttribute("disabled"),e.removeAttribute("tabindex")):n&&(e.setAttribute("disabled",""),e.setAttribute("tabindex","-1"))}}panTo({x:e=this.target.e,y:t=this.target.f,scale:n=this.targetScale,friction:i=this.option("friction"),angle:r=0,originX:o=0,originY:a=0,flipX:s=!1,flipY:l=!1,ignoreBounds:c=!1}){this.state!==v.Destroy&&this.applyChange({panX:e-this.target.e,panY:t-this.target.f,scale:n/this.targetScale,angle:r,originX:o,originY:a,friction:i,flipX:s,flipY:l,ignoreBounds:c})}applyChange({panX:e=0,panY:n=0,scale:i=1,angle:r=0,originX:o=-this.current.e,originY:a=-this.current.f,friction:s=this.option("friction"),flipX:l=!1,flipY:c=!1,ignoreBounds:u=!1,bounce:d=this.option("bounce")}){const f=this.state;if(f===v.Destroy)return;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.friction=s||0,this.ignoreBounds=u;const{current:h}=this,p=h.e,m=h.f,g=this.getMatrix(this.target);let y=(new DOMMatrix).translate(p,m).translate(o,a).translate(e,n);if(this.option("zoom")){if(!u){const e=this.targetScale,t=this.minScale,n=this.maxScale;e*i<t&&(i=t/e),e*i>n&&(i=n/e)}y=y.scale(i)}y=y.translate(-o,-a).translate(-p,-m).multiply(g),r&&(y=y.rotate(r)),l&&(y=y.scale(-1,1)),c&&(y=y.scale(1,-1));for(const e of b)"e"!==e&&"f"!==e&&(y[e]>this.minScale+1e-5||y[e]<this.minScale-1e-5)?this.target[e]=y[e]:this.target[e]=t(y[e],O);(this.targetScale<this.scale||Math.abs(i-1)>.1||this.panMode===j||!1===d)&&!u&&this.clampTargetBounds(),f===v.Init?this.animate():this.isResting||(this.state=v.Panning,this.requestTick())}stop(e=!1){if(this.state===v.Init||this.state===v.Destroy)return;const t=this.isTicking;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(const t of b)this.velocity[t]=0,"current"===e?this.current[t]=this.target[t]:"target"===e&&(this.target[t]=this.current[t]);this.setTransform(),E(this.container,"is-scaling"),E(this.container,"is-animating"),this.isTicking=!1,this.state=v.Ready,t&&(this.emit("endAnimation"),this.updateControls())}requestTick(){this.isTicking||(this.emit("startAnimation"),this.updateControls(),C(this.container,"is-animating"),this.isScaling&&C(this.container,"is-scaling")),this.isTicking=!0,this.rAF||(this.rAF=requestAnimationFrame(()=>this.animate()))}panWithMouse(e,n=this.option("mouseMoveFriction")){if(this.pmme=e,this.panMode!==j||!e)return;if(t(this.targetScale)<=t(this.minScale))return;this.emit("mouseMove",e);const{container:i,containerRect:r,contentRect:o}=this,a=r.width,s=r.height,l=i.getBoundingClientRect(),c=(e.clientX||0)-l.left,u=(e.clientY||0)-l.top;let{contentWidth:d,contentHeight:f}=this.calculateContentDim(this.target);const h=this.option("mouseMoveFactor");h>1&&(d!==a&&(d*=h),f!==s&&(f*=h));let p=.5*(d-a)-c/a*100/100*(d-a);p+=.5*(o.right-o.left);let m=.5*(f-s)-u/s*100/100*(f-s);m+=.5*(o.bottom-o.top),this.applyChange({panX:p-this.target.e,panY:m-this.target.f,friction:n})}zoomWithWheel(e){if(this.state===v.Destroy||this.state===v.Init)return;const n=Date.now();if(n-this.pwt<45)return void e.preventDefault();this.pwt=n;var i=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce(function(e,t){return Math.abs(t)>Math.abs(e)?t:e});const r=Math.max(-1,Math.min(1,i)),{targetScale:o,maxScale:a,minScale:s}=this;let l=o*(100+45*r)/100;t(l)<t(s)&&t(o)<=t(s)?(this.cwd+=Math.abs(r),l=s):t(l)>t(a)&&t(o)>=t(a)?(this.cwd+=Math.abs(r),l=a):(this.cwd=0,l=Math.max(Math.min(l,a),s)),this.cwd>this.option("wheelLimit")||(e.preventDefault(),t(l)!==t(o)&&this.zoomTo(l,{event:e}))}canZoomIn(){return this.option("zoom")&&(t(this.contentRect.width,1)<t(this.contentRect.fitWidth,1)||t(this.targetScale)<t(this.maxScale))}canZoomOut(){return this.option("zoom")&&t(this.targetScale)>t(this.minScale)}zoomIn(e=1.25,t){this.zoomTo(this.targetScale*e,t)}zoomOut(e=.8,t){this.zoomTo(this.targetScale*e,t)}zoomToFit(e){this.zoomTo("fit",e)}zoomToCover(e){this.zoomTo("cover",e)}zoomToFull(e){this.zoomTo("full",e)}zoomToMax(e){this.zoomTo("max",e)}toggleZoom(e){this.zoomTo(this.getNextScale("toggleZoom"),e)}toggleMax(e){this.zoomTo(this.getNextScale("toggleMax"),e)}toggleCover(e){this.zoomTo(this.getNextScale("toggleCover"),e)}iterateZoom(e){this.zoomTo("next",e)}zoomTo(e=1,{friction:t=T,originX:n=T,originY:i=T,event:r}={}){if(this.isContentLoading||this.state===v.Destroy)return;const{targetScale:o,fullScale:a,maxScale:s,coverScale:l}=this;if(this.stop(),this.panMode===j&&(r=this.pmme||r),r||n===T||i===T){const e=this.content.getBoundingClientRect(),t=this.container.getBoundingClientRect(),o=r?r.clientX:t.left+.5*t.width,a=r?r.clientY:t.top+.5*t.height;n=o-e.left-.5*e.width,i=a-e.top-.5*e.height}let c=1;"number"==typeof e?c=e:"full"===e?c=a:"cover"===e?c=l:"max"===e?c=s:"fit"===e?c=1:"next"===e&&(c=this.getNextScale("iterateZoom")),c=c/o||1,t=t===T?c>1?.15:.25:t,this.applyChange({scale:c,originX:n,originY:i,friction:t}),r&&this.panMode===j&&this.panWithMouse(r,t)}rotateCCW(){this.applyChange({angle:-90})}rotateCW(){this.applyChange({angle:90})}flipX(){this.applyChange({flipX:!0})}flipY(){this.applyChange({flipY:!0})}fitX(){this.stop("target");const{containerRect:e,contentRect:t,target:n}=this;this.applyChange({panX:.5*e.width-(t.left+.5*t.fitWidth)-n.e,panY:.5*e.height-(t.top+.5*t.fitHeight)-n.f,scale:e.width/t.fitWidth/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}fitY(){this.stop("target");const{containerRect:e,contentRect:t,target:n}=this;this.applyChange({panX:.5*e.width-(t.left+.5*t.fitWidth)-n.e,panY:.5*e.innerHeight-(t.top+.5*t.fitHeight)-n.f,scale:e.height/t.fitHeight/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}toggleFS(){const{container:e}=this,t=this.cn("inFullscreen"),n=this.cn("htmlHasFullscreen");e.classList.toggle(t);const i=e.classList.contains(t);i?(document.documentElement.classList.add(n),document.addEventListener("keydown",this.onKeydown,!0)):(document.documentElement.classList.remove(n),document.removeEventListener("keydown",this.onKeydown,!0)),this.updateMetrics(),this.emit(i?"enterFS":"exitFS")}getMatrix(e=this.current){const{a:t,b:n,c:i,d:r,e:o,f:a}=e;return new DOMMatrix([t,n,i,r,o,a])}reset(e){if(this.state!==v.Init&&this.state!==v.Destroy){this.stop("current");for(const e of b)this.target[e]=P[e];this.target.a=this.minScale,this.target.d=this.minScale,this.clampTargetBounds(),this.isResting||(this.friction=void 0===e?this.option("friction"):e,this.state=v.Panning,this.requestTick())}}destroy(){this.stop(),this.state=v.Destroy,this.detachEvents(),this.detachObserver();const{container:e,content:t}=this,n=this.option("classes")||{};for(const t of Object.values(n))e.classList.remove(t+"");t&&(t.removeEventListener("load",this.onLoad),t.removeEventListener("error",this.onError)),this.detachPlugins()}}Object.defineProperty(L,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:w}),Object.defineProperty(L,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}});const R=function(e,t){let n=!0;return(...i)=>{n&&(n=!1,e(...i),setTimeout(()=>{n=!0},t))}},N=(e,t)=>{let n=[];return e.childNodes.forEach(e=>{e.nodeType!==Node.ELEMENT_NODE||t&&!e.matches(t)||n.push(e)}),n};var F;!function(e){e[e.Init=0]="Init",e[e.Ready=1]="Ready",e[e.Destroy=2]="Destroy"}(F||(F={}));const D=e=>{if("string"==typeof e||e instanceof HTMLElement)e={html:e};else{const t=e.thumb;void 0!==t&&("string"==typeof t&&(e.thumbSrc=t),t instanceof HTMLImageElement&&(e.thumbEl=t,e.thumbElSrc=t.src,e.thumbSrc=t.src),delete e.thumb)}return Object.assign({html:"",el:null,isDom:!1,class:"",customClass:"",index:-1,dim:0,gap:0,pos:0,transition:!1},e)},V=(e={})=>Object.assign({index:-1,slides:[],dim:0,pos:-1},e);class B extends m{constructor(e,t){super(t),Object.defineProperty(this,"instance",{enumerable:!0,configurable:!0,writable:!0,value:e})}attach(){}detach(){}}class z extends B{constructor(){super(...arguments),Object.defineProperty(this,"isDynamic",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"list",{enumerable:!0,configurable:!0,writable:!0,value:null})}onRefresh(){this.refresh()}build(){let e=this.list;if(!e){e=document.createElement("ul"),C(e,this.cn("list")),e.setAttribute("role","tablist");const t=this.instance.container;t.appendChild(e),C(t,this.cn("hasDots")),this.list=e}return e}refresh(){var e;const t=this.instance.pages.length,n=Math.min(2,this.option("minCount")),i=Math.max(2e3,this.option("maxCount")),r=this.option("dynamicFrom");if(t<n||t>i)return void this.cleanup();const o="number"==typeof r&&t>5&&t>=r,s=!this.list||this.isDynamic!==o||this.list.children.length!==t;s&&this.cleanup();const l=this.build();if(a(l,this.cn("isDynamic"),!!o),s)for(let e=0;e<t;e++)l.append(this.createItem(e));let c,u=0;for(const t of[...l.children]){const n=u===this.instance.page;n&&(c=t),a(t,this.cn("isCurrent"),n),null===(e=t.children[0])||void 0===e||e.setAttribute("aria-selected",n?"true":"false");for(const e of["isBeforePrev","isPrev","isNext","isAfterNext"])E(t,this.cn(e));u++}if(c=c||l.firstChild,o&&c){const e=c.previousElementSibling,t=e&&e.previousElementSibling;C(e,this.cn("isPrev")),C(t,this.cn("isBeforePrev"));const n=c.nextElementSibling,i=n&&n.nextElementSibling;C(n,this.cn("isNext")),C(i,this.cn("isAfterNext"))}this.isDynamic=o}createItem(e=0){var t;const n=document.createElement("li");n.setAttribute("role","presentation");const i=r(this.instance.localize(this.option("dotTpl"),[["%d",e+1]]).replace(/\%i/g,e+""));return n.appendChild(i),null===(t=n.children[0])||void 0===t||t.setAttribute("role","tab"),n}cleanup(){this.list&&(this.list.remove(),this.list=null),this.isDynamic=!1,E(this.instance.container,this.cn("hasDots"))}attach(){this.instance.on(["refresh","change"],this.onRefresh)}detach(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}}Object.defineProperty(z,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{list:"f-carousel__dots",isDynamic:"is-dynamic",hasDots:"has-dots",dot:"f-carousel__dot",isBeforePrev:"is-before-prev",isPrev:"is-prev",isCurrent:"is-current",isNext:"is-next",isAfterNext:"is-after-next"},dotTpl:'<button type="button" data-carousel-page="%i" aria-label="{{GOTO}}"><span class="f-carousel__dot" aria-hidden="true"></span></button>',dynamicFrom:11,maxCount:1/0,minCount:2}});const H="disabled",$="next",U="prev";class G extends B{constructor(){super(...arguments),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"prev",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"next",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"isDom",{enumerable:!0,configurable:!0,writable:!0,value:!1})}onRefresh(){const e=this.instance,t=e.pages.length,n=e.page;if(t<2)return void this.cleanup();this.build();let i=this.prev,r=this.next;i&&r&&(i.removeAttribute(H),r.removeAttribute(H),e.isInfinite||(n<=0&&i.setAttribute(H,""),n>=t-1&&r.setAttribute(H,"")))}addBtn(e){var t;const n=this.instance,i=document.createElement("button");i.setAttribute("tabindex","0"),i.setAttribute("title",n.localize(`{{${e.toUpperCase()}}}`)),C(i,this.cn("button")+" "+this.cn(e===$?"isNext":"isPrev"));const r=n.isRTL?e===$?U:$:e;var o;return i.innerHTML=n.localize(this.option(`${r}Tpl`)),i.dataset[`carousel${o=e,o?o.match("^[a-z]")?o.charAt(0).toUpperCase()+o.substring(1):o:""}`]="true",null===(t=this.container)||void 0===t||t.appendChild(i),i}build(){const e=this.instance.container,t=this.cn("container");let{container:n,prev:i,next:r}=this;n||(n=e.querySelector("."+t),this.isDom=!!n),n||(n=document.createElement("div"),C(n,t),e.appendChild(n)),this.container=n,r||(r=n.querySelector("[data-carousel-next]")),r||(r=this.addBtn($)),this.next=r,i||(i=n.querySelector("[data-carousel-prev]")),i||(i=this.addBtn(U)),this.prev=i}cleanup(){this.isDom||(this.prev&&this.prev.remove(),this.next&&this.next.remove(),this.container&&this.container.remove()),this.prev=null,this.next=null,this.container=null,this.isDom=!1}attach(){this.instance.on(["refresh","change"],this.onRefresh)}detach(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}}Object.defineProperty(G,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{container:"f-carousel__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"},nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"/></svg>',prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"/></svg>'}});class W extends B{constructor(){super(...arguments),Object.defineProperty(this,"selectedIndex",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"target",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"nav",{enumerable:!0,configurable:!0,writable:!0,value:null})}addAsTargetFor(e){this.target=this.instance,this.nav=e,this.attachEvents()}addAsNavFor(e){this.nav=this.instance,this.target=e,this.attachEvents()}attachEvents(){const{nav:e,target:t}=this;e&&t&&(e.options.initialSlide=t.options.initialPage,e.state===F.Ready?this.onNavReady(e):e.on("ready",this.onNavReady),t.state===F.Ready?this.onTargetReady(t):t.on("ready",this.onTargetReady))}onNavReady(e){e.on("createSlide",this.onNavCreateSlide),e.on("Panzoom.click",this.onNavClick),e.on("Panzoom.touchEnd",this.onNavTouch),this.onTargetChange()}onTargetReady(e){e.on("change",this.onTargetChange),e.on("Panzoom.refresh",this.onTargetChange),this.onTargetChange()}onNavClick(e,t,n){this.onNavTouch(e,e.panzoom,n)}onNavTouch(e,t,n){var i,r;if(Math.abs(t.dragOffset.x)>3||Math.abs(t.dragOffset.y)>3)return;const o=n.target,{nav:a,target:s}=this;if(!a||!s||!o)return;const l=o.closest("[data-index]");if(n.stopPropagation(),n.preventDefault(),!l)return;const c=parseInt(l.dataset.index||"",10)||0,u=s.getPageForSlide(c),d=a.getPageForSlide(c);a.slideTo(d),s.slideTo(u,{friction:(null===(r=null===(i=this.nav)||void 0===i?void 0:i.plugins)||void 0===r?void 0:r.Sync.option("friction"))||0}),this.markSelectedSlide(c)}onNavCreateSlide(e,t){t.index===this.selectedIndex&&this.markSelectedSlide(t.index)}onTargetChange(){var e,t;const{target:n,nav:i}=this;if(!n||!i)return;if(i.state!==F.Ready||n.state!==F.Ready)return;const r=null===(t=null===(e=n.pages[n.page])||void 0===e?void 0:e.slides[0])||void 0===t?void 0:t.index,o=i.getPageForSlide(r);this.markSelectedSlide(r),i.slideTo(o,null===i.prevPage&&null===n.prevPage?{friction:0}:void 0)}markSelectedSlide(e){const t=this.nav;t&&t.state===F.Ready&&(this.selectedIndex=e,[...t.slides].map(t=>{t.el&&t.el.classList[t.index===e?"add":"remove"]("is-nav-selected")}))}attach(){const e=this;let t=e.options.target,n=e.options.nav;t?e.addAsNavFor(t):n&&e.addAsTargetFor(n)}detach(){const e=this,t=e.nav,n=e.target;t&&(t.off("ready",e.onNavReady),t.off("createSlide",e.onNavCreateSlide),t.off("Panzoom.click",e.onNavClick),t.off("Panzoom.touchEnd",e.onNavTouch)),e.nav=null,n&&(n.off("ready",e.onTargetReady),n.off("refresh",e.onTargetChange),n.off("change",e.onTargetChange)),e.target=null}}Object.defineProperty(W,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{friction:.35}});const q={Navigation:G,Dots:z,Sync:W},Y="animationend",X="isSelected",K="slide";class Z extends g{get axis(){return this.isHorizontal?"e":"f"}get isEnabled(){return this.state===F.Ready}get isInfinite(){let e=!1;const{contentDim:t,viewportDim:n,pages:i,slides:r}=this,o=r[0];return i.length>=2&&o&&t+o.dim>=n&&(e=this.option("infinite")),e}get isRTL(){return"rtl"===this.option("direction")}get isHorizontal(){return"x"===this.option("axis")}constructor(e,t={},n={}){if(super(),Object.defineProperty(this,"bp",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"lp",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"userOptions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:F.Init}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"prevPage",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"viewport",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"slides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"pages",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"panzoom",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"inTransition",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"contentDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"viewportDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),"string"==typeof e&&(e=document.querySelector(e)),!e||!S(e))throw new Error("No Element found");this.container=e,this.slideNext=R(this.slideNext.bind(this),150),this.slidePrev=R(this.slidePrev.bind(this),150),this.userOptions=t,this.userPlugins=n,queueMicrotask(()=>{this.processOptions()})}processOptions(){var e,t;const n=h({},Z.defaults,this.userOptions);let i="";const r=n.breakpoints;if(r&&f(r))for(const[e,t]of Object.entries(r))window.matchMedia(e).matches&&f(t)&&(i+=e,h(n,t));i===this.bp&&this.state!==F.Init||(this.bp=i,this.state===F.Ready&&(n.initialSlide=(null===(t=null===(e=this.pages[this.page])||void 0===e?void 0:e.slides[0])||void 0===t?void 0:t.index)||0),this.state!==F.Init&&this.destroy(),super.setOptions(n),!1===this.option("enabled")?this.attachEvents():setTimeout(()=>{this.init()},0))}init(){this.state=F.Init,this.emit("init"),this.attachPlugins(Object.assign(Object.assign({},Z.Plugins),this.userPlugins)),this.emit("attachPlugins"),this.initLayout(),this.initSlides(),this.updateMetrics(),this.setInitialPosition(),this.initPanzoom(),this.attachEvents(),this.state=F.Ready,this.emit("ready")}initLayout(){const{container:e}=this,t=this.option("classes");C(e,this.cn("container")),a(e,t.isLTR,!this.isRTL),a(e,t.isRTL,this.isRTL),a(e,t.isVertical,!this.isHorizontal),a(e,t.isHorizontal,this.isHorizontal);let n=this.option("viewport")||e.querySelector(`.${t.viewport}`);n||(n=document.createElement("div"),C(n,t.viewport),n.append(...N(e,`.${t.slide}`)),e.prepend(n)),n.addEventListener("scroll",this.onScroll);let i=this.option("track")||e.querySelector(`.${t.track}`);i||(i=document.createElement("div"),C(i,t.track),i.append(...Array.from(n.childNodes))),i.setAttribute("aria-live","polite"),n.contains(i)||n.prepend(i),this.viewport=n,this.track=i,this.emit("initLayout")}initSlides(){const{track:e}=this;if(!e)return;const t=[...this.slides],n=[];[...N(e,`.${this.cn(K)}`)].forEach(e=>{if(S(e)){const t=D({el:e,isDom:!0,index:this.slides.length});n.push(t)}});for(let e of[...this.option("slides",[])||[],...t])n.push(D(e));this.slides=n;for(let e=0;e<this.slides.length;e++)this.slides[e].index=e;for(const e of n)this.emit("beforeInitSlide",e,e.index),this.emit("initSlide",e,e.index);this.emit("initSlides")}setInitialPage(){const e=this.option("initialSlide");this.page="number"==typeof e?this.getPageForSlide(e):parseInt(this.option("initialPage",0)+"",10)||0}setInitialPosition(){const{track:e,pages:t,isHorizontal:n}=this;if(!e||!t.length)return;let i=this.page;t[i]||(this.page=i=0);const r=(t[i].pos||0)*(this.isRTL&&n?1:-1),o=n?`${r}px`:"0",a=n?"0":`${r}px`;e.style.transform=`translate3d(${o}, ${a}, 0) scale(1)`,this.option("adaptiveHeight")&&this.setViewportHeight()}initPanzoom(){this.panzoom&&(this.panzoom.destroy(),this.panzoom=null);const e=this.option("Panzoom")||{};this.panzoom=new L(this.viewport,h({},{content:this.track,zoom:!1,panOnlyZoomed:!1,lockAxis:this.isHorizontal?"x":"y",infinite:this.isInfinite,click:!1,dblClick:!1,touch:e=>!(this.pages.length<2&&!e.options.infinite),bounds:()=>this.getBounds(),maxVelocity:e=>Math.abs(e.target[this.axis]-e.current[this.axis])<2*this.viewportDim?100:0},e)),this.panzoom.on("*",(e,t,...n)=>{this.emit(`Panzoom.${t}`,e,...n)}),this.panzoom.on("decel",this.onDecel),this.panzoom.on("refresh",this.onRefresh),this.panzoom.on("beforeTransform",this.onBeforeTransform),this.panzoom.on("endAnimation",this.onEndAnimation)}attachEvents(){const e=this.container;e&&(e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),e.addEventListener("slideTo",this.onSlideTo)),window.addEventListener("resize",this.onResize)}createPages(){let e=[];const{contentDim:t,viewportDim:n}=this;let i=this.option("slidesPerPage");i=("auto"===i||t<=n)&&!1!==this.option("fill")?1/0:parseFloat(i+"");let r=0,o=0,a=0;for(const t of this.slides)(!e.length||o+t.dim-n>.05||a>=i)&&(e.push(V()),r=e.length-1,o=0,a=0),e[r].slides.push(t),o+=t.dim+t.gap,a++;return e}processPages(){const e=this.pages,{contentDim:n,viewportDim:i,isInfinite:r}=this,o=this.option("center"),a=this.option("fill"),s=a&&o&&n>i&&!r;if(e.forEach((e,t)=>{var r;e.index=t,e.pos=(null===(r=e.slides[0])||void 0===r?void 0:r.pos)||0,e.dim=0;for(const[t,n]of e.slides.entries())e.dim+=n.dim,t<e.slides.length-1&&(e.dim+=n.gap);s&&e.pos+.5*e.dim<.5*i?e.pos=0:s&&e.pos+.5*e.dim>=n-.5*i?e.pos=n-i:o&&(e.pos+=-.5*(i-e.dim))}),e.forEach(e=>{a&&!r&&n>i&&(e.pos=Math.max(e.pos,0),e.pos=Math.min(e.pos,n-i)),e.pos=t(e.pos,1e3),e.dim=t(e.dim,1e3),Math.abs(e.pos)<=.1&&(e.pos=0)}),r)return e;const l=[];let c;return e.forEach(e=>{const t=Object.assign({},e);c&&t.pos===c.pos?(c.dim+=t.dim,c.slides=[...c.slides,...t.slides]):(t.index=l.length,c=t,l.push(t))}),l}getPageFromIndex(e=0){const t=this.pages.length;let n;return e=parseInt((e||0).toString())||0,n=this.isInfinite?(e%t+t)%t:Math.max(Math.min(e,t-1),0),n}getSlideMetrics(e){var n,i;const r=this.isHorizontal?"width":"height";let o=0,a=0,s=e.el;const l=!(!s||s.parentNode);if(s?o=parseFloat(s.dataset[r]||"")||0:(s=document.createElement("div"),s.style.visibility="hidden",(this.track||document.body).prepend(s)),C(s,this.cn(K)+" "+e.class+" "+e.customClass),o)s.style[r]=`${o}px`,s.style["width"===r?"height":"width"]="";else{l&&(this.track||document.body).prepend(s),o=s.getBoundingClientRect()[r]*Math.max(1,(null===(n=window.visualViewport)||void 0===n?void 0:n.scale)||1);let e=s[this.isHorizontal?"offsetWidth":"offsetHeight"];e-1>o&&(o=e)}const c=getComputedStyle(s);return"content-box"===c.boxSizing&&(this.isHorizontal?(o+=parseFloat(c.paddingLeft)||0,o+=parseFloat(c.paddingRight)||0):(o+=parseFloat(c.paddingTop)||0,o+=parseFloat(c.paddingBottom)||0)),a=parseFloat(c[this.isHorizontal?"marginRight":"marginBottom"])||0,l?null===(i=s.parentElement)||void 0===i||i.removeChild(s):e.el||s.remove(),{dim:t(o,1e3),gap:t(a,1e3)}}getBounds(){const{isInfinite:e,isRTL:t,isHorizontal:n,pages:i}=this;let r={min:0,max:0};if(e)r={min:-1/0,max:1/0};else if(i.length){const e=i[0].pos,o=i[i.length-1].pos;r=t&&n?{min:e,max:o}:{min:-1*o,max:-1*e}}return{x:n?r:{min:0,max:0},y:n?{min:0,max:0}:r}}repositionSlides(){let e,{isHorizontal:n,isRTL:i,isInfinite:r,viewport:o,viewportDim:a,contentDim:s,page:l,pages:c,slides:u,panzoom:d}=this,f=0,h=0,p=0,m=0;d?m=-1*d.current[this.axis]:c[l]&&(m=c[l].pos||0),e=n?i?"right":"left":"top",i&&n&&(m*=-1);for(const n of u){const i=n.el;i?("top"===e?(i.style.right="",i.style.left=""):i.style.top="",n.index!==f?i.style[e]=0===h?"":`${t(h,1e3)}px`:i.style[e]="",p+=n.dim+n.gap,f++):h+=n.dim+n.gap}if(r&&p&&o){let i=getComputedStyle(o),r="padding",l=n?"Right":"Bottom",c=parseFloat(i[r+(n?"Left":"Top")]);m-=c,a+=c,a+=parseFloat(i[r+l]);for(const n of u)n.el&&(t(n.pos)<t(a)&&t(n.pos+n.dim+n.gap)<t(m)&&t(m)>t(s-a)&&(n.el.style[e]=`${t(h+p,1e3)}px`),t(n.pos+n.gap)>=t(s-a)&&t(n.pos)>t(m+a)&&t(m)<t(a)&&(n.el.style[e]=`-${t(p,1e3)}px`))}let g,v,b=[...this.inTransition];if(b.length>1&&(g=c[b[0]],v=c[b[1]]),g&&v){let n=0;for(const i of u)i.el?this.inTransition.has(i.index)&&g.slides.indexOf(i)<0&&(i.el.style[e]=`${t(n+(g.pos-v.pos),1e3)}px`):n+=i.dim+i.gap}}createSlideEl(e){const{track:t,slides:n}=this;if(!t||!e)return;if(e.el&&e.el.parentNode)return;const i=e.el||document.createElement("div");C(i,this.cn(K)),C(i,e.class),C(i,e.customClass);const r=e.html;r&&(r instanceof HTMLElement?i.appendChild(r):i.innerHTML=e.html+"");const o=[];n.forEach((e,t)=>{e.el&&o.push(t)});const a=e.index;let s=null;o.length&&(s=n[o.reduce((e,t)=>Math.abs(t-a)<Math.abs(e-a)?t:e)]);const l=s&&s.el&&s.el.parentNode?s.index<e.index?s.el.nextSibling:s.el:null;t.insertBefore(i,t.contains(l)?l:null),e.el=i,this.emit("createSlide",e)}removeSlideEl(e,t=!1){const n=null==e?void 0:e.el;if(!n||!n.parentNode)return;const i=this.cn(X);if(n.classList.contains(i)&&(E(n,i),this.emit("unselectSlide",e)),e.isDom&&!t)return n.removeAttribute("aria-hidden"),n.removeAttribute("data-index"),void(n.style.left="");this.emit("removeSlide",e);const r=new CustomEvent(Y);n.dispatchEvent(r),e.el&&(e.el.remove(),e.el=null)}transitionTo(e=0,t=this.option("transition")){var n,i,r,o;if(!t)return!1;const a=this.page,{pages:s,panzoom:l}=this;e=parseInt((e||0).toString())||0;const c=this.getPageFromIndex(e);if(!l||!s[c]||s.length<2||Math.abs(((null===(i=null===(n=s[a])||void 0===n?void 0:n.slides[0])||void 0===i?void 0:i.dim)||0)-this.viewportDim)>1)return!1;let u=e>a?1:-1;this.isInfinite&&(0===a&&e===s.length-1&&(u=-1),a===s.length-1&&0===e&&(u=1));const d=s[c].pos*(this.isRTL?1:-1);if(a===c&&Math.abs(d-l.target[this.axis])<1)return!1;this.clearTransitions();const f=l.isResting;C(this.container,this.cn("inTransition"));const h=(null===(r=s[a])||void 0===r?void 0:r.slides[0])||null,p=(null===(o=s[c])||void 0===o?void 0:o.slides[0])||null;this.inTransition.add(p.index),this.createSlideEl(p);let m=h.el,g=p.el;f||t===K||(t="fadeFast",m=null);const v=this.isRTL?"next":"prev",b=this.isRTL?"prev":"next";return m&&(this.inTransition.add(h.index),h.transition=t,m.addEventListener(Y,this.onAnimationEnd),m.classList.add(`f-${t}Out`,`to-${u>0?b:v}`)),g&&(p.transition=t,g.addEventListener(Y,this.onAnimationEnd),g.classList.add(`f-${t}In`,`from-${u>0?v:b}`)),l.current[this.axis]=d,l.target[this.axis]=d,l.requestTick(),this.onChange(c),!0}manageSlideVisiblity(){const e=new Set,t=new Set,n=this.getVisibleSlides(parseFloat(this.option("preload",0)+"")||0);for(const i of this.slides)n.has(i)?e.add(i):t.add(i);for(const t of this.inTransition)e.add(this.slides[t]);for(const t of e)this.createSlideEl(t),this.lazyLoadSlide(t);for(const n of t)e.has(n)||this.removeSlideEl(n);this.markSelectedSlides(),this.repositionSlides()}markSelectedSlides(){if(!this.pages[this.page]||!this.pages[this.page].slides)return;const e="aria-hidden";let t=this.cn(X);if(t)for(const n of this.slides){const i=n.el;i&&(i.dataset.index=`${n.index}`,i.classList.contains("f-thumbs__slide")?this.getVisibleSlides(0).has(n)?i.removeAttribute(e):i.setAttribute(e,"true"):this.pages[this.page].slides.includes(n)?(i.classList.contains(t)||(C(i,t),this.emit("selectSlide",n)),i.removeAttribute(e)):(i.classList.contains(t)&&(E(i,t),this.emit("unselectSlide",n)),i.setAttribute(e,"true")))}}flipInfiniteTrack(){const{axis:e,isHorizontal:t,isInfinite:n,isRTL:i,viewportDim:r,contentDim:o}=this,a=this.panzoom;if(!a||!n)return;let s=a.current[e],l=a.target[e]-s,c=0,u=.5*r;i&&t?(s<-u&&(c=-1,s+=o),s>o-u&&(c=1,s-=o)):(s>u&&(c=1,s-=o),s<-o+u&&(c=-1,s+=o)),c&&(a.current[e]=s,a.target[e]=s+l)}lazyLoadImg(e,t){const n=this,i="f-fadeIn",o="is-preloading";let a=!1,s=null;const l=()=>{a||(a=!0,s&&(s.remove(),s=null),E(t,o),t.complete&&(C(t,i),setTimeout(()=>{E(t,i)},350)),this.option("adaptiveHeight")&&e.el&&this.pages[this.page].slides.indexOf(e)>-1&&(n.updateMetrics(),n.setViewportHeight()),this.emit("load",e))};C(t,o),t.src=t.dataset.lazySrcset||t.dataset.lazySrc||"",delete t.dataset.lazySrc,delete t.dataset.lazySrcset,t.addEventListener("error",()=>{l()}),t.addEventListener("load",()=>{l()}),setTimeout(()=>{const n=t.parentNode;n&&e.el&&(t.complete?l():a||(s=r(_),n.insertBefore(s,t)))},300)}lazyLoadSlide(e){const t=e&&e.el;if(!t)return;const n=new Set;let i=Array.from(t.querySelectorAll("[data-lazy-src],[data-lazy-srcset]"));t.dataset.lazySrc&&i.push(t),i.map(e=>{e instanceof HTMLImageElement?n.add(e):e instanceof HTMLElement&&e.dataset.lazySrc&&(e.style.backgroundImage=`url('${e.dataset.lazySrc}')`,delete e.dataset.lazySrc)});for(const t of n)this.lazyLoadImg(e,t)}onAnimationEnd(e){var t;const n=e.target,i=n?parseInt(n.dataset.index||"",10)||0:-1,r=this.slides[i],o=e.animationName;if(!n||!r||!o)return;const a=!!this.inTransition.has(i)&&r.transition;a&&o.substring(0,a.length+2)===`f-${a}`&&this.inTransition.delete(i),this.inTransition.size||this.clearTransitions(),i===this.page&&(null===(t=this.panzoom)||void 0===t?void 0:t.isResting)&&this.emit("settle")}onDecel(e,t=0,n=0,i=0,r=0){if(this.option("dragFree"))return void this.setPageFromPosition();const{isRTL:o,isHorizontal:a,axis:s,pages:l}=this,c=l.length,u=Math.abs(Math.atan2(n,t)/(Math.PI/180));let d=0;if(d=u>45&&u<135?a?0:n:a?t:0,!c)return;let f=this.page,h=o&&a?1:-1;const p=e.current[s]*h;let{pageIndex:m}=this.getPageFromPosition(p);Math.abs(d)>5?(l[f].dim<document.documentElement["client"+(this.isHorizontal?"Width":"Height")]-1&&(f=m),f=o&&a?d<0?f-1:f+1:d<0?f+1:f-1):f=0===i&&0===r?f:m,this.slideTo(f,{transition:!1,friction:e.option("decelFriction")})}onClick(e){const t=e.target,n=t&&S(t)?t.dataset:null;let i,r;n&&(void 0!==n.carouselPage?(r="slideTo",i=n.carouselPage):void 0!==n.carouselNext?r="slideNext":void 0!==n.carouselPrev&&(r="slidePrev")),r?(e.preventDefault(),e.stopPropagation(),t&&!t.hasAttribute("disabled")&&this[r](i)):this.emit("click",e)}onSlideTo(e){const t=e.detail||0;this.slideTo(this.getPageForSlide(t),{friction:0})}onChange(e,t=0){const n=this.page;this.prevPage=n,this.page=e,this.option("adaptiveHeight")&&this.setViewportHeight(),e!==n&&(this.markSelectedSlides(),this.emit("change",e,n,t))}onRefresh(){let e=this.contentDim,t=this.viewportDim;this.updateMetrics(),this.contentDim===e&&this.viewportDim===t||this.slideTo(this.page,{friction:0,transition:!1})}onScroll(){var e;null===(e=this.viewport)||void 0===e||e.scroll(0,0)}onResize(){this.option("breakpoints")&&this.processOptions()}onBeforeTransform(e){this.lp!==e.current[this.axis]&&(this.flipInfiniteTrack(),this.manageSlideVisiblity()),this.lp=e.current.e}onEndAnimation(){this.inTransition.size||this.emit("settle")}reInit(e=null,t=null){this.destroy(),this.state=F.Init,this.prevPage=null,this.userOptions=e||this.userOptions,this.userPlugins=t||this.userPlugins,this.processOptions()}slideTo(e=0,{friction:t=this.option("friction"),transition:n=this.option("transition")}={}){if(this.state===F.Destroy)return;e=parseInt((e||0).toString())||0;const i=this.getPageFromIndex(e),{axis:r,isHorizontal:o,isRTL:a,pages:s,panzoom:l}=this,c=s.length,u=a&&o?1:-1;if(!l||!c)return;if(this.page!==i){const t=new Event("beforeChange",{bubbles:!0,cancelable:!0});if(this.emit("beforeChange",t,e),t.defaultPrevented)return}if(this.transitionTo(e,n))return;let d=s[i].pos;if(this.isInfinite){const t=this.contentDim,n=l.target[r]*u;2===c?d+=t*Math.floor(parseFloat(e+"")/2):d=[d,d-t,d+t].reduce(function(e,t){return Math.abs(t-n)<Math.abs(e-n)?t:e})}d*=u,Math.abs(l.target[r]-d)<1||(l.panTo({x:o?d:0,y:o?0:d,friction:t}),this.onChange(i))}slideToClosest(e){if(this.panzoom){const{pageIndex:t}=this.getPageFromPosition();this.slideTo(t,e)}}slideNext(){this.slideTo(this.page+1)}slidePrev(){this.slideTo(this.page-1)}clearTransitions(){this.inTransition.clear(),E(this.container,this.cn("inTransition"));const e=["to-prev","to-next","from-prev","from-next"];for(const t of this.slides){const n=t.el;if(n){n.removeEventListener(Y,this.onAnimationEnd),n.classList.remove(...e);const i=t.transition;i&&n.classList.remove(`f-${i}Out`,`f-${i}In`)}}this.manageSlideVisiblity()}addSlide(e,t){var n,i,r,o;const a=this.panzoom,s=(null===(n=this.pages[this.page])||void 0===n?void 0:n.pos)||0,l=(null===(i=this.pages[this.page])||void 0===i?void 0:i.dim)||0,c=this.contentDim<this.viewportDim;let u=Array.isArray(t)?t:[t];const d=[];for(const e of u)d.push(D(e));this.slides.splice(e,0,...d);for(let e=0;e<this.slides.length;e++)this.slides[e].index=e;for(const e of d)this.emit("beforeInitSlide",e,e.index);if(this.page>=e&&(this.page+=d.length),this.updateMetrics(),a){const t=(null===(r=this.pages[this.page])||void 0===r?void 0:r.pos)||0,n=(null===(o=this.pages[this.page])||void 0===o?void 0:o.dim)||0,i=this.pages.length||1,u=this.isRTL?l-n:n-l,d=this.isRTL?s-t:t-s;c&&1===i?(e<=this.page&&(a.current[this.axis]-=u,a.target[this.axis]-=u),a.panTo({[this.isHorizontal?"x":"y"]:-1*t})):d&&e<=this.page&&(a.target[this.axis]-=d,a.current[this.axis]-=d,a.requestTick())}for(const e of d)this.emit("initSlide",e,e.index)}prependSlide(e){this.addSlide(0,e)}appendSlide(e){this.addSlide(this.slides.length,e)}removeSlide(e){const t=this.slides.length;e=(e%t+t)%t;const n=this.slides[e];if(n){this.removeSlideEl(n,!0),this.slides.splice(e,1);for(let e=0;e<this.slides.length;e++)this.slides[e].index=e;this.updateMetrics(),this.slideTo(this.page,{friction:0,transition:!1}),this.emit("destroySlide",n)}}updateMetrics(){const{panzoom:e,viewport:n,track:i,slides:r,isHorizontal:o,isInfinite:a}=this;if(!i)return;const s=o?"width":"height",l=o?"offsetWidth":"offsetHeight";if(n){let e=Math.max(n[l],t(n.getBoundingClientRect()[s],1e3)),i=getComputedStyle(n),r="padding",a=o?"Right":"Bottom";e-=parseFloat(i[r+(o?"Left":"Top")])+parseFloat(i[r+a]),this.viewportDim=e}let c,u=0;for(const[e,n]of r.entries()){let i=0,o=0;!n.el&&c?(i=c.dim,o=c.gap):(({dim:i,gap:o}=this.getSlideMetrics(n)),c=n),i=t(i,1e3),o=t(o,1e3),n.dim=i,n.gap=o,n.pos=u,u+=i,(a||e<r.length-1)&&(u+=o)}u=t(u,1e3),this.contentDim=u,e&&(e.contentRect[s]=u,e.contentRect[o?"fullWidth":"fullHeight"]=u),this.pages=this.createPages(),this.pages=this.processPages(),this.state===F.Init&&this.setInitialPage(),this.page=Math.max(0,Math.min(this.page,this.pages.length-1)),this.manageSlideVisiblity(),this.emit("refresh")}getProgress(e,n=!1,i=!1){void 0===e&&(e=this.page);const r=this,o=r.panzoom,a=r.contentDim,s=r.pages[e]||0;if(!s||!o)return e>this.page?-1:1;let l=-1*o.current.e,c=t((l-s.pos)/(1*s.dim),1e3),u=c,d=c;this.isInfinite&&!0!==i&&(u=t((l-s.pos+a)/(1*s.dim),1e3),d=t((l-s.pos-a)/(1*s.dim),1e3));let f=[c,u,d].reduce(function(e,t){return Math.abs(t)<Math.abs(e)?t:e});return n?f:f>1?1:f<-1?-1:f}setViewportHeight(){const{page:e,pages:t,viewport:n,isHorizontal:i}=this;if(!n||!t[e])return;let r=0;i&&this.track&&(this.track.style.height="auto",t[e].slides.forEach(e=>{e.el&&(r=Math.max(r,e.el.offsetHeight))})),n.style.height=r?`${r}px`:""}getPageForSlide(e){for(const t of this.pages)for(const n of t.slides)if(n.index===e)return t.index;return-1}getVisibleSlides(e=0){var t;const n=new Set;let{panzoom:i,contentDim:r,viewportDim:o,pages:a,page:s}=this;if(o){r=r+(null===(t=this.slides[this.slides.length-1])||void 0===t?void 0:t.gap)||0;let l=0;l=i&&i.state!==v.Init&&i.state!==v.Destroy?-1*i.current[this.axis]:a[s]&&a[s].pos||0,this.isInfinite&&(l-=Math.floor(l/r)*r),this.isRTL&&this.isHorizontal&&(l*=-1);const c=l-o*e,u=l+o*(e+1),d=this.isInfinite?[-1,0,1]:[0];for(const e of this.slides)for(const t of d){const i=e.pos+t*r,o=i+e.dim+e.gap;i<u&&o>c&&n.add(e)}}return n}getPageFromPosition(e){const{viewportDim:t,contentDim:n,slides:i,pages:r,panzoom:o}=this,a=r.length,s=i.length,l=i[0],c=i[s-1],u=this.option("center");let d=0,f=0,h=0,p=void 0===e?-1*((null==o?void 0:o.target[this.axis])||0):e;u&&(p+=.5*t),this.isInfinite?(p<l.pos-.5*c.gap&&(p-=n,h=-1),p>c.pos+c.dim+.5*c.gap&&(p-=n,h=1)):p=Math.max(l.pos||0,Math.min(p,c.pos));let m=c,g=i.find(e=>{const t=e.pos-.5*m.gap,n=e.pos+e.dim+.5*e.gap;return m=e,p>=t&&p<n});return g||(g=c),f=this.getPageForSlide(g.index),d=f+h*a,{page:d,pageIndex:f}}setPageFromPosition(){const{pageIndex:e}=this.getPageFromPosition();this.onChange(e)}destroy(){if([F.Destroy].includes(this.state))return;this.state=F.Destroy;const{container:e,viewport:t,track:n,slides:i,panzoom:r}=this,o=this.option("classes");e.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),e.removeEventListener("slideTo",this.onSlideTo),window.removeEventListener("resize",this.onResize),r&&(r.destroy(),this.panzoom=null),i&&i.forEach(e=>{this.removeSlideEl(e)}),this.detachPlugins(),t&&(t.removeEventListener("scroll",this.onScroll),t.offsetParent&&n&&n.offsetParent&&t.replaceWith(...n.childNodes));for(const[t,n]of Object.entries(o))"container"!==t&&n&&e.classList.remove(n);this.track=null,this.viewport=null,this.page=0,this.slides=[];const a=this.events.get("ready");this.events=new Map,a&&this.events.set("ready",a)}}Object.defineProperty(Z,"Panzoom",{enumerable:!0,configurable:!0,writable:!0,value:L}),Object.defineProperty(Z,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{viewport:null,track:null,enabled:!0,slides:[],axis:"x",transition:"fade",preload:1,slidesPerPage:"auto",initialPage:0,friction:.12,Panzoom:{decelFriction:.12},center:!0,infinite:!0,fill:!0,dragFree:!1,adaptiveHeight:!1,direction:"ltr",classes:{container:"f-carousel",viewport:"f-carousel__viewport",track:"f-carousel__track",slide:"f-carousel__slide",isLTR:"is-ltr",isRTL:"is-rtl",isHorizontal:"is-horizontal",isVertical:"is-vertical",inTransition:"in-transition",isSelected:"is-selected"},l10n:{NEXT:"Next slide",PREV:"Previous slide",GOTO:"Go to slide #%d"}}}),Object.defineProperty(Z,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:q});const Q=function(e){if(!S(e))return 0;const t=window.scrollY,n=window.innerHeight,i=t+n,r=e.getBoundingClientRect(),o=r.y+t,a=r.height,s=o+a;if(t>s||i<o)return 0;if(t<o&&i>s)return 100;if(o<t&&s>i)return 100;let l=a;o<t&&(l-=t-o),s>i&&(l-=s-i);const c=l/n*100;return Math.round(c)},J=!("undefined"==typeof window||!window.document||!window.document.createElement);let ee;const te=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden]):not(.fancybox-focus-guard)","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"]):not([disabled]):not([aria-hidden])'].join(","),ne=e=>{if(e&&J){void 0===ee&&document.createElement("div").focus({get preventScroll(){return ee=!0,!1}});try{if(ee)e.focus({preventScroll:!0});else{const t=window.scrollY||document.body.scrollTop,n=window.scrollX||document.body.scrollLeft;e.focus(),document.body.scrollTo({top:t,left:n,behavior:"auto"})}}catch(e){}}},ie=()=>{const e=document;let t,n="",i="",r="";return e.fullscreenEnabled?(n="requestFullscreen",i="exitFullscreen",r="fullscreenElement"):e.webkitFullscreenEnabled&&(n="webkitRequestFullscreen",i="webkitExitFullscreen",r="webkitFullscreenElement"),n&&(t={request:function(t=e.documentElement){return"webkitRequestFullscreen"===n?t[n](Element.ALLOW_KEYBOARD_INPUT):t[n]()},exit:function(){return e[r]&&e[i]()},isFullscreen:function(){return e[r]}}),t},re={animated:!0,autoFocus:!0,backdropClick:"close",Carousel:{classes:{container:"fancybox__carousel",viewport:"fancybox__viewport",track:"fancybox__track",slide:"fancybox__slide"}},closeButton:"auto",closeExisting:!1,commonCaption:!1,compact:()=>window.matchMedia("(max-width: 578px), (max-height: 578px)").matches,contentClick:"toggleZoom",contentDblClick:!1,defaultType:"image",defaultDisplay:"flex",dragToClose:!0,Fullscreen:{autoStart:!1},groupAll:!1,groupAttr:"data-fancybox",hideClass:"f-fadeOut",hideScrollbar:!0,idle:3500,keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"prev",ArrowDown:"next",ArrowRight:"next",ArrowLeft:"prev"},l10n:Object.assign(Object.assign({},y),{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ERROR:"Something Went Wrong, Please Try Again Later",IMAGE_ERROR:"Image Not Found",ELEMENT_NOT_FOUND:"HTML Element Not Found",AJAX_NOT_FOUND:"Error Loading AJAX : Not Found",AJAX_FORBIDDEN:"Error Loading AJAX : Forbidden",IFRAME_ERROR:"Error Loading Page",TOGGLE_ZOOM:"Toggle zoom level",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_SLIDESHOW:"Toggle slideshow",TOGGLE_FULLSCREEN:"Toggle full-screen mode",DOWNLOAD:"Download"}),parentEl:null,placeFocusBack:!0,showClass:"f-zoomInUp",startIndex:0,tpl:{closeButton:'<button data-fancybox-close class="f-button is-close-btn" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M20 20L4 4m16 0L4 20"/></svg></button>',main:'<div class="fancybox__container" role="dialog" aria-modal="true" aria-label="{{MODAL}}" tabindex="-1">\n    <div class="fancybox__backdrop"></div>\n    <div class="fancybox__carousel"></div>\n    <div class="fancybox__footer"></div>\n  </div>'},trapFocus:!0,wheel:"zoom"};var oe,ae;!function(e){e[e.Init=0]="Init",e[e.Ready=1]="Ready",e[e.Closing=2]="Closing",e[e.CustomClosing=3]="CustomClosing",e[e.Destroy=4]="Destroy"}(oe||(oe={})),function(e){e[e.Loading=0]="Loading",e[e.Opening=1]="Opening",e[e.Ready=2]="Ready",e[e.Closing=3]="Closing"}(ae||(ae={}));let se="",le=!1,ce=!1,ue=null;const de=()=>{let e="",t="";const n=Et.getInstance();if(n){const i=n.carousel,r=n.getSlide();if(i&&r){let o=r.slug||void 0,a=r.triggerEl||void 0;t=o||n.option("slug")||"",!t&&a&&a.dataset&&(t=a.dataset.fancybox||""),t&&"true"!==t&&(e="#"+t+(!o&&i.slides.length>1?"-"+(r.index+1):""))}}return{hash:e,slug:t,index:1}},fe=()=>{const e=new URL(document.URL).hash,t=e.slice(1).split("-"),n=t[t.length-1],i=n&&/^\+?\d+$/.test(n)&&parseInt(t.pop()||"1",10)||1;return{hash:e,slug:t.join("-"),index:i}},he=()=>{const{slug:e,index:t}=fe();if(!e)return;let n=document.querySelector(`[data-slug="${e}"]`);if(n&&n.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),Et.getInstance())return;const i=document.querySelectorAll(`[data-fancybox="${e}"]`);i.length&&(n=i[t-1],n&&n.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})))},pe=()=>{if(!1===Et.defaults.Hash)return;const e=Et.getInstance();if(!1===(null==e?void 0:e.options.Hash))return;const{slug:t,index:n}=fe(),{slug:i}=de();e&&(t===i?e.jumpTo(n-1):(le=!0,e.close())),he()},me=()=>{ue&&clearTimeout(ue),queueMicrotask(()=>{pe()})},ge=()=>{window.addEventListener("hashchange",me,!1),setTimeout(()=>{pe()},500)};J&&(/complete|interactive|loaded/.test(document.readyState)?ge():document.addEventListener("DOMContentLoaded",ge));const ve="is-zooming-in";class be extends B{onCreateSlide(e,t,n){const i=this.instance.optionFor(n,"src")||"";n.el&&"image"===n.type&&"string"==typeof i&&this.setImage(n,i)}onRemoveSlide(e,t,n){n.panzoom&&n.panzoom.destroy(),n.panzoom=void 0,n.imageEl=void 0}onChange(e,t,n,i){E(this.instance.container,ve);for(const e of t.slides){const t=e.panzoom;t&&e.index!==n&&t.reset(.35)}}onClose(){var e;const t=this.instance,n=t.container,i=t.getSlide();if(!n||!n.parentElement||!i)return;const{el:r,contentEl:o,panzoom:a,thumbElSrc:s}=i;if(!r||!s||!o||!a||a.isContentLoading||a.state===v.Init||a.state===v.Destroy)return;a.updateMetrics();let l=this.getZoomInfo(i);if(!l)return;this.instance.state=oe.CustomClosing,n.classList.remove(ve),n.classList.add("is-zooming-out"),o.style.backgroundImage=`url('${s}')`;const c=n.getBoundingClientRect();1===((null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1)&&Object.assign(n.style,{position:"absolute",top:`${n.offsetTop+window.scrollY}px`,left:`${n.offsetLeft+window.scrollX}px`,bottom:"auto",right:"auto",width:`${c.width}px`,height:`${c.height}px`,overflow:"hidden"});const{x:u,y:d,scale:f,opacity:h}=l;if(h){const e=((e,t)=>{const n=t-e;return t=>1+((t-e)/n*-1||0)})(a.scale,f);a.on("afterTransform",()=>{o.style.opacity=e(a.scale)+""})}a.on("endAnimation",()=>{t.destroy()}),a.target.a=f,a.target.b=0,a.target.c=0,a.target.d=f,a.panTo({x:u,y:d,scale:f,friction:h?.2:.33,ignoreBounds:!0}),a.isResting&&t.destroy()}setImage(e,t){const n=this.instance;e.src=t,this.process(e,t).then(t=>{const{contentEl:i,imageEl:r,thumbElSrc:o,el:a}=e;if(n.isClosing()||!i||!r)return;i.offsetHeight;const s=!!n.isOpeningSlide(e)&&this.getZoomInfo(e);if(this.option("protected")&&a){a.addEventListener("contextmenu",e=>{e.preventDefault()});const e=document.createElement("div");C(e,"fancybox-protected"),i.appendChild(e)}if(o&&s){const r=t.contentRect,a=Math.max(r.fullWidth,r.fullHeight);let c=null;!s.opacity&&a>1200&&(c=document.createElement("img"),C(c,"fancybox-ghost"),c.src=o,i.appendChild(c));const u=()=>{c&&(C(c,"f-fadeFastOut"),setTimeout(()=>{c&&(c.remove(),c=null)},200))};(l=o,new Promise((e,t)=>{const n=new Image;n.onload=e,n.onerror=t,n.src=l})).then(()=>{n.hideLoading(e),e.state=ae.Opening,this.instance.emit("reveal",e),this.zoomIn(e).then(()=>{u(),this.instance.done(e)},()=>{}),c&&setTimeout(()=>{u()},a>2500?800:200)},()=>{n.hideLoading(e),n.revealContent(e)})}else{const i=this.optionFor(e,"initialSize"),r=this.optionFor(e,"zoom"),o={event:n.prevMouseMoveEvent||n.options.event,friction:r?.12:0};let a=n.optionFor(e,"showClass")||void 0,s=!0;n.isOpeningSlide(e)&&("full"===i?t.zoomToFull(o):"cover"===i?t.zoomToCover(o):"max"===i?t.zoomToMax(o):s=!1,t.stop("current")),s&&a&&(a=t.isDragging?"f-fadeIn":""),n.hideLoading(e),n.revealContent(e,a)}var l},()=>{n.setError(e,"{{IMAGE_ERROR}}")})}process(e,t){return new Promise((n,i)=>{var o;const a=this.instance,s=e.el;a.clearContent(e),a.showLoading(e);let l=this.optionFor(e,"content");if("string"==typeof l&&(l=r(l)),!l||!S(l)){if(l=document.createElement("img"),l instanceof HTMLImageElement){let n="",i=e.caption;n="string"==typeof i&&i?i.replace(/<[^>]+>/gi,"").substring(0,1e3):`Image ${e.index+1} of ${(null===(o=a.carousel)||void 0===o?void 0:o.pages.length)||1}`,l.src=t||"",l.alt=n,l.draggable=!1,e.srcset&&l.setAttribute("srcset",e.srcset),this.instance.isOpeningSlide(e)&&(l.fetchPriority="high")}e.sizes&&l.setAttribute("sizes",e.sizes)}C(l,"fancybox-image"),e.imageEl=l,a.setContent(e,l,!1),e.panzoom=new L(s,h({transformParent:!0},this.option("Panzoom")||{},{content:l,width:(t,n)=>a.optionFor(e,"width","auto",n)||"auto",height:(t,n)=>a.optionFor(e,"height","auto",n)||"auto",wheel:()=>{const e=a.option("wheel");return("zoom"===e||"pan"==e)&&e},click:(t,n)=>{var i,r;if(a.isCompact||a.isClosing())return!1;if(e.index!==(null===(i=a.getSlide())||void 0===i?void 0:i.index))return!1;if(n){const e=n.composedPath()[0];if(["A","BUTTON","TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].includes(e.nodeName))return!1}let o=!n||n.target&&(null===(r=e.contentEl)||void 0===r?void 0:r.contains(n.target));return a.option(o?"contentClick":"backdropClick")||!1},dblClick:()=>a.isCompact?"toggleZoom":a.option("contentDblClick")||!1,spinner:!1,panOnlyZoomed:!0,wheelLimit:1/0,on:{ready:e=>{n(e)},error:()=>{i()},destroy:()=>{i()}}}))})}zoomIn(e){return new Promise((t,n)=>{const i=this.instance,r=i.container,{panzoom:o,contentEl:a,el:s}=e;o&&o.updateMetrics();const l=this.getZoomInfo(e);if(!(l&&s&&a&&o&&r))return void n();const{x:c,y:u,scale:d,opacity:f}=l,h=()=>{e.state!==ae.Closing&&(f&&(a.style.opacity=Math.max(Math.min(1,1-(1-o.scale)/(1-d)),0)+""),o.scale>=1&&o.scale>o.targetScale-.1&&t(o))},p=e=>{(e.scale<.99||e.scale>1.01)&&!e.isDragging||(E(r,ve),a.style.opacity="",e.off("endAnimation",p),e.off("touchStart",p),e.off("afterTransform",h),t(e))};o.on("endAnimation",p),o.on("touchStart",p),o.on("afterTransform",h),o.on(["error","destroy"],()=>{n()}),o.panTo({x:c,y:u,scale:d,friction:0,ignoreBounds:!0}),o.stop("current");const m={event:"mousemove"===o.panMode?i.prevMouseMoveEvent||i.options.event:void 0},g=this.optionFor(e,"initialSize");C(r,ve),i.hideLoading(e),"full"===g?o.zoomToFull(m):"cover"===g?o.zoomToCover(m):"max"===g?o.zoomToMax(m):o.reset(.172)})}getZoomInfo(e){const{el:t,imageEl:n,thumbEl:i,panzoom:r}=e,o=this.instance,a=o.container;if(!t||!n||!i||!r||Q(i)<3||!this.optionFor(e,"zoom")||!a||o.state===oe.Destroy)return!1;if("0"===getComputedStyle(a).getPropertyValue("--f-images-zoom"))return!1;const s=window.visualViewport||null;if(1!==(s?s.scale:1))return!1;let{top:l,left:c,width:u,height:d}=i.getBoundingClientRect(),{top:f,left:h,fitWidth:p,fitHeight:m}=r.contentRect;if(!(u&&d&&p&&m))return!1;const g=r.container.getBoundingClientRect();h+=g.left,f+=g.top;const v=-1*(h+.5*p-(c+.5*u)),b=-1*(f+.5*m-(l+.5*d)),y=u/p;let w=this.option("zoomOpacity")||!1;return"auto"===w&&(w=Math.abs(u/d-p/m)>.1),{x:v,y:b,scale:y,opacity:w}}attach(){const e=this,t=e.instance;t.on("Carousel.change",e.onChange),t.on("Carousel.createSlide",e.onCreateSlide),t.on("Carousel.removeSlide",e.onRemoveSlide),t.on("close",e.onClose)}detach(){const e=this,t=e.instance;t.off("Carousel.change",e.onChange),t.off("Carousel.createSlide",e.onCreateSlide),t.off("Carousel.removeSlide",e.onRemoveSlide),t.off("close",e.onClose)}}Object.defineProperty(be,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{initialSize:"fit",Panzoom:{maxScale:1},protected:!1,zoom:!0,zoomOpacity:"auto"}}),"function"==typeof SuppressedError&&SuppressedError;const ye="html",we="image",xe="map",_e="youtube",Se="vimeo",Ee="html5video",Ce=(e,t={})=>{const n=new URL(e),i=new URLSearchParams(n.search),r=new URLSearchParams;for(const[e,n]of[...i,...Object.entries(t)]){let t=n+"";if("t"===e){let e=t.match(/((\d*)m)?(\d*)s?/);e&&r.set("start",60*parseInt(e[2]||"0")+parseInt(e[3]||"0")+"")}else r.set(e,t)}let o=r+"",a=e.match(/#t=((.*)?\d+s)/);return a&&(o+=`#t=${a[1]}`),o},Pe=["image","html","ajax","inline","clone","iframe","map","pdf","html5video","youtube","vimeo"];class Oe extends B{onBeforeInitSlide(e,t,n){this.processType(n)}onCreateSlide(e,t,n){this.setContent(n)}onClearContent(e,t){t.xhr&&(t.xhr.abort(),t.xhr=null);const n=t.iframeEl;n&&(n.onload=n.onerror=null,n.src="//about:blank",t.iframeEl=null);const i=t.contentEl,r=t.placeholderEl;if("inline"===t.type&&i&&r)i.classList.remove("fancybox__content"),"none"!==getComputedStyle(i).getPropertyValue("display")&&(i.style.display="none"),setTimeout(()=>{r&&(i&&r.parentNode&&r.parentNode.insertBefore(i,r),r.remove())},0),t.contentEl=void 0,t.placeholderEl=void 0;else for(;t.el&&t.el.firstChild;)t.el.removeChild(t.el.firstChild)}onSelectSlide(e,t,n){n.state===ae.Ready&&this.playVideo()}onUnselectSlide(e,t,n){var i,r;if(n.type===Ee){try{null===(r=null===(i=n.el)||void 0===i?void 0:i.querySelector("video"))||void 0===r||r.pause()}catch(e){}return}let o;n.type===Se?o={method:"pause",value:"true"}:n.type===_e&&(o={event:"command",func:"pauseVideo"}),o&&n.iframeEl&&n.iframeEl.contentWindow&&n.iframeEl.contentWindow.postMessage(JSON.stringify(o),"*"),n.poller&&clearTimeout(n.poller)}onDone(e,t){e.isCurrentSlide(t)&&!e.isClosing()&&this.playVideo()}onRefresh(e,t){t.slides.forEach(e=>{e.el&&(this.resizeIframe(e),this.setAspectRatio(e))})}onMessage(e){try{let t=JSON.parse(e.data);if("https://player.vimeo.com"===e.origin){if("ready"===t.event)for(let t of Array.from(document.getElementsByClassName("fancybox__iframe")))t instanceof HTMLIFrameElement&&t.contentWindow===e.source&&(t.dataset.ready="true")}else if(e.origin.match(/^https:\/\/(www.)?youtube(-nocookie)?.com$/)&&"onReady"===t.event){const e=document.getElementById(t.id);e&&(e.dataset.ready="true")}}catch(e){}}loadAjaxContent(e){const t=this.instance.optionFor(e,"src")||"";this.instance.showLoading(e);const n=this.instance,i=new XMLHttpRequest;n.showLoading(e),i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&n.state===oe.Ready&&(n.hideLoading(e),200===i.status?n.setContent(e,i.responseText):n.setError(e,404===i.status?"{{AJAX_NOT_FOUND}}":"{{AJAX_FORBIDDEN}}"))};const r=e.ajax||null;i.open(r?"POST":"GET",t+""),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.send(r),e.xhr=i}setInlineContent(e){let t=null;if(S(e.src))t=e.src;else if("string"==typeof e.src){const n=e.src.split("#",2).pop();t=n?document.getElementById(n):null}if(t){if("clone"===e.type||t.closest(".fancybox__slide")){t=t.cloneNode(!0);const n=t.dataset.animationName;n&&(t.classList.remove(n),delete t.dataset.animationName);let i=t.getAttribute("id");i=i?`${i}--clone`:`clone-${this.instance.id}-${e.index}`,t.setAttribute("id",i)}else if(t.parentNode){const n=document.createElement("div");n.classList.add("fancybox-placeholder"),t.parentNode.insertBefore(n,t),e.placeholderEl=n}this.instance.setContent(e,t)}else this.instance.setError(e,"{{ELEMENT_NOT_FOUND}}")}setIframeContent(e){const{src:t,el:n}=e;if(!t||"string"!=typeof t||!n)return;n.classList.add("is-loading");const i=this.instance,r=document.createElement("iframe");r.className="fancybox__iframe",r.setAttribute("id",`fancybox__iframe_${i.id}_${e.index}`);for(const[t,n]of Object.entries(this.optionFor(e,"iframeAttr")||{}))r.setAttribute(t,n);r.onerror=()=>{i.setError(e,"{{IFRAME_ERROR}}")},e.iframeEl=r;const o=this.optionFor(e,"preload");if("iframe"!==e.type||!1===o)return r.setAttribute("src",e.src+""),i.setContent(e,r,!1),this.resizeIframe(e),void i.revealContent(e);i.showLoading(e),r.onload=()=>{if(!r.src.length)return;const t="true"!==r.dataset.ready;r.dataset.ready="true",this.resizeIframe(e),t?i.revealContent(e):i.hideLoading(e)},r.setAttribute("src",t),i.setContent(e,r,!1)}resizeIframe(e){const{type:t,iframeEl:n}=e;if(t===_e||t===Se)return;const i=null==n?void 0:n.parentElement;if(!n||!i)return;let r=e.autoSize;void 0===r&&(r=this.optionFor(e,"autoSize"));let o=e.width||0,a=e.height||0;o&&a&&(r=!1);const s=i&&i.style;if(!1!==e.preload&&!1!==r&&s)try{const e=window.getComputedStyle(i),t=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),r=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),l=n.contentWindow;if(l){const e=l.document,n=e.getElementsByTagName(ye)[0],i=e.body;s.width="",i.style.overflow="hidden",o=o||n.scrollWidth+t,s.width=`${o}px`,i.style.overflow="",s.flex="0 0 auto",s.height=`${i.scrollHeight}px`,a=n.scrollHeight+r}}catch(e){}if(o||a){const e={flex:"0 1 auto",width:"",height:""};o&&"auto"!==o&&(e.width=`${o}px`),a&&"auto"!==a&&(e.height=`${a}px`),Object.assign(s,e)}}playVideo(){const e=this.instance.getSlide();if(!e)return;const{el:t}=e;if(!t||!t.offsetParent)return;if(!this.optionFor(e,"videoAutoplay"))return;if(e.type===Ee)try{const e=t.querySelector("video");if(e){const t=e.play();void 0!==t&&t.then(()=>{}).catch(t=>{e.muted=!0,e.play()})}}catch(e){}if(e.type!==_e&&e.type!==Se)return;const n=()=>{if(e.iframeEl&&e.iframeEl.contentWindow){let t;if("true"===e.iframeEl.dataset.ready)return t=e.type===_e?{event:"command",func:"playVideo"}:{method:"play",value:"true"},t&&e.iframeEl.contentWindow.postMessage(JSON.stringify(t),"*"),void(e.poller=void 0);e.type===_e&&(t={event:"listening",id:e.iframeEl.getAttribute("id")},e.iframeEl.contentWindow.postMessage(JSON.stringify(t),"*"))}e.poller=setTimeout(n,250)};n()}processType(e){if(e.html)return e.type=ye,e.src=e.html,void(e.html="");const t=this.instance.optionFor(e,"src","");if(!t||"string"!=typeof t)return;let n=e.type,i=null;if(i=t.match(/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|shorts\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i)){const r=this.optionFor(e,_e),{nocookie:o}=r,a=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(r,["nocookie"]),s=`www.youtube${o?"-nocookie":""}.com`,l=Ce(t,a),c=encodeURIComponent(i[2]);e.videoId=c,e.src=`https://${s}/embed/${c}?${l}`,e.thumbSrc=e.thumbSrc||`https://i.ytimg.com/vi/${c}/mqdefault.jpg`,n=_e}else if(i=t.match(/^.+vimeo.com\/(?:\/)?([\d]+)((\/|\?h=)([a-z0-9]+))?(.*)?/)){const r=Ce(t,this.optionFor(e,Se)),o=encodeURIComponent(i[1]),a=i[4]||"";e.videoId=o,e.src=`https://player.vimeo.com/video/${o}?${a?`h=${a}${r?"&":""}`:""}${r}`,n=Se}if(!n&&e.triggerEl){const t=e.triggerEl.dataset.type;Pe.includes(t)&&(n=t)}n||"string"==typeof t&&("#"===t.charAt(0)?n="inline":(i=t.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(n=Ee,e.videoFormat=e.videoFormat||"video/"+("ogv"===i[1]?"ogg":i[1])):t.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?n=we:t.match(/\.(pdf)((\?|#).*)?$/i)&&(n="pdf")),(i=t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i))?(e.src=`https://maps.google.${i[1]}/?ll=${(i[2]?i[2]+"&z="+Math.floor(parseFloat(i[3]))+(i[4]?i[4].replace(/^\//,"&"):""):i[4]+"").replace(/\?/,"&")}&output=${i[4]&&i[4].indexOf("layer=c")>0?"svembed":"embed"}`,n=xe):(i=t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i))&&(e.src=`https://maps.google.${i[1]}/maps?q=${i[2].replace("query=","q=").replace("api=1","")}&output=embed`,n=xe),n=n||this.instance.option("defaultType"),e.type=n,n===we&&(e.thumbSrc=e.thumbSrc||e.src)}setContent(e){const t=this.instance.optionFor(e,"src")||"";if(e&&e.type&&t){switch(e.type){case ye:this.instance.setContent(e,t);break;case Ee:const n=this.option("videoTpl");n&&this.instance.setContent(e,n.replace(/\{\{src\}\}/gi,t+"").replace(/\{\{format\}\}/gi,this.optionFor(e,"videoFormat")||"").replace(/\{\{poster\}\}/gi,e.poster||e.thumbSrc||""));break;case"inline":case"clone":this.setInlineContent(e);break;case"ajax":this.loadAjaxContent(e);break;case"pdf":case xe:case _e:case Se:e.preload=!1;case"iframe":this.setIframeContent(e)}this.setAspectRatio(e)}}setAspectRatio(e){const t=e.contentEl;if(!(e.el&&t&&e.type&&[_e,Se,Ee].includes(e.type)))return;let n,i=e.width||"auto",r=e.height||"auto";if("auto"===i||"auto"===r){n=this.optionFor(e,"videoRatio");const t=(n+"").match(/(\d+)\s*\/\s?(\d+)/);n=t&&t.length>2?parseFloat(t[1])/parseFloat(t[2]):parseFloat(n+"")}else i&&r&&(n=i/r);if(!n)return;t.style.aspectRatio="",t.style.width="",t.style.height="",t.offsetHeight;const o=t.getBoundingClientRect(),a=o.width||1,s=o.height||1;t.style.aspectRatio=n+"",n<a/s?(r="auto"===r?s:Math.min(s,r),t.style.width="auto",t.style.height=`${r}px`):(i="auto"===i?a:Math.min(a,i),t.style.width=`${i}px`,t.style.height="auto")}attach(){const e=this,t=e.instance;t.on("Carousel.beforeInitSlide",e.onBeforeInitSlide),t.on("Carousel.createSlide",e.onCreateSlide),t.on("Carousel.selectSlide",e.onSelectSlide),t.on("Carousel.unselectSlide",e.onUnselectSlide),t.on("Carousel.Panzoom.refresh",e.onRefresh),t.on("done",e.onDone),t.on("clearContent",e.onClearContent),window.addEventListener("message",e.onMessage)}detach(){const e=this,t=e.instance;t.off("Carousel.beforeInitSlide",e.onBeforeInitSlide),t.off("Carousel.createSlide",e.onCreateSlide),t.off("Carousel.selectSlide",e.onSelectSlide),t.off("Carousel.unselectSlide",e.onUnselectSlide),t.off("Carousel.Panzoom.refresh",e.onRefresh),t.off("done",e.onDone),t.off("clearContent",e.onClearContent),window.removeEventListener("message",e.onMessage)}}Object.defineProperty(Oe,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{ajax:null,autoSize:!0,iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto"},preload:!0,videoAutoplay:!0,videoRatio:16/9,videoTpl:'<video class="fancybox__html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">\n  <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos.</video>',videoFormat:"",vimeo:{byline:1,color:"00adef",controls:1,dnt:1,muted:0},youtube:{controls:1,enablejsapi:1,nocookie:1,rel:0,fs:1}}});const je="play",ke="pause",Ae="ready";class Te extends B{constructor(){super(...arguments),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:Ae}),Object.defineProperty(this,"inHover",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"progressBar",{enumerable:!0,configurable:!0,writable:!0,value:null})}get isActive(){return this.state!==Ae}onReady(e){this.option("autoStart")&&(e.isInfinite||e.page<e.pages.length-1)&&this.start()}onChange(){this.removeProgressBar(),this.pause()}onSettle(){this.resume()}onVisibilityChange(){"visible"===document.visibilityState?this.resume():this.pause()}onMouseEnter(){this.inHover=!0,this.pause()}onMouseLeave(){var e;this.inHover=!1,(null===(e=this.instance.panzoom)||void 0===e?void 0:e.isResting)&&this.resume()}onTimerEnd(){const e=this.instance;"play"===this.state&&(e.isInfinite||e.page!==e.pages.length-1?e.slideNext():e.slideTo(0))}removeProgressBar(){this.progressBar&&(this.progressBar.remove(),this.progressBar=null)}createProgressBar(){var e;if(!this.option("showProgress"))return null;this.removeProgressBar();const t=this.instance,n=(null===(e=t.pages[t.page])||void 0===e?void 0:e.slides)||[];let i=this.option("progressParentEl");if(i||(i=(1===n.length?n[0].el:null)||t.viewport),!i)return null;const r=document.createElement("div");return C(r,"f-progress"),i.prepend(r),this.progressBar=r,r.offsetHeight,r}set(){const e=this,t=e.instance;if(t.pages.length<2)return;if(e.timer)return;const n=e.option("timeout");e.state=je,C(t.container,"has-autoplay");let i=e.createProgressBar();i&&(i.style.transitionDuration=`${n}ms`,i.style.transform="scaleX(1)"),e.timer=setTimeout(()=>{e.timer=null,e.inHover||e.onTimerEnd()},n),e.emit("set")}clear(){const e=this;e.timer&&(clearTimeout(e.timer),e.timer=null),e.removeProgressBar()}start(){const e=this;if(e.set(),e.state!==Ae){if(e.option("pauseOnHover")){const t=e.instance.container;t.addEventListener("mouseenter",e.onMouseEnter,!1),t.addEventListener("mouseleave",e.onMouseLeave,!1)}document.addEventListener("visibilitychange",e.onVisibilityChange,!1),e.emit("start")}}stop(){const e=this,t=e.state,n=e.instance.container;e.clear(),e.state=Ae,n.removeEventListener("mouseenter",e.onMouseEnter,!1),n.removeEventListener("mouseleave",e.onMouseLeave,!1),document.removeEventListener("visibilitychange",e.onVisibilityChange,!1),E(n,"has-autoplay"),t!==Ae&&e.emit("stop")}pause(){const e=this;e.state===je&&(e.state=ke,e.clear(),e.emit(ke))}resume(){const e=this,t=e.instance;if(t.isInfinite||t.page!==t.pages.length-1)if(e.state!==je){if(e.state===ke&&!e.inHover){const t=new Event("resume",{bubbles:!0,cancelable:!0});e.emit("resume",t),t.defaultPrevented||e.set()}}else e.set();else e.stop()}toggle(){this.state===je||this.state===ke?this.stop():this.start()}attach(){const e=this,t=e.instance;t.on("ready",e.onReady),t.on("Panzoom.startAnimation",e.onChange),t.on("Panzoom.endAnimation",e.onSettle),t.on("Panzoom.touchMove",e.onChange)}detach(){const e=this,t=e.instance;t.off("ready",e.onReady),t.off("Panzoom.startAnimation",e.onChange),t.off("Panzoom.endAnimation",e.onSettle),t.off("Panzoom.touchMove",e.onChange),e.stop()}}Object.defineProperty(Te,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{autoStart:!0,pauseOnHover:!0,progressParentEl:null,showProgress:!0,timeout:3e3}});class Ie extends B{constructor(){super(...arguments),Object.defineProperty(this,"ref",{enumerable:!0,configurable:!0,writable:!0,value:null})}onPrepare(e){const t=e.carousel;if(!t)return;const n=e.container;n&&(t.options.Autoplay=h({autoStart:!1},this.option("Autoplay")||{},{pauseOnHover:!1,timeout:this.option("timeout"),progressParentEl:()=>this.option("progressParentEl")||null,on:{start:()=>{e.emit("startSlideshow")},set:t=>{var i;n.classList.add("has-slideshow"),(null===(i=e.getSlide())||void 0===i?void 0:i.state)!==ae.Ready&&t.pause()},stop:()=>{n.classList.remove("has-slideshow"),e.isCompact||e.endIdle(),e.emit("endSlideshow")},resume:(t,n)=>{var i,r,o;!n||!n.cancelable||(null===(i=e.getSlide())||void 0===i?void 0:i.state)===ae.Ready&&(null===(o=null===(r=e.carousel)||void 0===r?void 0:r.panzoom)||void 0===o?void 0:o.isResting)||n.preventDefault()}}}),t.attachPlugins({Autoplay:Te}),this.ref=t.plugins.Autoplay)}onReady(e){const t=e.carousel,n=this.ref;n&&t&&this.option("playOnStart")&&(t.isInfinite||t.page<t.pages.length-1)&&n.start()}onDone(e,t){const n=this.ref,i=e.carousel;if(!n||!i)return;const r=t.panzoom;r&&r.on("startAnimation",()=>{e.isCurrentSlide(t)&&n.stop()}),e.isCurrentSlide(t)&&n.resume()}onKeydown(e,t){var n;const i=this.ref;i&&t===this.option("key")&&"BUTTON"!==(null===(n=document.activeElement)||void 0===n?void 0:n.nodeName)&&i.toggle()}attach(){const e=this,t=e.instance;t.on("Carousel.init",e.onPrepare),t.on("Carousel.ready",e.onReady),t.on("done",e.onDone),t.on("keydown",e.onKeydown)}detach(){const e=this,t=e.instance;t.off("Carousel.init",e.onPrepare),t.off("Carousel.ready",e.onReady),t.off("done",e.onDone),t.off("keydown",e.onKeydown)}}Object.defineProperty(Ie,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{key:" ",playOnStart:!1,progressParentEl:e=>{var t;return(null===(t=e.instance.container)||void 0===t?void 0:t.querySelector(".fancybox__toolbar [data-fancybox-toggle-slideshow]"))||e.instance.container},timeout:3e3}});const Me={classes:{container:"f-thumbs f-carousel__thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide",isResting:"is-resting",isSelected:"is-selected",isLoading:"is-loading",hasThumbs:"has-thumbs"},minCount:2,parentEl:null,thumbTpl:'<button class="f-thumbs__slide__button" tabindex="0" type="button" aria-label="{{GOTO}}" data-carousel-index="%i"><img class="f-thumbs__slide__img" data-lazy-src="{{%s}}" alt="" /></button>',type:"modern"};var Le;!function(e){e[e.Init=0]="Init",e[e.Ready=1]="Ready",e[e.Hidden=2]="Hidden"}(Le||(Le={}));const Re="isResting",Ne="thumbWidth",Fe="thumbHeight",De="thumbClipWidth";let Ve=class extends B{constructor(){super(...arguments),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:"modern"}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"thumbWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbClipWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbExtraGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:Le.Init})}get isModern(){return"modern"===this.type}onInitSlide(e,t){const n=t.el?t.el.dataset:void 0;n&&(t.thumbSrc=n.thumbSrc||t.thumbSrc||"",t[De]=parseFloat(n[De]||"")||t[De]||0,t[Fe]=parseFloat(n.thumbHeight||"")||t[Fe]||0),this.addSlide(t)}onInitSlides(){this.build()}onChange(){var e;if(!this.isModern)return;const t=this.container,n=this.instance,i=n.panzoom,r=this.carousel,o=r?r.panzoom:null,s=n.page;if(i&&r&&o){if(i.isDragging){E(t,this.cn(Re));let i=(null===(e=r.pages[s])||void 0===e?void 0:e.pos)||0;i+=n.getProgress(s)*(this[De]+this.thumbGap);let a=o.getBounds();-1*i>a.x.min&&-1*i<a.x.max&&o.panTo({x:-1*i,friction:.12})}else a(t,this.cn(Re),i.isResting);this.shiftModern()}}onRefresh(){this.updateProps();for(const e of this.instance.slides||[])this.resizeModernSlide(e);this.shiftModern()}isDisabled(){const e=this.option("minCount")||0;if(e){const t=this.instance;let n=0;for(const e of t.slides||[])e.thumbSrc&&n++;if(n<e)return!0}const t=this.option("type");return["modern","classic"].indexOf(t)<0}getThumb(e){const t=this.option("thumbTpl")||"";return{html:this.instance.localize(t,[["%i",e.index],["%d",e.index+1],["%s",e.thumbSrc||"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"]])}}addSlide(e){const t=this.carousel;t&&t.addSlide(e.index,this.getThumb(e))}getSlides(){const e=[];for(const t of this.instance.slides||[])e.push(this.getThumb(t));return e}resizeModernSlide(e){this.isModern&&(e[Ne]=e[De]&&e[Fe]?Math.round(this[Fe]*(e[De]/e[Fe])):this[Ne])}updateProps(){const e=this.container;if(!e)return;const t=t=>parseFloat(getComputedStyle(e).getPropertyValue("--f-thumb-"+t))||0;this.thumbGap=t("gap"),this.thumbExtraGap=t("extra-gap"),this[Ne]=t("width")||40,this[De]=t("clip-width")||40,this[Fe]=t("height")||40}build(){const e=this;if(e.state!==Le.Init)return;if(e.isDisabled())return void e.emit("disabled");const t=e.instance,n=t.container,i=e.getSlides(),r=e.option("type");e.type=r;const o=e.option("parentEl"),a=e.cn("container"),s=e.cn("track");let l=null==o?void 0:o.querySelector("."+a);l||(l=document.createElement("div"),C(l,a),o?o.appendChild(l):n.after(l)),C(l,`is-${r}`),C(n,e.cn("hasThumbs")),e.container=l,e.updateProps();let c=l.querySelector("."+s);c||(c=document.createElement("div"),C(c,e.cn("track")),l.appendChild(c)),e.track=c;const u=h({},{track:c,infinite:!1,center:!0,fill:"classic"===r,dragFree:!0,slidesPerPage:1,transition:!1,preload:.25,friction:.12,Panzoom:{maxVelocity:0},Dots:!1,Navigation:!1,classes:{container:"f-thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide"}},e.option("Carousel")||{},{Sync:{target:t},slides:i}),d=new t.constructor(l,u);d.on("createSlide",(t,n)=>{e.setProps(n.index),e.emit("createSlide",n,n.el)}),d.on("ready",()=>{e.shiftModern(),e.emit("ready")}),d.on("refresh",()=>{e.shiftModern()}),d.on("Panzoom.click",(t,n,i)=>{e.onClick(i)}),e.carousel=d,e.state=Le.Ready}onClick(e){e.preventDefault(),e.stopPropagation();const t=this.instance,{pages:n,page:i}=t,r=e=>{if(e){const t=e.closest("[data-carousel-index]");if(t)return[parseInt(t.dataset.carouselIndex||"",10)||0,t]}return[-1,void 0]},o=(e,t)=>{const n=document.elementFromPoint(e,t);return n?r(n):[-1,void 0]};let[a,s]=r(e.target);if(a>-1)return;const l=this[De],c=e.clientX,u=e.clientY;let[d,f]=o(c-l,u),[h,p]=o(c+l,u);f&&p?(a=Math.abs(c-f.getBoundingClientRect().right)<Math.abs(c-p.getBoundingClientRect().left)?d:h,a===i&&(a=a===d?h:d)):f?a=d:p&&(a=h),a>-1&&n[a]&&t.slideTo(a)}getShift(e){var t;const n=this,{instance:i}=n,r=n.carousel;if(!i||!r)return 0;const o=n[Ne],a=n[De],s=n.thumbGap,l=n.thumbExtraGap;if(!(null===(t=r.slides[e])||void 0===t?void 0:t.el))return 0;const c=.5*(o-a),u=i.pages.length-1;let d=i.getProgress(0),f=i.getProgress(u),h=i.getProgress(e,!1,!0),p=0,m=c+l+s;const g=d<0&&d>-1,v=f>0&&f<1;return 0===e?(p=m*Math.abs(d),v&&1===d&&(p-=m*Math.abs(f))):e===u?(p=m*Math.abs(f)*-1,g&&-1===f&&(p+=m*Math.abs(d))):g||v?(p=-1*m,p+=m*Math.abs(d),p+=m*(1-Math.abs(f))):p=m*h,p}setProps(e){var n;const i=this;if(!i.isModern)return;const{instance:r}=i,o=i.carousel;if(r&&o){const a=null===(n=o.slides[e])||void 0===n?void 0:n.el;if(a&&a.childNodes.length){let n=t(1-Math.abs(r.getProgress(e))),o=t(i.getShift(e));a.style.setProperty("--progress",n?n+"":""),a.style.setProperty("--shift",o+"")}}}shiftModern(){const e=this;if(!e.isModern)return;const{instance:t,track:n}=e,i=t.panzoom,r=e.carousel;if(!(t&&n&&i&&r))return;if(i.state===v.Init||i.state===v.Destroy)return;for(const n of t.slides)e.setProps(n.index);let o=(e[De]+e.thumbGap)*(r.slides.length||0);n.style.setProperty("--width",o+"")}cleanup(){const e=this;e.carousel&&e.carousel.destroy(),e.carousel=null,e.container&&e.container.remove(),e.container=null,e.track&&e.track.remove(),e.track=null,e.state=Le.Init,E(e.instance.container,e.cn("hasThumbs"))}attach(){const e=this,t=e.instance;t.on("initSlide",e.onInitSlide),t.state===F.Init?t.on("initSlides",e.onInitSlides):e.onInitSlides(),t.on(["change","Panzoom.afterTransform"],e.onChange),t.on("Panzoom.refresh",e.onRefresh)}detach(){const e=this,t=e.instance;t.off("initSlide",e.onInitSlide),t.off("initSlides",e.onInitSlides),t.off(["change","Panzoom.afterTransform"],e.onChange),t.off("Panzoom.refresh",e.onRefresh),e.cleanup()}};Object.defineProperty(Ve,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Me});const Be=Object.assign(Object.assign({},Me),{key:"t",showOnStart:!0,parentEl:null}),ze="is-masked",He="aria-hidden";class $e extends B{constructor(){super(...arguments),Object.defineProperty(this,"ref",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hidden",{enumerable:!0,configurable:!0,writable:!0,value:!1})}get isEnabled(){const e=this.ref;return e&&!e.isDisabled()}get isHidden(){return this.hidden}onClick(e,t){t.stopPropagation()}onCreateSlide(e,t){var n,i,r;const o=(null===(r=null===(i=null===(n=this.instance)||void 0===n?void 0:n.carousel)||void 0===i?void 0:i.slides[t.index])||void 0===r?void 0:r.type)||"",a=t.el;if(a&&o){let e=`for-${o}`;["video","youtube","vimeo","html5video"].includes(o)&&(e+=" for-video"),C(a,e)}}onInit(){var e;const t=this,n=t.instance,i=n.carousel;if(t.ref||!i)return;const r=t.option("parentEl")||n.footer||n.container;if(!r)return;const o=h({},t.options,{parentEl:r,classes:{container:"f-thumbs fancybox__thumbs"},Carousel:{Sync:{friction:n.option("Carousel.friction")||0}},on:{ready:e=>{const n=e.container;n&&this.hidden&&(t.refresh(),n.style.transition="none",t.hide(),n.offsetHeight,queueMicrotask(()=>{n.style.transition="",t.show()}))}}});o.Carousel=o.Carousel||{},o.Carousel.on=h((null===(e=t.options.Carousel)||void 0===e?void 0:e.on)||{},{click:this.onClick,createSlide:this.onCreateSlide}),i.options.Thumbs=o,i.attachPlugins({Thumbs:Ve}),t.ref=i.plugins.Thumbs,t.option("showOnStart")||(t.ref.state=Le.Hidden,t.hidden=!0)}onResize(){var e;const t=null===(e=this.ref)||void 0===e?void 0:e.container;t&&(t.style.maxHeight="")}onKeydown(e,t){const n=this.option("key");n&&n===t&&this.toggle()}toggle(){const e=this.ref;if(e&&!e.isDisabled())return e.state===Le.Hidden?(e.state=Le.Init,void e.build()):void(this.hidden?this.show():this.hide())}show(){const e=this.ref;if(!e||e.isDisabled())return;const t=e.container;t&&(this.refresh(),t.offsetHeight,t.removeAttribute(He),t.classList.remove(ze),this.hidden=!1)}hide(){const e=this.ref,t=e&&e.container;t&&(this.refresh(),t.offsetHeight,t.classList.add(ze),t.setAttribute(He,"true")),this.hidden=!0}refresh(){const e=this.ref;if(!e||!e.state)return;const t=e.container,n=(null==t?void 0:t.firstChild)||null;t&&n&&n.childNodes.length&&(t.style.maxHeight=`${n.getBoundingClientRect().height}px`)}attach(){const e=this,t=e.instance;t.state===oe.Init?t.on("Carousel.init",e.onInit):e.onInit(),t.on("resize",e.onResize),t.on("keydown",e.onKeydown)}detach(){var e;const t=this,n=t.instance;n.off("Carousel.init",t.onInit),n.off("resize",t.onResize),n.off("keydown",t.onKeydown),null===(e=n.carousel)||void 0===e||e.detachPlugins(["Thumbs"]),t.ref=null}}Object.defineProperty($e,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Be});const Ue={panLeft:{icon:'<svg><path d="M5 12h14M5 12l6 6M5 12l6-6"/></svg>',change:{panX:-100}},panRight:{icon:'<svg><path d="M5 12h14M13 18l6-6M13 6l6 6"/></svg>',change:{panX:100}},panUp:{icon:'<svg><path d="M12 5v14M18 11l-6-6M6 11l6-6"/></svg>',change:{panY:-100}},panDown:{icon:'<svg><path d="M12 5v14M18 13l-6 6M6 13l6 6"/></svg>',change:{panY:100}},zoomIn:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M11 8v6M8 11h6"/></svg>',action:"zoomIn"},zoomOut:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"zoomOut"},toggle1to1:{icon:'<svg><path d="M3.51 3.07c5.74.02 11.48-.02 17.22.02 1.37.1 2.34 1.64 2.18 3.13 0 4.08.02 8.16 0 12.23-.1 1.54-1.47 2.64-2.79 2.46-5.61-.01-11.24.02-16.86-.01-1.36-.12-2.33-1.65-2.17-3.14 0-4.07-.02-8.16 0-12.23.1-1.36 1.22-2.48 2.42-2.46Z"/><path d="M5.65 8.54h1.49v6.92m8.94-6.92h1.49v6.92M11.5 9.4v.02m0 5.18v0"/></svg>',action:"toggleZoom"},toggleZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"toggleZoom"},iterateZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"iterateZoom"},rotateCCW:{icon:'<svg><path d="M15 4.55a8 8 0 0 0-6 14.9M9 15v5H4M18.37 7.16v.01M13 19.94v.01M16.84 18.37v.01M19.37 15.1v.01M19.94 11v.01"/></svg>',action:"rotateCCW"},rotateCW:{icon:'<svg><path d="M9 4.55a8 8 0 0 1 6 14.9M15 15v5h5M5.63 7.16v.01M4.06 11v.01M4.63 15.1v.01M7.16 18.37v.01M11 19.94v.01"/></svg>',action:"rotateCW"},flipX:{icon:'<svg style="stroke-width: 1.3"><path d="M12 3v18M16 7v10h5L16 7M8 7v10H3L8 7"/></svg>',action:"flipX"},flipY:{icon:'<svg style="stroke-width: 1.3"><path d="M3 12h18M7 16h10L7 21v-5M7 8h10L7 3v5"/></svg>',action:"flipY"},fitX:{icon:'<svg><path d="M4 12V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v6M10 18H3M21 18h-7M6 15l-3 3 3 3M18 15l3 3-3 3"/></svg>',action:"fitX"},fitY:{icon:'<svg><path d="M12 20H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h6M18 14v7M18 3v7M15 18l3 3 3-3M15 6l3-3 3 3"/></svg>',action:"fitY"},reset:{icon:'<svg><path d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"/></svg>',action:"reset"},toggleFS:{icon:'<svg><g><path d="M14.5 9.5 21 3m0 0h-6m6 0v6M3 21l6.5-6.5M3 21v-6m0 6h6"/></g><g><path d="m14 10 7-7m-7 7h6m-6 0V4M3 21l7-7m0 0v6m0-6H4"/></g></svg>',action:"toggleFS"}};var Ge;!function(e){e[e.Init=0]="Init",e[e.Ready=1]="Ready",e[e.Disabled=2]="Disabled"}(Ge||(Ge={}));const We={tabindex:"-1",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},qe="has-toolbar",Ye="fancybox__toolbar";class Xe extends B{constructor(){super(...arguments),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:Ge.Init}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null})}onReady(e){var t;if(!e.carousel)return;let n=this.option("display"),i=this.option("absolute"),r=this.option("enabled");if("auto"===r){const e=this.instance.carousel;let t=0;if(e)for(const n of e.slides)(n.panzoom||"image"===n.type)&&t++;t||(r=!1)}r||(n=void 0);let o=0;const a={left:[],middle:[],right:[]};if(n)for(const e of["left","middle","right"])for(const i of n[e]){const n=this.createEl(i);n&&(null===(t=a[e])||void 0===t||t.push(n),o++)}let s=null;if(o&&(s=this.createContainer()),s){for(const[e,t]of Object.entries(a)){const n=document.createElement("div");C(n,Ye+"__column is-"+e);for(const e of t)n.appendChild(e);"auto"!==i||"middle"!==e||t.length||(i=!0),s.appendChild(n)}!0===i&&C(s,"is-absolute"),this.state=Ge.Ready,this.onRefresh()}else this.state=Ge.Disabled}onClick(e){var t,n;const i=this.instance,r=i.getSlide(),o=null==r?void 0:r.panzoom,a=e.target,s=a&&S(a)?a.dataset:null;if(!s)return;if(void 0!==s.fancyboxToggleThumbs)return e.preventDefault(),e.stopPropagation(),void(null===(t=i.plugins.Thumbs)||void 0===t||t.toggle());if(void 0!==s.fancyboxToggleFullscreen)return e.preventDefault(),e.stopPropagation(),void this.instance.toggleFullscreen();if(void 0!==s.fancyboxToggleSlideshow){e.preventDefault(),e.stopPropagation();const t=null===(n=i.carousel)||void 0===n?void 0:n.plugins.Autoplay;let r=t.isActive;return o&&"mousemove"===o.panMode&&!r&&o.reset(),void(r?t.stop():t.start())}const l=s.panzoomAction,c=s.panzoomChange;if((c||l)&&(e.preventDefault(),e.stopPropagation()),c){let t={};try{t=JSON.parse(c)}catch(e){}o&&o.applyChange(t)}else l&&o&&o[l]&&o[l]()}onChange(){this.onRefresh()}onRefresh(){if(this.instance.isClosing())return;const e=this.container;if(!e)return;const t=this.instance.getSlide();if(!t||t.state!==ae.Ready)return;const n=t&&!t.error&&t.panzoom;for(const t of e.querySelectorAll("[data-panzoom-action]"))n?(t.removeAttribute("disabled"),t.removeAttribute("tabindex")):(t.setAttribute("disabled",""),t.setAttribute("tabindex","-1"));let i=n&&n.canZoomIn(),r=n&&n.canZoomOut();for(const t of e.querySelectorAll('[data-panzoom-action="zoomIn"]'))i?(t.removeAttribute("disabled"),t.removeAttribute("tabindex")):(t.setAttribute("disabled",""),t.setAttribute("tabindex","-1"));for(const t of e.querySelectorAll('[data-panzoom-action="zoomOut"]'))r?(t.removeAttribute("disabled"),t.removeAttribute("tabindex")):(t.setAttribute("disabled",""),t.setAttribute("tabindex","-1"));for(const t of e.querySelectorAll('[data-panzoom-action="toggleZoom"],[data-panzoom-action="iterateZoom"]')){r||i?(t.removeAttribute("disabled"),t.removeAttribute("tabindex")):(t.setAttribute("disabled",""),t.setAttribute("tabindex","-1"));const e=t.querySelector("g");e&&(e.style.display=i?"":"none")}}onDone(e,t){var n;null===(n=t.panzoom)||void 0===n||n.on("afterTransform",()=>{this.instance.isCurrentSlide(t)&&this.onRefresh()}),this.instance.isCurrentSlide(t)&&this.onRefresh()}createContainer(){const e=this.instance.container;if(!e)return null;const t=this.option("parentEl")||e;let n=t.querySelector("."+Ye);return n||(n=document.createElement("div"),C(n,Ye),t.prepend(n)),n.addEventListener("click",this.onClick,{passive:!1,capture:!0}),e&&C(e,qe),this.container=n,n}createEl(e){const t=this.instance,n=t.carousel;if(!n)return null;if("toggleFS"===e)return null;if("fullscreen"===e&&!ie())return null;let i=null;const o=n.slides.length||0;let a=0,s=0;for(const e of n.slides)(e.panzoom||"image"===e.type)&&a++,("image"===e.type||e.downloadSrc)&&s++;if(o<2&&["infobar","prev","next"].includes(e))return i;if(void 0!==Ue[e]&&!a)return null;if("download"===e&&!s)return null;if("thumbs"===e){const e=t.plugins.Thumbs;if(!e||!e.isEnabled)return null}if("slideshow"===e&&(!n.plugins.Autoplay||o<2))return null;if(void 0!==Ue[e]){const t=Ue[e];i=document.createElement("button"),i.setAttribute("title",this.instance.localize(`{{${e.toUpperCase()}}}`)),C(i,"f-button"),t.action&&(i.dataset.panzoomAction=t.action),t.change&&(i.dataset.panzoomChange=JSON.stringify(t.change)),i.appendChild(r(this.instance.localize(t.icon)))}else{const t=(this.option("items")||[])[e];t&&(i=r(this.instance.localize(t.tpl)),"function"==typeof t.click&&i.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),"function"==typeof t.click&&t.click.call(this,this,e)}))}const l=null==i?void 0:i.querySelector("svg");if(l)for(const[e,t]of Object.entries(We))l.getAttribute(e)||l.setAttribute(e,String(t));return i}removeContainer(){const e=this.container;e&&e.remove(),this.container=null,this.state=Ge.Disabled;const t=this.instance.container;t&&E(t,qe)}attach(){const e=this,t=e.instance;t.on("Carousel.initSlides",e.onReady),t.on("done",e.onDone),t.on(["reveal","Carousel.change"],e.onChange),e.onReady(e.instance)}detach(){const e=this,t=e.instance;t.off("Carousel.initSlides",e.onReady),t.off("done",e.onDone),t.off(["reveal","Carousel.change"],e.onChange),e.removeContainer()}}Object.defineProperty(Xe,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{absolute:"auto",display:{left:["infobar"],middle:[],right:["iterateZoom","slideshow","fullscreen","thumbs","close"]},enabled:"auto",items:{infobar:{tpl:'<div class="fancybox__infobar" tabindex="-1"><span data-fancybox-current-index></span>/<span data-fancybox-count></span></div>'},download:{tpl:'<a class="f-button" title="{{DOWNLOAD}}" data-fancybox-download href="javasript:;"><svg><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 11l5 5 5-5M12 4v12"/></svg></a>'},prev:{tpl:'<button class="f-button" title="{{PREV}}" data-fancybox-prev><svg><path d="m15 6-6 6 6 6"/></svg></button>'},next:{tpl:'<button class="f-button" title="{{NEXT}}" data-fancybox-next><svg><path d="m9 6 6 6-6 6"/></svg></button>'},slideshow:{tpl:'<button class="f-button" title="{{TOGGLE_SLIDESHOW}}" data-fancybox-toggle-slideshow><svg><g><path d="M8 4v16l13 -8z"></path></g><g><path d="M8 4v15M17 4v15"/></g></svg></button>'},fullscreen:{tpl:'<button class="f-button" title="{{TOGGLE_FULLSCREEN}}" data-fancybox-toggle-fullscreen><svg><g><path d="M4 8V6a2 2 0 0 1 2-2h2M4 16v2a2 2 0 0 0 2 2h2M16 4h2a2 2 0 0 1 2 2v2M16 20h2a2 2 0 0 0 2-2v-2"/></g><g><path d="M15 19v-2a2 2 0 0 1 2-2h2M15 5v2a2 2 0 0 0 2 2h2M5 15h2a2 2 0 0 1 2 2v2M5 9h2a2 2 0 0 0 2-2V5"/></g></svg></button>'},thumbs:{tpl:'<button class="f-button" title="{{TOGGLE_THUMBS}}" data-fancybox-toggle-thumbs><svg><circle cx="5.5" cy="5.5" r="1"/><circle cx="12" cy="5.5" r="1"/><circle cx="18.5" cy="5.5" r="1"/><circle cx="5.5" cy="12" r="1"/><circle cx="12" cy="12" r="1"/><circle cx="18.5" cy="12" r="1"/><circle cx="5.5" cy="18.5" r="1"/><circle cx="12" cy="18.5" r="1"/><circle cx="18.5" cy="18.5" r="1"/></svg></button>'},close:{tpl:'<button class="f-button" title="{{CLOSE}}" data-fancybox-close><svg><path d="m19.5 4.5-15 15M4.5 4.5l15 15"/></svg></button>'}},parentEl:null}});const Ke={Hash:class extends B{onReady(){le=!1}onChange(e){ue&&clearTimeout(ue);const{hash:t}=de(),{hash:n}=fe(),i=e.isOpeningSlide(e.getSlide());i&&(se=n===t?"":n),t&&t!==n&&(ue=setTimeout(()=>{try{if(e.state===oe.Ready){let e="replaceState";i&&!ce&&(e="pushState",ce=!0),window.history[e]({},document.title,window.location.pathname+window.location.search+t)}}catch(e){}},300))}onClose(e){if(ue&&clearTimeout(ue),!le&&ce)return ce=!1,le=!1,void window.history.back();if(!le)try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+(se||""))}catch(e){}}attach(){const e=this.instance;e.on("ready",this.onReady),e.on(["Carousel.ready","Carousel.change"],this.onChange),e.on("close",this.onClose)}detach(){const e=this.instance;e.off("ready",this.onReady),e.off(["Carousel.ready","Carousel.change"],this.onChange),e.off("close",this.onClose)}static parseURL(){return fe()}static startFromUrl(){he()}static destroy(){window.removeEventListener("hashchange",me,!1)}},Html:Oe,Images:be,Slideshow:Ie,Thumbs:$e,Toolbar:Xe},Ze="with-fancybox",Qe="hide-scrollbar",Je="--fancybox-scrollbar-compensate",et="--fancybox-body-margin",tt="aria-hidden",nt="is-using-tab",it="is-animated",rt="is-compact",ot="is-loading",at="is-opening",st="has-caption",lt="disabled",ct="tabindex",ut="download",dt="href",ft="src",ht=e=>"string"==typeof e,pt=function(){var e=window.getSelection();return!!e&&"Range"===e.type};let mt,gt=null,vt=null,bt=0,yt=0,wt=0,xt=0;const _t=new Map;let St=0;class Et extends g{get isIdle(){return this.idle}get isCompact(){return this.option("compact")}constructor(e=[],t={},n={}){super(t),Object.defineProperty(this,"userSlides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"idle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"idleTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"ignoreFocusChange",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"startedFs",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:oe.Init}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"footer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"lastFocus",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"prevMouseMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),mt||(mt=ie()),this.id=t.id||++St,_t.set(this.id,this),this.userSlides=e,this.userPlugins=n,queueMicrotask(()=>{this.init()})}init(){if(this.state===oe.Destroy)return;this.state=oe.Init,this.attachPlugins(Object.assign(Object.assign({},Et.Plugins),this.userPlugins)),this.emit("init"),this.emit("attachPlugins"),!0===this.option("hideScrollbar")&&(()=>{if(!J)return;const e=document,t=e.body,n=e.documentElement;if(t.classList.contains(Qe))return;let i=window.innerWidth-n.getBoundingClientRect().width;const r=parseFloat(window.getComputedStyle(t).marginRight);i<0&&(i=0),n.style.setProperty(Je,`${i}px`),r&&t.style.setProperty(et,`${r}px`),t.classList.add(Qe)})(),this.initLayout(),this.scale();const e=()=>{this.initCarousel(this.userSlides),this.state=oe.Ready,this.attachEvents(),this.emit("ready"),setTimeout(()=>{this.container&&this.container.setAttribute(tt,"false")},16)};this.option("Fullscreen.autoStart")&&mt&&!mt.isFullscreen()?mt.request().then(()=>{this.startedFs=!0,e()}).catch(()=>e()):e()}initLayout(){var e,t;const n=this.option("parentEl")||document.body,i=r(this.localize(this.option("tpl.main")||""));if(i){if(i.setAttribute("id",`fancybox-${this.id}`),i.setAttribute("aria-label",this.localize("{{MODAL}}")),i.classList.toggle(rt,this.isCompact),C(i,this.option("mainClass")||""),C(i,at),this.container=i,this.footer=i.querySelector(".fancybox__footer"),n.appendChild(i),C(document.documentElement,Ze),gt&&vt||(gt=document.createElement("span"),C(gt,"fancybox-focus-guard"),gt.setAttribute(ct,"0"),gt.setAttribute(tt,"true"),gt.setAttribute("aria-label","Focus guard"),vt=gt.cloneNode(),null===(e=i.parentElement)||void 0===e||e.insertBefore(gt,i),null===(t=i.parentElement)||void 0===t||t.append(vt)),i.addEventListener("mousedown",e=>{bt=e.pageX,yt=e.pageY,E(i,nt)}),this.option("closeExisting"))for(const e of _t.values())e.id!==this.id&&e.close();else this.option("animated")&&(C(i,it),setTimeout(()=>{this.isClosing()||E(i,it)},350));this.emit("initLayout")}}initCarousel(e){const t=this.container;if(!t)return;const i=t.querySelector(".fancybox__carousel");if(!i)return;const r=this.carousel=new Z(i,h({},{slides:e,transition:"fade",Panzoom:{lockAxis:this.option("dragToClose")?"xy":"x",infinite:!!this.option("dragToClose")&&"y"},Dots:!1,Navigation:{classes:{container:"fancybox__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"}},initialPage:this.option("startIndex"),l10n:this.option("l10n")},this.option("Carousel")||{}));r.on("*",(e,t,...n)=>{this.emit(`Carousel.${t}`,e,...n)}),r.on(["ready","change"],()=>{this.manageCaption()}),this.on("Carousel.removeSlide",(e,t,n)=>{this.clearContent(n),n.state=void 0}),r.on("Panzoom.touchStart",()=>{var e,t;this.isCompact||this.endIdle(),(null===(e=document.activeElement)||void 0===e?void 0:e.closest(".f-thumbs"))&&(null===(t=this.container)||void 0===t||t.focus())}),r.on("settle",()=>{this.idleTimer||this.isCompact||!this.option("idle")||this.setIdle(),this.option("autoFocus")&&!this.isClosing&&this.checkFocus()}),this.option("dragToClose")&&(r.on("Panzoom.afterTransform",(e,t)=>{const i=this.getSlide();if(i&&n(i.el))return;const r=this.container;if(r){const e=Math.abs(t.current.f),n=e<1?"":Math.max(.5,Math.min(1,1-e/t.contentRect.fitHeight*1.5));r.style.setProperty("--fancybox-ts",n?"0s":""),r.style.setProperty("--fancybox-opacity",n+"")}}),r.on("Panzoom.touchEnd",(e,t,i)=>{var r;const o=this.getSlide();if(o&&n(o.el))return;if(t.isMobile&&document.activeElement&&-1!==["TEXTAREA","INPUT"].indexOf(null===(r=document.activeElement)||void 0===r?void 0:r.nodeName))return;const a=Math.abs(t.dragOffset.y);"y"===t.lockedAxis&&(a>=200||a>=50&&t.dragOffset.time<300)&&(i&&i.cancelable&&i.preventDefault(),this.close(i,"f-throwOut"+(t.current.f<0?"Up":"Down")))})),r.on("change",e=>{var t;let n=null===(t=this.getSlide())||void 0===t?void 0:t.triggerEl;if(n){const t=new CustomEvent("slideTo",{bubbles:!0,cancelable:!0,detail:e.page});n.dispatchEvent(t)}}),r.on(["refresh","change"],e=>{const t=this.container;if(!t)return;for(const n of t.querySelectorAll("[data-fancybox-current-index]"))n.innerHTML=e.page+1;for(const n of t.querySelectorAll("[data-fancybox-count]"))n.innerHTML=e.pages.length;if(!e.isInfinite){for(const n of t.querySelectorAll("[data-fancybox-next]"))e.page<e.pages.length-1?(n.removeAttribute(lt),n.removeAttribute(ct)):(n.setAttribute(lt,""),n.setAttribute(ct,"-1"));for(const n of t.querySelectorAll("[data-fancybox-prev]"))e.page>0?(n.removeAttribute(lt),n.removeAttribute(ct)):(n.setAttribute(lt,""),n.setAttribute(ct,"-1"))}const n=this.getSlide();if(!n)return;let i=n.downloadSrc||"";i||"image"!==n.type||n.error||!ht(n[ft])||(i=n[ft]);for(const e of t.querySelectorAll("[data-fancybox-download]")){const t=n.downloadFilename;i?(e.removeAttribute(lt),e.removeAttribute(ct),e.setAttribute(dt,i),e.setAttribute(ut,t||i),e.setAttribute("target","_blank")):(e.setAttribute(lt,""),e.setAttribute(ct,"-1"),e.removeAttribute(dt),e.removeAttribute(ut))}}),this.emit("initCarousel")}attachEvents(){const e=this,t=e.container;if(!t)return;t.addEventListener("click",e.onClick,{passive:!1,capture:!1}),t.addEventListener("wheel",e.onWheel,{passive:!1,capture:!1}),document.addEventListener("keydown",e.onKeydown,{passive:!1,capture:!0}),document.addEventListener("visibilitychange",e.onVisibilityChange,!1),document.addEventListener("mousemove",e.onMousemove),e.option("trapFocus")&&document.addEventListener("focus",e.onFocus,!0),window.addEventListener("resize",e.onResize);const n=window.visualViewport;n&&(n.addEventListener("scroll",e.onResize),n.addEventListener("resize",e.onResize))}detachEvents(){const e=this,t=e.container;if(!t)return;document.removeEventListener("keydown",e.onKeydown,{passive:!1,capture:!0}),t.removeEventListener("wheel",e.onWheel,{passive:!1,capture:!1}),t.removeEventListener("click",e.onClick,{passive:!1,capture:!1}),document.removeEventListener("mousemove",e.onMousemove),window.removeEventListener("resize",e.onResize);const n=window.visualViewport;n&&(n.removeEventListener("resize",e.onResize),n.removeEventListener("scroll",e.onResize)),document.removeEventListener("visibilitychange",e.onVisibilityChange,!1),document.removeEventListener("focus",e.onFocus,!0)}scale(){const e=this.container;if(!e)return;const t=window.visualViewport,n=Math.max(1,(null==t?void 0:t.scale)||1);let i="",r="",o="";if(t&&n>1){let e=`${t.offsetLeft}px`,a=`${t.offsetTop}px`;i=t.width*n+"px",r=t.height*n+"px",o=`translate3d(${e}, ${a}, 0) scale(${1/n})`}e.style.transform=o,e.style.width=i,e.style.height=r}onClick(e){var t;const{container:n,isCompact:i}=this;if(!n||this.isClosing())return;!i&&this.option("idle")&&this.resetIdle();const r=e.composedPath()[0];if(r.closest(".fancybox-spinner")||r.closest("[data-fancybox-close]"))return e.preventDefault(),void this.close(e);if(r.closest("[data-fancybox-prev]"))return e.preventDefault(),void this.prev();if(r.closest("[data-fancybox-next]"))return e.preventDefault(),void this.next();if("click"===e.type&&0===e.detail)return;if(Math.abs(e.pageX-bt)>30||Math.abs(e.pageY-yt)>30)return;const o=document.activeElement;if(pt()&&o&&n.contains(o))return;if(i&&"image"===(null===(t=this.getSlide())||void 0===t?void 0:t.type))return void(this.clickTimer?(clearTimeout(this.clickTimer),this.clickTimer=null):this.clickTimer=setTimeout(()=>{this.toggleIdle(),this.clickTimer=null},350));if(this.emit("click",e),e.defaultPrevented)return;let a=!1;if(r.closest(".fancybox__content")){if(o){if(o.closest("[contenteditable]"))return;r.matches(te)||o.blur()}if(pt())return;a=this.option("contentClick")}else r.closest(".fancybox__carousel")&&!r.matches(te)&&(a=this.option("backdropClick"));"close"===a?(e.preventDefault(),this.close(e)):"next"===a?(e.preventDefault(),this.next()):"prev"===a&&(e.preventDefault(),this.prev())}onWheel(e){const t=e.target;let n=this.option("wheel",e);t.closest(".fancybox__thumbs")&&(n="slide");const r="slide"===n,o=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce(function(e,t){return Math.abs(t)>Math.abs(e)?t:e}),a=Math.max(-1,Math.min(1,o)),s=Date.now();this.pwt&&s-this.pwt<300?r&&e.preventDefault():(this.pwt=s,this.emit("wheel",e,a),e.defaultPrevented||("close"===n?(e.preventDefault(),this.close(e)):"slide"===n&&(i(t)||(e.preventDefault(),this[a>0?"prev":"next"]()))))}onScroll(){window.scrollTo(wt,xt)}onKeydown(e){if(!this.isTopmost())return;this.isCompact||!this.option("idle")||this.isClosing()||this.resetIdle();const t=e.key,n=this.option("keyboard");if(!n)return;const i=e.composedPath()[0],r=document.activeElement&&document.activeElement.classList,o=r&&r.contains("f-button")||i.dataset.carouselPage||i.dataset.carouselIndex;if("Escape"!==t&&!o&&S(i)&&(i.isContentEditable||-1!==["TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].indexOf(i.nodeName)))return;if("Tab"===e.key?C(this.container,nt):E(this.container,nt),e.ctrlKey||e.altKey||e.shiftKey)return;this.emit("keydown",t,e);const a=n[t];a&&"function"==typeof this[a]&&(e.preventDefault(),this[a]())}onResize(){const e=this.container;if(!e)return;const t=this.isCompact;e.classList.toggle(rt,t),this.manageCaption(this.getSlide()),this.isCompact?this.clearIdle():this.endIdle(),this.scale(),this.emit("resize")}onFocus(e){this.isTopmost()&&this.checkFocus(e)}onMousemove(e){this.prevMouseMoveEvent=e,!this.isCompact&&this.option("idle")&&this.resetIdle()}onVisibilityChange(){"visible"===document.visibilityState?this.checkFocus():this.endIdle()}manageCloseBtn(e){const t=this.optionFor(e,"closeButton")||!1;if("auto"===t){const e=this.plugins.Toolbar;if(e&&e.state===Ge.Ready)return}if(!t)return;if(!e.contentEl||e.closeBtnEl)return;const n=this.option("tpl.closeButton");if(n){const t=r(this.localize(n));e.closeBtnEl=e.contentEl.appendChild(t),e.el&&C(e.el,"has-close-btn")}}manageCaption(e=void 0){var t,n;const i="fancybox__caption",r=this.container;if(!r)return;E(r,st);const o=this.isCompact||this.option("commonCaption"),a=!o;if(this.caption&&this.stop(this.caption),a&&this.caption&&(this.caption.remove(),this.caption=null),o&&!this.caption)for(const e of(null===(t=this.carousel)||void 0===t?void 0:t.slides)||[])e.captionEl&&(e.captionEl.remove(),e.captionEl=void 0,E(e.el,st),null===(n=e.el)||void 0===n||n.removeAttribute("aria-labelledby"));if(e||(e=this.getSlide()),!e||o&&!this.isCurrentSlide(e))return;const s=e.el;let l=this.optionFor(e,"caption","");if(!l)return void(o&&this.caption&&this.animate(this.caption,"f-fadeOut",()=>{this.caption&&(this.caption.innerHTML="")}));let c=null;if(a){if(c=e.captionEl||null,s&&!c){const t=i+`_${this.id}_${e.index}`;c=document.createElement("div"),C(c,i),c.setAttribute("id",t),e.captionEl=s.appendChild(c),C(s,st),s.setAttribute("aria-labelledby",t)}}else c=this.caption,c||(c=r.querySelector("."+i)),c||(c=document.createElement("div"),c.dataset.fancyboxCaption="",C(c,i),(this.footer||r).prepend(c)),C(r,st),this.caption=c;c&&(c.innerHTML="",ht(l)||"number"==typeof l?c.innerHTML=l+"":l instanceof HTMLElement&&c.appendChild(l))}checkFocus(e){this.focus(e)}focus(e){var t;if(this.ignoreFocusChange)return;const n=document.activeElement||null,i=(null==e?void 0:e.target)||null,r=this.container,o=null===(t=this.carousel)||void 0===t?void 0:t.viewport;if(!r||!o)return;if(!e&&n&&r.contains(n))return;const a=this.getSlide(),s=a&&a.state===ae.Ready?a.el:null;if(!s||s.contains(n)||r===n)return;e&&e.cancelable&&e.preventDefault(),this.ignoreFocusChange=!0;const l=Array.from(r.querySelectorAll(te));let c=[],u=null;for(let e of l){const t=!e.offsetParent||!!e.closest('[aria-hidden="true"]'),n=s&&s.contains(e),i=!o.contains(e);if(e===r||(n||i)&&!t){c.push(e);const t=e.dataset.origTabindex;void 0!==t&&t&&(e.tabIndex=parseFloat(t)),e.removeAttribute("data-orig-tabindex"),!e.hasAttribute("autoFocus")&&u||(u=e)}else{const t=void 0===e.dataset.origTabindex?e.getAttribute("tabindex")||"":e.dataset.origTabindex;t&&(e.dataset.origTabindex=t),e.tabIndex=-1}}let d=null;e?(!i||c.indexOf(i)<0)&&(d=u||r,c.length&&(n===vt?d=c[0]:this.lastFocus!==r&&n!==gt||(d=c[c.length-1]))):d=a&&"image"===a.type?r:u||r,d&&ne(d),this.lastFocus=document.activeElement,this.ignoreFocusChange=!1}next(){const e=this.carousel;e&&e.pages.length>1&&e.slideNext()}prev(){const e=this.carousel;e&&e.pages.length>1&&e.slidePrev()}jumpTo(...e){this.carousel&&this.carousel.slideTo(...e)}isTopmost(){var e;return(null===(e=Et.getInstance())||void 0===e?void 0:e.id)==this.id}animate(e=null,t="",n){if(!e||!t)return void(n&&n());this.stop(e);const i=r=>{r.target===e&&e.dataset.animationName&&(e.removeEventListener("animationend",i),delete e.dataset.animationName,n&&n(),E(e,t))};e.dataset.animationName=t,e.addEventListener("animationend",i),C(e,t)}stop(e){e&&e.dispatchEvent(new CustomEvent("animationend",{bubbles:!1,cancelable:!0,currentTarget:e}))}setContent(e,t="",n=!0){if(this.isClosing())return;const i=e.el;if(!i)return;let o=null;if(S(t)?o=t:(o=r(t+""),S(o)||(o=document.createElement("div"),o.innerHTML=t+"")),["img","picture","iframe","video","audio"].includes(o.nodeName.toLowerCase())){const e=document.createElement("div");e.appendChild(o),o=e}S(o)&&e.filter&&!e.error&&(o=o.querySelector(e.filter)),o&&S(o)?(C(o,"fancybox__content"),e.id&&o.setAttribute("id",e.id),i.classList.add(`has-${e.error?"error":e.type||"unknown"}`),i.prepend(o),"none"===o.style.display&&(o.style.display=""),"none"===getComputedStyle(o).getPropertyValue("display")&&(o.style.display=e.display||this.option("defaultDisplay")||"flex"),e.contentEl=o,n&&this.revealContent(e),this.manageCloseBtn(e),this.manageCaption(e)):this.setError(e,"{{ELEMENT_NOT_FOUND}}")}revealContent(e,t){const n=e.el,i=e.contentEl;n&&i&&(this.emit("reveal",e),this.hideLoading(e),e.state=ae.Opening,(t=this.isOpeningSlide(e)?void 0===t?this.optionFor(e,"showClass"):t:"f-fadeIn")?this.animate(i,t,()=>{this.done(e)}):this.done(e))}done(e){this.isClosing()||(e.state=ae.Ready,this.emit("done",e),C(e.el,"is-done"),this.isCurrentSlide(e)&&this.option("autoFocus")&&queueMicrotask(()=>{var t;null===(t=e.panzoom)||void 0===t||t.updateControls(),this.option("autoFocus")&&this.focus()}),this.isOpeningSlide(e)&&(E(this.container,at),!this.isCompact&&this.option("idle")&&this.setIdle()))}isCurrentSlide(e){const t=this.getSlide();return!(!e||!t)&&t.index===e.index}isOpeningSlide(e){var t,n;return null===(null===(t=this.carousel)||void 0===t?void 0:t.prevPage)&&e&&e.index===(null===(n=this.getSlide())||void 0===n?void 0:n.index)}showLoading(e){e.state=ae.Loading;const t=e.el;t&&(C(t,ot),this.emit("loading",e),e.spinnerEl||setTimeout(()=>{if(!this.isClosing()&&!e.spinnerEl&&e.state===ae.Loading){let n=r(_);C(n,"fancybox-spinner"),e.spinnerEl=n,t.prepend(n),this.animate(n,"f-fadeIn")}},250))}hideLoading(e){const t=e.el;if(!t)return;const n=e.spinnerEl;this.isClosing()?null==n||n.remove():(E(t,ot),n&&this.animate(n,"f-fadeOut",()=>{n.remove()}),e.state===ae.Loading&&(this.emit("loaded",e),e.state=ae.Ready))}setError(e,t){if(this.isClosing())return;const n=new Event("error",{bubbles:!0,cancelable:!0});if(this.emit("error",n,e),n.defaultPrevented)return;e.error=t,this.hideLoading(e),this.clearContent(e);const i=document.createElement("div");i.classList.add("fancybox-error"),i.innerHTML=this.localize(t||"<p>{{ERROR}}</p>"),this.setContent(e,i)}clearContent(e){if(void 0===e.state)return;this.emit("clearContent",e),e.contentEl&&(e.contentEl.remove(),e.contentEl=void 0);const t=e.el;t&&(E(t,"has-error"),E(t,"has-unknown"),E(t,`has-${e.type||"unknown"}`)),e.closeBtnEl&&e.closeBtnEl.remove(),e.closeBtnEl=void 0,e.captionEl&&e.captionEl.remove(),e.captionEl=void 0,e.spinnerEl&&e.spinnerEl.remove(),e.spinnerEl=void 0}getSlide(){var e;const t=this.carousel;return(null===(e=null==t?void 0:t.pages[null==t?void 0:t.page])||void 0===e?void 0:e.slides[0])||void 0}close(e,t){if(this.isClosing())return;const n=new Event("shouldClose",{bubbles:!0,cancelable:!0});if(this.emit("shouldClose",n,e),n.defaultPrevented)return;e&&e.cancelable&&(e.preventDefault(),e.stopPropagation());const i=()=>{this.proceedClose(e,t)};this.startedFs&&mt&&mt.isFullscreen()?Promise.resolve(mt.exit()).then(()=>i()):i()}clearIdle(){this.idleTimer&&clearTimeout(this.idleTimer),this.idleTimer=null}setIdle(e=!1){const t=()=>{this.clearIdle(),this.idle=!0,C(this.container,"is-idle"),this.emit("setIdle")};if(this.clearIdle(),!this.isClosing())if(e)t();else{const e=this.option("idle");e&&(this.idleTimer=setTimeout(t,e))}}endIdle(){this.clearIdle(),this.idle&&!this.isClosing()&&(this.idle=!1,E(this.container,"is-idle"),this.emit("endIdle"))}resetIdle(){this.endIdle(),this.setIdle()}toggleIdle(){this.idle?this.endIdle():this.setIdle(!0)}toggleFullscreen(){mt&&(mt.isFullscreen()?mt.exit():mt.request().then(()=>{this.startedFs=!0}))}isClosing(){return[oe.Closing,oe.CustomClosing,oe.Destroy].includes(this.state)}proceedClose(e,t){var n,i;this.state=oe.Closing,this.clearIdle(),this.detachEvents();const r=this.container,o=this.carousel,a=this.getSlide(),s=a&&this.option("placeFocusBack")?a.triggerEl||this.option("triggerEl"):null;if(s&&(Q(s)?ne(s):s.focus()),r&&(E(r,at),C(r,"is-closing"),r.setAttribute(tt,"true"),this.option("animated")&&C(r,it),r.style.pointerEvents="none"),o){o.clearTransitions(),null===(n=o.panzoom)||void 0===n||n.destroy(),null===(i=o.plugins.Navigation)||void 0===i||i.detach();for(const e of o.slides){e.state=ae.Closing,this.hideLoading(e);const t=e.contentEl;t&&this.stop(t);const n=null==e?void 0:e.panzoom;n&&(n.stop(),n.detachEvents(),n.detachObserver()),this.isCurrentSlide(e)||o.emit("removeSlide",e)}}wt=window.scrollX,xt=window.scrollY,window.addEventListener("scroll",this.onScroll),this.emit("close",e),this.state!==oe.CustomClosing?(void 0===t&&a&&(t=this.optionFor(a,"hideClass")),t&&a?(this.animate(a.contentEl,t,()=>{o&&o.emit("removeSlide",a)}),setTimeout(()=>{this.destroy()},500)):this.destroy()):setTimeout(()=>{this.destroy()},500)}destroy(){var e;if(this.state===oe.Destroy)return;window.removeEventListener("scroll",this.onScroll),this.state=oe.Destroy,null===(e=this.carousel)||void 0===e||e.destroy();const t=this.container;t&&t.remove(),_t.delete(this.id);const n=Et.getInstance();n?n.focus():(gt&&(gt.remove(),gt=null),vt&&(vt.remove(),vt=null),E(document.documentElement,Ze),(()=>{if(!J)return;const e=document,t=e.body;t.classList.remove(Qe),t.style.setProperty(et,""),e.documentElement.style.setProperty(Je,"")})(),this.emit("destroy"))}static bind(e,t,n){if(!J)return;let i,r="",o={};if(void 0===e?i=document.body:ht(e)?(i=document.body,r=e,"object"==typeof t&&(o=t||{})):(i=e,ht(t)&&(r=t),"object"==typeof n&&(o=n||{})),!i||!S(i))return;r=r||"[data-fancybox]";const a=Et.openers.get(i)||new Map;a.set(r,o),Et.openers.set(i,a),1===a.size&&i.addEventListener("click",Et.fromEvent)}static unbind(e,t){let n,i="";if(ht(e)?(n=document.body,i=e):(n=e,ht(t)&&(i=t)),!n)return;const r=Et.openers.get(n);r&&i&&r.delete(i),i&&r||(Et.openers.delete(n),n.removeEventListener("click",Et.fromEvent))}static destroy(){let e;for(;e=Et.getInstance();)e.destroy();for(const e of Et.openers.keys())e.removeEventListener("click",Et.fromEvent);Et.openers=new Map}static fromEvent(e){if(e.defaultPrevented)return;if(e.button&&0!==e.button)return;if(e.ctrlKey||e.metaKey||e.shiftKey)return;let t=e.composedPath()[0];const n=t.closest("[data-fancybox-trigger]");if(n){const e=n.dataset.fancyboxTrigger||"",i=document.querySelectorAll(`[data-fancybox="${e}"]`),r=parseInt(n.dataset.fancyboxIndex||"",10)||0;t=i[r]||t}if(!(t&&t instanceof Element))return;let i,r,o,a;if([...Et.openers].reverse().find(([e,n])=>!(!e.contains(t)||![...n].reverse().find(([n,s])=>{let l=t.closest(n);return!!l&&(i=e,r=n,o=l,a=s,!0)}))),!i||!r||!o)return;a=a||{},e.preventDefault(),t=o;let s=[],l=h({},re,a);l.event=e,l.triggerEl=t,l.delegate=n;const c=l.groupAll,u=l.groupAttr,d=u&&t?t.getAttribute(`${u}`):"";if((!t||d||c)&&(s=[].slice.call(i.querySelectorAll(r))),t&&!c&&(s=d?s.filter(e=>e.getAttribute(`${u}`)===d):[t]),!s.length)return;const f=Et.getInstance();return f&&f.options.triggerEl&&s.indexOf(f.options.triggerEl)>-1?void 0:(t&&(l.startIndex=s.indexOf(t)),Et.fromNodes(s,l))}static fromSelector(e,t,n){let i=null,r="",o={};if(ht(e)?(i=document.body,r=e,"object"==typeof t&&(o=t||{})):e instanceof HTMLElement&&ht(t)&&(i=e,r=t,"object"==typeof n&&(o=n||{})),!i||!r)return!1;const a=Et.openers.get(i);return!!a&&(o=h({},a.get(r)||{},o),!!o&&Et.fromNodes(Array.from(i.querySelectorAll(r)),o))}static fromNodes(e,t){t=h({},re,t||{});const n=[];for(const i of e){const e=i.dataset||{},r=e[ft]||i.getAttribute(dt)||i.getAttribute("currentSrc")||i.getAttribute(ft)||void 0;let o;const a=t.delegate;let s;a&&n.length===t.startIndex&&(o=a instanceof HTMLImageElement?a:a.querySelector("img:not([aria-hidden])")),o||(o=i instanceof HTMLImageElement?i:i.querySelector("img:not([aria-hidden])")),o&&(s=o.currentSrc||o[ft]||void 0,!s&&o.dataset&&(s=o.dataset.lazySrc||o.dataset[ft]||void 0));const l={src:r,triggerEl:i,thumbEl:o,thumbElSrc:s,thumbSrc:s};for(const t in e){let n=e[t]+"";n="false"!==n&&("true"===n||n),l[t]=n}n.push(l)}return new Et(n,t)}static getInstance(e){return e?_t.get(e):Array.from(_t.values()).reverse().find(e=>!e.isClosing()&&e)||null}static getSlide(){var e;return(null===(e=Et.getInstance())||void 0===e?void 0:e.getSlide())||null}static show(e=[],t={}){return new Et(e,t)}static next(){const e=Et.getInstance();e&&e.next()}static prev(){const e=Et.getInstance();e&&e.prev()}static close(e=!0,...t){if(e)for(const e of _t.values())e.close(...t);else{const e=Et.getInstance();e&&e.close(...t)}}}Object.defineProperty(Et,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.36"}),Object.defineProperty(Et,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:re}),Object.defineProperty(Et,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:Ke}),Object.defineProperty(Et,"openers",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),e.Carousel=Z,e.Fancybox=Et,e.Panzoom=L}(t)}},i={};function r(e){var t=i[e];if(void 0!==t)return t.exports;var o=i[e]={exports:{}};return n[e].call(o.exports,o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,r.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"==typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"==typeof n.then)return n}var o=Object.create(null);r.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&n;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>a[e]=()=>n[e]);return a.default=()=>n,r.d(o,a),o},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";const e=window.ReactDOM,t=window.wp.element,n=window.wp.compose,i=window.wp.blob;var o=r(985);const a=window.wp.escapeHtml,s=window.wp.i18n,l=window.wp.components,c=window.wp.apiFetch;var u=r.n(c);const d=window.wp.primitives,f=window.ReactJSXRuntime,h=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"M12 3.9 6.5 9.5l1 1 3.8-3.7V20h1.5V6.8l3.7 3.7 1-1z"})}),p=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"m16.5 13.5-3.7 3.7V4h-1.5v13.2l-3.8-3.7-1 1 5.5 5.6 5.5-5.6z"})}),m="is",g="isNot",v="isAny",b="isNone",y="isAll",w="isNotAll",x="lessThan",_="greaterThan",S="lessThanOrEqual",E="greaterThanOrEqual",C="before",P="after",O="beforeInc",j="afterInc",k="contains",A="notContains",T="startsWith",I="between",M="on",L="notOn",R="inThePast",N="over",F=[m,g,v,b,y,w,x,_,S,E,C,P,O,j,k,A,T,I,M,L,R,N],D=[m,g,x,_,S,E,C,P,O,j,k,A,T,M,L],V={[m]:{key:"is-filter",label:(0,s.__)("Is")},[g]:{key:"is-not-filter",label:(0,s.__)("Is not")},[v]:{key:"is-any-filter",label:(0,s.__)("Is any")},[b]:{key:"is-none-filter",label:(0,s.__)("Is none")},[y]:{key:"is-all-filter",label:(0,s.__)("Is all")},[w]:{key:"is-not-all-filter",label:(0,s.__)("Is not all")},[x]:{key:"less-than-filter",label:(0,s.__)("Less than")},[_]:{key:"greater-than-filter",label:(0,s.__)("Greater than")},[S]:{key:"less-than-or-equal-filter",label:(0,s.__)("Less than or equal")},[E]:{key:"greater-than-or-equal-filter",label:(0,s.__)("Greater than or equal")},[C]:{key:"before-filter",label:(0,s.__)("Before")},[P]:{key:"after-filter",label:(0,s.__)("After")},[O]:{key:"before-inc-filter",label:(0,s.__)("Before (inc)")},[j]:{key:"after-inc-filter",label:(0,s.__)("After (inc)")},[k]:{key:"contains-filter",label:(0,s.__)("Contains")},[A]:{key:"not-contains-filter",label:(0,s.__)("Doesn't contain")},[T]:{key:"starts-with-filter",label:(0,s.__)("Starts with")},[I]:{key:"between-filter",label:(0,s.__)("Between (inc)")},[M]:{key:"on-filter",label:(0,s.__)("On")},[L]:{key:"not-on-filter",label:(0,s.__)("Not on")},[R]:{key:"in-the-past-filter",label:(0,s.__)("In the past")},[N]:{key:"over-filter",label:(0,s.__)("Over")}},B=["asc","desc"],z={asc:"↑",desc:"↓"},H={asc:"ascending",desc:"descending"},$={asc:(0,s.__)("Sort ascending"),desc:(0,s.__)("Sort descending")},U={asc:h,desc:p},G="table",W="grid",q=(0,t.createContext)({view:{type:G},onChangeView:()=>{},fields:[],data:[],paginationInfo:{totalItems:0,totalPages:0},selection:[],onChangeSelection:()=>{},setOpenedFilter:()=>{},openedFilter:null,getItemId:e=>e.id,isItemClickable:()=>!0,renderItemLink:void 0,containerWidth:0,containerRef:(0,t.createRef)(),defaultLayouts:{list:{},grid:{},table:{}},filters:[],isShowingFilter:!1,setIsShowingFilter:()=>{}}),Y=(0,f.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)(d.Path,{d:"M10 17.5H14V16H10V17.5ZM6 6V7.5H18V6H6ZM8 12.5H16V11H8V12.5Z"})});function X(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=X(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}const K=function(){for(var e,t,n=0,i="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=X(e))&&(i&&(i+=" "),i+=t);return i},Z=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})});function Q(...e){}function J(e,t){return"function"==typeof Object.hasOwn?Object.hasOwn(e,t):Object.prototype.hasOwnProperty.call(e,t)}function ee(...e){return(...t)=>{for(const n of e)"function"==typeof n&&n(...t)}}function te(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function ne(e){return e}function ie(e,t){if(!e){if("string"!=typeof t)throw new Error("Invariant failed");throw new Error(t)}}function re(e){return e.disabled||!0===e["aria-disabled"]||"true"===e["aria-disabled"]}function oe(e){const t={};for(const n in e)void 0!==e[n]&&(t[n]=e[n]);return t}function ae(...e){for(const t of e)if(void 0!==t)return t}var se=r(609),le=r.t(se,2),ce=r.n(se);function ue(e,t){"function"==typeof e?e(t):e&&(e.current=t)}var de,fe="undefined"!=typeof window&&!!(null==(de=window.document)?void 0:de.createElement);function he(e){return e?"self"in e?e.document:e.ownerDocument||document:document}function pe(e,t=!1){var n;const{activeElement:i}=he(e);if(!(null==i?void 0:i.nodeName))return null;if("IFRAME"===i.tagName&&(null==(n=i.contentDocument)?void 0:n.body))return pe(i.contentDocument.body,t);if(t){const e=i.getAttribute("aria-activedescendant");if(e){const t=he(i).getElementById(e);if(t)return t}}return i}function me(e,t){return e===t||e.contains(t)}function ge(e){const t=e.tagName.toLowerCase();return"button"===t||!("input"!==t||!e.type)&&-1!==ve.indexOf(e.type)}var ve=["button","color","file","image","reset","submit"];function be(e){try{const t=e instanceof HTMLInputElement&&null!==e.selectionStart,n="TEXTAREA"===e.tagName;return t||n||!1}catch(e){return!1}}function ye(e){return e.isContentEditable||be(e)}function we(e){let t=0,n=0;if(be(e))t=e.selectionStart||0,n=e.selectionEnd||0;else if(e.isContentEditable){const i=he(e).getSelection();if((null==i?void 0:i.rangeCount)&&i.anchorNode&&me(e,i.anchorNode)&&i.focusNode&&me(e,i.focusNode)){const r=i.getRangeAt(0),o=r.cloneRange();o.selectNodeContents(e),o.setEnd(r.startContainer,r.startOffset),t=o.toString().length,o.setEnd(r.endContainer,r.endOffset),n=o.toString().length}}return{start:t,end:n}}function xe(e,t){const n=null==e?void 0:e.getAttribute("role");return n&&-1!==["dialog","menu","listbox","tree","grid"].indexOf(n)?n:t}function _e(e){if(!e)return null;const t=e=>"auto"===e||"scroll"===e;if(e.clientHeight&&e.scrollHeight>e.clientHeight){const{overflowY:n}=getComputedStyle(e);if(t(n))return e}else if(e.clientWidth&&e.scrollWidth>e.clientWidth){const{overflowX:n}=getComputedStyle(e);if(t(n))return e}return _e(e.parentElement)||document.scrollingElement||document.body}function Se(e,...t){/text|search|password|tel|url/i.test(e.type)&&e.setSelectionRange(...t)}function Ee(){return!!fe&&/mac|iphone|ipad|ipod/i.test(navigator.platform)}function Ce(){return fe&&Ee()&&/apple/i.test(navigator.vendor)}function Pe(e){return Boolean(e.currentTarget&&!me(e.currentTarget,e.target))}function Oe(e){return e.target===e.currentTarget}function je(e,t){const n=new FocusEvent("blur",t),i=e.dispatchEvent(n),r={...t,bubbles:!0};return e.dispatchEvent(new FocusEvent("focusout",r)),i}function ke(e,t){const n=new MouseEvent("click",t);return e.dispatchEvent(n)}function Ae(e,t){const n=t||e.currentTarget,i=e.relatedTarget;return!i||!me(n,i)}function Te(e,t,n,i){const r=(e=>{if(i){const t=setTimeout(e,i);return()=>clearTimeout(t)}const t=requestAnimationFrame(e);return()=>cancelAnimationFrame(t)})(()=>{e.removeEventListener(t,o,!0),n()}),o=()=>{r(),n()};return e.addEventListener(t,o,{once:!0,capture:!0}),r}function Ie(e,t,n,i=window){const r=[];try{i.document.addEventListener(e,t,n);for(const o of Array.from(i.frames))r.push(Ie(e,t,n,o))}catch(e){}return()=>{try{i.document.removeEventListener(e,t,n)}catch(e){}for(const e of r)e()}}var Me={...le},Le=Me.useId,Re=(Me.useDeferredValue,Me.useInsertionEffect),Ne=fe?se.useLayoutEffect:se.useEffect;function Fe(e){const t=(0,se.useRef)(()=>{throw new Error("Cannot call an event handler while rendering.")});return Re?Re(()=>{t.current=e}):t.current=e,(0,se.useCallback)((...e)=>{var n;return null==(n=t.current)?void 0:n.call(t,...e)},[])}function De(...e){return(0,se.useMemo)(()=>{if(e.some(Boolean))return t=>{for(const n of e)ue(n,t)}},e)}function Ve(e){if(Le){const t=Le();return e||t}const[t,n]=(0,se.useState)(e);return Ne(()=>{if(e||t)return;const i=Math.random().toString(36).slice(2,8);n(`id-${i}`)},[e,t]),e||t}function Be(e,t){const n=(0,se.useRef)(!1);(0,se.useEffect)(()=>{if(n.current)return e();n.current=!0},t),(0,se.useEffect)(()=>()=>{n.current=!1},[])}function ze(e){return Fe("function"==typeof e?e:()=>e)}function He(e,t,n=[]){const i=(0,se.useCallback)(n=>(e.wrapElement&&(n=e.wrapElement(n)),t(n)),[...n,e.wrapElement]);return{...e,wrapElement:i}}var $e=!1,Ue=!1,Ge=0,We=0;function qe(e){(function(e){const t=e.movementX||e.screenX-Ge,n=e.movementY||e.screenY-We;return Ge=e.screenX,We=e.screenY,t||n||!1})(e)&&(Ue=!0)}function Ye(){Ue=!1}function Xe(e){const t=se.forwardRef((t,n)=>e({...t,ref:n}));return t.displayName=e.displayName||e.name,t}function Ke(e,t){return se.memo(e,t)}function Ze(e,t){const{wrapElement:n,render:i,...r}=t,o=De(t.ref,function(e){return function(e){return!!e&&!!(0,se.isValidElement)(e)&&("ref"in e.props||"ref"in e)}(e)?{...e.props}.ref||e.ref:null}(i));let a;if(se.isValidElement(i)){const e={...i.props,ref:o};a=se.cloneElement(i,function(e,t){const n={...e};for(const i in t){if(!J(t,i))continue;if("className"===i){const i="className";n[i]=e[i]?`${e[i]} ${t[i]}`:t[i];continue}if("style"===i){const i="style";n[i]=e[i]?{...e[i],...t[i]}:t[i];continue}const r=t[i];if("function"==typeof r&&i.startsWith("on")){const t=e[i];if("function"==typeof t){n[i]=(...e)=>{r(...e),t(...e)};continue}}n[i]=r}return n}(r,e))}else a=i?i(r):(0,f.jsx)(e,{...r});return n?n(a):a}function Qe(e){const t=(t={})=>e(t);return t.displayName=e.name,t}function Je(e=[],t=[]){const n=se.createContext(void 0),i=se.createContext(void 0),r=()=>se.useContext(n),o=t=>e.reduceRight((e,n)=>(0,f.jsx)(n,{...t,children:e}),(0,f.jsx)(n.Provider,{...t}));return{context:n,scopedContext:i,useContext:r,useScopedContext:(e=!1)=>{const t=se.useContext(i),n=r();return e?t:t||n},useProviderContext:()=>{const e=se.useContext(i),t=r();if(!e||e!==t)return t},ContextProvider:o,ScopedContextProvider:e=>(0,f.jsx)(o,{...e,children:t.reduceRight((t,n)=>(0,f.jsx)(n,{...e,children:t}),(0,f.jsx)(i.Provider,{...e}))})}}var et=Je(),tt=et.useContext,nt=(et.useScopedContext,et.useProviderContext,Je([et.ContextProvider],[et.ScopedContextProvider])),it=nt.useContext,rt=(nt.useScopedContext,nt.useProviderContext),ot=nt.ContextProvider,at=nt.ScopedContextProvider,st=(0,se.createContext)(void 0),lt=(0,se.createContext)(void 0),ct=((0,se.createContext)(null),(0,se.createContext)(null),Je([ot],[at])),ut=ct.useContext;function dt(e,t){const n=e.__unstableInternals;return ie(n,"Invalid store"),n[t]}function ft(e,...t){let n=e,i=n,r=Symbol(),o=Q;const a=new Set,s=new Set,l=new Set,c=new Set,u=new Set,d=new WeakMap,f=new WeakMap,h=(e,t,n=c)=>(n.add(t),f.set(t,e),()=>{var e;null==(e=d.get(t))||e(),d.delete(t),f.delete(t),n.delete(t)}),p=(e,o,a=!1)=>{var l;if(!J(n,e))return;const h=(p=o,m=n[e],function(e){return"function"==typeof e}(p)?p(function(e){return"function"==typeof e}(m)?m():m):p);var p,m;if(h===n[e])return;if(!a)for(const n of t)null==(l=null==n?void 0:n.setState)||l.call(n,e,h);const g=n;n={...n,[e]:h};const v=Symbol();r=v,s.add(e);const b=(t,i,r)=>{var o;const a=f.get(t);a&&!a.some(t=>r?r.has(t):t===e)||(null==(o=d.get(t))||o(),d.set(t,t(n,i)))};for(const e of c)b(e,g);queueMicrotask(()=>{if(r!==v)return;const e=n;for(const e of u)b(e,i,s);i=e,s.clear()})},m={getState:()=>n,setState:p,__unstableInternals:{setup:e=>(l.add(e),()=>l.delete(e)),init:()=>{const e=a.size,i=Symbol();a.add(i);const r=()=>{a.delete(i),a.size||o()};if(e)return r;const s=(c=n,Object.keys(c)).map(e=>ee(...t.map(t=>{var n;const i=null==(n=null==t?void 0:t.getState)?void 0:n.call(t);if(i&&J(i,e))return gt(t,[e],t=>{p(e,t[e],!0)})})));var c;const u=[];for(const e of l)u.push(e());const d=t.map(pt);return o=ee(...s,...u,...d),r},subscribe:(e,t)=>h(e,t),sync:(e,t)=>(d.set(t,t(n,n)),h(e,t)),batch:(e,t)=>(d.set(t,t(n,i)),h(e,t,u)),pick:e=>ft(function(e,t){const n={};for(const i of t)J(e,i)&&(n[i]=e[i]);return n}(n,e),m),omit:e=>ft(function(e,t){const n={...e};for(const e of t)J(n,e)&&delete n[e];return n}(n,e),m)}};return m}function ht(e,...t){if(e)return dt(e,"setup")(...t)}function pt(e,...t){if(e)return dt(e,"init")(...t)}function mt(e,...t){if(e)return dt(e,"subscribe")(...t)}function gt(e,...t){if(e)return dt(e,"sync")(...t)}function vt(e,...t){if(e)return dt(e,"batch")(...t)}function bt(e,...t){if(e)return dt(e,"omit")(...t)}function yt(...e){var t;const n={};for(const i of e){const e=null==(t=null==i?void 0:i.getState)?void 0:t.call(i);e&&Object.assign(n,e)}const i=ft(n,...e);return Object.assign({},...e,i)}ct.useScopedContext,ct.useProviderContext,ct.ContextProvider,ct.ScopedContextProvider;var wt=r(888),{useSyncExternalStore:xt}=wt;function _t(e,t=ne){const n=se.useCallback(t=>e?mt(e,null,t):()=>{},[e]),i=()=>{const n="string"==typeof t?t:null,i="function"==typeof t?t:null,r=null==e?void 0:e.getState();return i?i(r):r&&n&&J(r,n)?r[n]:void 0};return xt(n,i,i)}function St(e,t){const n=se.useRef({}),i=se.useCallback(t=>e?mt(e,null,t):()=>{},[e]),r=()=>{const i=null==e?void 0:e.getState();let r=!1;const o=n.current;for(const e in t){const n=t[e];if("function"==typeof n){const t=n(i);t!==o[e]&&(o[e]=t,r=!0)}if("string"==typeof n){if(!i)continue;if(!J(i,n))continue;const t=i[n];t!==o[e]&&(o[e]=t,r=!0)}}return r&&(n.current={...o}),n.current};return xt(i,r,r)}function Et(e,t,n,i){const r=J(t,n)?t[n]:void 0,o=i?t[i]:void 0,a=function(e){const t=(0,se.useRef)(e);return Ne(()=>{t.current=e}),t}({value:r,setValue:o});Ne(()=>gt(e,[n],(e,t)=>{const{value:i,setValue:r}=a.current;r&&e[n]!==t[n]&&e[n]!==i&&r(e[n])}),[e,n]),Ne(()=>{if(void 0!==r)return e.setState(n,r),vt(e,[n],()=>{void 0!==r&&e.setState(n,r)})})}function Ct(e,t,n){return function(e,t,n){return Be(t,[n.store,n.disclosure]),Et(e,n,"open","setOpen"),Et(e,n,"mounted","setMounted"),Et(e,n,"animated"),Object.assign(e,{disclosure:n.disclosure})}(e,t,n)}function Pt(e,t,n){return Et(e=function(e,t,n){return Be(t,[n.store]),Et(e,n,"items","setItems"),e}(e,t,n),n,"activeId","setActiveId"),Et(e,n,"includesBaseElement"),Et(e,n,"virtualFocus"),Et(e,n,"orientation"),Et(e,n,"rtl"),Et(e,n,"focusLoop"),Et(e,n,"focusWrap"),Et(e,n,"focusShift"),e}function Ot(e){const t=[];for(const n of e)t.push(...n);return t}function jt(e){return e.slice().reverse()}function kt(e={}){var t;e.store;const n=null==(t=e.store)?void 0:t.getState(),i=ae(e.items,null==n?void 0:n.items,e.defaultItems,[]),r=new Map(i.map(e=>[e.id,e])),o={items:i,renderedItems:ae(null==n?void 0:n.renderedItems,[])},a=function(e){return null==e?void 0:e.__unstablePrivateStore}(e.store),s=ft({items:i,renderedItems:o.renderedItems},a),l=ft(o,e.store),c=e=>{const t=function(e,t){const n=e.map((e,t)=>[t,e]);let i=!1;return n.sort(([e,n],[r,o])=>{const a=t(n),s=t(o);return a===s?0:a&&s?function(e,t){return Boolean(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_PRECEDING)}(a,s)?(e>r&&(i=!0),-1):(e<r&&(i=!0),1):0}),i?n.map(([e,t])=>t):e}(e,e=>e.element);s.setState("renderedItems",t),l.setState("renderedItems",t)};ht(l,()=>pt(s)),ht(s,()=>vt(s,["items"],e=>{l.setState("items",e.items)})),ht(s,()=>vt(s,["renderedItems"],e=>{let t=!0,n=requestAnimationFrame(()=>{const{renderedItems:t}=l.getState();e.renderedItems!==t&&c(e.renderedItems)});if("function"!=typeof IntersectionObserver)return()=>cancelAnimationFrame(n);const i=function(e){var t;const n=e.find(e=>!!e.element),i=[...e].reverse().find(e=>!!e.element);let r=null==(t=null==n?void 0:n.element)?void 0:t.parentElement;for(;r&&(null==i?void 0:i.element);){if(i&&r.contains(i.element))return r;r=r.parentElement}return he(r).body}(e.renderedItems),r=new IntersectionObserver(()=>{t?t=!1:(cancelAnimationFrame(n),n=requestAnimationFrame(()=>c(e.renderedItems)))},{root:i});for(const t of e.renderedItems)t.element&&r.observe(t.element);return()=>{cancelAnimationFrame(n),r.disconnect()}}));const u=(e,t,n=!1)=>{let i;return t(t=>{const n=t.findIndex(({id:t})=>t===e.id),o=t.slice();if(-1!==n){i=t[n];const a={...i,...e};o[n]=a,r.set(e.id,a)}else o.push(e),r.set(e.id,e);return o}),()=>{t(t=>{if(!i)return n&&r.delete(e.id),t.filter(({id:t})=>t!==e.id);const o=t.findIndex(({id:t})=>t===e.id);if(-1===o)return t;const a=t.slice();return a[o]=i,r.set(e.id,i),a})}},d=e=>u(e,e=>s.setState("items",e),!0);return{...l,registerItem:d,renderItem:e=>ee(d(e),u(e,e=>s.setState("renderedItems",e))),item:e=>{if(!e)return null;let t=r.get(e);if(!t){const{items:n}=s.getState();t=n.find(t=>t.id===e),t&&r.set(e,t)}return t||null},__unstablePrivateStore:s}}var At={id:null};function Tt(e,t){return e.find(e=>t?!e.disabled&&e.id!==t:!e.disabled)}function It(e,t){return e.filter(e=>e.rowId===t)}function Mt(e){const t=[];for(const n of e){const e=t.find(e=>{var t;return(null==(t=e[0])?void 0:t.rowId)===n.rowId});e?e.push(n):t.push([n])}return t}function Lt(e){let t=0;for(const{length:n}of e)n>t&&(t=n);return t}function Rt(e){return{id:"__EMPTY_ITEM__",disabled:!0,rowId:e}}var Nt=Ce()&&fe&&!!navigator.maxTouchPoints;function Ft({tag:e,...t}={}){const n=yt(t.store,function(e,...t){if(e)return dt(e,"pick")(...t)}(e,["value","rtl"])),i=null==e?void 0:e.getState(),r=null==n?void 0:n.getState(),o=ae(t.activeId,null==r?void 0:r.activeId,t.defaultActiveId,null),a=function(e={}){var t;const n=null==(t=e.store)?void 0:t.getState(),i=kt(e),r=ae(e.activeId,null==n?void 0:n.activeId,e.defaultActiveId),o=ft({...i.getState(),id:ae(e.id,null==n?void 0:n.id,`id-${Math.random().toString(36).slice(2,8)}`),activeId:r,baseElement:ae(null==n?void 0:n.baseElement,null),includesBaseElement:ae(e.includesBaseElement,null==n?void 0:n.includesBaseElement,null===r),moves:ae(null==n?void 0:n.moves,0),orientation:ae(e.orientation,null==n?void 0:n.orientation,"both"),rtl:ae(e.rtl,null==n?void 0:n.rtl,!1),virtualFocus:ae(e.virtualFocus,null==n?void 0:n.virtualFocus,!1),focusLoop:ae(e.focusLoop,null==n?void 0:n.focusLoop,!1),focusWrap:ae(e.focusWrap,null==n?void 0:n.focusWrap,!1),focusShift:ae(e.focusShift,null==n?void 0:n.focusShift,!1)},i,e.store);ht(o,()=>gt(o,["renderedItems","activeId"],e=>{o.setState("activeId",t=>{var n;return void 0!==t?t:null==(n=Tt(e.renderedItems))?void 0:n.id})}));const a=(e="next",t={})=>{var n,i;const r=o.getState(),{skip:a=0,activeId:s=r.activeId,focusShift:l=r.focusShift,focusLoop:c=r.focusLoop,focusWrap:u=r.focusWrap,includesBaseElement:d=r.includesBaseElement,renderedItems:f=r.renderedItems,rtl:h=r.rtl}=t,p="up"===e||"down"===e,m="next"===e||"down"===e,g=m?h&&!p:!h||p,v=l&&!a;let b=p?Ot(function(e,t,n){const i=Lt(e);for(const r of e)for(let e=0;e<i;e+=1){const i=r[e];if(!i||n&&i.disabled){const i=0===e&&n?Tt(r):r[e-1];r[e]=i&&t!==i.id&&n?i:Rt(null==i?void 0:i.rowId)}}return e}(Mt(f),s,v)):f;if(b=g?jt(b):b,b=p?function(e){const t=Mt(e),n=Lt(t),i=[];for(let e=0;e<n;e+=1)for(const n of t){const t=n[e];t&&i.push({...t,rowId:t.rowId?`${e}`:void 0})}return i}(b):b,null==s)return null==(n=Tt(b))?void 0:n.id;const y=b.find(e=>e.id===s);if(!y)return null==(i=Tt(b))?void 0:i.id;const w=b.some(e=>e.rowId),x=b.indexOf(y),_=b.slice(x+1),S=It(_,y.rowId);if(a){const e=function(e,t){return e.filter(e=>t?!e.disabled&&e.id!==t:!e.disabled)}(S,s),t=e.slice(a)[0]||e[e.length-1];return null==t?void 0:t.id}const E=c&&(p?"horizontal"!==c:"vertical"!==c),C=w&&u&&(p?"horizontal"!==u:"vertical"!==u),P=m?(!w||p)&&E&&d:!!p&&d;if(E){const e=function(e,t,n=!1){const i=e.findIndex(e=>e.id===t);return[...e.slice(i+1),...n?[At]:[],...e.slice(0,i)]}(C&&!P?b:It(b,y.rowId),s,P),t=Tt(e,s);return null==t?void 0:t.id}if(C){const e=Tt(P?S:_,s);return P?(null==e?void 0:e.id)||null:null==e?void 0:e.id}const O=Tt(S,s);return!O&&P?null:null==O?void 0:O.id};return{...i,...o,setBaseElement:e=>o.setState("baseElement",e),setActiveId:e=>o.setState("activeId",e),move:e=>{void 0!==e&&(o.setState("activeId",e),o.setState("moves",e=>e+1))},first:()=>{var e;return null==(e=Tt(o.getState().renderedItems))?void 0:e.id},last:()=>{var e;return null==(e=Tt(jt(o.getState().renderedItems)))?void 0:e.id},next:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),a("next",e)),previous:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),a("previous",e)),down:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),a("down",e)),up:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),a("up",e))}}({...t,activeId:o,includesBaseElement:ae(t.includesBaseElement,null==r?void 0:r.includesBaseElement,!0),orientation:ae(t.orientation,null==r?void 0:r.orientation,"vertical"),focusLoop:ae(t.focusLoop,null==r?void 0:r.focusLoop,!0),focusWrap:ae(t.focusWrap,null==r?void 0:r.focusWrap,!0),virtualFocus:ae(t.virtualFocus,null==r?void 0:r.virtualFocus,!0)}),s=function({popover:e,...t}={}){const n=yt(t.store,bt(e,["arrowElement","anchorElement","contentElement","popoverElement","disclosureElement"])),i=null==n?void 0:n.getState(),r=function(e={}){return function(e={}){const t=yt(e.store,bt(e.disclosure,["contentElement","disclosureElement"])),n=null==t?void 0:t.getState(),i=ae(e.open,null==n?void 0:n.open,e.defaultOpen,!1),r=ae(e.animated,null==n?void 0:n.animated,!1),o=ft({open:i,animated:r,animating:!!r&&i,mounted:i,contentElement:ae(null==n?void 0:n.contentElement,null),disclosureElement:ae(null==n?void 0:n.disclosureElement,null)},t);return ht(o,()=>gt(o,["animated","animating"],e=>{e.animated||o.setState("animating",!1)})),ht(o,()=>mt(o,["open"],()=>{o.getState().animated&&o.setState("animating",!0)})),ht(o,()=>gt(o,["open","animating"],e=>{o.setState("mounted",e.open||e.animating)})),{...o,disclosure:e.disclosure,setOpen:e=>o.setState("open",e),show:()=>o.setState("open",!0),hide:()=>o.setState("open",!1),toggle:()=>o.setState("open",e=>!e),stopAnimation:()=>o.setState("animating",!1),setContentElement:e=>o.setState("contentElement",e),setDisclosureElement:e=>o.setState("disclosureElement",e)}}(e)}({...t,store:n}),o=ae(t.placement,null==i?void 0:i.placement,"bottom"),a=ft({...r.getState(),placement:o,currentPlacement:o,anchorElement:ae(null==i?void 0:i.anchorElement,null),popoverElement:ae(null==i?void 0:i.popoverElement,null),arrowElement:ae(null==i?void 0:i.arrowElement,null),rendered:Symbol("rendered")},r,n);return{...r,...a,setAnchorElement:e=>a.setState("anchorElement",e),setPopoverElement:e=>a.setState("popoverElement",e),setArrowElement:e=>a.setState("arrowElement",e),render:()=>a.setState("rendered",Symbol("rendered"))}}({...t,placement:ae(t.placement,null==r?void 0:r.placement,"bottom-start")}),l=ae(t.value,null==r?void 0:r.value,t.defaultValue,""),c=ae(t.selectedValue,null==r?void 0:r.selectedValue,null==i?void 0:i.values,t.defaultSelectedValue,""),u=Array.isArray(c),d={...a.getState(),...s.getState(),value:l,selectedValue:c,resetValueOnSelect:ae(t.resetValueOnSelect,null==r?void 0:r.resetValueOnSelect,u),resetValueOnHide:ae(t.resetValueOnHide,null==r?void 0:r.resetValueOnHide,u&&!e),activeValue:null==r?void 0:r.activeValue},f=ft(d,a,s,n);return Nt&&ht(f,()=>gt(f,["virtualFocus"],()=>{f.setState("virtualFocus",!1)})),ht(f,()=>{if(e)return ee(gt(f,["selectedValue"],t=>{Array.isArray(t.selectedValue)&&e.setValues(t.selectedValue)}),gt(e,["values"],e=>{f.setState("selectedValue",e.values)}))}),ht(f,()=>gt(f,["resetValueOnHide","mounted"],e=>{e.resetValueOnHide&&(e.mounted||f.setState("value",l))})),ht(f,()=>gt(f,["open"],e=>{e.open||(f.setState("activeId",o),f.setState("moves",0))})),ht(f,()=>gt(f,["moves","activeId"],(e,t)=>{e.moves===t.moves&&f.setState("activeValue",void 0)})),ht(f,()=>vt(f,["moves","renderedItems"],(e,t)=>{if(e.moves===t.moves)return;const{activeId:n}=f.getState(),i=a.item(n);f.setState("activeValue",null==i?void 0:i.value)})),{...s,...a,...f,tag:e,setValue:e=>f.setState("value",e),resetValue:()=>f.setState("value",d.value),setSelectedValue:e=>f.setState("selectedValue",e)}}function Dt(e={}){e=function(e){const t=ut();return function(e){return{id:Ve(e.id),...e}}(e={...e,tag:void 0!==e.tag?e.tag:t})}(e);const[t,n]=function(e,t){const[n,i]=se.useState(()=>e(t));Ne(()=>pt(n),[n]);const r=se.useCallback(e=>_t(n,e),[n]);return[se.useMemo(()=>({...n,useState:r}),[n,r]),Fe(()=>{i(n=>e({...t,...n.getState()}))})]}(Ft,e);return function(e,t,n){return Be(t,[n.tag]),Et(e,n,"value","setValue"),Et(e,n,"selectedValue","setSelectedValue"),Et(e,n,"resetValueOnHide"),Et(e,n,"resetValueOnSelect"),Object.assign(Pt(function(e,t,n){return Be(t,[n.popover]),Et(e,n,"placement"),Ct(e,t,n)}(e,t,n),t,n),{tag:n.tag})}(t,n,e)}var Vt=Je(),Bt=(Vt.useContext,Vt.useScopedContext,Vt.useProviderContext),zt=Je([Vt.ContextProvider],[Vt.ScopedContextProvider]),Ht=(zt.useContext,zt.useScopedContext,zt.useProviderContext,zt.ContextProvider),$t=zt.ScopedContextProvider,Ut=((0,se.createContext)(void 0),(0,se.createContext)(void 0),Je([Ht],[$t])),Gt=(Ut.useContext,Ut.useScopedContext,Ut.useProviderContext),Wt=Ut.ContextProvider,qt=Ut.ScopedContextProvider,Yt=(0,se.createContext)(void 0),Xt=Je([Wt,ot],[qt,at]),Kt=Xt.useContext,Zt=Xt.useScopedContext,Qt=Xt.useProviderContext,Jt=Xt.ContextProvider,en=Xt.ScopedContextProvider,tn=(0,se.createContext)(void 0),nn=(0,se.createContext)(!1);function rn(e={}){const t=Dt(e);return(0,f.jsx)(Jt,{value:t,children:e.children})}var on=Qe(function({store:e,...t}){const n=Qt();ie(e=e||n,!1);const i=e.useState(e=>{var t;return null==(t=e.baseElement)?void 0:t.id});return oe(t={htmlFor:i,...t})}),an=Ke(Xe(function(e){return Ze("label",on(e))}));function sn(e,t){return t&&e.item(t)||null}var ln=Symbol("FOCUS_SILENTLY");function cn(e,t,n){if(!t)return!1;if(t===n)return!1;const i=e.item(t.id);return!(!i||n&&i.element===n)}var un=(0,se.createContext)(!0),dn="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], summary, iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])";function fn(e){return!!e.matches(dn)&&!!function(e){if("function"==typeof e.checkVisibility)return e.checkVisibility();const t=e;return t.offsetWidth>0||t.offsetHeight>0||e.getClientRects().length>0}(e)&&!e.closest("[inert]")}function hn(e){const t=pe(e);if(!t)return!1;if(t===e)return!0;const n=t.getAttribute("aria-activedescendant");return!!n&&n===e.id}function pn(e){const t=pe(e);if(!t)return!1;if(me(e,t))return!0;const n=t.getAttribute("aria-activedescendant");return!!n&&"id"in e&&(n===e.id||!!e.querySelector(`#${CSS.escape(n)}`))}var mn=Ce(),gn=["text","search","url","tel","email","password","number","date","month","week","time","datetime","datetime-local"],vn=Symbol("safariFocusAncestor");function bn(e,t){e&&(e[vn]=t)}function yn(e){return!("input"!==e.tagName.toLowerCase()||!e.type||"radio"!==e.type&&"checkbox"!==e.type)}function wn(e,t,n,i,r){return e?t?n&&!i?-1:void 0:n?r:r||0:r}function xn(e,t){return Fe(n=>{null==e||e(n),n.defaultPrevented||t&&(n.stopPropagation(),n.preventDefault())})}var Sn=!1,En=!0;function Cn(e){const t=e.target;t&&"hasAttribute"in t&&(t.hasAttribute("data-focus-visible")||(En=!1))}function Pn(e){e.metaKey||e.ctrlKey||e.altKey||(En=!0)}var On=Qe(function({focusable:e=!0,accessibleWhenDisabled:t,autoFocus:n,onFocusVisible:i,...r}){const o=(0,se.useRef)(null);(0,se.useEffect)(()=>{e&&(Sn||(Ie("mousedown",Cn,!0),Ie("keydown",Pn,!0),Sn=!0))},[e]),mn&&(0,se.useEffect)(()=>{if(!e)return;const t=o.current;if(!t)return;if(!yn(t))return;const n=function(e){return"labels"in e?e.labels:null}(t);if(!n)return;const i=()=>queueMicrotask(()=>t.focus());for(const e of n)e.addEventListener("mouseup",i);return()=>{for(const e of n)e.removeEventListener("mouseup",i)}},[e]);const a=e&&re(r),s=!!a&&!t,[l,c]=(0,se.useState)(!1);(0,se.useEffect)(()=>{e&&s&&l&&c(!1)},[e,s,l]),(0,se.useEffect)(()=>{if(!e)return;if(!l)return;const t=o.current;if(!t)return;if("undefined"==typeof IntersectionObserver)return;const n=new IntersectionObserver(()=>{fn(t)||c(!1)});return n.observe(t),()=>n.disconnect()},[e,l]);const u=xn(r.onKeyPressCapture,a),d=xn(r.onMouseDownCapture,a),f=xn(r.onClickCapture,a),h=r.onMouseDown,p=Fe(t=>{if(null==h||h(t),t.defaultPrevented)return;if(!e)return;const n=t.currentTarget;if(!mn)return;if(Pe(t))return;if(!ge(n)&&!yn(n))return;let i=!1;const r=()=>{i=!0};n.addEventListener("focusin",r,{capture:!0,once:!0});const o=function(e){for(;e&&!fn(e);)e=e.closest(dn);return e||null}(n.parentElement);bn(o,!0),Te(n,"mouseup",()=>{n.removeEventListener("focusin",r,!0),bn(o,!1),i||function(e){!pn(e)&&fn(e)&&e.focus()}(n)})}),m=(t,n)=>{if(n&&(t.currentTarget=n),!e)return;const r=t.currentTarget;r&&hn(r)&&(null==i||i(t),t.defaultPrevented||(r.dataset.focusVisible="true",c(!0)))},g=r.onKeyDownCapture,v=Fe(t=>{if(null==g||g(t),t.defaultPrevented)return;if(!e)return;if(l)return;if(t.metaKey)return;if(t.altKey)return;if(t.ctrlKey)return;if(!Oe(t))return;const n=t.currentTarget;Te(n,"focusout",()=>m(t,n))}),b=r.onFocusCapture,y=Fe(t=>{if(null==b||b(t),t.defaultPrevented)return;if(!e)return;if(!Oe(t))return void c(!1);const n=t.currentTarget;En||function(e){const{tagName:t,readOnly:n,type:i}=e;return"TEXTAREA"===t&&!n||"SELECT"===t&&!n||("INPUT"!==t||n?!!e.isContentEditable||!("combobox"!==e.getAttribute("role")||!e.dataset.name):gn.includes(i))}(t.target)?Te(t.target,"focusout",()=>m(t,n)):c(!1)}),w=r.onBlur,x=Fe(t=>{null==w||w(t),e&&Ae(t)&&(t.currentTarget.removeAttribute("data-focus-visible"),c(!1))}),_=(0,se.useContext)(un),S=Fe(t=>{e&&n&&t&&_&&queueMicrotask(()=>{hn(t)||fn(t)&&t.focus()})}),E=function(e,t){const n=e=>{if("string"==typeof e)return e},[i,r]=(0,se.useState)(()=>n(t));return Ne(()=>{const i=e&&"current"in e?e.current:e;r((null==i?void 0:i.tagName.toLowerCase())||n(t))},[e,t]),i}(o),C=e&&function(e){return!e||"button"===e||"summary"===e||"input"===e||"select"===e||"textarea"===e||"a"===e}(E),P=e&&function(e){return!e||"button"===e||"input"===e||"select"===e||"textarea"===e}(E),O=r.style,j=(0,se.useMemo)(()=>s?{pointerEvents:"none",...O}:O,[s,O]);return oe(r={"data-focus-visible":e&&l||void 0,"data-autofocus":n||void 0,"aria-disabled":a||void 0,...r,ref:De(o,S,r.ref),style:j,tabIndex:wn(e,s,C,P,r.tabIndex),disabled:!(!P||!s)||void 0,contentEditable:a?void 0:r.contentEditable,onKeyPressCapture:u,onClickCapture:f,onMouseDownCapture:d,onMouseDown:p,onKeyDownCapture:v,onFocusCapture:y,onBlur:x})});function jn(e,t,n){return Fe(i=>{var r;if(null==t||t(i),i.defaultPrevented)return;if(i.isPropagationStopped())return;if(!Oe(i))return;if(function(e){return"Shift"===e.key||"Control"===e.key||"Alt"===e.key||"Meta"===e.key}(i))return;if(function(e){const t=e.target;return!(t&&!be(t)||1!==e.key.length||e.ctrlKey||e.metaKey)}(i))return;const o=e.getState(),a=null==(r=sn(e,o.activeId))?void 0:r.element;if(!a)return;const{view:s,...l}=i;a!==(null==n?void 0:n.current)&&a.focus(),function(e,t,n){const i=new KeyboardEvent(t,n);return e.dispatchEvent(i)}(a,i.type,l)||i.preventDefault(),i.currentTarget.contains(a)&&i.stopPropagation()})}Xe(function(e){return Ze("div",On(e))});var kn=Qe(function({store:e,composite:t=!0,focusOnMove:n=t,moveOnKeyPress:i=!0,...r}){const o=rt();ie(e=e||o,!1);const a=(0,se.useRef)(null),s=(0,se.useRef)(null),l=function(e){const[t,n]=(0,se.useState)(!1),i=(0,se.useCallback)(()=>n(!0),[]),r=e.useState(t=>sn(e,t.activeId));return(0,se.useEffect)(()=>{const e=null==r?void 0:r.element;t&&e&&(n(!1),e.focus({preventScroll:!0}))},[r,t]),i}(e),c=e.useState("moves"),[,u]=function(e){const[t,n]=(0,se.useState)(null);return Ne(()=>{if(null==t)return;if(!e)return;let n=null;return e(e=>(n=e,t)),()=>{e(n)}},[t,e]),[t,n]}(t?e.setBaseElement:null);(0,se.useEffect)(()=>{var i;if(!e)return;if(!c)return;if(!t)return;if(!n)return;const{activeId:r}=e.getState(),o=null==(i=sn(e,r))?void 0:i.element;var a;o&&("scrollIntoView"in(a=o)?(a.focus({preventScroll:!0}),a.scrollIntoView({block:"nearest",inline:"nearest"})):a.focus())},[e,c,t,n]),Ne(()=>{if(!e)return;if(!c)return;if(!t)return;const{baseElement:n,activeId:i}=e.getState();if(null!==i)return;if(!n)return;const r=s.current;s.current=null,r&&je(r,{relatedTarget:n}),hn(n)||n.focus()},[e,c,t]);const d=e.useState("activeId"),h=e.useState("virtualFocus");Ne(()=>{var n;if(!e)return;if(!t)return;if(!h)return;const i=s.current;if(s.current=null,!i)return;const r=(null==(n=sn(e,d))?void 0:n.element)||pe(i);r!==i&&je(i,{relatedTarget:r})},[e,d,h,t]);const p=jn(e,r.onKeyDownCapture,s),m=jn(e,r.onKeyUpCapture,s),g=r.onFocusCapture,v=Fe(t=>{if(null==g||g(t),t.defaultPrevented)return;if(!e)return;const{virtualFocus:n}=e.getState();if(!n)return;const i=t.relatedTarget,r=function(e){const t=e[ln];return delete e[ln],t}(t.currentTarget);Oe(t)&&r&&(t.stopPropagation(),s.current=i)}),b=r.onFocus,y=Fe(n=>{if(null==b||b(n),n.defaultPrevented)return;if(!t)return;if(!e)return;const{relatedTarget:i}=n,{virtualFocus:r}=e.getState();r?Oe(n)&&!cn(e,i)&&queueMicrotask(l):Oe(n)&&e.setActiveId(null)}),w=r.onBlurCapture,x=Fe(t=>{var n;if(null==w||w(t),t.defaultPrevented)return;if(!e)return;const{virtualFocus:i,activeId:r}=e.getState();if(!i)return;const o=null==(n=sn(e,r))?void 0:n.element,a=t.relatedTarget,l=cn(e,a),c=s.current;s.current=null,Oe(t)&&l?(a===o?c&&c!==a&&je(c,t):o?je(o,t):c&&je(c,t),t.stopPropagation()):!cn(e,t.target)&&o&&je(o,t)}),_=r.onKeyDown,S=ze(i),E=Fe(t=>{var n;if(null==_||_(t),t.nativeEvent.isComposing)return;if(t.defaultPrevented)return;if(!e)return;if(!Oe(t))return;const{orientation:i,renderedItems:r,activeId:o}=e.getState(),a=sn(e,o);if(null==(n=null==a?void 0:a.element)?void 0:n.isConnected)return;const s="horizontal"!==i,l="vertical"!==i,c=r.some(e=>!!e.rowId);if(("ArrowLeft"===t.key||"ArrowRight"===t.key||"Home"===t.key||"End"===t.key)&&be(t.currentTarget))return;const u={ArrowUp:(c||s)&&(()=>{if(c){const e=function(e){return e.find(e=>!e.disabled)}(Ot(jt(function(e){const t=[];for(const n of e){const e=t.find(e=>{var t;return(null==(t=e[0])?void 0:t.rowId)===n.rowId});e?e.push(n):t.push([n])}return t}(r))));return null==e?void 0:e.id}return null==e?void 0:e.last()}),ArrowRight:(c||l)&&e.first,ArrowDown:(c||s)&&e.first,ArrowLeft:(c||l)&&e.last,Home:e.first,End:e.last,PageUp:e.first,PageDown:e.last},d=u[t.key];if(d){const n=d();if(void 0!==n){if(!S(t))return;t.preventDefault(),e.move(n)}}});r=He(r,t=>(0,f.jsx)(ot,{value:e,children:t}),[e]);const C=e.useState(n=>{var i;if(e&&t&&n.virtualFocus)return null==(i=sn(e,n.activeId))?void 0:i.id});r={"aria-activedescendant":C,...r,ref:De(a,u,r.ref),onKeyDownCapture:p,onKeyUpCapture:m,onFocusCapture:v,onFocus:y,onBlurCapture:x,onKeyDown:E};const P=e.useState(e=>t&&(e.virtualFocus||null===e.activeId));return On({focusable:P,...r})}),An=(Xe(function(e){return Ze("div",kn(e))}),Qe(function({store:e,...t}){const n=Gt();return e=e||n,{...t,ref:De(null==e?void 0:e.setAnchorElement,t.ref)}}));function Tn(e,t,n){if(!n)return!1;const i=e.find(e=>!e.disabled&&e.value);return(null==i?void 0:i.value)===t}function In(e,t){return!!t&&null!=e&&(e=te(e),t.length>e.length&&0===t.toLowerCase().indexOf(e.toLowerCase()))}Xe(function(e){return Ze("div",An(e))});var Mn=Qe(function({store:e,focusable:t=!0,autoSelect:n=!1,getAutoSelectId:i,setValueOnChange:r,showMinLength:o=0,showOnChange:a,showOnMouseDown:s,showOnClick:l=s,showOnKeyDown:c,showOnKeyPress:u=c,blurActiveItemOnClick:d,setValueOnClick:f=!0,moveOnKeyPress:h=!0,autoComplete:p="list",...m}){const g=Qt();ie(e=e||g,!1);const v=(0,se.useRef)(null),[b,y]=(0,se.useReducer)(()=>[],[]),w=(0,se.useRef)(!1),x=(0,se.useRef)(!1),_=e.useState(e=>e.virtualFocus&&n),S="inline"===p||"both"===p,[E,C]=(0,se.useState)(S);!function(e,t){const n=(0,se.useRef)(!1);Ne(()=>{n.current?S&&C(!0):n.current=!0},t),Ne(()=>()=>{n.current=!1},[])}(0,[S]);const P=e.useState("value"),O=(0,se.useRef)(void 0);(0,se.useEffect)(()=>gt(e,["selectedValue","activeId"],(e,t)=>{O.current=t.selectedValue}),[]);const j=e.useState(e=>{var t;if(S&&E){if(e.activeValue&&Array.isArray(e.selectedValue)){if(e.selectedValue.includes(e.activeValue))return;if(null==(t=O.current)?void 0:t.includes(e.activeValue))return}return e.activeValue}}),k=e.useState("renderedItems"),A=e.useState("open"),T=e.useState("contentElement"),I=(0,se.useMemo)(()=>{if(!S)return P;if(!E)return P;if(Tn(k,j,_)){if(In(P,j)){const e=(null==j?void 0:j.slice(P.length))||"";return P+e}return P}return j||P},[S,E,k,j,_,P]);(0,se.useEffect)(()=>{const e=v.current;if(!e)return;const t=()=>C(!0);return e.addEventListener("combobox-item-move",t),()=>{e.removeEventListener("combobox-item-move",t)}},[]),(0,se.useEffect)(()=>{if(!S)return;if(!E)return;if(!j)return;if(!Tn(k,j,_))return;if(!In(P,j))return;let e=Q;return queueMicrotask(()=>{const t=v.current;if(!t)return;const{start:n,end:i}=we(t),r=P.length,o=j.length;Se(t,r,o),e=()=>{if(!hn(t))return;const{start:e,end:a}=we(t);e===r&&a===o&&Se(t,n,i)}}),()=>e()},[b,S,E,j,k,_,P]);const M=(0,se.useRef)(null),L=Fe(i),R=(0,se.useRef)(null);(0,se.useEffect)(()=>{if(!A)return;if(!T)return;const t=_e(T);if(!t)return;M.current=t;const n=()=>{w.current=!1},i=()=>{if(!e)return;if(!w.current)return;const{activeId:t}=e.getState();null!==t&&t!==R.current&&(w.current=!1)},r={passive:!0,capture:!0};return t.addEventListener("wheel",n,r),t.addEventListener("touchmove",n,r),t.addEventListener("scroll",i,r),()=>{t.removeEventListener("wheel",n,!0),t.removeEventListener("touchmove",n,!0),t.removeEventListener("scroll",i,!0)}},[A,T,e]),Ne(()=>{P&&(x.current||(w.current=!0))},[P]),Ne(()=>{"always"!==_&&A||(w.current=A)},[_,A]);const N=e.useState("resetValueOnSelect");Be(()=>{var t,n;const i=w.current;if(!e)return;if(!A)return;if(!i&&!N)return;const{baseElement:r,contentElement:o,activeId:a}=e.getState();if(!r||hn(r)){if(null==o?void 0:o.hasAttribute("data-placing")){const e=new MutationObserver(y);return e.observe(o,{attributeFilter:["data-placing"]}),()=>e.disconnect()}if(_&&i){const n=L(k),i=void 0!==n?n:null!=(t=function(e){const t=e.find(e=>{var t;return!e.disabled&&"tab"!==(null==(t=e.element)?void 0:t.getAttribute("role"))});return null==t?void 0:t.id}(k))?t:e.first();R.current=i,e.move(null!=i?i:null)}else{const t=null==(n=e.item(a||e.first()))?void 0:n.element;t&&"scrollIntoView"in t&&t.scrollIntoView({block:"nearest",inline:"nearest"})}}},[e,A,b,P,_,N,L,k]),(0,se.useEffect)(()=>{if(!S)return;const t=v.current;if(!t)return;const n=[t,T].filter(e=>!!e),i=t=>{n.every(e=>Ae(t,e))&&(null==e||e.setValue(I))};for(const e of n)e.addEventListener("focusout",i);return()=>{for(const e of n)e.removeEventListener("focusout",i)}},[S,T,e,I]);const F=e=>e.currentTarget.value.length>=o,D=m.onChange,V=ze(null!=a?a:F),B=ze(null!=r?r:!e.tag),z=Fe(t=>{if(null==D||D(t),t.defaultPrevented)return;if(!e)return;const n=t.currentTarget,{value:i,selectionStart:r,selectionEnd:o}=n,a=t.nativeEvent;if(w.current=!0,function(e){return"input"===e.type}(a)&&(a.isComposing&&(w.current=!1,x.current=!0),S)){const e="insertText"===a.inputType||"insertCompositionText"===a.inputType,t=r===i.length;C(e&&t)}if(B(t)){const t=i===e.getState().value;e.setValue(i),queueMicrotask(()=>{Se(n,r,o)}),S&&_&&t&&y()}V(t)&&e.show(),_&&w.current||e.setActiveId(null)}),H=m.onCompositionEnd,$=Fe(e=>{w.current=!0,x.current=!1,null==H||H(e),e.defaultPrevented||_&&y()}),U=m.onMouseDown,G=ze(null!=d?d:()=>!!(null==e?void 0:e.getState().includesBaseElement)),W=ze(f),q=ze(null!=l?l:F),Y=Fe(t=>{null==U||U(t),t.defaultPrevented||t.button||t.ctrlKey||e&&(G(t)&&e.setActiveId(null),W(t)&&e.setValue(I),q(t)&&Te(t.currentTarget,"mouseup",e.show))}),X=m.onKeyDown,K=ze(null!=u?u:F),Z=Fe(t=>{if(null==X||X(t),t.repeat||(w.current=!1),t.defaultPrevented)return;if(t.ctrlKey)return;if(t.altKey)return;if(t.shiftKey)return;if(t.metaKey)return;if(!e)return;const{open:n}=e.getState();n||"ArrowUp"!==t.key&&"ArrowDown"!==t.key||K(t)&&(t.preventDefault(),e.show())}),J=m.onBlur,ee=Fe(e=>{w.current=!1,null==J||J(e),e.defaultPrevented}),te=Ve(m.id),ne=function(e){return"inline"===e||"list"===e||"both"===e||"none"===e}(p)?p:void 0,re=e.useState(e=>null===e.activeId);return m={id:te,role:"combobox","aria-autocomplete":ne,"aria-haspopup":xe(T,"listbox"),"aria-expanded":A,"aria-controls":null==T?void 0:T.id,"data-active-item":re||void 0,value:I,...m,ref:De(v,m.ref),onChange:z,onCompositionEnd:$,onMouseDown:Y,onKeyDown:Z,onBlur:ee},m=kn({store:e,focusable:t,...m,moveOnKeyPress:e=>!function(e,...t){const n="function"==typeof e?e(...t):e;return null!=n&&!n}(h,e)&&(S&&C(!0),!0)}),m=An({store:e,...m}),{autoComplete:"off",...m}}),Ln=Xe(function(e){return Ze("input",Mn(e))});function Rn(e,t){const n=setTimeout(t,e);return()=>clearTimeout(n)}function Nn(...e){return e.join(", ").split(", ").reduce((e,t)=>{const n=t.endsWith("ms")?1:1e3,i=Number.parseFloat(t||"0s")*n;return i>e?i:e},0)}function Fn(e,t,n){return!(n||!1===t||e&&!t)}var Dn=Qe(function({store:t,alwaysVisible:n,...i}){const r=Bt();ie(t=t||r,!1);const o=(0,se.useRef)(null),a=Ve(i.id),[s,l]=(0,se.useState)(null),c=t.useState("open"),u=t.useState("mounted"),d=t.useState("animated"),h=t.useState("contentElement"),p=_t(t.disclosure,"contentElement");Ne(()=>{o.current&&(null==t||t.setContentElement(o.current))},[t]),Ne(()=>{let e;return null==t||t.setState("animated",t=>(e=t,!0)),()=>{void 0!==e&&(null==t||t.setState("animated",e))}},[t]),Ne(()=>{if(d){if(null==h?void 0:h.isConnected)return function(e){let t=requestAnimationFrame(()=>{t=requestAnimationFrame(e)});return()=>cancelAnimationFrame(t)}(()=>{l(c?"enter":u?"leave":null)});l(null)}},[d,h,c,u]),Ne(()=>{if(!t)return;if(!d)return;if(!s)return;if(!h)return;const n=()=>null==t?void 0:t.setState("animating",!1),i=()=>(0,e.flushSync)(n);if("leave"===s&&c)return;if("enter"===s&&!c)return;if("number"==typeof d)return Rn(d,i);const{transitionDuration:r,animationDuration:o,transitionDelay:a,animationDelay:l}=getComputedStyle(h),{transitionDuration:u="0",animationDuration:f="0",transitionDelay:m="0",animationDelay:g="0"}=p?getComputedStyle(p):{},v=Nn(a,l,m,g)+Nn(r,o,u,f);return v?Rn(Math.max(v-1e3/60,0),i):("enter"===s&&t.setState("animated",!1),void n())},[t,d,h,p,c,s]),i=He(i,e=>(0,f.jsx)($t,{value:t,children:e}),[t]);const m=Fn(u,i.hidden,n),g=i.style,v=(0,se.useMemo)(()=>m?{...g,display:"none"}:g,[m,g]);return oe(i={id:a,"data-open":c||void 0,"data-enter":"enter"===s||void 0,"data-leave":"leave"===s||void 0,hidden:m,...i,ref:De(a?t.setContentElement:null,o,i.ref),style:v})}),Vn=Xe(function(e){return Ze("div",Dn(e))}),Bn=(Xe(function({unmountOnHide:e,...t}){const n=Bt();return!1===_t(t.store||n,t=>!e||(null==t?void 0:t.mounted))?null:(0,f.jsx)(Vn,{...t})}),Qe(function({store:e,alwaysVisible:t,...n}){const i=Zt(!0),r=Kt(),o=!!(e=e||r)&&e===i;ie(e,!1);const a=(0,se.useRef)(null),s=Ve(n.id),l=e.useState("mounted"),c=Fn(l,n.hidden,t),u=c?{...n.style,display:"none"}:n.style,d=e.useState(e=>Array.isArray(e.selectedValue)),h=function(e,t,n){const i=function(e){const[t]=(0,se.useState)(e);return t}(n),[r,o]=(0,se.useState)(i);return(0,se.useEffect)(()=>{const n=e&&"current"in e?e.current:e;if(!n)return;const r=()=>{const e=n.getAttribute(t);o(null==e?i:e)},a=new MutationObserver(r);return a.observe(n,{attributeFilter:[t]}),r(),()=>a.disconnect()},[e,t,i]),r}(a,"role",n.role),p=("listbox"===h||"tree"===h||"grid"===h)&&d||void 0,[m,g]=(0,se.useState)(!1),v=e.useState("contentElement");Ne(()=>{if(!l)return;const e=a.current;if(!e)return;if(v!==e)return;const t=()=>{g(!!e.querySelector("[role='listbox']"))},n=new MutationObserver(t);return n.observe(e,{subtree:!0,childList:!0,attributeFilter:["role"]}),t(),()=>n.disconnect()},[l,v]),m||(n={role:"listbox","aria-multiselectable":p,...n}),n=He(n,t=>(0,f.jsx)(en,{value:e,children:(0,f.jsx)(Yt.Provider,{value:h,children:t})}),[e,h]);const b=!s||i&&o?null:e.setContentElement;return oe(n={id:s,hidden:c,...n,ref:De(b,a,n.ref),style:u})})),zn=Xe(function(e){return Ze("div",Bn(e))});function Hn(e){const t=e.relatedTarget;return(null==t?void 0:t.nodeType)===Node.ELEMENT_NODE?t:null}var $n=Symbol("composite-hover"),Un=Qe(function({store:e,focusOnHover:t=!0,blurOnHoverEnd:n=!!t,...i}){const r=it();ie(e=e||r,!1);const o=((0,se.useEffect)(()=>{$e||(Ie("mousemove",qe,!0),Ie("mousedown",Ye,!0),Ie("mouseup",Ye,!0),Ie("keydown",Ye,!0),Ie("scroll",Ye,!0),$e=!0)},[]),Fe(()=>Ue)),a=i.onMouseMove,s=ze(t),l=Fe(t=>{if(null==a||a(t),!t.defaultPrevented&&o()&&s(t)){if(!pn(t.currentTarget)){const t=null==e?void 0:e.getState().baseElement;t&&!hn(t)&&t.focus()}null==e||e.setActiveId(t.currentTarget.id)}}),c=i.onMouseLeave,u=ze(n),d=Fe(t=>{var n;null==c||c(t),t.defaultPrevented||o()&&(function(e){const t=Hn(e);return!!t&&me(e.currentTarget,t)}(t)||function(e){let t=Hn(e);if(!t)return!1;do{if(J(t,$n)&&t[$n])return!0;t=t.parentElement}while(t);return!1}(t)||s(t)&&u(t)&&(null==e||e.setActiveId(null),null==(n=null==e?void 0:e.getState().baseElement)||n.focus()))}),f=(0,se.useCallback)(e=>{e&&(e[$n]=!0)},[]);return oe(i={...i,ref:De(f,i.ref),onMouseMove:l,onMouseLeave:d})}),Gn=(Ke(Xe(function(e){return Ze("div",Un(e))})),Qe(function({store:e,shouldRegisterItem:t=!0,getItem:n=ne,element:i,...r}){const o=tt();e=e||o;const a=Ve(r.id),s=(0,se.useRef)(i);return(0,se.useEffect)(()=>{const i=s.current;if(!a)return;if(!i)return;if(!t)return;const r=n({id:a,element:i});return null==e?void 0:e.renderItem(r)},[a,t,n,e]),oe(r={...r,ref:De(s,r.ref)})}));function Wn(e){if(!e.isTrusted)return!1;const t=e.currentTarget;return"Enter"===e.key?ge(t)||"SUMMARY"===t.tagName||"A"===t.tagName:" "===e.key&&(ge(t)||"SUMMARY"===t.tagName||"INPUT"===t.tagName||"SELECT"===t.tagName)}Xe(function(e){return Ze("div",Gn(e))});var qn=Symbol("command"),Yn=Qe(function({clickOnEnter:e=!0,clickOnSpace:t=!0,...n}){const i=(0,se.useRef)(null),[r,o]=(0,se.useState)(!1);(0,se.useEffect)(()=>{i.current&&o(ge(i.current))},[]);const[a,s]=(0,se.useState)(!1),l=(0,se.useRef)(!1),c=re(n),[u,d]=function(e,t,n){const i=e.onLoadedMetadataCapture,r=(0,se.useMemo)(()=>Object.assign(()=>{},{...i,[t]:n}),[i,t,n]);return[null==i?void 0:i[t],{onLoadedMetadataCapture:r}]}(n,qn,!0),f=n.onKeyDown,h=Fe(n=>{null==f||f(n);const i=n.currentTarget;if(n.defaultPrevented)return;if(u)return;if(c)return;if(!Oe(n))return;if(be(i))return;if(i.isContentEditable)return;const r=e&&"Enter"===n.key,o=t&&" "===n.key,a="Enter"===n.key&&!e,d=" "===n.key&&!t;if(a||d)n.preventDefault();else if(r||o){const e=Wn(n);if(r){if(!e){n.preventDefault();const{view:e,...t}=n,r=()=>ke(i,t);fe&&/firefox\//i.test(navigator.userAgent)?Te(i,"keyup",r):queueMicrotask(r)}}else o&&(l.current=!0,e||(n.preventDefault(),s(!0)))}}),p=n.onKeyUp,m=Fe(e=>{if(null==p||p(e),e.defaultPrevented)return;if(u)return;if(c)return;if(e.metaKey)return;const n=t&&" "===e.key;if(l.current&&n&&(l.current=!1,!Wn(e))){e.preventDefault(),s(!1);const t=e.currentTarget,{view:n,...i}=e;queueMicrotask(()=>ke(t,i))}});return n={"data-active":a||void 0,type:r?"button":void 0,...d,...n,ref:De(i,n.ref),onKeyDown:h,onKeyUp:m},On(n)});function Xn(e,t=!1){const{top:n}=e.getBoundingClientRect();return t?n+e.clientHeight:n}function Kn(e,t,n,i=!1){var r;if(!t)return;if(!n)return;const{renderedItems:o}=t.getState(),a=_e(e);if(!a)return;const s=function(e,t=!1){const n=e.clientHeight,{top:i}=e.getBoundingClientRect(),r=1.5*Math.max(.875*n,n-40),o=t?n-r+i:r+i;return"HTML"===e.tagName?o+e.scrollTop:o}(a,i);let l,c;for(let e=0;e<o.length;e+=1){const o=l;if(l=n(e),!l)break;if(l===o)continue;const a=null==(r=sn(t,l))?void 0:r.element;if(!a)continue;const u=Xn(a,i)-s,d=Math.abs(u);if(i&&u<=0||!i&&u>=0){void 0!==c&&c<d&&(l=o);break}c=d}return l}Xe(function(e){return Ze("button",Yn(e))});var Zn=Qe(function({store:e,rowId:t,preventScrollOnKeyDown:n=!1,moveOnKeyPress:i=!0,tabbable:r=!1,getItem:o,"aria-setsize":a,"aria-posinset":s,...l}){const c=it();e=e||c;const u=Ve(l.id),d=(0,se.useRef)(null),h=(0,se.useContext)(lt),p=re(l)&&!l.accessibleWhenDisabled,{rowId:m,baseElement:g,isActiveItem:v,ariaSetSize:b,ariaPosInSet:y,isTabbable:w}=St(e,{rowId:e=>t||(e&&(null==h?void 0:h.baseElement)&&h.baseElement===e.baseElement?h.id:void 0),baseElement:e=>(null==e?void 0:e.baseElement)||void 0,isActiveItem:e=>!!e&&e.activeId===u,ariaSetSize:e=>null!=a?a:e&&(null==h?void 0:h.ariaSetSize)&&h.baseElement===e.baseElement?h.ariaSetSize:void 0,ariaPosInSet(e){if(null!=s)return s;if(!e)return;if(!(null==h?void 0:h.ariaPosInSet))return;if(h.baseElement!==e.baseElement)return;const t=e.renderedItems.filter(e=>e.rowId===m);return h.ariaPosInSet+t.findIndex(e=>e.id===u)},isTabbable(t){if(!(null==t?void 0:t.renderedItems.length))return!0;if(t.virtualFocus)return!1;if(r)return!0;if(null===t.activeId)return!1;const n=null==e?void 0:e.item(t.activeId);return!!(null==n?void 0:n.disabled)||!(null==n?void 0:n.element)||t.activeId===u}}),x=(0,se.useCallback)(e=>{var t;const n={...e,id:u||e.id,rowId:m,disabled:!!p,children:null==(t=e.element)?void 0:t.textContent};return o?o(n):n},[u,m,p,o]),_=l.onFocus,S=(0,se.useRef)(!1),E=Fe(t=>{if(null==_||_(t),t.defaultPrevented)return;if(Pe(t))return;if(!u)return;if(!e)return;if(function(e,t){return!Oe(e)&&cn(t,e.target)}(t,e))return;const{virtualFocus:n,baseElement:i}=e.getState();var r;(e.setActiveId(u),ye(t.currentTarget)&&function(e,t=!1){if(be(e))e.setSelectionRange(t?e.value.length:0,e.value.length);else if(e.isContentEditable){const n=he(e).getSelection();null==n||n.selectAllChildren(e),t&&(null==n||n.collapseToEnd())}}(t.currentTarget),n)&&(Oe(t)&&(ye(r=t.currentTarget)||"INPUT"===r.tagName&&!ge(r)||(null==i?void 0:i.isConnected)&&(Ce()&&t.currentTarget.hasAttribute("data-autofocus")&&t.currentTarget.scrollIntoView({block:"nearest",inline:"nearest"}),S.current=!0,t.relatedTarget===i||cn(e,t.relatedTarget)?function(e){e[ln]=!0,e.focus({preventScroll:!0})}(i):i.focus())))}),C=l.onBlurCapture,P=Fe(t=>{if(null==C||C(t),t.defaultPrevented)return;const n=null==e?void 0:e.getState();(null==n?void 0:n.virtualFocus)&&S.current&&(S.current=!1,t.preventDefault(),t.stopPropagation())}),O=l.onKeyDown,j=ze(n),k=ze(i),A=Fe(t=>{if(null==O||O(t),t.defaultPrevented)return;if(!Oe(t))return;if(!e)return;const{currentTarget:n}=t,i=e.getState(),r=e.item(u),o=!!(null==r?void 0:r.rowId),a="horizontal"!==i.orientation,s="vertical"!==i.orientation,l=()=>!(!o&&!s&&i.baseElement&&be(i.baseElement)),c={ArrowUp:(o||a)&&e.up,ArrowRight:(o||s)&&e.next,ArrowDown:(o||a)&&e.down,ArrowLeft:(o||s)&&e.previous,Home:()=>{if(l())return!o||t.ctrlKey?null==e?void 0:e.first():null==e?void 0:e.previous(-1)},End:()=>{if(l())return!o||t.ctrlKey?null==e?void 0:e.last():null==e?void 0:e.next(-1)},PageUp:()=>Kn(n,e,null==e?void 0:e.up,!0),PageDown:()=>Kn(n,e,null==e?void 0:e.down)}[t.key];if(c){if(ye(n)){const e=we(n),i=s&&"ArrowLeft"===t.key,r=s&&"ArrowRight"===t.key,o=a&&"ArrowUp"===t.key,l=a&&"ArrowDown"===t.key;if(r||l){const{length:t}=function(e){if(be(e))return e.value;if(e.isContentEditable){const t=he(e).createRange();return t.selectNodeContents(e),t.toString()}return""}(n);if(e.end!==t)return}else if((i||o)&&0!==e.start)return}const i=c();if(j(t)||void 0!==i){if(!k(t))return;t.preventDefault(),e.move(i)}}}),T=(0,se.useMemo)(()=>({id:u,baseElement:g}),[u,g]);return l=He(l,e=>(0,f.jsx)(st.Provider,{value:T,children:e}),[T]),l={id:u,"data-active-item":v||void 0,...l,ref:De(d,l.ref),tabIndex:w?l.tabIndex:-1,onFocus:E,onBlurCapture:P,onKeyDown:A},l=Yn(l),l=Gn({store:e,...l,getItem:x,shouldRegisterItem:!!u&&l.shouldRegisterItem}),oe({...l,"aria-setsize":b,"aria-posinset":y})});function Qn(e){var t;return null!=(t={menu:"menuitem",listbox:"option",tree:"treeitem"}[e])?t:"option"}Ke(Xe(function(e){return Ze("button",Zn(e))}));var Jn=Qe(function({store:e,value:t,hideOnClick:n,setValueOnClick:i,selectValueOnClick:r=!0,resetValueOnSelect:o,focusOnHover:a=!1,moveOnKeyPress:s=!0,getItem:l,...c}){var u;const d=Zt();ie(e=e||d,!1);const{resetValueOnSelectState:h,multiSelectable:p,selected:m}=St(e,{resetValueOnSelectState:"resetValueOnSelect",multiSelectable:e=>Array.isArray(e.selectedValue),selected:e=>function(e,t){if(null!=t)return null!=e&&(Array.isArray(e)?e.includes(t):e===t)}(e.selectedValue,t)}),g=(0,se.useCallback)(e=>{const n={...e,value:t};return l?l(n):n},[t,l]);i=null!=i?i:!p,n=null!=n?n:null!=t&&!p;const v=c.onClick,b=ze(i),y=ze(r),w=ze(null!=(u=null!=o?o:h)?u:p),x=ze(n),_=Fe(n=>{null==v||v(n),n.defaultPrevented||function(e){const t=e.currentTarget;if(!t)return!1;const n=t.tagName.toLowerCase();return!!e.altKey&&("a"===n||"button"===n&&"submit"===t.type||"input"===n&&"submit"===t.type)}(n)||function(e){const t=e.currentTarget;if(!t)return!1;const n=Ee();if(n&&!e.metaKey)return!1;if(!n&&!e.ctrlKey)return!1;const i=t.tagName.toLowerCase();return"a"===i||"button"===i&&"submit"===t.type||"input"===i&&"submit"===t.type}(n)||(null!=t&&(y(n)&&(w(n)&&(null==e||e.resetValue()),null==e||e.setSelectedValue(e=>Array.isArray(e)?e.includes(t)?e.filter(e=>e!==t):[...e,t]:t)),b(n)&&(null==e||e.setValue(t))),x(n)&&(null==e||e.hide()))}),S=c.onKeyDown,E=Fe(t=>{if(null==S||S(t),t.defaultPrevented)return;const n=null==e?void 0:e.getState().baseElement;n&&(hn(n)||(1===t.key.length||"Backspace"===t.key||"Delete"===t.key)&&(queueMicrotask(()=>n.focus()),be(n)&&(null==e||e.setValue(n.value))))});p&&null!=m&&(c={"aria-selected":m,...c}),c=He(c,e=>(0,f.jsx)(tn.Provider,{value:t,children:(0,f.jsx)(nn.Provider,{value:null!=m&&m,children:e})}),[t,m]),c={role:Qn((0,se.useContext)(Yt)),children:t,...c,onClick:_,onKeyDown:E};const C=ze(s);return c=Zn({store:e,...c,getItem:g,moveOnKeyPress:t=>{if(!C(t))return!1;const n=new Event("combobox-item-move"),i=null==e?void 0:e.getState().baseElement;return null==i||i.dispatchEvent(n),!0}}),Un({store:e,focusOnHover:a,...c})}),ei=Ke(Xe(function(e){return Ze("div",Jn(e))}));function ti(e){return te(e).toLowerCase()}var ni=Qe(function({store:e,value:t,userValue:n,...i}){const r=Zt();e=e||r;const o=(0,se.useContext)(tn),a=null!=t?t:o,s=_t(e,e=>null!=n?n:null==e?void 0:e.value);return oe(i={children:(0,se.useMemo)(()=>{if(a)return s?function(e,t){if(!e)return e;if(!t)return e;const n=(i=t,Array.isArray(i)?i:void 0!==i?[i]:[]).filter(Boolean).map(ti);var i;const r=[],o=(e,t=!1)=>(0,f.jsx)("span",{"data-autocomplete-value":t?"":void 0,"data-user-value":t?void 0:"",children:e},r.length),a=function(e){return e.sort(([e],[t])=>e-t)}(function(e){return e.filter(([e,t],n,i)=>!i.some(([i,r],o)=>o!==n&&i<=e&&i+r>=e+t))}(function(e,t){const n=[];for(const i of t){let t=0;const r=i.length;for(;-1!==e.indexOf(i,t);){const o=e.indexOf(i,t);-1!==o&&n.push([o,r]),t=o+1}}return n}(ti(e),new Set(n))));if(!a.length)return r.push(o(e,!0)),r;const[s]=a[0],l=[e.slice(0,s),...a.flatMap(([t,n],i)=>{var r;const o=e.slice(t,t+n),s=null==(r=a[i+1])?void 0:r[0];return[o,e.slice(t+n,s)]})];return l.forEach((e,t)=>{e&&r.push(o(e,t%2==0))}),r}(a,s):a},[a,s]),...i})}),ii=Xe(function(e){return Ze("span",ni(e))}),ri=r(731),oi=r.n(ri);const ai=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})}),si=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"M13 5c-3.3 0-6 2.7-6 6 0 1.4.5 2.7 1.3 3.7l-3.8 3.8 1.1 1.1 3.8-3.8c1 .8 2.3 1.3 3.7 1.3 3.3 0 6-2.7 6-6S16.3 5 13 5zm0 10.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"})}),li=[],ci=(e,t)=>e.singleSelection?t?.value:Array.isArray(t?.value)?t.value:!Array.isArray(t?.value)&&t?.value?[t.value]:li;function ui(e=""){return oi()(e.trim().toLowerCase())}const di=(e,t,n)=>e.singleSelection?n:Array.isArray(t?.value)?t.value.includes(n)?t.value.filter(e=>e!==n):[...t.value,n]:[n];function fi(e,t){return`${e}-${t}`}const hi=({selected:e})=>(0,f.jsx)("span",{className:K("dataviews-filters__search-widget-listitem-multi-selection",{"is-selected":e}),children:e&&(0,f.jsx)(l.Icon,{icon:ai})}),pi=({selected:e})=>(0,f.jsx)("span",{className:K("dataviews-filters__search-widget-listitem-single-selection",{"is-selected":e})});function mi({view:e,filter:i,onChangeView:r}){const o=(0,n.useInstanceId)(mi,"dataviews-filter-list-box"),[a,c]=(0,t.useState)(1===i.operators?.length?void 0:null),u=e.filters?.find(e=>e.field===i.field),d=ci(i,u);return(0,f.jsx)(l.Composite,{virtualFocus:!0,focusLoop:!0,activeId:a,setActiveId:c,role:"listbox",className:"dataviews-filters__search-widget-listbox","aria-label":(0,s.sprintf)(/* translators: List of items for a filter. 1: Filter name. e.g.: "List of: Author". */ /* translators: List of items for a filter. 1: Filter name. e.g.: "List of: Author". */
(0,s.__)("List of: %1$s"),i.name),onFocusVisible:()=>{!a&&i.elements.length&&c(fi(o,i.elements[0].value))},render:(0,f.jsx)(l.Composite.Typeahead,{}),children:i.elements.map(t=>(0,f.jsxs)(l.Composite.Hover,{render:(0,f.jsx)(l.Composite.Item,{id:fi(o,t.value),render:(0,f.jsx)("div",{"aria-label":t.label,role:"option",className:"dataviews-filters__search-widget-listitem"}),onClick:()=>{var n,o;const a=u?[...(null!==(n=e.filters)&&void 0!==n?n:[]).map(e=>e.field===i.field?{...e,operator:u.operator||i.operators[0],value:di(i,u,t.value)}:e)]:[...null!==(o=e.filters)&&void 0!==o?o:[],{field:i.field,operator:i.operators[0],value:di(i,u,t.value)}];r({...e,page:1,filters:a})}}),children:[i.singleSelection&&(0,f.jsx)(pi,{selected:d===t.value}),!i.singleSelection&&(0,f.jsx)(hi,{selected:d.includes(t.value)}),(0,f.jsx)("span",{children:t.label})]},t.value))})}function gi({view:e,filter:n,onChangeView:i}){const[r,o]=(0,t.useState)(""),a=(0,t.useDeferredValue)(r),c=e.filters?.find(e=>e.field===n.field),u=ci(n,c),d=(0,t.useMemo)(()=>{const e=ui(a);return n.elements.filter(t=>ui(t.label).includes(e))},[n.elements,a]);return(0,f.jsxs)(rn,{selectedValue:u,setSelectedValue:t=>{var r,o;const a=c?[...(null!==(r=e.filters)&&void 0!==r?r:[]).map(e=>e.field===n.field?{...e,operator:c.operator||n.operators[0],value:t}:e)]:[...null!==(o=e.filters)&&void 0!==o?o:[],{field:n.field,operator:n.operators[0],value:t}];i({...e,page:1,filters:a})},setValue:o,children:[(0,f.jsxs)("div",{className:"dataviews-filters__search-widget-filter-combobox__wrapper",children:[(0,f.jsx)(an,{render:(0,f.jsx)(l.VisuallyHidden,{children:(0,s.__)("Search items")}),children:(0,s.__)("Search items")}),(0,f.jsx)(Ln,{autoSelect:"always",placeholder:(0,s.__)("Search"),className:"dataviews-filters__search-widget-filter-combobox__input"}),(0,f.jsx)("div",{className:"dataviews-filters__search-widget-filter-combobox__icon",children:(0,f.jsx)(l.Icon,{icon:si})})]}),(0,f.jsxs)(zn,{className:"dataviews-filters__search-widget-filter-combobox-list",alwaysVisible:!0,children:[d.map(e=>(0,f.jsxs)(ei,{resetValueOnSelect:!1,value:e.value,className:"dataviews-filters__search-widget-listitem",hideOnClick:!1,setValueOnClick:!1,focusOnHover:!0,children:[n.singleSelection&&(0,f.jsx)(pi,{selected:u===e.value}),!n.singleSelection&&(0,f.jsx)(hi,{selected:u.includes(e.value)}),(0,f.jsxs)("span",{children:[(0,f.jsx)(ii,{className:"dataviews-filters__search-widget-filter-combobox-item-value",value:e.label}),!!e.description&&(0,f.jsx)("span",{className:"dataviews-filters__search-widget-listitem-description",children:e.description})]})]},e.value)),!d.length&&(0,f.jsx)("p",{children:(0,s.__)("No results found")})]})]})}function vi(e){const t=e.filter.elements.length>10?gi:mi;return(0,f.jsx)(t,{...e})}var bi=r(252),yi=r.n(bi);function wi({filter:e,view:i,onChangeView:r,fields:o}){const a=i.filters?.find(t=>t.field===e.field),s=o.find(t=>t.id===e.field),c=ci(e,a),u=(0,t.useMemo)(()=>{var e;return(null!==(e=i.filters)&&void 0!==e?e:[]).reduce((e,t)=>(e[t.field]=t.value,e),{})},[i.filters]),d=(0,n.useEvent)(t=>{var n;if(!s||!a)return;const o=t[s.id];yi()(o,c)||r({...i,filters:(null!==(n=i.filters)&&void 0!==n?n:[]).map(t=>t.field===e.field?{...t,operator:a.operator||e.operators[0],value:o}:t)})});return s&&s.Edit&&a?(0,f.jsx)(l.Flex,{className:"dataviews-filters__user-input-widget",gap:2.5,direction:"column",children:(0,f.jsx)(s.Edit,{hideLabelFromVision:!0,data:u,field:s,operator:a.operator,onChange:d})}):null}const xi="Enter",_i=" ",Si=({activeElements:e,filterInView:n,filter:i})=>{if(void 0===e||0===e.length)return i.name;const r={Name:(0,f.jsx)("span",{className:"dataviews-filters__summary-filter-text-name"}),Value:(0,f.jsx)("span",{className:"dataviews-filters__summary-filter-text-value"})};if(n?.operator===v)return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is any: Admin, Editor". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Author is any: Admin, Editor". */
(0,s.__)("<Name>%1$s is any: </Name><Value>%2$s</Value>"),i.name,e.map(e=>e.label).join(", ")),r);if(n?.operator===b)return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is none: Admin, Editor". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Author is none: Admin, Editor". */
(0,s.__)("<Name>%1$s is none: </Name><Value>%2$s</Value>"),i.name,e.map(e=>e.label).join(", ")),r);if(n?.operator===y)return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is all: Admin, Editor". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Author is all: Admin, Editor". */
(0,s.__)("<Name>%1$s is all: </Name><Value>%2$s</Value>"),i.name,e.map(e=>e.label).join(", ")),r);if(n?.operator===w)return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is not all: Admin, Editor". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Author is not all: Admin, Editor". */
(0,s.__)("<Name>%1$s is not all: </Name><Value>%2$s</Value>"),i.name,e.map(e=>e.label).join(", ")),r);if(n?.operator===m)return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is: Admin". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Author is: Admin". */
(0,s.__)("<Name>%1$s is: </Name><Value>%2$s</Value>"),i.name,e[0].label),r);if(n?.operator===g)return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is not: Admin". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Author is not: Admin". */
(0,s.__)("<Name>%1$s is not: </Name><Value>%2$s</Value>"),i.name,e[0].label),r);if(n?.operator===x)return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Price is less than: 10". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Price is less than: 10". */
(0,s.__)("<Name>%1$s is less than: </Name><Value>%2$s</Value>"),i.name,e[0].label),r);if(n?.operator===_)return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Price is greater than: 10". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Price is greater than: 10". */
(0,s.__)("<Name>%1$s is greater than: </Name><Value>%2$s</Value>"),i.name,e[0].label),r);if(n?.operator===S)return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Price is less than or equal to: 10". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Price is less than or equal to: 10". */
(0,s.__)("<Name>%1$s is less than or equal to: </Name><Value>%2$s</Value>"),i.name,e[0].label),r);if(n?.operator===E)return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Price is greater than or equal to: 10". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Price is greater than or equal to: 10". */
(0,s.__)("<Name>%1$s is greater than or equal to: </Name><Value>%2$s</Value>"),i.name,e[0].label),r);if(n?.operator===k)return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Title contains: Mars". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Title contains: Mars". */
(0,s.__)("<Name>%1$s contains: </Name><Value>%2$s</Value>"),i.name,e[0].label),r);if(n?.operator===A)return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Description doesn't contain: photo". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Description doesn't contain: photo". */
(0,s.__)("<Name>%1$s doesn't contain: </Name><Value>%2$s</Value>"),i.name,e[0].label),r);if(n?.operator===T)return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Title starts with: Mar". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Title starts with: Mar". */
(0,s.__)("<Name>%1$s starts with: </Name><Value>%2$s</Value>"),i.name,e[0].label),r);if(n?.operator===C)return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is before: 2024-01-01". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Date is before: 2024-01-01". */
(0,s.__)("<Name>%1$s is before: </Name><Value>%2$s</Value>"),i.name,e[0].label),r);if(n?.operator===P)return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is after: 2024-01-01". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Date is after: 2024-01-01". */
(0,s.__)("<Name>%1$s is after: </Name><Value>%2$s</Value>"),i.name,e[0].label),r);if(n?.operator===O)return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is on or before: 2024-01-01". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Date is on or before: 2024-01-01". */
(0,s.__)("<Name>%1$s is on or before: </Name><Value>%2$s</Value>"),i.name,e[0].label),r);if(n?.operator===j)return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is on or after: 2024-01-01". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Date is on or after: 2024-01-01". */
(0,s.__)("<Name>%1$s is on or after: </Name><Value>%2$s</Value>"),i.name,e[0].label),r);if(n?.operator===I){const{label:n}=e[0];return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Min value. 3: Max value. e.g.: "Item count between (inc): 10-180". */ /* translators: 1: Filter name. 2: Min value. 3: Max value. e.g.: "Item count between (inc): 10-180". */
(0,s.__)("<Name>%1$s between (inc): </Name><Value>%2$s-%3$s</Value>"),i.name,n[0],n[1]),r)}return n?.operator===M?(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is: 2024-01-01". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Date is: 2024-01-01". */
(0,s.__)("<Name>%1$s is: </Name><Value>%2$s</Value>"),i.name,e[0].label),r):n?.operator===L?(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is not: 2024-01-01". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Date is not: 2024-01-01". */
(0,s.__)("<Name>%1$s is not: </Name><Value>%2$s</Value>"),i.name,e[0].label),r):n?.operator===R?(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is in the past: 1 days". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Date is in the past: 1 days". */
(0,s.__)("<Name>%1$s is in the past: </Name><Value>%2$s</Value>"),i.name,`${e[0].value.value} ${e[0].value.unit}`),r):n?.operator===N?(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is over: 1 days ago". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Date is over: 1 days ago". */
(0,s.__)("<Name>%1$s is over: </Name><Value>%2$s</Value> ago"),i.name,`${e[0].value.value} ${e[0].value.unit}`),r):(0,s.sprintf)(/* translators: 1: Filter name e.g.: "Unknown status for Author". */ /* translators: 1: Filter name e.g.: "Unknown status for Author". */
(0,s.__)("Unknown status for %1$s"),i.name)};function Ei({filter:e,view:t,onChangeView:n}){const i=e.operators?.map(e=>({value:e,label:V[e]?.label})),r=t.filters?.find(t=>t.field===e.field),o=r?.operator||e.operators[0];return i.length>1&&(0,f.jsxs)(l.__experimentalHStack,{spacing:2,justify:"flex-start",className:"dataviews-filters__summary-operators-container",children:[(0,f.jsx)(l.FlexItem,{className:"dataviews-filters__summary-operators-filter-name",children:e.name}),(0,f.jsx)(l.SelectControl,{className:"dataviews-filters__summary-operators-filter-select",label:(0,s.__)("Conditions"),value:o,options:i,onChange:i=>{var o,a;const s=i,l=r?.operator,c=r?[...(null!==(o=t.filters)&&void 0!==o?o:[]).map(t=>{if(t.field===e.field){const e=[I,R,N],n=l&&(e.includes(l)||e.includes(s));return{...t,value:n?void 0:t.value,operator:s}}return t})]:[...null!==(a=t.filters)&&void 0!==a?a:[],{field:e.field,operator:s,value:void 0}];n({...t,page:1,filters:c})},size:"small",variant:"minimal",__nextHasNoMarginBottom:!0,hideLabelFromVision:!0})]})}function Ci({addFilterRef:e,openedFilter:n,fields:i,...r}){const o=(0,t.useRef)(null),{filter:a,view:c,onChangeView:u}=r,d=c.filters?.find(e=>e.field===a.field);let h=[];a.elements.length>0?h=a.elements.filter(e=>a.singleSelection?e.value===d?.value:d?.value?.includes(e.value)):void 0!==d?.value&&(h=[{value:d.value,label:d.value}]);const p=a.isPrimary,m=void 0!==d?.value,g=!p||m;return(0,f.jsx)(l.Dropdown,{defaultOpen:n===a.field,contentClassName:"dataviews-filters__summary-popover",popoverProps:{placement:"bottom-start",role:"dialog"},onClose:()=>{o.current?.focus()},renderToggle:({isOpen:t,onToggle:n})=>(0,f.jsxs)("div",{className:"dataviews-filters__summary-chip-container",children:[(0,f.jsx)(l.Tooltip,{text:(0,s.sprintf)(/* translators: 1: Filter name. */ /* translators: 1: Filter name. */
(0,s.__)("Filter by: %1$s"),a.name.toLowerCase()),placement:"top",children:(0,f.jsx)("div",{className:K("dataviews-filters__summary-chip",{"has-reset":g,"has-values":m}),role:"button",tabIndex:0,onClick:n,onKeyDown:e=>{[xi,_i].includes(e.key)&&(n(),e.preventDefault())},"aria-pressed":t,"aria-expanded":t,ref:o,children:(0,f.jsx)(Si,{activeElements:h,filterInView:d,filter:a})})}),g&&(0,f.jsx)(l.Tooltip,{text:p?(0,s.__)("Reset"):(0,s.__)("Remove"),placement:"top",children:(0,f.jsx)("button",{className:K("dataviews-filters__summary-chip-remove",{"has-values":m}),onClick:()=>{u({...c,page:1,filters:c.filters?.filter(e=>e.field!==a.field)}),p?o.current?.focus():e.current?.focus()},children:(0,f.jsx)(l.Icon,{icon:Z})})})]}),renderContent:()=>(0,f.jsxs)(l.__experimentalVStack,{spacing:0,justify:"flex-start",children:[(0,f.jsx)(Ei,{...r}),r.filter.elements.length>0?(0,f.jsx)(vi,{...r,filter:{...r.filter,elements:r.filter.elements}}):(0,f.jsx)(wi,{...r,fields:i})]})})}const Pi=window.wp.privateApis,{lock:Oi,unlock:ji}=(0,Pi.__dangerousOptInToUnstableAPIsOnlyForCoreModules)("I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.","@wordpress/dataviews"),{Menu:ki}=ji(l.privateApis);function Ai({filters:e,view:t,onChangeView:n,setOpenedFilter:i,triggerProps:r}){const o=e.filter(e=>!e.isVisible);return(0,f.jsxs)(ki,{children:[(0,f.jsx)(ki.TriggerButton,{...r}),(0,f.jsx)(ki.Popover,{children:o.map(e=>(0,f.jsx)(ki.Item,{onClick:()=>{i(e.field),n({...t,page:1,filters:[...t.filters||[],{field:e.field,value:void 0,operator:e.operators[0]}]})},children:(0,f.jsx)(ki.ItemLabel,{children:e.name})},e.field))})]})}const Ti=(0,t.forwardRef)(function({filters:e,view:t,onChangeView:n,setOpenedFilter:i},r){if(!e.length||e.every(({isPrimary:e})=>e))return null;const o=e.filter(e=>!e.isVisible);return(0,f.jsx)(Ai,{triggerProps:{render:(0,f.jsx)(l.Button,{accessibleWhenDisabled:!0,size:"compact",className:"dataviews-filters-button",variant:"tertiary",disabled:!o.length,ref:r}),children:(0,s.__)("Add filter")},filters:e,view:t,onChangeView:n,setOpenedFilter:i})});function Ii({filters:e,view:t,onChangeView:n}){const i=!t.search&&!t.filters?.some(t=>{return void 0!==t.value||(n=t.field,!e.some(e=>e.field===n&&e.isPrimary));var n});return(0,f.jsx)(l.Button,{disabled:i,accessibleWhenDisabled:!0,size:"compact",variant:"tertiary",className:"dataviews-filters__reset-button",onClick:()=>{n({...t,page:1,search:"",filters:[]})},children:(0,s.__)("Reset")})}function Mi(e,n){return(0,t.useMemo)(()=>{const t=[];return e.forEach(e=>{var i;if(!1===e.filterBy||!e.elements?.length&&!e.Edit)return;const r=e.filterBy.operators,o=!!e.filterBy?.isPrimary;t.push({field:e.id,name:e.label,elements:null!==(i=e.elements)&&void 0!==i?i:[],singleSelection:r.some(e=>D.includes(e)),operators:r,isVisible:o||!!n.filters?.some(t=>t.field===e.id&&F.includes(t.operator)),isPrimary:o})}),t.sort((e,t)=>e.isPrimary&&!t.isPrimary?-1:!e.isPrimary&&t.isPrimary?1:e.name.localeCompare(t.name)),t},[e,n])}function Li(){const{filters:e,view:n,onChangeView:i,setOpenedFilter:r,isShowingFilter:o,setIsShowingFilter:a}=(0,t.useContext)(q),c=(0,t.useRef)(null),u=(0,t.useCallback)(e=>{i(e),a(!0)},[i,a]),d=!!e.filter(e=>e.isVisible).length;if(0===e.length)return null;const h={label:(0,s.__)("Add filter"),"aria-expanded":!1,isPressed:!1},p={label:(0,s._x)("Filter","verb"),"aria-expanded":o,isPressed:o,onClick:()=>{o||r(null),a(!o)}},m=(0,f.jsx)(l.Button,{ref:c,className:"dataviews-filters__visibility-toggle",size:"compact",icon:Y,...d?p:h});return(0,f.jsx)("div",{className:"dataviews-filters__container-visibility-toggle",children:d?(0,f.jsx)(Ri,{buttonRef:c,filtersCount:n.filters?.length,children:m}):(0,f.jsx)(Ai,{filters:e,view:n,onChangeView:u,setOpenedFilter:r,triggerProps:{render:m}})})}function Ri({buttonRef:e,filtersCount:n,children:i}){return(0,t.useEffect)(()=>()=>{e.current?.focus()},[e]),(0,f.jsxs)(f.Fragment,{children:[i,!!n&&(0,f.jsx)("span",{className:"dataviews-filters-toggle__count",children:n})]})}const Ni=(0,t.memo)(function({className:e}){const{fields:n,view:i,onChangeView:r,openedFilter:o,setOpenedFilter:a}=(0,t.useContext)(q),s=(0,t.useRef)(null),c=Mi(n,i),u=(0,f.jsx)(Ti,{filters:c,view:i,onChangeView:r,ref:s,setOpenedFilter:a},"add-filter"),d=c.filter(e=>e.isVisible);if(0===d.length)return null;const h=[...d.map(e=>(0,f.jsx)(Ci,{filter:e,view:i,fields:n,onChangeView:r,addFilterRef:s,openedFilter:o},e.field)),u];return h.push((0,f.jsx)(Ii,{filters:c,view:i,onChangeView:r},"reset-filters")),(0,f.jsx)(l.__experimentalHStack,{justify:"flex-start",style:{width:"fit-content"},wrap:!0,className:e,children:h})}),Fi=(0,f.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)(d.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v3.5h-15V5c0-.3.2-.5.5-.5zm8 5.5h6.5v3.5H13V10zm-1.5 3.5h-7V10h7v3.5zm-7 5.5v-4h7v4.5H5c-.3 0-.5-.2-.5-.5zm14.5.5h-6V15h6.5v4c0 .3-.2.5-.5.5z"})}),Di=(0,f.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)(d.Path,{d:"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z",fillRule:"evenodd",clipRule:"evenodd"})}),Vi=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"M4 8.8h8.9V7.2H4v1.6zm0 7h8.9v-1.5H4v1.5zM18 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"})}),Bi=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"M11.1 15.8H20v-1.5h-8.9v1.5zm0-8.6v1.5H20V7.2h-8.9zM6 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})});function zi({selection:e,onChangeSelection:t,item:n,getItemId:i,titleField:r,disabled:o}){const a=i(n),c=!o&&e.includes(a),u=r?.getValue?.({item:n})||(0,s.__)("(no title)");return(0,f.jsx)(l.CheckboxControl,{className:"dataviews-selection-checkbox",__nextHasNoMarginBottom:!0,"aria-label":u,"aria-disabled":o,checked:c,onChange:()=>{o||t(e.includes(a)?e.filter(e=>a!==e):[...e,a])}})}const Hi=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"})}),$i=window.wp.data,{Menu:Ui,kebabCase:Gi}=ji(l.privateApis);function Wi({action:e,onClick:t,items:n}){const i="string"==typeof e.label?e.label:e.label(n);return(0,f.jsx)(l.Button,{label:i,icon:e.icon,disabled:!!e.disabled,accessibleWhenDisabled:!0,isDestructive:e.isDestructive,size:"compact",onClick:t})}function qi({action:e,onClick:t,items:n}){const i="string"==typeof e.label?e.label:e.label(n);return(0,f.jsx)(Ui.Item,{disabled:e.disabled,onClick:t,children:(0,f.jsx)(Ui.ItemLabel,{children:i})})}function Yi({action:e,items:t,closeModal:n}){var i;const r="string"==typeof e.label?e.label:e.label(t);return(0,f.jsx)(l.Modal,{title:e.modalHeader||r,__experimentalHideHeader:!!e.hideModalHeader,onRequestClose:n,focusOnMount:null===(i=e.modalFocusOnMount)||void 0===i||i,size:e.modalSize||"medium",overlayClassName:`dataviews-action-modal dataviews-action-modal__${Gi(e.id)}`,children:(0,f.jsx)(e.RenderModal,{items:t,closeModal:n})})}function Xi({actions:e,item:t,registry:n,setActiveModalAction:i}){return(0,f.jsx)(Ui.Group,{children:e.map(e=>(0,f.jsx)(qi,{action:e,onClick:()=>{"RenderModal"in e?i(e):e.callback([t],{registry:n})},items:[t]},e.id))})}function Ki({item:e,actions:n,isCompact:i}){const r=(0,$i.useRegistry)(),{primaryActions:o,eligibleActions:a}=(0,t.useMemo)(()=>{const t=n.filter(t=>!t.isEligible||t.isEligible(e));return{primaryActions:t.filter(e=>e.isPrimary&&!!e.icon),eligibleActions:t}},[n,e]);return i?(0,f.jsx)(Zi,{item:e,actions:a,isSmall:!0,registry:r}):o.length===a.length?(0,f.jsx)(Qi,{item:e,actions:o,registry:r}):(0,f.jsxs)(l.__experimentalHStack,{spacing:1,justify:"flex-end",className:"dataviews-item-actions",style:{flexShrink:0,width:"auto"},children:[(0,f.jsx)(Qi,{item:e,actions:o,registry:r}),(0,f.jsx)(Zi,{item:e,actions:a,registry:r})]})}function Zi({item:e,actions:n,isSmall:i,registry:r}){const[o,a]=(0,t.useState)(null);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(Ui,{placement:"bottom-end",children:[(0,f.jsx)(Ui.TriggerButton,{render:(0,f.jsx)(l.Button,{size:i?"small":"compact",icon:Hi,label:(0,s.__)("Actions"),accessibleWhenDisabled:!0,disabled:!n.length,className:"dataviews-all-actions-button"})}),(0,f.jsx)(Ui.Popover,{children:(0,f.jsx)(Xi,{actions:n,item:e,registry:r,setActiveModalAction:a})})]}),!!o&&(0,f.jsx)(Yi,{action:o,items:[e],closeModal:()=>a(null)})]})}function Qi({item:e,actions:n,registry:i}){const[r,o]=(0,t.useState)(null);return Array.isArray(n)&&0!==n.length?(0,f.jsxs)(f.Fragment,{children:[n.map(t=>(0,f.jsx)(Wi,{action:t,onClick:()=>{"RenderModal"in t?o(t):t.callback([e],{registry:i})},items:[e]},t.id)),!!r&&(0,f.jsx)(Yi,{action:r,items:[e],closeModal:()=>o(null)})]}):null}function Ji({action:e,items:n,ActionTriggerComponent:i}){const[r,o]=(0,t.useState)(!1),a={action:e,onClick:()=>{o(!0)},items:n};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(i,{...a}),r&&(0,f.jsx)(Yi,{action:e,items:n,closeModal:()=>o(!1)})]})}function er(e,n){return(0,t.useMemo)(()=>e.some(e=>e.supportsBulk&&(!e.isEligible||e.isEligible(n))),[e,n])}function tr(e,n){return(0,t.useMemo)(()=>n.some(t=>e.some(e=>e.supportsBulk&&(!e.isEligible||e.isEligible(t)))),[e,n])}function nr({selection:e,onChangeSelection:n,data:i,actions:r,getItemId:o}){const a=(0,t.useMemo)(()=>i.filter(e=>r.some(t=>t.supportsBulk&&(!t.isEligible||t.isEligible(e)))),[i,r]),c=i.filter(t=>e.includes(o(t))&&a.includes(t)),u=c.length===a.length;return(0,f.jsx)(l.CheckboxControl,{className:"dataviews-view-table-selection-checkbox",__nextHasNoMarginBottom:!0,checked:u,indeterminate:!u&&!!c.length,onChange:()=>{n(u?[]:a.map(e=>o(e)))},"aria-label":u?(0,s.__)("Deselect all"):(0,s.__)("Select all")})}function ir({action:e,onClick:t,isBusy:n,items:i}){const r="string"==typeof e.label?e.label:e.label(i);return(0,f.jsx)(l.Button,{disabled:n,accessibleWhenDisabled:!0,label:r,icon:e.icon,isDestructive:e.isDestructive,size:"compact",onClick:t,isBusy:n,tooltipPosition:"top"})}const rr=[];function or({action:e,selectedItems:n,actionInProgress:i,setActionInProgress:r}){const o=(0,$i.useRegistry)(),a=(0,t.useMemo)(()=>n.filter(t=>!e.isEligible||e.isEligible(t)),[e,n]);return"RenderModal"in e?(0,f.jsx)(Ji,{action:e,items:a,ActionTriggerComponent:ir},e.id):(0,f.jsx)(ir,{action:e,onClick:async()=>{r(e.id),await e.callback(n,{registry:o}),r(null)},items:a,isBusy:i===e.id},e.id)}function ar(e,t,n,i,r,o,a,c,u){const d=o.length>0?(0,s.sprintf)(/* translators: %d: number of items. */ /* translators: %d: number of items. */
(0,s._n)("%d Item selected","%d Items selected",o.length),o.length):(0,s.sprintf)(/* translators: %d: number of items. */ /* translators: %d: number of items. */
(0,s._n)("%d Item","%d Items",e.length),e.length);return(0,f.jsxs)(l.__experimentalHStack,{expanded:!1,className:"dataviews-bulk-actions-footer__container",spacing:3,children:[(0,f.jsx)(nr,{selection:i,onChangeSelection:u,data:e,actions:t,getItemId:n}),(0,f.jsx)("span",{className:"dataviews-bulk-actions-footer__item-count",children:d}),(0,f.jsxs)(l.__experimentalHStack,{className:"dataviews-bulk-actions-footer__action-buttons",expanded:!1,spacing:1,children:[r.map(e=>(0,f.jsx)(or,{action:e,selectedItems:o,actionInProgress:a,setActionInProgress:c},e.id)),o.length>0&&(0,f.jsx)(l.Button,{icon:Z,showTooltip:!0,tooltipPosition:"top",size:"compact",label:(0,s.__)("Cancel"),disabled:!!a,accessibleWhenDisabled:!1,onClick:()=>{u(rr)}})]})]})}function sr({selection:e,actions:n,onChangeSelection:i,data:r,getItemId:o}){const[a,s]=(0,t.useState)(null),l=(0,t.useRef)(null),c=(0,t.useMemo)(()=>n.filter(e=>e.supportsBulk),[n]),u=(0,t.useMemo)(()=>r.filter(e=>c.some(t=>!t.isEligible||t.isEligible(e))),[r,c]),d=(0,t.useMemo)(()=>r.filter(t=>e.includes(o(t))&&u.includes(t)),[e,r,o,u]),f=(0,t.useMemo)(()=>n.filter(e=>e.supportsBulk&&e.icon&&d.some(t=>!e.isEligible||e.isEligible(t))),[n,d]);return a?(l.current||(l.current=ar(r,n,o,e,f,d,a,s,i)),l.current):(l.current&&(l.current=null),ar(r,n,o,e,f,d,a,s,i))}function lr(){const{data:e,selection:n,actions:i=rr,onChangeSelection:r,getItemId:o}=(0,t.useContext)(q);return(0,f.jsx)(sr,{selection:n,onChangeSelection:r,data:e,actions:i,getItemId:o})}const cr=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"M20 11.2H6.8l3.7-3.7-1-1L3.9 12l5.6 5.5 1-1-3.7-3.7H20z"})}),ur=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"m14.5 6.5-1 1 3.7 3.7H4v1.6h13.2l-3.7 3.7 1 1 5.6-5.5z"})}),dr=(0,f.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)(d.Path,{d:"M20.7 12.7s0-.1-.1-.2c0-.2-.2-.4-.4-.6-.3-.5-.9-1.2-1.6-1.8-.7-.6-1.5-1.3-2.6-1.8l-.6 1.4c.9.4 1.6 1 2.1 1.5.6.6 1.1 1.2 1.4 1.6.1.2.3.4.3.5v.1l.7-.3.7-.3Zm-5.2-9.3-1.8 4c-.5-.1-1.1-.2-1.7-.2-3 0-5.2 1.4-6.6 2.7-.7.7-1.2 1.3-1.6 1.8-.2.3-.3.5-.4.6 0 0 0 .1-.1.2s0 0 .7.3l.7.3V13c0-.1.2-.3.3-.5.3-.4.7-1 1.4-1.6 1.2-1.2 3-2.3 5.5-2.3H13v.3c-.4 0-.8-.1-1.1-.1-1.9 0-3.5 1.6-3.5 3.5s.6 2.3 1.6 2.9l-2 4.4.9.4 7.6-16.2-.9-.4Zm-3 12.6c1.7-.2 3-1.7 3-3.5s-.2-1.4-.6-1.9L12.4 16Z"})}),{Menu:fr}=ji(l.privateApis);function hr({children:e}){return t.Children.toArray(e).filter(Boolean).map((e,n)=>(0,f.jsxs)(t.Fragment,{children:[n>0&&(0,f.jsx)(fr.Separator,{}),e]},n))}const pr=(0,t.forwardRef)(function({fieldId:e,view:t,fields:n,onChangeView:i,onHide:r,setOpenedFilter:o,canMove:a=!0},c){var u;const d=null!==(u=t.fields)&&void 0!==u?u:[],h=d?.indexOf(e),p=t.sort?.field===e;let m=!1,g=!1,v=!1,b=[];const y=n.find(t=>t.id===e);if(!y)return null;m=!1!==y.enableHiding,g=!1!==y.enableSorting;const w=y.header;return b=!!y.filterBy&&y.filterBy?.operators||[],v=!(t.filters?.some(t=>e===t.field)||!y.elements?.length&&!y.Edit||!1===y.filterBy||y.filterBy?.isPrimary),(0,f.jsxs)(fr,{children:[(0,f.jsxs)(fr.TriggerButton,{render:(0,f.jsx)(l.Button,{size:"compact",className:"dataviews-view-table-header-button",ref:c,variant:"tertiary"}),children:[w,t.sort&&p&&(0,f.jsx)("span",{"aria-hidden":"true",children:z[t.sort.direction]})]}),(0,f.jsx)(fr.Popover,{style:{minWidth:"240px"},children:(0,f.jsxs)(hr,{children:[g&&(0,f.jsx)(fr.Group,{children:B.map(n=>{const r=t.sort&&p&&t.sort.direction===n,o=`${e}-${n}`;return(0,f.jsx)(fr.RadioItem,{name:"view-table-sorting",value:o,checked:r,onChange:()=>{i({...t,sort:{field:e,direction:n},showLevels:!1})},children:(0,f.jsx)(fr.ItemLabel,{children:$[n]})},o)})}),v&&(0,f.jsx)(fr.Group,{children:(0,f.jsx)(fr.Item,{prefix:(0,f.jsx)(l.Icon,{icon:Y}),onClick:()=>{o(e),i({...t,page:1,filters:[...t.filters||[],{field:e,value:void 0,operator:b[0]}]})},children:(0,f.jsx)(fr.ItemLabel,{children:(0,s.__)("Add filter")})})}),(a||m)&&y&&(0,f.jsxs)(fr.Group,{children:[a&&(0,f.jsx)(fr.Item,{prefix:(0,f.jsx)(l.Icon,{icon:cr}),disabled:h<1,onClick:()=>{var n;i({...t,fields:[...null!==(n=d.slice(0,h-1))&&void 0!==n?n:[],e,d[h-1],...d.slice(h+1)]})},children:(0,f.jsx)(fr.ItemLabel,{children:(0,s.__)("Move left")})}),a&&(0,f.jsx)(fr.Item,{prefix:(0,f.jsx)(l.Icon,{icon:ur}),disabled:h>=d.length-1,onClick:()=>{var n;i({...t,fields:[...null!==(n=d.slice(0,h))&&void 0!==n?n:[],d[h+1],e,...d.slice(h+2)]})},children:(0,f.jsx)(fr.ItemLabel,{children:(0,s.__)("Move right")})}),m&&y&&(0,f.jsx)(fr.Item,{prefix:(0,f.jsx)(l.Icon,{icon:dr}),onClick:()=>{r(y),i({...t,fields:d.filter(t=>t!==e)})},children:(0,f.jsx)(fr.ItemLabel,{children:(0,s.__)("Hide column")})})]})]})})]})});function mr({item:e,isItemClickable:t,onClickItem:n,renderItemLink:i,className:r,children:o,...a}){if(!t(e))return o;if(i)return i({item:e,className:`${r} ${r}--clickable`,...a,children:o});const s=function({item:e,isItemClickable:t,onClickItem:n,className:i}){return t(e)&&n?{className:i?`${i} ${i}--clickable`:void 0,role:"button",tabIndex:0,onClick:t=>{t.stopPropagation(),n(e)},onKeyDown:t=>{"Enter"!==t.key&&""!==t.key&&" "!==t.key||(t.stopPropagation(),n(e))}}:{className:i}}({item:e,isItemClickable:t,onClickItem:n,className:r});return(0,f.jsx)("div",{...s,...a,children:o})}const gr=function({item:e,level:t,titleField:n,mediaField:i,descriptionField:r,onClickItem:o,renderItemLink:a,isItemClickable:s}){return(0,f.jsxs)(l.__experimentalHStack,{spacing:3,justify:"flex-start",children:[i&&(0,f.jsx)("div",{className:"dataviews-view-table__cell-content-wrapper dataviews-column-primary__media",children:(0,f.jsx)(i.render,{item:e,field:i})}),(0,f.jsxs)(l.__experimentalVStack,{spacing:0,children:[n&&(0,f.jsxs)(mr,{item:e,isItemClickable:s,onClickItem:o,renderItemLink:a,className:"dataviews-view-table__cell-content-wrapper dataviews-title-field",children:[void 0!==t&&(0,f.jsxs)("span",{className:"dataviews-view-table__level",children:["—".repeat(t)," "]}),(0,f.jsx)(n.render,{item:e,field:n})]}),r&&(0,f.jsx)(r.render,{item:e,field:r})]})]})};function vr({item:e,fields:t,column:n,align:i}){const r=t.find(e=>e.id===n);if(!r)return null;const o=K("dataviews-view-table__cell-content-wrapper",{"dataviews-view-table__cell-align-end":"end"===i,"dataviews-view-table__cell-align-center":"center"===i});return(0,f.jsx)("div",{className:o,children:(0,f.jsx)(r.render,{item:e,field:r})})}function br({hasBulkActions:e,item:n,level:i,actions:r,fields:o,id:a,view:s,titleField:l,mediaField:c,descriptionField:u,selection:d,getItemId:h,isItemClickable:p,onClickItem:m,renderItemLink:g,onChangeSelection:v,isActionsColumnSticky:b}){var y;const w=er(r,n),x=w&&d.includes(a),[_,S]=(0,t.useState)(!1),{showTitle:E=!0,showMedia:C=!0,showDescription:P=!0}=s,O=(0,t.useRef)(!1),j=null!==(y=s.fields)&&void 0!==y?y:[],k=l&&E||c&&C||u&&P;return(0,f.jsxs)("tr",{className:K("dataviews-view-table__row",{"is-selected":w&&x,"is-hovered":_,"has-bulk-actions":w}),onMouseEnter:()=>{S(!0)},onMouseLeave:()=>{S(!1)},onTouchStart:()=>{O.current=!0},onClick:()=>{w&&(O.current||"Range"===document.getSelection()?.type||v(d.includes(a)?d.filter(e=>a!==e):[a]))},children:[e&&(0,f.jsx)("td",{className:"dataviews-view-table__checkbox-column",children:(0,f.jsx)("div",{className:"dataviews-view-table__cell-content-wrapper",children:(0,f.jsx)(zi,{item:n,selection:d,onChangeSelection:v,getItemId:h,titleField:l,disabled:!w})})}),k&&(0,f.jsx)("td",{children:(0,f.jsx)(gr,{item:n,level:i,titleField:E?l:void 0,mediaField:C?c:void 0,descriptionField:P?u:void 0,isItemClickable:p,onClickItem:m,renderItemLink:g})}),j.map(e=>{var t;const{width:i,maxWidth:r,minWidth:a,align:l}=null!==(t=s.layout?.styles?.[e])&&void 0!==t?t:{};return(0,f.jsx)("td",{style:{width:i,maxWidth:r,minWidth:a},children:(0,f.jsx)(vr,{fields:o,item:n,column:e,align:l})},e)}),!!r?.length&&(0,f.jsx)("td",{className:K("dataviews-view-table__actions-column",{"dataviews-view-table__actions-column--sticky":!0,"dataviews-view-table__actions-column--stuck":b}),onClick:e=>e.stopPropagation(),children:(0,f.jsx)(Ki,{item:n,actions:r})})]})}const yr={xhuge:{min:3,max:6,default:5},huge:{min:2,max:4,default:4},xlarge:{min:2,max:3,default:3},large:{min:1,max:2,default:2},mobile:{min:1,max:2,default:2}},wr={xhuge:1520,huge:1140,xlarge:780,large:480,mobile:0};function xr(){const e=(0,t.useContext)(q).containerWidth;for(const[t,n]of Object.entries(wr))if(e>=n)return t;return"mobile"}const{Badge:_r}=ji(l.privateApis);function Sr({view:e,selection:t,onChangeSelection:i,onClickItem:r,isItemClickable:o,renderItemLink:a,getItemId:c,item:u,actions:d,mediaField:h,titleField:p,descriptionField:m,regularFields:g,badgeFields:v,hasBulkActions:b}){const{showTitle:y=!0,showMedia:w=!0,showDescription:x=!0}=e,_=er(d,u),S=c(u),E=(0,n.useInstanceId)(Sr),C=t.includes(S),P=h?.render?(0,f.jsx)(h.render,{item:u,field:h}):null,O=y&&p?.render?(0,f.jsx)(p.render,{item:u,field:p}):null;let j,k;return o(u)&&r&&(O?(j={"aria-labelledby":`dataviews-view-grid__title-field-${E}`},k={id:`dataviews-view-grid__title-field-${E}`}):j={"aria-label":(0,s.__)("Navigate to item")}),(0,f.jsxs)(l.__experimentalVStack,{spacing:0,className:K("dataviews-view-grid__card",{"is-selected":_&&C}),onClickCapture:e=>{if(e.ctrlKey||e.metaKey){if(e.stopPropagation(),e.preventDefault(),!_)return;i(t.includes(S)?t.filter(e=>S!==e):[...t,S])}},children:[w&&P&&(0,f.jsx)(mr,{item:u,isItemClickable:o,onClickItem:r,renderItemLink:a,className:"dataviews-view-grid__media",...j,children:P}),b&&w&&P&&(0,f.jsx)(zi,{item:u,selection:t,onChangeSelection:i,getItemId:c,titleField:p,disabled:!_}),(0,f.jsxs)(l.__experimentalHStack,{justify:"space-between",className:"dataviews-view-grid__title-actions",children:[(0,f.jsx)(mr,{item:u,isItemClickable:o,onClickItem:r,renderItemLink:a,className:"dataviews-view-grid__title-field dataviews-title-field",...k,children:O}),!!d?.length&&(0,f.jsx)(Ki,{item:u,actions:d,isCompact:!0})]}),(0,f.jsxs)(l.__experimentalVStack,{spacing:1,children:[x&&m?.render&&(0,f.jsx)(m.render,{item:u,field:m}),!!v?.length&&(0,f.jsx)(l.__experimentalHStack,{className:"dataviews-view-grid__badge-fields",spacing:2,wrap:!0,alignment:"top",justify:"flex-start",children:v.map(e=>(0,f.jsx)(_r,{className:"dataviews-view-grid__field-value",children:(0,f.jsx)(e.render,{item:u,field:e})},e.id))}),!!g?.length&&(0,f.jsx)(l.__experimentalVStack,{className:"dataviews-view-grid__fields",spacing:1,children:g.map(e=>(0,f.jsx)(l.Flex,{className:"dataviews-view-grid__field",gap:1,justify:"flex-start",expanded:!0,style:{height:"auto"},direction:"row",children:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(l.FlexItem,{className:"dataviews-view-grid__field-name",children:e.header}),(0,f.jsx)(l.FlexItem,{className:"dataviews-view-grid__field-value",style:{maxHeight:"none"},children:(0,f.jsx)(e.render,{item:u,field:e})})]})},e.id))})]})]},S)}const{Menu:Er}=ji(l.privateApis);function Cr(e){return`${e}-item-wrapper`}function Pr(e){return`${e}-dropdown`}function Or({idPrefix:e,primaryAction:n,item:i}){const r=(0,$i.useRegistry)(),[o,a]=(0,t.useState)(!1),s=function(e,t){return`${e}-primary-action-${t}`}(e,n.id),c="string"==typeof n.label?n.label:n.label([i]);return"RenderModal"in n?(0,f.jsx)("div",{role:"gridcell",children:(0,f.jsx)(l.Composite.Item,{id:s,render:(0,f.jsx)(l.Button,{label:c,disabled:!!n.disabled,accessibleWhenDisabled:!0,icon:n.icon,isDestructive:n.isDestructive,size:"small",onClick:()=>a(!0)}),children:o&&(0,f.jsx)(Yi,{action:n,items:[i],closeModal:()=>a(!1)})})},n.id):(0,f.jsx)("div",{role:"gridcell",children:(0,f.jsx)(l.Composite.Item,{id:s,render:(0,f.jsx)(l.Button,{label:c,disabled:!!n.disabled,accessibleWhenDisabled:!0,icon:n.icon,isDestructive:n.isDestructive,size:"small",onClick:()=>{n.callback([i],{registry:r})}})})},n.id)}function jr({view:e,actions:n,idPrefix:i,isSelected:r,item:o,titleField:a,mediaField:c,descriptionField:u,onSelect:d,otherFields:h,onDropdownTriggerKeyDown:p}){const{showTitle:m=!0,showMedia:g=!0,showDescription:v=!0}=e,b=(0,t.useRef)(null),y=`${i}-label`,w=`${i}-description`,x=(0,$i.useRegistry)(),[_,S]=(0,t.useState)(!1),[E,C]=(0,t.useState)(null),P=({type:e})=>{S("mouseenter"===e)};(0,t.useEffect)(()=>{r&&b.current?.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"})},[r]);const{primaryAction:O,eligibleActions:j}=(0,t.useMemo)(()=>{const e=n.filter(e=>!e.isEligible||e.isEligible(o));return{primaryAction:e.filter(e=>e.isPrimary&&!!e.icon)[0],eligibleActions:e}},[n,o]),k=O&&1===n.length,A=g&&c?.render?(0,f.jsx)("div",{className:"dataviews-view-list__media-wrapper",children:(0,f.jsx)(c.render,{item:o,field:c})}):null,T=m&&a?.render?(0,f.jsx)(a.render,{item:o,field:a}):null,I=j?.length>0&&(0,f.jsxs)(l.__experimentalHStack,{spacing:3,className:"dataviews-view-list__item-actions",children:[O&&(0,f.jsx)(Or,{idPrefix:i,primaryAction:O,item:o}),!k&&(0,f.jsxs)("div",{role:"gridcell",children:[(0,f.jsxs)(Er,{placement:"bottom-end",children:[(0,f.jsx)(Er.TriggerButton,{render:(0,f.jsx)(l.Composite.Item,{id:Pr(i),render:(0,f.jsx)(l.Button,{size:"small",icon:Hi,label:(0,s.__)("Actions"),accessibleWhenDisabled:!0,disabled:!n.length,onKeyDown:p})})}),(0,f.jsx)(Er.Popover,{children:(0,f.jsx)(Xi,{actions:j,item:o,registry:x,setActiveModalAction:C})})]}),!!E&&(0,f.jsx)(Yi,{action:E,items:[o],closeModal:()=>C(null)})]})]});return(0,f.jsx)(l.Composite.Row,{ref:b,render:(0,f.jsx)("div",{}),role:"row",className:K({"is-selected":r,"is-hovered":_}),onMouseEnter:P,onMouseLeave:P,children:(0,f.jsxs)(l.__experimentalHStack,{className:"dataviews-view-list__item-wrapper",spacing:0,children:[(0,f.jsx)("div",{role:"gridcell",children:(0,f.jsx)(l.Composite.Item,{id:Cr(i),"aria-pressed":r,"aria-labelledby":y,"aria-describedby":w,className:"dataviews-view-list__item",onClick:()=>d(o)})}),(0,f.jsxs)(l.__experimentalHStack,{spacing:3,justify:"start",alignment:"flex-start",children:[A,(0,f.jsxs)(l.__experimentalVStack,{spacing:1,className:"dataviews-view-list__field-wrapper",children:[(0,f.jsxs)(l.__experimentalHStack,{spacing:0,children:[(0,f.jsx)("div",{className:"dataviews-title-field",id:y,children:T}),I]}),v&&u?.render&&(0,f.jsx)("div",{className:"dataviews-view-list__field",children:(0,f.jsx)(u.render,{item:o,field:u})}),(0,f.jsx)("div",{className:"dataviews-view-list__fields",id:w,children:h.map(e=>(0,f.jsxs)("div",{className:"dataviews-view-list__field",children:[(0,f.jsx)(l.VisuallyHidden,{as:"span",className:"dataviews-view-list__field-label",children:e.label}),(0,f.jsx)("span",{className:"dataviews-view-list__field-value",children:(0,f.jsx)(e.render,{item:o,field:e})})]},e.id))})]})]})]})})}function kr(e){return!!e}const Ar=[{type:G,label:(0,s.__)("Table"),component:function({actions:e,data:i,fields:r,getItemId:o,getItemLevel:a,isLoading:c=!1,onChangeView:u,onChangeSelection:d,selection:h,setOpenedFilter:p,onClickItem:m,isItemClickable:g,renderItemLink:v,view:b,className:y}){var w;const{containerRef:x}=(0,t.useContext)(q),_=(0,t.useRef)(new Map),S=(0,t.useRef)(),[E,C]=(0,t.useState)(),P=tr(e,i);(0,t.useEffect)(()=>{S.current&&(S.current.focus(),S.current=void 0)});const O=(0,t.useId)(),j=function({scrollContainerRef:e,enabled:i=!1}){const[r,o]=(0,t.useState)(!1),a=(0,n.useDebounce)((0,t.useCallback)(()=>{const t=e.current;var n;t&&o((n=t,(0,s.isRTL)()?Math.abs(n.scrollLeft)<=1:n.scrollLeft+n.clientWidth>=n.scrollWidth-1))},[e,o]),200);return(0,t.useEffect)(()=>"undefined"!=typeof window&&i&&e.current?(a(),e.current.addEventListener("scroll",a),window.addEventListener("resize",a),()=>{e.current?.removeEventListener("scroll",a),window.removeEventListener("resize",a)}):()=>{},[e,i]),r}({scrollContainerRef:x,enabled:!!e?.length});if(E)return S.current=E,void C(void 0);const k=e=>{const t=_.current.get(e.id),n=t?_.current.get(t.fallback):void 0;C(n?.node)},A=!!i?.length,T=r.find(e=>e.id===b.titleField),I=r.find(e=>e.id===b.mediaField),M=r.find(e=>e.id===b.descriptionField),{showTitle:L=!0,showMedia:R=!0,showDescription:N=!0}=b,F=T&&L||I&&R||M&&N,D=null!==(w=b.fields)&&void 0!==w?w:[],V=(e,t)=>n=>{n?_.current.set(e,{node:n,fallback:D[t>0?t-1:1]}):_.current.delete(e)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("table",{className:K("dataviews-view-table",y,{[`has-${b.layout?.density}-density`]:b.layout?.density&&["compact","comfortable"].includes(b.layout.density)}),"aria-busy":c,"aria-describedby":O,children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{className:"dataviews-view-table__row",children:[P&&(0,f.jsx)("th",{className:"dataviews-view-table__checkbox-column",scope:"col",children:(0,f.jsx)(nr,{selection:h,onChangeSelection:d,data:i,actions:e,getItemId:o})}),F&&(0,f.jsx)("th",{scope:"col",children:T&&(0,f.jsx)(pr,{ref:V(T.id,0),fieldId:T.id,view:b,fields:r,onChangeView:u,onHide:k,setOpenedFilter:p,canMove:!1})}),D.map((e,t)=>{var n;const{width:i,maxWidth:o,minWidth:a,align:s}=null!==(n=b.layout?.styles?.[e])&&void 0!==n?n:{};return(0,f.jsx)("th",{style:{width:i,maxWidth:o,minWidth:a,textAlign:s},"aria-sort":b.sort?.direction&&b.sort?.field===e?H[b.sort.direction]:void 0,scope:"col",children:(0,f.jsx)(pr,{ref:V(e,t),fieldId:e,view:b,fields:r,onChangeView:u,onHide:k,setOpenedFilter:p})},e)}),!!e?.length&&(0,f.jsx)("th",{className:K("dataviews-view-table__actions-column",{"dataviews-view-table__actions-column--sticky":!0,"dataviews-view-table__actions-column--stuck":!j}),children:(0,f.jsx)("span",{className:"dataviews-view-table-header",children:(0,s.__)("Actions")})})]})}),(0,f.jsx)("tbody",{children:A&&i.map((t,n)=>(0,f.jsx)(br,{item:t,level:b.showLevels&&"function"==typeof a?a(t):void 0,hasBulkActions:P,actions:e,fields:r,id:o(t)||n.toString(),view:b,titleField:T,mediaField:I,descriptionField:M,selection:h,getItemId:o,onChangeSelection:d,onClickItem:m,renderItemLink:v,isItemClickable:g,isActionsColumnSticky:!j},o(t)))})]}),(0,f.jsx)("div",{className:K({"dataviews-loading":c,"dataviews-no-results":!A&&!c}),id:O,children:!A&&(0,f.jsx)("p",{children:c?(0,f.jsx)(l.Spinner,{}):(0,s.__)("No results")})})]})},icon:Fi,viewConfigOptions:function(){const e=(0,t.useContext)(q),n=e.view;return(0,f.jsxs)(l.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,size:"__unstable-large",label:(0,s.__)("Density"),value:n.layout?.density||"balanced",onChange:t=>{e.onChangeView({...n,layout:{...n.layout,density:t}})},isBlock:!0,children:[(0,f.jsx)(l.__experimentalToggleGroupControlOption,{value:"comfortable",label:(0,s._x)("Comfortable","Density option for DataView layout")},"comfortable"),(0,f.jsx)(l.__experimentalToggleGroupControlOption,{value:"balanced",label:(0,s._x)("Balanced","Density option for DataView layout")},"balanced"),(0,f.jsx)(l.__experimentalToggleGroupControlOption,{value:"compact",label:(0,s._x)("Compact","Density option for DataView layout")},"compact")]})}},{type:W,label:(0,s.__)("Grid"),component:function({actions:e,data:n,fields:i,getItemId:r,isLoading:o,onChangeSelection:a,onClickItem:c,isItemClickable:u,renderItemLink:d,selection:h,view:p,className:m}){var g;const v=i.find(e=>e.id===p?.titleField),b=i.find(e=>e.id===p?.mediaField),y=i.find(e=>e.id===p?.descriptionField),w=null!==(g=p.fields)&&void 0!==g?g:[],{regularFields:x,badgeFields:_}=w.reduce((e,t)=>{const n=i.find(e=>e.id===t);return n?(e[p.layout?.badgeFields?.includes(t)?"badgeFields":"regularFields"].push(n),e):e},{regularFields:[],badgeFields:[]}),S=!!n?.length,E=function(){const e=(0,t.useContext)(q).view,n=xr();return(0,t.useMemo)(()=>{const t=e.layout?.previewSize;let i;if(!t)return;const r=yr[n];return t<r.min&&(i=r.min),t>r.max&&(i=r.max),i},[n,e])}(),C=tr(e,n),P=E||p.layout?.previewSize,O=P?{gridTemplateColumns:`repeat(${P}, minmax(0, 1fr))`}:{},j=p.groupByField?i.find(e=>e.id===p.groupByField):null,k=j?n.reduce((e,t)=>{const n=j.getValue({item:t});return e.has(n)||e.set(n,[]),e.get(n)?.push(t),e},new Map):null;return(0,f.jsxs)(f.Fragment,{children:[S&&j&&k&&(0,f.jsx)(l.__experimentalVStack,{spacing:4,children:Array.from(k.entries()).map(([t,n])=>(0,f.jsxs)(l.__experimentalVStack,{spacing:2,children:[(0,f.jsx)("h3",{className:"dataviews-view-grid__group-header",children:(0,s.sprintf)(
// translators: 1: The label of the field e.g. "Date". 2: The value of the field, e.g.: "May 2022".
// translators: 1: The label of the field e.g. "Date". 2: The value of the field, e.g.: "May 2022".
(0,s.__)("%1$s: %2$s"),j.label,t)}),(0,f.jsx)(l.__experimentalGrid,{gap:8,columns:2,alignment:"top",className:K("dataviews-view-grid",m),style:O,"aria-busy":o,children:n.map(t=>(0,f.jsx)(Sr,{view:p,selection:h,onChangeSelection:a,onClickItem:c,isItemClickable:u,renderItemLink:d,getItemId:r,item:t,actions:e,mediaField:b,titleField:v,descriptionField:y,regularFields:x,badgeFields:_,hasBulkActions:C},r(t)))})]},t))}),S&&!k&&(0,f.jsx)(l.__experimentalGrid,{gap:8,columns:2,alignment:"top",className:K("dataviews-view-grid",m),style:O,"aria-busy":o,children:n.map(t=>(0,f.jsx)(Sr,{view:p,selection:h,onChangeSelection:a,onClickItem:c,isItemClickable:u,renderItemLink:d,getItemId:r,item:t,actions:e,mediaField:b,titleField:v,descriptionField:y,regularFields:x,badgeFields:_,hasBulkActions:C},r(t)))}),!S&&(0,f.jsx)("div",{className:K({"dataviews-loading":o,"dataviews-no-results":!o}),children:(0,f.jsx)("p",{children:o?(0,f.jsx)(l.Spinner,{}):(0,s.__)("No results")})})]})},icon:Di,viewConfigOptions:function(){const e=xr(),n=(0,t.useContext)(q),i=n.view,r=yr[e],o=i.layout?.previewSize||r.default,a=(0,t.useMemo)(()=>Array.from({length:r.max-r.min+1},(e,t)=>({value:r.min+t})),[r]);return"mobile"===e?null:(0,f.jsx)(l.RangeControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,showTooltip:!1,label:(0,s.__)("Preview size"),value:r.max+r.min-o,marks:a,min:r.min,max:r.max,withInputField:!1,onChange:(e=0)=>{n.onChangeView({...i,layout:{...i.layout,previewSize:r.max+r.min-e}})},step:1})}},{type:"list",label:(0,s.__)("List"),component:function e(i){var r;const{actions:o,data:a,fields:c,getItemId:u,isLoading:d,onChangeSelection:h,selection:p,view:m,className:g}=i,v=(0,n.useInstanceId)(e,"view-list"),b=a?.findLast(e=>p.includes(u(e))),y=c.find(e=>e.id===m.titleField),w=c.find(e=>e.id===m.mediaField),x=c.find(e=>e.id===m.descriptionField),_=(null!==(r=m?.fields)&&void 0!==r?r:[]).map(e=>c.find(t=>e===t.id)).filter(kr),S=e=>h([u(e)]),E=(0,t.useCallback)(e=>`${v}-${u(e)}`,[v,u]),C=(0,t.useCallback)((e,t)=>t.startsWith(E(e)),[E]),[P,O]=(0,t.useState)(void 0);(0,t.useEffect)(()=>{b&&O(Cr(E(b)))},[b,E]);const j=a.findIndex(e=>C(e,null!=P?P:"")),k=(0,n.usePrevious)(j),A=-1!==j,T=(0,t.useCallback)((e,t)=>{const n=Math.min(a.length-1,Math.max(0,e));if(!a[n])return;const i=t(E(a[n]));O(i),document.getElementById(i)?.focus()},[a,E]);(0,t.useEffect)(()=>{!A&&void 0!==k&&-1!==k&&T(k,Cr)},[A,T,k]);const I=(0,t.useCallback)(e=>{"ArrowDown"===e.key&&(e.preventDefault(),T(j+1,Pr)),"ArrowUp"===e.key&&(e.preventDefault(),T(j-1,Pr))},[T,j]),M=a?.length;return M?(0,f.jsx)(l.Composite,{id:v,render:(0,f.jsx)("div",{}),className:K("dataviews-view-list",g),role:"grid",activeId:P,setActiveId:O,children:a.map(e=>{const t=E(e);return(0,f.jsx)(jr,{view:m,idPrefix:t,actions:o,item:e,isSelected:e===b,onSelect:S,mediaField:w,titleField:y,descriptionField:x,otherFields:_,onDropdownTriggerKeyDown:I},t)})}):(0,f.jsx)("div",{className:K({"dataviews-loading":d,"dataviews-no-results":!M&&!d}),children:!M&&(0,f.jsx)("p",{children:d?(0,f.jsx)(l.Spinner,{}):(0,s.__)("No results")})})},icon:(0,s.isRTL)()?Vi:Bi}];function Tr({className:e}){const{actions:n=[],data:i,fields:r,getItemId:o,getItemLevel:a,isLoading:s,view:l,onChangeView:c,selection:u,onChangeSelection:d,setOpenedFilter:h,onClickItem:p,isItemClickable:m,renderItemLink:g}=(0,t.useContext)(q),v=Ar.find(e=>e.type===l.type)?.component;return(0,f.jsx)(v,{className:e,actions:n,data:i,fields:r,getItemId:o,getItemLevel:a,isLoading:s,onChangeView:c,onChangeSelection:d,selection:u,setOpenedFilter:h,onClickItem:p,renderItemLink:g,isItemClickable:m,view:l})}const Ir=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"M6.6 6L5.4 7l4.5 5-4.5 5 1.1 1 5.5-6-5.4-6zm6 0l-1.1 1 4.5 5-4.5 5 1.1 1 5.5-6-5.5-6z"})}),Mr=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"M11.6 7l-1.1-1L5 12l5.5 6 1.1-1L7 12l4.6-5zm6 0l-1.1-1-5.5 6 5.5 6 1.1-1-4.6-5 4.6-5z"})});function Lr(){var e;const{view:n,onChangeView:i,paginationInfo:{totalItems:r=0,totalPages:o}}=(0,t.useContext)(q);if(!r||!o)return null;const a=null!==(e=n.page)&&void 0!==e?e:1,c=Array.from(Array(o)).map((e,t)=>{const n=t+1;return{value:n.toString(),label:n.toString(),"aria-label":a===n?(0,s.sprintf)(
// translators: 1: current page number. 2: total number of pages.
// translators: 1: current page number. 2: total number of pages.
(0,s.__)("Page %1$d of %2$d"),a,o):n.toString()}});return!!r&&1!==o&&(0,f.jsxs)(l.__experimentalHStack,{expanded:!1,className:"dataviews-pagination",justify:"end",spacing:6,children:[(0,f.jsx)(l.__experimentalHStack,{justify:"flex-start",expanded:!1,spacing:1,className:"dataviews-pagination__page-select",children:(0,t.createInterpolateElement)((0,s.sprintf)(
// translators: 1: Current page number, 2: Total number of pages.
// translators: 1: Current page number, 2: Total number of pages.
(0,s._x)("<div>Page</div>%1$s<div>of %2$d</div>","paging"),"<CurrentPage />",o),{div:(0,f.jsx)("div",{"aria-hidden":!0}),CurrentPage:(0,f.jsx)(l.SelectControl,{"aria-label":(0,s.__)("Current page"),value:a.toString(),options:c,onChange:e=>{i({...n,page:+e})},size:"small",__nextHasNoMarginBottom:!0,variant:"minimal"})})}),(0,f.jsxs)(l.__experimentalHStack,{expanded:!1,spacing:1,children:[(0,f.jsx)(l.Button,{onClick:()=>i({...n,page:a-1}),disabled:1===a,accessibleWhenDisabled:!0,label:(0,s.__)("Previous page"),icon:(0,s.isRTL)()?Ir:Mr,showTooltip:!0,size:"compact",tooltipPosition:"top"}),(0,f.jsx)(l.Button,{onClick:()=>i({...n,page:a+1}),disabled:a>=o,accessibleWhenDisabled:!0,label:(0,s.__)("Next page"),icon:(0,s.isRTL)()?Mr:Ir,showTooltip:!0,size:"compact",tooltipPosition:"top"})]})]})}const Rr=(0,t.memo)(Lr),Nr=[];function Fr(){const{view:e,paginationInfo:{totalItems:n=0,totalPages:i},data:r,actions:o=Nr}=(0,t.useContext)(q),a=tr(o,r)&&[G,W].includes(e.type);return!n||!i||i<=1&&!a?null:!!n&&(0,f.jsxs)(l.__experimentalHStack,{expanded:!1,justify:"end",className:"dataviews-footer",children:[a&&(0,f.jsx)(lr,{}),(0,f.jsx)(Rr,{})]})}const Dr=(0,t.memo)(function({label:e}){const{view:i,onChangeView:r}=(0,t.useContext)(q),[o,a,c]=(0,n.useDebouncedInput)(i.search);(0,t.useEffect)(()=>{var e;a(null!==(e=i.search)&&void 0!==e?e:"")},[i.search,a]);const u=(0,t.useRef)(r),d=(0,t.useRef)(i);(0,t.useEffect)(()=>{u.current=r,d.current=i},[r,i]),(0,t.useEffect)(()=>{c!==d.current?.search&&u.current({...d.current,page:1,search:c})},[c]);const h=e||(0,s.__)("Search");return(0,f.jsx)(l.SearchControl,{className:"dataviews-search",__nextHasNoMarginBottom:!0,onChange:a,value:o,label:h,placeholder:h,size:"compact"})}),Vr=(0,f.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)(d.Path,{d:"M17 10h-1.2V7c0-2.1-1.7-3.8-3.8-3.8-2.1 0-3.8 1.7-3.8 3.8v3H7c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1h10c.6 0 1-.4 1-1v-8c0-.6-.4-1-1-1zm-2.8 0H9.8V7c0-1.2 1-2.2 2.2-2.2s2.2 1 2.2 2.2v3z"})}),Br=(0,f.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)(d.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})}),zr=(0,f.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)(d.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})}),Hr=(0,f.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)(d.Path,{d:"M3.99961 13C4.67043 13.3354 4.6703 13.3357 4.67017 13.3359L4.67298 13.3305C4.67621 13.3242 4.68184 13.3135 4.68988 13.2985C4.70595 13.2686 4.7316 13.2218 4.76695 13.1608C4.8377 13.0385 4.94692 12.8592 5.09541 12.6419C5.39312 12.2062 5.84436 11.624 6.45435 11.0431C7.67308 9.88241 9.49719 8.75 11.9996 8.75C14.502 8.75 16.3261 9.88241 17.5449 11.0431C18.1549 11.624 18.6061 12.2062 18.9038 12.6419C19.0523 12.8592 19.1615 13.0385 19.2323 13.1608C19.2676 13.2218 19.2933 13.2686 19.3093 13.2985C19.3174 13.3135 19.323 13.3242 19.3262 13.3305L19.3291 13.3359C19.3289 13.3357 19.3288 13.3354 19.9996 13C20.6704 12.6646 20.6703 12.6643 20.6701 12.664L20.6697 12.6632L20.6688 12.6614L20.6662 12.6563L20.6583 12.6408C20.6517 12.6282 20.6427 12.6108 20.631 12.5892C20.6078 12.5459 20.5744 12.4852 20.5306 12.4096C20.4432 12.2584 20.3141 12.0471 20.1423 11.7956C19.7994 11.2938 19.2819 10.626 18.5794 9.9569C17.1731 8.61759 14.9972 7.25 11.9996 7.25C9.00203 7.25 6.82614 8.61759 5.41987 9.9569C4.71736 10.626 4.19984 11.2938 3.85694 11.7956C3.68511 12.0471 3.55605 12.2584 3.4686 12.4096C3.42484 12.4852 3.39142 12.5459 3.36818 12.5892C3.35656 12.6108 3.34748 12.6282 3.34092 12.6408L3.33297 12.6563L3.33041 12.6614L3.32948 12.6632L3.32911 12.664C3.32894 12.6643 3.32879 12.6646 3.99961 13ZM11.9996 16C13.9326 16 15.4996 14.433 15.4996 12.5C15.4996 10.567 13.9326 9 11.9996 9C10.0666 9 8.49961 10.567 8.49961 12.5C8.49961 14.433 10.0666 16 11.9996 16Z"})}),$r=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"})}),{Menu:Ur}=(window.wp.warning,ji(l.privateApis)),Gr={className:"dataviews-config__popover",placement:"bottom-end",offset:9};function Wr(){const{view:e,onChangeView:n,defaultLayouts:i}=(0,t.useContext)(q),r=Object.keys(i);if(r.length<=1)return null;const o=Ar.find(t=>e.type===t.type);return(0,f.jsxs)(Ur,{children:[(0,f.jsx)(Ur.TriggerButton,{render:(0,f.jsx)(l.Button,{size:"compact",icon:o?.icon,label:(0,s.__)("Layout")})}),(0,f.jsx)(Ur.Popover,{children:r.map(t=>{const r=Ar.find(e=>e.type===t);return r?(0,f.jsx)(Ur.RadioItem,{value:t,name:"view-actions-available-view",checked:t===e.type,hideOnClick:!0,onChange:t=>{switch(t.target.value){case"list":case"grid":case"table":const r={...e};return"layout"in r&&delete r.layout,n({...r,type:t.target.value,...i[t.target.value]})}},children:(0,f.jsx)(Ur.ItemLabel,{children:r.label})},t):null})})]})}function qr(){const{view:e,fields:n,onChangeView:i}=(0,t.useContext)(q),r=(0,t.useMemo)(()=>n.filter(e=>!1!==e.enableSorting).map(e=>({label:e.label,value:e.id})),[n]);return(0,f.jsx)(l.SelectControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,s.__)("Sort by"),value:e.sort?.field,options:r,onChange:t=>{i({...e,sort:{direction:e?.sort?.direction||"desc",field:t},showLevels:!1})}})}function Yr(){const{view:e,fields:n,onChangeView:i}=(0,t.useContext)(q);if(0===n.filter(e=>!1!==e.enableSorting).length)return null;let r=e.sort?.direction;return!r&&e.sort?.field&&(r="desc"),(0,f.jsx)(l.__experimentalToggleGroupControl,{className:"dataviews-view-config__sort-direction",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,isBlock:!0,label:(0,s.__)("Order"),value:r,onChange:t=>{"asc"!==t&&"desc"!==t||i({...e,sort:{direction:t,field:e.sort?.field||n.find(e=>!1!==e.enableSorting)?.id||""},showLevels:!1})},children:B.map(e=>(0,f.jsx)(l.__experimentalToggleGroupControlOptionIcon,{value:e,icon:U[e],label:$[e]},e))})}const Xr=[10,20,50,100];function Kr(){const{view:e,perPageSizes:n,onChangeView:i}=(0,t.useContext)(q),r=null!=n?n:Xr;return(0,f.jsx)(l.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,isBlock:!0,label:(0,s.__)("Items per page"),value:e.perPage||10,disabled:!e?.sort?.field,onChange:t=>{const n="number"==typeof t||void 0===t?t:parseInt(t,10);i({...e,perPage:n,page:1})},children:r.map(e=>(0,f.jsx)(l.__experimentalToggleGroupControlOption,{value:e,label:e.toString()},e))})}function Zr({previewOptions:e,onChangePreviewOption:t,onMenuOpenChange:n,activeOption:i}){return(0,f.jsxs)(Ur,{onOpenChange:n,children:[(0,f.jsx)(Ur.TriggerButton,{render:(0,f.jsx)(l.Button,{className:"dataviews-field-control__field-preview-options-button",size:"compact",icon:Hi,label:(0,s.__)("Preview")})}),(0,f.jsx)(Ur.Popover,{children:e?.map(({id:e,label:n})=>(0,f.jsx)(Ur.RadioItem,{value:e,checked:e===i,onChange:()=>{t?.(e),(e=>{setTimeout(()=>{const t=document.querySelector(`.dataviews-field-control__field-${e} .dataviews-field-control__field-preview-options-button`);t instanceof HTMLElement&&t.focus()},50)})(e)},children:(0,f.jsx)(Ur.ItemLabel,{children:n})},e))})]})}function Qr({field:e,label:n,description:i,isVisible:r,isFirst:o,isLast:a,canMove:c=!0,onToggleVisibility:u,onMoveUp:d,onMoveDown:h,previewOptions:p,onChangePreviewOption:m}){const[g,v]=(0,t.useState)(!1);return(0,f.jsx)(l.__experimentalItem,{children:(0,f.jsxs)(l.__experimentalHStack,{expanded:!0,className:K("dataviews-field-control__field",`dataviews-field-control__field-${e.id}`,{"is-interacting":g}),justify:"flex-start",children:[(0,f.jsx)("span",{className:"dataviews-field-control__icon",children:!c&&!e.enableHiding&&(0,f.jsx)(l.Icon,{icon:Vr})}),(0,f.jsxs)("span",{className:"dataviews-field-control__label-sub-label-container",children:[(0,f.jsx)("span",{className:"dataviews-field-control__label",children:n||e.label}),i&&(0,f.jsx)("span",{className:"dataviews-field-control__sub-label",children:i})]}),(0,f.jsxs)(l.__experimentalHStack,{justify:"flex-end",expanded:!1,className:"dataviews-field-control__actions",children:[r&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(l.Button,{disabled:o||!c,accessibleWhenDisabled:!0,size:"compact",onClick:d,icon:Br,label:o||!c?(0,s.__)("This field can't be moved up"):(0,s.sprintf)(/* translators: %s: field label */ /* translators: %s: field label */
(0,s.__)("Move %s up"),e.label)}),(0,f.jsx)(l.Button,{disabled:a||!c,accessibleWhenDisabled:!0,size:"compact",onClick:h,icon:zr,label:a||!c?(0,s.__)("This field can't be moved down"):(0,s.sprintf)(/* translators: %s: field label */ /* translators: %s: field label */
(0,s.__)("Move %s down"),e.label)})]}),u&&(0,f.jsx)(l.Button,{className:"dataviews-field-control__field-visibility-button",disabled:!e.enableHiding,accessibleWhenDisabled:!0,size:"compact",onClick:()=>{u(),setTimeout(()=>{const t=document.querySelector(`.dataviews-field-control__field-${e.id} .dataviews-field-control__field-visibility-button`);t instanceof HTMLElement&&t.focus()},50)},icon:r?dr:Hr,label:r?(0,s.sprintf)(/* translators: %s: field label */ /* translators: %s: field label */
(0,s._x)("Hide %s","field"),e.label):(0,s.sprintf)(/* translators: %s: field label */ /* translators: %s: field label */
(0,s._x)("Show %s","field"),e.label)}),p&&(0,f.jsx)(Zr,{previewOptions:p,onChangePreviewOption:m,onMenuOpenChange:v,activeOption:e.id})]})]})})}function Jr({index:e,field:t,view:n,onChangeView:i}){var r;const o=null!==(r=n.fields)&&void 0!==r?r:[],a=void 0!==e&&o.includes(t.id);return(0,f.jsx)(Qr,{field:t,isVisible:a,isFirst:void 0!==e&&e<1,isLast:void 0!==e&&e===o.length-1,onToggleVisibility:()=>{i({...n,fields:a?o.filter(e=>e!==t.id):[...o,t.id]})},onMoveUp:void 0!==e?()=>{var r;i({...n,fields:[...null!==(r=o.slice(0,e-1))&&void 0!==r?r:[],t.id,o[e-1],...o.slice(e+1)]})}:void 0,onMoveDown:void 0!==e?()=>{var r;i({...n,fields:[...null!==(r=o.slice(0,e))&&void 0!==r?r:[],o[e+1],t.id,...o.slice(e+2)]})}:void 0})}function eo(e){return!!e}function to(){var e;const{view:n,fields:i,onChangeView:r}=(0,t.useContext)(q),o=[n?.titleField,n?.mediaField,n?.descriptionField].filter(Boolean),a=null!==(e=n.fields)&&void 0!==e?e:[],c=i.filter(e=>!a.includes(e.id)&&!o.includes(e.id)&&"media"!==e.type),u=a.map(e=>i.find(t=>t.id===e)).filter(eo);if(!u?.length&&!c?.length)return null;const d=i.find(e=>e.id===n.titleField),h=i.find(e=>e.id===n.mediaField),p=i.find(e=>e.id===n.descriptionField),m=i.filter(e=>"media"===e.type);let g;if(m.length>1){var v;const e=eo(h)&&(null===(v=n.showMedia)||void 0===v||v);g=eo(h)&&(0,f.jsx)(Qr,{field:h,label:(0,s.__)("Preview"),description:h.label,isVisible:e,onToggleVisibility:()=>{r({...n,showMedia:!e})},canMove:!1,previewOptions:m.map(e=>({label:e.label,id:e.id})),onChangePreviewOption:e=>r({...n,mediaField:e})},h.id)}const b=[{field:d,isVisibleFlag:"showTitle"},{field:h,isVisibleFlag:"showMedia",ui:g},{field:p,isVisibleFlag:"showDescription"}].filter(({field:e})=>eo(e)),y=b.filter(({field:e,isVisibleFlag:t})=>{var i;return eo(e)&&(null===(i=n[t])||void 0===i||i)}),w=b.filter(({field:e,isVisibleFlag:t})=>{var i;return eo(e)&&!(null===(i=n[t])||void 0===i||i)});return(0,f.jsxs)(l.__experimentalVStack,{className:"dataviews-field-control",spacing:6,children:[(0,f.jsx)(l.__experimentalVStack,{className:"dataviews-view-config__properties",spacing:0,children:(y.length>0||!!u?.length)&&(0,f.jsxs)(l.__experimentalItemGroup,{isBordered:!0,isSeparated:!0,children:[y.map(({field:e,isVisibleFlag:t,ui:i})=>null!=i?i:(0,f.jsx)(Qr,{field:e,isVisible:!0,onToggleVisibility:()=>{r({...n,[t]:!1})},canMove:!1},e.id)),u.map((e,t)=>(0,f.jsx)(Jr,{field:e,view:n,onChangeView:r,index:t},e.id))]})}),(!!c?.length||!!w.length)&&(0,f.jsxs)(l.__experimentalVStack,{spacing:4,children:[(0,f.jsx)(l.BaseControl.VisualLabel,{style:{margin:0},children:(0,s.__)("Hidden")}),(0,f.jsx)(l.__experimentalVStack,{className:"dataviews-view-config__properties",spacing:0,children:(0,f.jsxs)(l.__experimentalItemGroup,{isBordered:!0,isSeparated:!0,children:[w.length>0&&w.map(({field:e,isVisibleFlag:t,ui:i})=>null!=i?i:(0,f.jsx)(Qr,{field:e,isVisible:!1,onToggleVisibility:()=>{r({...n,[t]:!0})},canMove:!1},e.id)),c.map(e=>(0,f.jsx)(Jr,{field:e,view:n,onChangeView:r},e.id))]})})]})]})}function no({title:e,description:t,children:n}){return(0,f.jsxs)(l.__experimentalGrid,{columns:12,className:"dataviews-settings-section",gap:4,children:[(0,f.jsxs)("div",{className:"dataviews-settings-section__sidebar",children:[(0,f.jsx)(l.__experimentalHeading,{level:2,className:"dataviews-settings-section__title",children:e}),t&&(0,f.jsx)(l.__experimentalText,{variant:"muted",className:"dataviews-settings-section__description",children:t})]}),(0,f.jsx)(l.__experimentalGrid,{columns:8,gap:4,className:"dataviews-settings-section__content",children:n})]})}function io(){const{view:e}=(0,t.useContext)(q),i=(0,n.useInstanceId)(ro,"dataviews-view-config-dropdown"),r=Ar.find(t=>t.type===e.type);return(0,f.jsx)(l.Dropdown,{expandOnMobile:!0,popoverProps:{...Gr,id:i},renderToggle:({onToggle:e,isOpen:t})=>(0,f.jsx)(l.Button,{size:"compact",icon:$r,label:(0,s._x)("View options","View is used as a noun"),onClick:e,"aria-expanded":t?"true":"false","aria-controls":i}),renderContent:()=>(0,f.jsx)(l.__experimentalDropdownContentWrapper,{paddingSize:"medium",className:"dataviews-config__popover-content-wrapper",children:(0,f.jsxs)(l.__experimentalVStack,{className:"dataviews-view-config",spacing:6,children:[(0,f.jsxs)(no,{title:(0,s.__)("Appearance"),children:[(0,f.jsxs)(l.__experimentalHStack,{expanded:!0,className:"is-divided-in-two",children:[(0,f.jsx)(qr,{}),(0,f.jsx)(Yr,{})]}),!!r?.viewConfigOptions&&(0,f.jsx)(r.viewConfigOptions,{}),(0,f.jsx)(Kr,{})]}),(0,f.jsx)(no,{title:(0,s.__)("Properties"),children:(0,f.jsx)(to,{})})]})})})}function ro(){return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(Wr,{}),(0,f.jsx)(io,{})]})}const oo=(0,t.memo)(ro),ao=window.wp.url;function so({item:e,field:t}){const n=t.getValue({item:e});return t?.elements?.find(e=>e.value===n)?.label||t.getValue({item:e})}const lo={sort:function(e,t,n){return"asc"===n?e.localeCompare(t):t.localeCompare(e)},isValid:function(e,t){if(""===e)return!1;if(!(0,ao.isEmail)(e))return!1;if(t?.elements){const n=t?.elements?.map(e=>e.value);if(!n.includes(e))return!1}return!0},Edit:"email",render:({item:e,field:t})=>t.elements?so({item:e,field:t}):t.getValue({item:e}),enableSorting:!0,filterBy:{defaultOperators:[v,b],validOperators:[m,g,k,A,T,v,b,y,w]}},co={sort:function(e,t,n){return"asc"===n?e-t:t-e},isValid:function(e,t){if(""===e)return!1;if(!Number.isInteger(Number(e)))return!1;if(t?.elements){const n=t?.elements.map(e=>e.value);if(!n.includes(Number(e)))return!1}return!0},Edit:"integer",render:({item:e,field:t})=>t.elements?so({item:e,field:t}):t.getValue({item:e}),enableSorting:!0,filterBy:{defaultOperators:[m,g,x,_,S,E,I],validOperators:[m,g,x,_,S,E,I,v,b,y,w]}},uo={sort:function(e,t,n){return"asc"===n?e.localeCompare(t):t.localeCompare(e)},isValid:function(e,t){if(t?.elements){const n=t?.elements?.map(e=>e.value);if(!n.includes(e))return!1}return!0},Edit:"text",render:({item:e,field:t})=>t.elements?so({item:e,field:t}):t.getValue({item:e}),enableSorting:!0,filterBy:{defaultOperators:[v,b],validOperators:[m,g,k,A,T,v,b,y,w]}},fo={sort:function(e,t,n){const i=new Date(e).getTime(),r=new Date(t).getTime();return"asc"===n?i-r:r-i},isValid:function(e,t){if(t?.elements){const n=t?.elements.map(e=>e.value);if(!n.includes(e))return!1}return!0},Edit:"datetime",render:({item:e,field:t})=>t.elements?so({item:e,field:t}):t.getValue({item:e}),enableSorting:!0,filterBy:{defaultOperators:[M,L,C,P,O,j,R,N],validOperators:[M,L,C,P,O,j,R,N]}},ho=window.wp.date,po={sort:function(e,t,n){const i=new Date(e).getTime(),r=new Date(t).getTime();return"asc"===n?i-r:r-i},isValid:function(e,t){if(t?.elements){const n=t?.elements.map(e=>e.value);if(!n.includes(e))return!1}return!0},Edit:null,render:({item:e,field:t})=>{if(t.elements)return so({item:e,field:t});const n=t.getValue({item:e});return n?(i=n,(0,ho.dateI18n)((0,ho.getSettings)().formats.date,(0,ho.getDate)(i))):"";var i},enableSorting:!0,filterBy:!1},mo={sort:function(e,t,n){const i=Boolean(e);return i===Boolean(t)?0:"asc"===n?i?1:-1:i?-1:1},isValid:function(e){return!![!0,!1,void 0].includes(e)},Edit:"boolean",render:({item:e,field:t})=>t.elements?so({item:e,field:t}):!0===t.getValue({item:e})?(0,s.__)("True"):!1===t.getValue({item:e})?(0,s.__)("False"):null,enableSorting:!0,filterBy:{defaultOperators:[m,g],validOperators:[m,g]}},go={sort:function(){return 0},isValid:function(e,t){if(t?.elements){const n=t?.elements.map(e=>e.value);if(!n.includes(e))return!1}return!0},Edit:null,render:()=>null,enableSorting:!1,filterBy:!1},vo={sort:function(e,t,n){const i=Array.isArray(e)?e:[],r=Array.isArray(t)?t:[];if(i.length!==r.length)return"asc"===n?i.length-r.length:r.length-i.length;const o=i.join(","),a=r.join(",");return"asc"===n?o.localeCompare(a):a.localeCompare(o)},isValid:function(e,t){if(!Array.isArray(e))return!1;if(!e.every(e=>"string"==typeof e))return!1;if(t?.elements){const n=t.elements.map(e=>e.value);if(!e.every(e=>n.includes(e)))return!1}return!0},Edit:null,render:function({item:e,field:t}){return(t.getValue({item:e})||[]).join(", ")},enableSorting:!0,filterBy:{defaultOperators:[v,b],validOperators:[v,b,y,w]}},bo={[R]:[{value:"days",label:(0,s.__)("Days")},{value:"weeks",label:(0,s.__)("Weeks")},{value:"months",label:(0,s.__)("Months")},{value:"years",label:(0,s.__)("Years")}],[N]:[{value:"days",label:(0,s.__)("Days ago")},{value:"weeks",label:(0,s.__)("Weeks ago")},{value:"months",label:(0,s.__)("Months ago")},{value:"years",label:(0,s.__)("Years ago")}]};function yo({id:e,value:n,onChange:i,label:r,hideLabelFromVision:o,options:a}){const{value:c="",unit:u=a[0].value}=n,d=(0,t.useCallback)(t=>i({[e]:{value:Number(t),unit:u}}),[e,i,u]),h=(0,t.useCallback)(t=>i({[e]:{value:c,unit:t}}),[e,i,c]);return(0,f.jsx)(l.BaseControl,{id:e,__nextHasNoMarginBottom:!0,className:"dataviews-controls__datetime",label:r,hideLabelFromVision:o,children:(0,f.jsxs)(l.__experimentalHStack,{spacing:2.5,children:[(0,f.jsx)(l.__experimentalNumberControl,{__next40pxDefaultSize:!0,className:"dataviews-controls__datetime-number",spinControls:"none",min:1,step:1,value:c,onChange:d}),(0,f.jsx)(l.SelectControl,{className:"dataviews-controls__datetime-unit",__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,s.__)("Unit"),value:u,options:a,onChange:h,hideLabelFromVision:!0})]})})}function wo({id:e,value:n,onChange:i,hideLabelFromVision:r}){const[o="",a=""]=Array.isArray(n)?n:[],c=(0,t.useCallback)(t=>i({[e]:[Number(t),a]}),[e,i,a]),u=(0,t.useCallback)(t=>i({[e]:[o,Number(t)]}),[e,i,o]);return(0,f.jsx)(l.BaseControl,{__nextHasNoMarginBottom:!0,help:(0,s.__)("The max. value must be greater than the min. value."),children:(0,f.jsxs)(l.Flex,{direction:"row",gap:4,children:[(0,f.jsx)(l.__experimentalNumberControl,{label:(0,s.__)("Min."),value:o,max:a?Number(a)-1:void 0,onChange:c,__next40pxDefaultSize:!0,hideLabelFromVision:r}),(0,f.jsx)(l.__experimentalNumberControl,{label:(0,s.__)("Max."),value:a,min:o?Number(o)+1:void 0,onChange:u,__next40pxDefaultSize:!0,hideLabelFromVision:r})]})})}const xo={boolean:function({field:e,onChange:t,data:n,hideLabelFromVision:i}){const{id:r,getValue:o,label:a}=e;return(0,f.jsx)(l.ToggleControl,{hidden:i,__nextHasNoMarginBottom:!0,label:a,checked:o({item:n}),onChange:()=>t({[r]:!o({item:n})})})},checkbox:function({field:e,onChange:t,data:n,hideLabelFromVision:i}){const{id:r,getValue:o,label:a,description:s}=e;return(0,f.jsx)(l.CheckboxControl,{__nextHasNoMarginBottom:!0,hidden:i,label:a,help:s,checked:o({item:n}),onChange:()=>t({[r]:!o({item:n})})})},datetime:function({data:e,field:n,onChange:i,hideLabelFromVision:r,operator:o}){const{id:a,label:s}=n,c=n.getValue({item:e}),u=(0,t.useCallback)(e=>i({[a]:e}),[a,i]);return o===R||o===N?(0,f.jsx)(yo,{id:a,value:c&&"object"==typeof c?c:{},onChange:i,label:s,hideLabelFromVision:r,options:bo[o]}):(0,f.jsxs)("fieldset",{className:"dataviews-controls__datetime",children:[!r&&(0,f.jsx)(l.BaseControl.VisualLabel,{as:"legend",children:s}),r&&(0,f.jsx)(l.VisuallyHidden,{as:"legend",children:s}),(0,f.jsx)(l.TimePicker,{currentTime:"string"==typeof c?c:void 0,onChange:u,hideLabelFromVision:!0})]})},email:function({data:e,field:n,onChange:i,hideLabelFromVision:r}){const{id:o,label:a,placeholder:s,description:c}=n,u=n.getValue({item:e}),d=(0,t.useCallback)(e=>i({[o]:e}),[o,i]);return(0,f.jsx)(l.TextControl,{type:"email",label:a,placeholder:s,value:null!=u?u:"",help:c,onChange:d,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,hideLabelFromVision:r})},integer:function({data:e,field:n,onChange:i,hideLabelFromVision:r,operator:o}){var a;const{id:s,label:c,description:u}=n,d=null!==(a=n.getValue({item:e}))&&void 0!==a?a:"",h=(0,t.useCallback)(e=>i({[s]:Number(e)}),[s,i]);return o===I?(0,f.jsx)(wo,{id:s,value:d,onChange:i,hideLabelFromVision:r}):(0,f.jsx)(l.__experimentalNumberControl,{label:c,help:u,value:d,onChange:h,__next40pxDefaultSize:!0,hideLabelFromVision:r})},radio:function({data:e,field:n,onChange:i,hideLabelFromVision:r}){const{id:o,label:a}=n,s=n.getValue({item:e}),c=(0,t.useCallback)(e=>i({[o]:e}),[o,i]);return n.elements?(0,f.jsx)(l.RadioControl,{label:a,onChange:c,options:n.elements,selected:s,hideLabelFromVision:r}):null},select:function({data:e,field:n,onChange:i,hideLabelFromVision:r}){var o,a;const{id:c,label:u}=n,d=null!==(o=n.getValue({item:e}))&&void 0!==o?o:"",h=(0,t.useCallback)(e=>i({[c]:e}),[c,i]),p=[{label:(0,s.__)("Select item"),value:""},...null!==(a=n?.elements)&&void 0!==a?a:[]];return(0,f.jsx)(l.SelectControl,{label:u,value:d,help:n.description,options:p,onChange:h,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,hideLabelFromVision:r})},text:function({data:e,field:n,onChange:i,hideLabelFromVision:r}){const{id:o,label:a,placeholder:s,description:c}=n,u=n.getValue({item:e}),d=(0,t.useCallback)(e=>i({[o]:e}),[o,i]);return(0,f.jsx)(l.TextControl,{label:a,placeholder:s,value:null!=u?u:"",help:c,onChange:d,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,hideLabelFromVision:r})},toggleGroup:function({data:e,field:n,onChange:i,hideLabelFromVision:r}){const{id:o}=n,a=n.getValue({item:e}),s=(0,t.useCallback)(e=>i({[o]:e}),[o,i]);if(n.elements){const e=n.elements.find(e=>e.value===a);return(0,f.jsx)(l.__experimentalToggleGroupControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,isBlock:!0,label:n.label,help:e?.description||n.description,onChange:s,value:a,hideLabelFromVision:r,children:n.elements.map(e=>(0,f.jsx)(l.__experimentalToggleGroupControlOption,{label:e.label,value:e.value},e.value))})}return null}};function _o(e){if(Object.keys(xo).includes(e))return xo[e];throw"Control "+e+" not found"}const So=e=>e.id,Eo=()=>!0,Co=[];function Po({header:e,search:n=!0,searchLabel:i}){const{isShowingFilter:r}=(0,t.useContext)(q);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(l.__experimentalHStack,{alignment:"top",justify:"space-between",className:"dataviews__view-actions",spacing:1,children:[(0,f.jsxs)(l.__experimentalHStack,{justify:"start",expanded:!1,className:"dataviews__search",children:[n&&(0,f.jsx)(Dr,{label:i}),(0,f.jsx)(Li,{})]}),(0,f.jsxs)(l.__experimentalHStack,{spacing:1,expanded:!1,style:{flexShrink:0},children:[(0,f.jsx)(oo,{}),e]})]}),r&&(0,f.jsx)(Ni,{className:"dataviews-filters__container"}),(0,f.jsx)(Tr,{}),(0,f.jsx)(Fr,{})]})}const Oo=function({view:e,onChangeView:i,fields:r,search:o=!0,searchLabel:a,actions:s=Co,data:l,getItemId:c=So,getItemLevel:u,isLoading:d=!1,paginationInfo:h,defaultLayouts:p,selection:v,onChangeSelection:b,onClickItem:y,renderItemLink:w,isItemClickable:x=Eo,header:_,children:S,perPageSizes:E}){const C=(0,t.useRef)(null),[P,O]=(0,t.useState)(0),j=(0,n.useResizeObserver)(e=>{O(e[0].borderBoxSize[0].inlineSize)},{box:"border-box"}),[k,A]=(0,t.useState)([]),T=void 0===v||void 0===b,M=T?k:v,[L,R]=(0,t.useState)(null),N=(0,t.useMemo)(()=>function(e){return e.map(e=>{var t,n,i,r,o,a,s,l;const c="email"===(u=e.type)?lo:"integer"===u?co:"text"===u?uo:"datetime"===u?fo:"date"===u?po:"boolean"===u?mo:"media"===u?go:"array"===u?vo:{sort:(e,t,n)=>"number"==typeof e&&"number"==typeof t?"asc"===n?e-t:t-e:"asc"===n?e.localeCompare(t):t.localeCompare(e),isValid:(e,t)=>{if(t?.elements){const n=t?.elements?.map(e=>e.value);if(!n.includes(e))return!1}return!0},Edit:null,render:({item:e,field:t})=>t.elements?so({item:e,field:t}):t.getValue({item:e}),enableSorting:!0,filterBy:{defaultOperators:[m,g],validOperators:F}};var u;const d=e.getValue||(f=e.id,({item:e})=>{const t=f.split(".");let n=e;for(const e of t)n=n.hasOwnProperty(e)?n[e]:void 0;return n});var f;const h=null!==(t=e.sort)&&void 0!==t?t:function(e,t,n){return c.sort(d({item:e}),d({item:t}),n)},p=null!==(n=e.isValid)&&void 0!==n?n:function(e,t){return c.isValid(d({item:e}),t)},v=function(e,t){return"function"==typeof e.Edit?e.Edit:"string"==typeof e.Edit?_o(e.Edit):e.elements?_o("select"):"string"==typeof t.Edit?_o(t.Edit):t.Edit}(e,c),b=null!==(i=e.render)&&void 0!==i?i:function({item:e,field:t}){return c.render({item:e,field:t})},y=function(e,t){if(!1===e.filterBy)return!1;if("object"==typeof e.filterBy){let n=e.filterBy.operators;n&&Array.isArray(n)||(n=t.filterBy?t.filterBy.defaultOperators:[]);let i=F;return"object"==typeof t.filterBy&&(i=t.filterBy.validOperators),n=n.filter(e=>i.includes(e)),e.elements&&n.includes(I)&&(n=n.filter(e=>e!==I)),n.some(e=>D.includes(e))&&(n=n.filter(e=>[...D,I].includes(e))),0!==n.length&&{isPrimary:!!e.filterBy.isPrimary,operators:n}}if(!1===t.filterBy)return!1;let n=t.filterBy.defaultOperators;return e.elements&&n.includes(I)&&(n=n.filter(e=>e!==I)),{operators:n}}(e,c);return{...e,label:e.label||e.id,header:e.header||e.label||e.id,getValue:d,render:b,sort:h,isValid:p,Edit:v,enableHiding:null===(r=e.enableHiding)||void 0===r||r,enableSorting:null===(o=null!==(a=e.enableSorting)&&void 0!==a?a:c.enableSorting)||void 0===o||o,filterBy:y,readOnly:null!==(s=null!==(l=e.readOnly)&&void 0!==l?l:c.readOnly)&&void 0!==s&&s}})}(r),[r]),V=(0,t.useMemo)(()=>M.filter(e=>l.some(t=>c(t)===e)),[M,l,c]),B=Mi(N,e),[z,H]=(0,t.useState)(()=>(B||[]).some(e=>e.isPrimary));return(0,f.jsx)(q.Provider,{value:{view:e,onChangeView:i,fields:N,actions:s,data:l,isLoading:d,paginationInfo:h,selection:V,onChangeSelection:function(e){const t="function"==typeof e?e(M):e;T&&A(t),b&&b(t)},openedFilter:L,setOpenedFilter:R,getItemId:c,getItemLevel:u,isItemClickable:x,onClickItem:y,renderItemLink:w,containerWidth:P,containerRef:C,defaultLayouts:p,filters:B,isShowingFilter:z,setIsShowingFilter:H,perPageSizes:E},children:(0,f.jsx)("div",{className:"dataviews-wrapper",ref:(0,n.useMergeRefs)([C,j]),children:null!=S?S:(0,f.jsx)(Po,{header:_,search:o,searchLabel:a})})})};Oo.BulkActionToolbar=lr,Oo.Filters=Ni,Oo.FiltersToggle=Li,Oo.Layout=Tr,Oo.LayoutSwitcher=Wr,Oo.Pagination=Lr,Oo.Search=Dr,Oo.ViewConfig=io;const jo=Oo;var ko=r(270),Ao=r.n(ko);const To=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim();var Io={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Mo=(0,se.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:o,iconNode:a,...s},l)=>(0,se.createElement)("svg",{ref:l,...Io,width:t,height:t,stroke:e,strokeWidth:i?24*Number(n)/Number(t):n,className:To("lucide",r),...s},[...a.map(([e,t])=>(0,se.createElement)(e,t)),...Array.isArray(o)?o:[o]])),Lo=(e,t)=>{const n=(0,se.forwardRef)(({className:n,...i},r)=>{return(0,se.createElement)(Mo,{ref:r,iconNode:t,className:To(`lucide-${o=e,o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,n),...i});var o});return n.displayName=`${e}`,n},Ro=Lo("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),No=Lo("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Fo=Lo("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var Do=r(942),Vo=r.n(Do);const Bo=window.wp.a11y;function zo(e){return zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zo(e)}function Ho(){return Ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ho.apply(null,arguments)}function $o(e,t,n){return(t=function(e){var t=function(e){if("object"!=zo(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=zo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==zo(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Uo=function(e){var t=e.message,n=void 0===t?"":t,i=e.status,r=void 0===i?"info":i,o=e.politeness,a=void 0===o?"polite":o,c=e.icon,u=void 0===c?null:c,d=e.className,f=void 0===d?"":d,h=e.inline,p=void 0!==h&&h,m=e.children,g=void 0===m?null:m,v=e.hasToTop,b=void 0!==v&&v,y=e.dismissible,w=void 0!==y&&y,x=e.onRemove,_=void 0===x?function(){}:x;(0,se.useEffect)(function(){(0,Bo.speak)(n,a)},[n,r,a]);var S=function(){return null!==u},E=Vo()(f,"dlx-pw-admin__notice",$o($o($o({"dlx-pw-admin__notice--has-icon":S()},"dlx-pw-admin__notice-type--".concat(r),!0),"dlx-pw-admin__notice-appearance--inline",p),"dlx-pw-admin__notice-appearance--block",!p)),C=[{label:(0,s.__)("Back to Top","wp-dlx-pw-comments"),url:"#dlx-pw-admin-header",variant:"link",className:"dlx-pw-admin__notice-action dlx-pw-admin__notice-action--to-top"}];return ce().createElement("div",{className:E},ce().createElement(l.Notice,Ho({isDismissible:w,spokenMessage:n,actions:b?C:[]},e,{onRemove:function(){w&&_()}}),S()&&ce().createElement("div",{className:"dlx-pw-admin__notice-icon"},function(e){return ce().createElement(e,{width:16,height:16,fill:"#6c757d"})}(u)),ce().createElement("div",{className:"dlx-pw-admin__notice-message"},ce().createElement(ce().Fragment,null,n," ",g," "))))};function Go(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Wo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}const qo=function(e){var t=e.loadingMessage,n={type:e.type,message:e.message,title:e.title,isDismissable:!1,isPersistent:!1,isSuccess:!1,loadingMessage:t,politeness:"polite"},i=Go((0,se.useState)(n),2),r=i[0],o=(i[1],Go((0,se.useState)(!1),2)),a=o[0],c=(o[1],Go((0,se.useState)(!1),2)),u=c[0],d=c[1];(0,se.useEffect)(function(){e.isVisible&&setTimeout(function(){e.onClose()},5e3)},[e.isVisible]);var f=function(){switch(r.type){case"success":return ce().createElement(Ro,null);case"error":case"critical":return ce().createElement(No,null);default:return ce().createElement(Fo,null)}};return ce().createElement(ce().Fragment,null,ce().createElement(l.Snackbar,{className:Vo()("dlx-pw-snackbar dlx-pw-snackbar-".concat(r.type),{"dlx-pw-snackbar-loading":a}),actions:function(){var e=[];return"success"===r.type&&e.push({label:(0,s.__)("Back to Top","pattern-wrangler"),url:"#dlx-pw-admin-header",variant:"link",className:"dlx-pw-admin__notice-action dlx-pw-admin__notice-action--to-top"}),e}(),icon:f(),onDismiss:function(){d(!1),e.onClose()},explicitDismiss:r.isDismissable},a?t:r.message)," ",u&&function(){if("critical"===r.type)return ce().createElement(l.Modal,{className:Vo()("dlx-pw-modal dlx-pw-modal-".concat(r.type),{"dlx-pw-modal-loading":a}),bodyOpenClassName:"dlx-pw-modal-body-open",title:r.title,onRequestClose:function(){d(!1)},isDismissible:!0,shouldCloseOnClickOutside:r.isPersistent,shouldCloseOnEsc:r.isPersistent},ce().createElement(Uo,{message:r.message,status:r.type,politeness:r.politeness,icon:f,inline:!1}),ce().createElement("div",{className:"dlx-pw-modal-button-group"},ce().createElement(l.Button,{className:"button button-error",variant:"secondary",onClick:function(){d(!1)}},(0,s.__)("OK","pattern-wrangler"))))}()," ")},Yo=Lo("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var Xo=e=>"checkbox"===e.type,Ko=e=>e instanceof Date,Zo=e=>null==e;const Qo=e=>"object"==typeof e;var Jo=e=>!Zo(e)&&!Array.isArray(e)&&Qo(e)&&!Ko(e),ea=e=>Jo(e)&&e.target?Xo(e.target)?e.target.checked:e.target.value:e,ta=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),na="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function ia(e){if(e instanceof Date)return new Date(e);const t="undefined"!=typeof FileList&&e instanceof FileList;if(na&&(e instanceof Blob||t))return e;const n=Array.isArray(e);if(!(n||Jo(e)&&(e=>{const t=e.constructor&&e.constructor.prototype;return Jo(t)&&t.hasOwnProperty("isPrototypeOf")})(e)))return e;const i=n?[]:Object.create(Object.getPrototypeOf(e));for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=ia(e[t]));return i}var ra=e=>/^\w*$/.test(e),oa=e=>void 0===e,aa=e=>Array.isArray(e)?e.filter(Boolean):[],sa=e=>aa(e.replace(/["|']|\]/g,"").split(/\.|\[/)),la=(e,t,n)=>{if(!t||!Jo(e))return n;const i=(ra(t)?[t]:sa(t)).reduce((e,t)=>Zo(e)?e:e[t],e);return oa(i)||i===e?oa(e[t])?n:e[t]:i},ca=e=>"boolean"==typeof e,ua=e=>"function"==typeof e,da=(e,t,n)=>{let i=-1;const r=ra(t)?[t]:sa(t),o=r.length,a=o-1;for(;++i<o;){const t=r[i];let o=n;if(i!==a){const n=e[t];o=Jo(n)||Array.isArray(n)?n:isNaN(+r[i+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=o,e=e[t]}};const fa="blur",ha="onChange",pa="onSubmit",ma="all",ga="pattern",va="required",ba=se.createContext(null);ba.displayName="HookFormControlContext";const ya=()=>se.useContext(ba);var wa=(e,t,n,i=!0)=>{const r={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(r,o,{get:()=>{const r=o;return t._proxyFormState[r]!==ma&&(t._proxyFormState[r]=!i||ma),n&&(n[r]=!0),e[r]}});return r};const xa="undefined"!=typeof window?se.useLayoutEffect:se.useEffect;function _a(e){const t=ya(),{control:n=t,disabled:i,name:r,exact:o}=e||{},[a,s]=se.useState(n._formState),l=se.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return xa(()=>n._subscribe({name:r,formState:l.current,exact:o,callback:e=>{!i&&s({...n._formState,...e})}}),[r,i,o]),se.useEffect(()=>{l.current.isValid&&n._setValid(!0)},[n]),se.useMemo(()=>wa(a,n,l.current,!1),[a,n])}var Sa=e=>"string"==typeof e,Ea=(e,t,n,i,r)=>Sa(e)?(i&&t.watch.add(e),la(n,e,r)):Array.isArray(e)?e.map(e=>(i&&t.watch.add(e),la(n,e))):(i&&(t.watchAll=!0),n),Ca=e=>Zo(e)||!Qo(e);function Pa(e,t,n=new WeakSet){if(Ca(e)||Ca(t))return Object.is(e,t);if(Ko(e)&&Ko(t))return Object.is(e.getTime(),t.getTime());const i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const o of i){const i=e[o];if(!r.includes(o))return!1;if("ref"!==o){const e=t[o];if(Ko(i)&&Ko(e)||Jo(i)&&Jo(e)||Array.isArray(i)&&Array.isArray(e)?!Pa(i,e,n):!Object.is(i,e))return!1}}return!0}function Oa(e){const t=ya(),{control:n=t,name:i,defaultValue:r,disabled:o,exact:a,compute:s}=e||{},l=se.useRef(r),c=se.useRef(s),u=se.useRef(void 0),d=se.useRef(n),f=se.useRef(i);c.current=s;const[h,p]=se.useState(()=>{const e=n._getWatch(i,l.current);return c.current?c.current(e):e}),m=se.useCallback(e=>{const t=Ea(i,n._names,e||n._formValues,!1,l.current);return c.current?c.current(t):t},[n._formValues,n._names,i]),g=se.useCallback(e=>{if(!o){const t=Ea(i,n._names,e||n._formValues,!1,l.current);if(c.current){const e=c.current(t);Pa(e,u.current)||(p(e),u.current=e)}else p(t)}},[n._formValues,n._names,o,i]);xa(()=>(d.current===n&&Pa(f.current,i)||(d.current=n,f.current=i,g()),n._subscribe({name:i,formState:{values:!0},exact:a,callback:e=>{g(e.values)}})),[n,a,i,g]),se.useEffect(()=>n._removeUnmounted());const v=d.current!==n,b=f.current,y=se.useMemo(()=>{if(o)return null;const e=!v&&!Pa(b,i);return v||e?m():null},[o,v,i,b,m]);return null!==y?y:h}const ja=e=>e.render(function(e){const t=ya(),{name:n,disabled:i,control:r=t,shouldUnregister:o,defaultValue:a,exact:s=!0}=e,l=ta(r._names.array,n),c=se.useMemo(()=>la(r._formValues,n,la(r._defaultValues,n,a)),[r,n,a]),u=Oa({control:r,name:n,defaultValue:c,exact:s}),d=_a({control:r,name:n,exact:s}),f=se.useRef(e),h=se.useRef(void 0),p=se.useRef(r.register(n,{...e.rules,value:u,...ca(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const m=se.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!la(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!la(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!la(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!la(d.validatingFields,n)},error:{enumerable:!0,get:()=>la(d.errors,n)}}),[d,n]),g=se.useCallback(e=>p.current.onChange({target:{value:ea(e),name:n},type:"change"}),[n]),v=se.useCallback(()=>p.current.onBlur({target:{value:la(r._formValues,n),name:n},type:fa}),[n,r._formValues]),b=se.useCallback(e=>{const t=la(r._fields,n);t&&t._f&&e&&(t._f.ref={focus:()=>ua(e.focus)&&e.focus(),select:()=>ua(e.select)&&e.select(),setCustomValidity:t=>ua(e.setCustomValidity)&&e.setCustomValidity(t),reportValidity:()=>ua(e.reportValidity)&&e.reportValidity()})},[r._fields,n]),y=se.useMemo(()=>({name:n,value:u,...ca(i)||d.disabled?{disabled:d.disabled||i}:{},onChange:g,onBlur:v,ref:b}),[n,i,d.disabled,g,v,b,u]);return se.useEffect(()=>{const e=r._options.shouldUnregister||o,t=h.current;t&&t!==n&&!l&&r.unregister(t),r.register(n,{...f.current.rules,...ca(f.current.disabled)?{disabled:f.current.disabled}:{}});const i=(e,t)=>{const n=la(r._fields,e);n&&n._f&&(n._f.mount=t)};if(i(n,!0),e){const e=ia(la(r._options.defaultValues,n,f.current.defaultValue));da(r._defaultValues,n,e),oa(la(r._formValues,n))&&da(r._formValues,n,e)}return!l&&r.register(n),h.current=n,()=>{(l?e&&!r._state.action:e)?r.unregister(n):i(n,!1)}},[n,r,l,o]),se.useEffect(()=>{r._setDisabledField({disabled:i,name:n})},[i,n,r]),se.useMemo(()=>({field:y,formState:d,fieldState:m}),[y,d,m])}(e));se.createContext(null).displayName="HookFormContext";var ka=(e,t,n,i,r)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[i]:r||!0}}:{},Aa=e=>Array.isArray(e)?e:[e],Ta=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}};function Ia(e,t){const n={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i],o=t[i];if(r&&Jo(r)&&o){const e=Ia(r,o);Jo(e)&&(n[i]=e)}else e[i]&&(n[i]=o)}return n}var Ma=e=>Jo(e)&&!Object.keys(e).length,La=e=>"file"===e.type,Ra=e=>{if(!na)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Na=e=>"select-multiple"===e.type,Fa=e=>"radio"===e.type,Da=e=>Ra(e)&&e.isConnected;function Va(e,t){const n=Array.isArray(t)?t:ra(t)?[t]:sa(t),i=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let i=0;for(;i<n;)e=oa(e)?i++:e[t[i++]];return e}(e,n),r=n.length-1,o=n[r];return i&&delete i[o],0!==r&&(Jo(i)&&Ma(i)||Array.isArray(i)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!oa(e[t]))return!1;return!0}(i))&&Va(e,n.slice(0,-1)),e}function Ba(e){return Array.isArray(e)||Jo(e)&&!(e=>{for(const t in e)if(ua(e[t]))return!0;return!1})(e)}function za(e,t={}){for(const n in e){const i=e[n];Ba(i)?(t[n]=Array.isArray(i)?[]:{},za(i,t[n])):oa(i)||(t[n]=!0)}return t}function Ha(e,t,n){n||(n=za(t));for(const i in e){const r=e[i];if(Ba(r))oa(t)||Ca(n[i])?n[i]=za(r,Array.isArray(r)?[]:{}):Ha(r,Zo(t)?{}:t[i],n[i]);else{const e=t[i];n[i]=!Pa(r,e)}}return n}const $a={value:!1,isValid:!1},Ua={value:!0,isValid:!0};var Ga=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!oa(e[0].attributes.value)?oa(e[0].value)||""===e[0].value?Ua:{value:e[0].value,isValid:!0}:Ua:$a}return $a},Wa=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:i})=>oa(e)?e:t?""===e?NaN:e?+e:e:n&&Sa(e)?new Date(e):i?i(e):e;const qa={isValid:!1,value:null};var Ya=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,qa):qa;function Xa(e){const t=e.ref;return La(t)?t.files:Fa(t)?Ya(e.refs).value:Na(t)?[...t.selectedOptions].map(({value:e})=>e):Xo(t)?Ga(e.refs).value:Wa(oa(t.value)?e.ref.value:t.value,e)}var Ka=e=>e instanceof RegExp,Za=e=>oa(e)?e:Ka(e)?e.source:Jo(e)?Ka(e.value)?e.value.source:e.value:e,Qa=e=>({isOnSubmit:!e||e===pa,isOnBlur:"onBlur"===e,isOnChange:e===ha,isOnAll:e===ma,isOnTouch:"onTouched"===e});const Ja="AsyncFunction";var es=e=>!!e&&!!e.validate&&!!(ua(e.validate)&&e.validate.constructor.name===Ja||Jo(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===Ja)),ts=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const ns=(e,t,n,i)=>{for(const r of n||Object.keys(e)){const n=la(e,r);if(n){const{_f:e,...o}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],r)&&!i)return!0;if(e.ref&&t(e.ref,e.name)&&!i)return!0;if(ns(o,t))break}else if(Jo(o)&&ns(o,t))break}}};function is(e,t,n){const i=la(e,n);if(i||ra(n))return{error:i,name:n};const r=n.split(".");for(;r.length;){const i=r.join("."),o=la(t,i),a=la(e,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};if(a&&a.root&&a.root.type)return{name:`${i}.root`,error:a.root};r.pop()}return{name:n}}var rs=(e,t,n)=>{const i=Aa(la(e,n));return da(i,"root",t[n]),da(e,n,i),e};function os(e,t,n="validate"){if(Sa(e)||Array.isArray(e)&&e.every(Sa)||ca(e)&&!e)return{type:n,message:Sa(e)?e:"",ref:t}}var as=e=>Jo(e)&&!Ka(e)?e:{value:e,message:""},ss=async(e,t,n,i,r,o)=>{const{ref:a,refs:s,required:l,maxLength:c,minLength:u,min:d,max:f,pattern:h,validate:p,name:m,valueAsNumber:g,mount:v}=e._f,b=la(n,m);if(!v||t.has(m))return{};const y=s?s[0]:a,w=e=>{r&&y.reportValidity&&(y.setCustomValidity(ca(e)?"":e||""),y.reportValidity())},x={},_=Fa(a),S=Xo(a),E=_||S,C=(g||La(a))&&oa(a.value)&&oa(b)||Ra(a)&&""===a.value||""===b||Array.isArray(b)&&!b.length,P=ka.bind(null,m,i,x),O=(e,t,n,i="maxLength",r="minLength")=>{const o=e?t:n;x[m]={type:e?i:r,message:o,ref:a,...P(e?i:r,o)}};if(o?!Array.isArray(b)||!b.length:l&&(!E&&(C||Zo(b))||ca(b)&&!b||S&&!Ga(s).isValid||_&&!Ya(s).isValid)){const{value:e,message:t}=Sa(l)?{value:!!l,message:l}:as(l);if(e&&(x[m]={type:va,message:t,ref:y,...P(va,t)},!i))return w(t),x}if(!(C||Zo(d)&&Zo(f))){let e,t;const n=as(f),r=as(d);if(Zo(b)||isNaN(b)){const i=a.valueAsDate||new Date(b),o=e=>new Date((new Date).toDateString()+" "+e),s="time"==a.type,l="week"==a.type;Sa(n.value)&&b&&(e=s?o(b)>o(n.value):l?b>n.value:i>new Date(n.value)),Sa(r.value)&&b&&(t=s?o(b)<o(r.value):l?b<r.value:i<new Date(r.value))}else{const i=a.valueAsNumber||(b?+b:b);Zo(n.value)||(e=i>n.value),Zo(r.value)||(t=i<r.value)}if((e||t)&&(O(!!e,n.message,r.message,"max","min"),!i))return w(x[m].message),x}if((c||u)&&!C&&(Sa(b)||o&&Array.isArray(b))){const e=as(c),t=as(u),n=!Zo(e.value)&&b.length>+e.value,r=!Zo(t.value)&&b.length<+t.value;if((n||r)&&(O(n,e.message,t.message),!i))return w(x[m].message),x}if(h&&!C&&Sa(b)){const{value:e,message:t}=as(h);if(Ka(e)&&!b.match(e)&&(x[m]={type:ga,message:t,ref:a,...P(ga,t)},!i))return w(t),x}if(p)if(ua(p)){const e=os(await p(b,n),y);if(e&&(x[m]={...e,...P("validate",e.message)},!i))return w(e.message),x}else if(Jo(p)){let e={};for(const t in p){if(!Ma(e)&&!i)break;const r=os(await p[t](b,n),y,t);r&&(e={...r,...P(t,r.message)},w(r.message),i&&(x[m]=e))}if(!Ma(e)&&(x[m]={ref:y,...e},!i))return x}return w(!0),x};const ls={mode:pa,reValidateMode:ha,shouldFocusError:!0};function cs(e={}){let t,n={...ls,...e},i={submitCount:0,isDirty:!1,isReady:!1,isLoading:ua(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},r={},o=(Jo(n.defaultValues)||Jo(n.values))&&ia(n.defaultValues||n.values)||{},a=n.shouldUnregister?{}:ia(o),s={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={...u};let f={...d};const h={array:Ta(),state:Ta()},p=n.criteriaMode===ma,m=async e=>{if(!s.keepIsValid&&!n.disabled&&(d.isValid||f.isValid||e)){let e;n.resolver?(e=Ma((await y()).errors),g()):e=await w(r,!0),e!==i.isValid&&h.state.next({isValid:e})}},g=(e,t)=>{!n.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((e||Array.from(l.mount)).forEach(e=>{e&&(t?da(i.validatingFields,e,t):Va(i.validatingFields,e))}),h.state.next({validatingFields:i.validatingFields,isValidating:!Ma(i.validatingFields)}))},v=(e,t,n,i)=>{const l=la(r,e);if(l){const r=la(a,e,oa(n)?la(o,e):n);oa(r)||i&&i.defaultChecked||t?da(a,e,t?r:Xa(l._f)):S(e,r),s.mount&&!s.action&&m()}},b=(e,t,r,a,s)=>{let l=!1,c=!1;const u={name:e};if(!n.disabled){if(!r||a){(d.isDirty||f.isDirty)&&(c=i.isDirty,i.isDirty=u.isDirty=x(),l=c!==u.isDirty);const n=Pa(la(o,e),t);c=!!la(i.dirtyFields,e),n?Va(i.dirtyFields,e):da(i.dirtyFields,e,!0),u.dirtyFields=i.dirtyFields,l=l||(d.dirtyFields||f.dirtyFields)&&c!==!n}if(r){const t=la(i.touchedFields,e);t||(da(i.touchedFields,e,r),u.touchedFields=i.touchedFields,l=l||(d.touchedFields||f.touchedFields)&&t!==r)}l&&s&&h.state.next(u)}return l?u:{}},y=async e=>{g(e,!0);const t=await n.resolver(a,n.context,((e,t,n,i)=>{const r={};for(const n of e){const e=la(t,n);e&&da(r,n,e._f)}return{criteriaMode:n,names:[...e],fields:r,shouldUseNativeValidation:i}})(e||l.mount,r,n.criteriaMode,n.shouldUseNativeValidation));return t},w=async(t,r,o={valid:!0})=>{for(const s in t){const c=t[s];if(c){const{_f:t,...s}=c;if(t){const s=l.array.has(t.name),u=c._f&&es(c._f);u&&d.validatingFields&&g([t.name],!0);const f=await ss(c,l.disabled,a,p,n.shouldUseNativeValidation&&!r,s);if(u&&d.validatingFields&&g([t.name]),f[t.name]&&(o.valid=!1,r||e.shouldUseNativeValidation))break;!r&&(la(f,t.name)?s?rs(i.errors,f,t.name):da(i.errors,t.name,f[t.name]):Va(i.errors,t.name))}!Ma(s)&&await w(s,r,o)}}return o.valid},x=(e,t)=>!n.disabled&&(e&&t&&da(a,e,t),!Pa(k(),o)),_=(e,t,n)=>Ea(e,l,{...s.mount?a:oa(t)?o:Sa(e)?{[e]:t}:t},n,t),S=(e,t,n={})=>{const i=la(r,e);let o=t;if(i){const n=i._f;n&&(!n.disabled&&da(a,e,Wa(t,n)),o=Ra(n.ref)&&Zo(t)?"":t,Na(n.ref)?[...n.ref.options].forEach(e=>e.selected=o.includes(e.value)):n.refs?Xo(n.ref)?n.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(o)?e.checked=!!o.find(t=>t===e.value):e.checked=o===e.value||!!o)}):n.refs.forEach(e=>e.checked=e.value===o):La(n.ref)?n.ref.value="":(n.ref.value=o,n.ref.type||h.state.next({name:e,values:ia(a)})))}(n.shouldDirty||n.shouldTouch)&&b(e,o,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&j(e)},E=(e,t,n)=>{for(const i in t){if(!t.hasOwnProperty(i))return;const o=t[i],a=e+"."+i,s=la(r,a);(l.array.has(e)||Jo(o)||s&&!s._f)&&!Ko(o)?E(a,o,n):S(a,o,n)}},C=(e,t,n={})=>{const c=la(r,e),u=l.array.has(e),p=ia(t);da(a,e,p),u?(h.array.next({name:e,values:ia(a)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&n.shouldDirty&&h.state.next({name:e,dirtyFields:Ha(o,a),isDirty:x(e,p)})):!c||c._f||Zo(p)?S(e,p,n):E(e,p,n),ts(e,l)?h.state.next({...i,name:e,values:ia(a)}):h.state.next({name:s.mount?e:void 0,values:ia(a)})},P=async e=>{s.mount=!0;const o=e.target;let u=o.name,v=!0;const x=la(r,u),_=e=>{v=Number.isNaN(e)||Ko(e)&&isNaN(e.getTime())||Pa(e,la(a,u,e))},S=Qa(n.mode),E=Qa(n.reValidateMode);if(x){let s,P;const O=o.type?Xa(x._f):ea(e),k=e.type===fa||"focusout"===e.type,A=!((C=x._f).mount&&(C.required||C.min||C.max||C.maxLength||C.minLength||C.pattern||C.validate)||n.resolver||la(i.errors,u)||x._f.deps)||((e,t,n,i,r)=>!r.isOnAll&&(!n&&r.isOnTouch?!(t||e):(n?i.isOnBlur:r.isOnBlur)?!e:!(n?i.isOnChange:r.isOnChange)||e))(k,la(i.touchedFields,u),i.isSubmitted,E,S),T=ts(u,l,k);da(a,u,O),k?o&&o.readOnly||(x._f.onBlur&&x._f.onBlur(e),t&&t(0)):x._f.onChange&&x._f.onChange(e);const I=b(u,O,k),M=!Ma(I)||T;if(!k&&h.state.next({name:u,type:e.type,values:ia(a)}),A)return(d.isValid||f.isValid)&&("onBlur"===n.mode?k&&m():k||m()),M&&h.state.next({name:u,...T?{}:I});if(!k&&T&&h.state.next({...i}),n.resolver){const{errors:e}=await y([u]);if(g([u]),_(O),v){const t=is(i.errors,r,u),n=is(e,r,t.name||u);s=n.error,u=n.name,P=Ma(e)}}else g([u],!0),s=(await ss(x,l.disabled,a,p,n.shouldUseNativeValidation))[u],g([u]),_(O),v&&(s?P=!1:(d.isValid||f.isValid)&&(P=await w(r,!0)));v&&(x._f.deps&&(!Array.isArray(x._f.deps)||x._f.deps.length>0)&&j(x._f.deps),((e,r,o,a)=>{const s=la(i.errors,e),l=(d.isValid||f.isValid)&&ca(r)&&i.isValid!==r;var u;if(n.delayError&&o?(u=()=>((e,t)=>{da(i.errors,e,t),h.state.next({errors:i.errors})})(e,o),t=e=>{clearTimeout(c),c=setTimeout(u,e)},t(n.delayError)):(clearTimeout(c),t=null,o?da(i.errors,e,o):Va(i.errors,e)),(o?!Pa(s,o):s)||!Ma(a)||l){const t={...a,...l&&ca(r)?{isValid:r}:{},errors:i.errors,name:e};i={...i,...t},h.state.next(t)}})(u,P,s,I))}var C},O=(e,t)=>{if(la(i.errors,t)&&e.focus)return e.focus(),1},j=async(e,t={})=>{let o,a;const s=Aa(e);if(n.resolver){const t=await(async e=>{const{errors:t}=await y(e);if(g(e),e)for(const n of e){const e=la(t,n);e?da(i.errors,n,e):Va(i.errors,n)}else i.errors=t;return t})(oa(e)?e:s);o=Ma(t),a=e?!s.some(e=>la(t,e)):o}else e?(a=(await Promise.all(s.map(async e=>{const t=la(r,e);return await w(t&&t._f?{[e]:t}:t)}))).every(Boolean),(a||i.isValid)&&m()):a=o=await w(r);return h.state.next({...!Sa(e)||(d.isValid||f.isValid)&&o!==i.isValid?{}:{name:e},...n.resolver||!e?{isValid:o}:{},errors:i.errors}),t.shouldFocus&&!a&&ns(r,O,e?s:l.mount),a},k=(e,t)=>{let n={...s.mount?a:o};return t&&(n=Ia(t.dirtyFields?i.dirtyFields:i.touchedFields,n)),oa(e)?n:Sa(e)?la(n,e):e.map(e=>la(n,e))},A=(e,t)=>({invalid:!!la((t||i).errors,e),isDirty:!!la((t||i).dirtyFields,e),error:la((t||i).errors,e),isValidating:!!la(i.validatingFields,e),isTouched:!!la((t||i).touchedFields,e)}),T=(e,t,n)=>{const o=(la(r,e,{_f:{}})._f||{}).ref,a=la(i.errors,e)||{},{ref:s,message:l,type:c,...u}=a;da(i.errors,e,{...u,...t,ref:o}),h.state.next({name:e,errors:i.errors,isValid:!1}),n&&n.shouldFocus&&o&&o.focus&&o.focus()},I=e=>h.state.subscribe({next:t=>{var n,r,s;n=e.name,r=t.name,s=e.exact,n&&r&&n!==r&&!Aa(n).some(e=>e&&(s?e===r:e.startsWith(r)||r.startsWith(e)))||!((e,t,n,i)=>{n(e);const{name:r,...o}=e;return Ma(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(e=>t[e]===(!i||ma))})(t,e.formState||d,B,e.reRenderRoot)||e.callback({values:{...a},...i,...t,defaultValues:o})}}).unsubscribe,M=(e,t={})=>{for(const s of e?Aa(e):l.mount)l.mount.delete(s),l.array.delete(s),t.keepValue||(Va(r,s),Va(a,s)),!t.keepError&&Va(i.errors,s),!t.keepDirty&&Va(i.dirtyFields,s),!t.keepTouched&&Va(i.touchedFields,s),!t.keepIsValidating&&Va(i.validatingFields,s),!n.shouldUnregister&&!t.keepDefaultValue&&Va(o,s);h.state.next({values:ia(a)}),h.state.next({...i,...t.keepDirty?{isDirty:x()}:{}}),!t.keepIsValid&&m()},L=({disabled:e,name:t})=>{if(ca(e)&&s.mount||e||l.disabled.has(t)){const n=l.disabled.has(t)!==!!e;e?l.disabled.add(t):l.disabled.delete(t),n&&s.mount&&!s.action&&m()}},R=(e,t={})=>{let i=la(r,e);const a=ca(t.disabled)||ca(n.disabled);return da(r,e,{...i||{},_f:{...i&&i._f?i._f:{ref:{name:e}},name:e,mount:!0,...t}}),l.mount.add(e),i?L({disabled:ca(t.disabled)?t.disabled:n.disabled,name:e}):v(e,!0,t.value),{...a?{disabled:t.disabled||n.disabled}:{},...n.progressive?{required:!!t.required,min:Za(t.min),max:Za(t.max),minLength:Za(t.minLength),maxLength:Za(t.maxLength),pattern:Za(t.pattern)}:{},name:e,onChange:P,onBlur:P,ref:a=>{if(a){R(e,t),i=la(r,e);const n=oa(a.value)&&a.querySelectorAll&&a.querySelectorAll("input,select,textarea")[0]||a,s=(e=>Fa(e)||Xo(e))(n),l=i._f.refs||[];if(s?l.find(e=>e===n):n===i._f.ref)return;da(r,e,{_f:{...i._f,...s?{refs:[...l.filter(Da),n,...Array.isArray(la(o,e))?[{}]:[]],ref:{type:n.type,name:e}}:{ref:n}}}),v(e,!1,void 0,n)}else i=la(r,e,{}),i._f&&(i._f.mount=!1),(n.shouldUnregister||t.shouldUnregister)&&(!ta(l.array,e)||!s.action)&&l.unMount.add(e)}}},N=()=>n.shouldFocusError&&ns(r,O,l.mount),F=(e,t)=>async o=>{let s;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let c=ia(a);if(h.state.next({isSubmitting:!0}),n.resolver){const{errors:e,values:t}=await y();g(),i.errors=e,c=ia(t)}else await w(r);if(l.disabled.size)for(const e of l.disabled)Va(c,e);if(Va(i.errors,"root"),Ma(i.errors)){h.state.next({errors:{}});try{await e(c,o)}catch(e){s=e}}else t&&await t({...i.errors},o),N(),setTimeout(N);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ma(i.errors)&&!s,submitCount:i.submitCount+1,errors:i.errors}),s)throw s},D=(e,t={})=>{const c=e?ia(e):o,u=ia(c),f=Ma(e),p=f?o:u;if(t.keepDefaultValues||(o=c),!t.keepValues){if(t.keepDirtyValues){const e=new Set([...l.mount,...Object.keys(Ha(o,a))]);for(const t of Array.from(e)){const e=la(i.dirtyFields,t),n=la(a,t),r=la(p,t);e&&!oa(n)?da(p,t,n):e||oa(r)||C(t,r)}}else{if(na&&oa(e))for(const e of l.mount){const t=la(r,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(Ra(e)){const t=e.closest("form");if(t){t.reset();break}}}}if(t.keepFieldsRef)for(const e of l.mount)C(e,la(p,e));else r={}}a=n.shouldUnregister?t.keepDefaultValues?ia(o):{}:ia(p),h.array.next({values:{...p}}),h.state.next({values:{...p}})}l={mount:t.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!t.keepIsValid||!!t.keepDirtyValues||!n.shouldUnregister&&!Ma(p),s.watch=!!n.shouldUnregister,s.keepIsValid=!!t.keepIsValid,s.action=!1,t.keepErrors||(i.errors={}),h.state.next({submitCount:t.keepSubmitCount?i.submitCount:0,isDirty:!f&&(t.keepDirty?i.isDirty:!(!t.keepDefaultValues||Pa(e,o))),isSubmitted:!!t.keepIsSubmitted&&i.isSubmitted,dirtyFields:f?{}:t.keepDirtyValues?t.keepDefaultValues&&a?Ha(o,a):i.dirtyFields:t.keepDefaultValues&&e?Ha(o,e):t.keepDirty?i.dirtyFields:{},touchedFields:t.keepTouched?i.touchedFields:{},errors:t.keepErrors?i.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&i.isSubmitSuccessful,isSubmitting:!1,defaultValues:o})},V=(e,t)=>D(ua(e)?e(a):e,{...n.resetOptions,...t}),B=e=>{i={...i,...e}},z={control:{register:R,unregister:M,getFieldState:A,handleSubmit:F,setError:T,_subscribe:I,_runSchema:y,_updateIsValidating:g,_focusError:N,_getWatch:_,_getDirty:x,_setValid:m,_setFieldArray:(e,t=[],l,c,u=!0,p=!0)=>{if(c&&l&&!n.disabled){if(s.action=!0,p&&Array.isArray(la(r,e))){const t=l(la(r,e),c.argA,c.argB);u&&da(r,e,t)}if(p&&Array.isArray(la(i.errors,e))){const t=l(la(i.errors,e),c.argA,c.argB);u&&da(i.errors,e,t),((e,t)=>{!aa(la(e,t)).length&&Va(e,t)})(i.errors,e)}if((d.touchedFields||f.touchedFields)&&p&&Array.isArray(la(i.touchedFields,e))){const t=l(la(i.touchedFields,e),c.argA,c.argB);u&&da(i.touchedFields,e,t)}(d.dirtyFields||f.dirtyFields)&&(i.dirtyFields=Ha(o,a)),h.state.next({name:e,isDirty:x(e,t),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else da(a,e,t)},_setDisabledField:L,_setErrors:e=>{i.errors=e,h.state.next({errors:i.errors,isValid:!1})},_getFieldArray:e=>aa(la(s.mount?a:o,e,n.shouldUnregister?la(o,e,[]):[])),_reset:D,_resetDefaultValues:()=>ua(n.defaultValues)&&n.defaultValues().then(e=>{V(e,n.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of l.unMount){const t=la(r,e);t&&(t._f.refs?t._f.refs.every(e=>!Da(e)):!Da(t._f.ref))&&M(e)}l.unMount=new Set},_disableForm:e=>{ca(e)&&(h.state.next({disabled:e}),ns(r,(t,n)=>{const i=la(r,n);i&&(t.disabled=i._f.disabled||e,Array.isArray(i._f.refs)&&i._f.refs.forEach(t=>{t.disabled=i._f.disabled||e}))},0,!1))},_subjects:h,_proxyFormState:d,get _fields(){return r},get _formValues(){return a},get _state(){return s},set _state(e){s=e},get _defaultValues(){return o},get _names(){return l},set _names(e){l=e},get _formState(){return i},get _options(){return n},set _options(e){n={...n,...e}}},subscribe:e=>(s.mount=!0,f={...f,...e.formState},I({...e,formState:{...u,...e.formState}})),trigger:j,register:R,handleSubmit:F,watch:(e,t)=>ua(e)?h.state.subscribe({next:n=>"values"in n&&e(_(void 0,t),n)}):_(e,t,!0),setValue:C,getValues:k,reset:V,resetField:(e,t={})=>{la(r,e)&&(oa(t.defaultValue)?C(e,ia(la(o,e))):(C(e,t.defaultValue),da(o,e,ia(t.defaultValue))),t.keepTouched||Va(i.touchedFields,e),t.keepDirty||(Va(i.dirtyFields,e),i.isDirty=t.defaultValue?x(e,ia(la(o,e))):x()),t.keepError||(Va(i.errors,e),d.isValid&&m()),h.state.next({...i}))},clearErrors:e=>{e&&Aa(e).forEach(e=>Va(i.errors,e)),h.state.next({errors:e?i.errors:{}})},unregister:M,setError:T,setFocus:(e,t={})=>{const n=la(r,e),i=n&&n._f;if(i){const e=i.refs?i.refs[0]:i.ref;e.focus&&setTimeout(()=>{e.focus(),t.shouldSelect&&ua(e.select)&&e.select()})}},getFieldState:A};return{...z,formControl:z}}function us(e={}){const t=se.useRef(void 0),n=se.useRef(void 0),[i,r]=se.useState({isDirty:!1,isValidating:!1,isLoading:ua(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:ua(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:i},e.defaultValues&&!ua(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:n,...r}=cs(e);t.current={...r,formState:i}}const o=t.current.control;return o._options=e,xa(()=>{const e=o._subscribe({formState:o._proxyFormState,callback:()=>r({...o._formState}),reRenderRoot:!0});return r(e=>({...e,isReady:!0})),o._formState.isReady=!0,e},[o]),se.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),se.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),se.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),se.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),se.useEffect(()=>{if(o._proxyFormState.isDirty){const e=o._getDirty();e!==i.isDirty&&o._subjects.state.next({isDirty:e})}},[o,i.isDirty]),se.useEffect(()=>{var t;e.values&&!Pa(e.values,n.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),(null===(t=o._options.resetOptions)||void 0===t?void 0:t.keepIsValid)||o._setValid(),n.current=e.values,r(e=>({...e}))):o._resetDefaultValues()},[o,e.values]),se.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=se.useMemo(()=>wa(i,o),[o,i]),t.current}function ds(){var e,t,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(n,i,r,o){var l=i&&i.prototype instanceof s?i:s,c=Object.create(l.prototype);return fs(c,"_invoke",function(n,i,r){var o,s,l,c=0,u=r||[],d=!1,f={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,n){return o=t,s=0,l=e,f.n=n,a}};function h(n,i){for(s=n,l=i,t=0;!d&&c&&!r&&t<u.length;t++){var r,o=u[t],h=f.p,p=o[2];n>3?(r=p===i)&&(l=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=h&&((r=n<2&&h<o[1])?(s=0,f.v=i,f.n=o[1]):h<p&&(r=n<3||o[0]>i||i>p)&&(o[4]=n,o[5]=i,f.n=p,s=0))}if(r||n>1)return a;throw d=!0,i}return function(r,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&h(u,p),s=u,l=p;(t=s<2?e:l)||!d;){o||(s?s<3?(s>1&&(f.n=-1),h(s,l)):f.n=l:f.v=l);try{if(c=2,o){if(s||(r="next"),t=o[r]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),s=1);o=e}else if((t=(d=f.n<0)?l:n.call(i,f))!==a)break}catch(t){o=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,r,o),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][i]?t(t([][i]())):(fs(t={},i,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,fs(e,r,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,fs(d,"constructor",c),fs(c,"constructor",l),l.displayName="GeneratorFunction",fs(c,r,"GeneratorFunction"),fs(d),fs(d,r,"Generator"),fs(d,i,function(){return this}),fs(d,"toString",function(){return"[object Generator]"}),(ds=function(){return{w:o,m:f}})()}function fs(e,t,n,i){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}fs=function(e,t,n,i){function o(t,n){fs(e,t,function(e){return this._invoke(t,n,e)})}t?r?r(e,t,{value:n,enumerable:!i,configurable:!i,writable:!i}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},fs(e,t,n,i)}function hs(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function ps(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ms(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ms(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ms(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}const gs=function(e){var t,n=e.categories||[],i=(e.categories||[]).map(function(e){return e.label||e.name}),r=(e.patternCategories||[]).map(function(e){var t=(0,ao.cleanForSlug)(e.label||e.name||e),i=n.find(function(e){return(0,ao.cleanForSlug)(e.label||e.name)===t});return(0,a.escapeHTML)(i.label)}),o=ps((0,se.useState)(e.copyPatternId||0),1)[0],c=ps((0,se.useState)(e.syncedDefaultStatus||"synced"),1)[0],d=ps((0,se.useState)(e.syncedDisabled||!1),1)[0],f=ps((0,se.useState)(!1),2),h=f[0],p=f[1],m=ps((0,se.useState)(e.isEditMode||!1),2),g=m[0],v=(m[1],ps((0,se.useState)(!1),2)),b=v[0],y=v[1],w=us({defaultValues:{patternId:e.patternId||0,patternNonce:e.patternNonce||"",patternTitle:e.patternTitle||"",patternCategories:r||[],patternSyncStatus:e.patternSyncStatus||c,patternCopyId:o}}),x=w.control,_=(w.getValues,w.handleSubmit),S=(w.reset,w.setError),E=(w.trigger,w.setValue,Oa({control:x}),_a({control:x})),C=E.errors,P=(E.isDirty,E.dirtyFields,function(){var t,i=(t=ds().m(function t(i){var r,o,a,s,l;return ds().w(function(t){for(;;)switch(t.n){case 0:return p(!0),r=i.patternCategories.map(function(e){return{name:e,id:(t=e,i=n.find(function(e){return(e.label||e.name).toLowerCase()===t.toLowerCase()}),i?i.id:0)};var t,i}),o=g?"/dlxplugins/pattern-wrangler/v1/patterns/update/":"/dlxplugins/pattern-wrangler/v1/patterns/create/",t.n=1,u()({path:o,method:"POST",data:{patternId:i.patternId,patternNonce:i.patternNonce,nonce:dlxEnhancedPatternsView.createNonce,patternTitle:i.patternTitle,patternCategories:r,patternSyncStatus:i.patternSyncStatus,patternCopyId:i.patternCopyId,disableRegisteredPattern:b}});case 1:null!=(a=t.v)&&a.error?S("patternTitle",{message:a.error}):(s=a.patternId,g?e.onEdit(a):(l=encodeURIComponent(window.location.href),window.location.href="".concat(dlxEnhancedPatternsView.getSiteBaseUrl,"post.php?post=").concat(s,"&action=edit&redirect_to=").concat(l))),p(!1);case 2:return t.a(2)}},t)}),function(){var e=this,n=arguments;return new Promise(function(i,r){var o=t.apply(e,n);function a(e){hs(o,i,r,a,s,"next",e)}function s(e){hs(o,i,r,a,s,"throw",e)}a(void 0)})});return function(_x){return i.apply(this,arguments)}}());return ce().createElement(ce().Fragment,null,ce().createElement(l.Modal,{title:e.title||(0,s.__)("Add Pattern","pattern-wrangler"),onRequestClose:e.onRequestClose,focusOnMount:"firstContentElement"},ce().createElement("div",{className:"dlx-pw-modal-content"},ce().createElement("form",{onSubmit:_(P)},ce().createElement("div",{className:"dlx-pw-modal-admin-row"},ce().createElement(ja,{control:x,name:"patternTitle",rules:{required:(0,s.__)("Pattern title is required.","pattern-wrangler")},render:function(e){var t=e.field;return ce().createElement(l.TextControl,{label:(0,s.__)("Pattern Title","pattern-wrangler"),help:(0,s.__)("Enter the title of the pattern.","pattern-wrangler"),value:t.value,onChange:function(e){return t.onChange(e)},disabled:h})}})),ce().createElement("div",{className:"dlx-pw-modal-admin-row"},ce().createElement(ja,{control:x,name:"patternCategories[]",render:function(e){var t=e.field;return ce().createElement(ce().Fragment,null,ce().createElement(l.FormTokenField,{label:(0,s.__)("Categories","pattern-wrangler"),help:(0,s.__)("Enter the categories of the pattern.","pattern-wrangler"),value:t.value,onChange:function(e){t.onChange(e)},tokenizeOnSpace:!1,allowMultiple:!0,placeholder:(0,s.__)("Add a category","pattern-wrangler"),suggestions:i,disabled:h,__experimentalShowHowTo:!1}),ce().createElement("p",{className:"description"},(0,s.__)("Separate with commas or press the Enter key.","pattern-wrangler")))}})),ce().createElement("div",{className:"dlx-pw-modal-admin-row"},ce().createElement(ja,{control:x,name:"patternSyncStatus",render:function(e){var t=e.field;return ce().createElement(ce().Fragment,null,ce().createElement(l.__experimentalToggleGroupControl,{label:(0,s.__)("Sync Status","pattern-wrangler"),isAdaptiveWidth:!0,value:t.value,onChange:function(e){t.onChange(e)},disabled:h||d},ce().createElement(l.__experimentalToggleGroupControlOption,{value:"synced",label:(0,s.__)("Synced","pattern-wrangler"),showTooltip:!0,"aria-label":(0,s.__)("Synced","pattern-wrangler"),disabled:d}),ce().createElement(l.__experimentalToggleGroupControlOption,{value:"unsynced",label:(0,s.__)("Unsynced","pattern-wrangler"),showTooltip:!0,"aria-label":(0,s.__)("Unsynced","pattern-wrangler"),disabled:d})))}})),0!==o&&ce().createElement("div",{className:"dlx-pw-modal-admin-row"},ce().createElement(l.ToggleControl,{label:(0,s.__)("Disable Registered Pattern","pattern-wrangler"),checked:b,onChange:function(e){return y(e)},help:(0,s.__)("Disable the registered pattern when you copy it to local.","pattern-wrangler"),disabled:h})),ce().createElement("div",{className:"dlx-pw-modal-admin-row dlx-pw-modal-admin-row-buttons"},ce().createElement(l.Button,{variant:"primary",type:"submit",disabled:h},(t=(0,s.__)("Add Pattern","pattern-wrangler"),g&&(t=(0,s.__)("Save Pattern","pattern-wrangler")),h&&(t=(0,s.__)("Saving Pattern…","pattern-wrangler")),t)),ce().createElement(l.Button,{variant:"secondary",onClick:e.onRequestClose,disabled:h},(0,s.__)("Cancel","pattern-wrangler"))),(null==C?void 0:C.patternTitle)&&ce().createElement(Uo,{className:"dlx-pw-admin-notice",status:"error",inline:!0,icon:function(){return ce().createElement(Yo,null)}},C.patternTitle.message)))))};function vs(){var e,t,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(n,i,r,o){var l=i&&i.prototype instanceof s?i:s,c=Object.create(l.prototype);return bs(c,"_invoke",function(n,i,r){var o,s,l,c=0,u=r||[],d=!1,f={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,n){return o=t,s=0,l=e,f.n=n,a}};function h(n,i){for(s=n,l=i,t=0;!d&&c&&!r&&t<u.length;t++){var r,o=u[t],h=f.p,p=o[2];n>3?(r=p===i)&&(l=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=h&&((r=n<2&&h<o[1])?(s=0,f.v=i,f.n=o[1]):h<p&&(r=n<3||o[0]>i||i>p)&&(o[4]=n,o[5]=i,f.n=p,s=0))}if(r||n>1)return a;throw d=!0,i}return function(r,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&h(u,p),s=u,l=p;(t=s<2?e:l)||!d;){o||(s?s<3?(s>1&&(f.n=-1),h(s,l)):f.n=l:f.v=l);try{if(c=2,o){if(s||(r="next"),t=o[r]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),s=1);o=e}else if((t=(d=f.n<0)?l:n.call(i,f))!==a)break}catch(t){o=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,r,o),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][i]?t(t([][i]())):(bs(t={},i,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,bs(e,r,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,bs(d,"constructor",c),bs(c,"constructor",l),l.displayName="GeneratorFunction",bs(c,r,"GeneratorFunction"),bs(d),bs(d,r,"Generator"),bs(d,i,function(){return this}),bs(d,"toString",function(){return"[object Generator]"}),(vs=function(){return{w:o,m:f}})()}function bs(e,t,n,i){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}bs=function(e,t,n,i){function o(t,n){bs(e,t,function(e){return this._invoke(t,n,e)})}t?r?r(e,t,{value:n,enumerable:!i,configurable:!i,writable:!i}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},bs(e,t,n,i)}function ys(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function ws(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xs(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xs(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}const _s=function(e){var t,n=ws((0,se.useState)(!1),2),i=n[0],r=n[1],o=ws((0,se.useState)(e.doNotShowAgain||!1),2),a=o[0],c=o[1],d=us({defaultValues:{items:e.items||[],patternNonce:e.patternNonce||"",forceDelete:!1}}),f=d.control,h=d.handleSubmit,p=Oa({control:f}),m=_a({control:f}).errors,g=function(){var t,n=(t=vs().m(function t(n){var i,o;return vs().w(function(t){for(;;)switch(t.n){case 0:return r(!0),i=n.items.map(function(e){return{id:e.id,nonce:e.editNonce}}),t.n=1,u()({path:"/dlxplugins/pattern-wrangler/v1/patterns/pause/",method:"POST",data:{items:i,doNotShowAgain:a}});case 1:o=t.v,e.onPause(o,i,a),r(!1);case 2:return t.a(2)}},t)}),function(){var e=this,n=arguments;return new Promise(function(i,r){var o=t.apply(e,n);function a(e){ys(o,i,r,a,s,"next",e)}function s(e){ys(o,i,r,a,s,"throw",e)}a(void 0)})});return function(_x){return n.apply(this,arguments)}}();return(0,se.useEffect)(function(){e.doNotShowAgain&&g(p)},[]),e.doNotShowAgain?null:ce().createElement(ce().Fragment,null,ce().createElement(l.Modal,{title:1===e.items.length?(0,s.__)("Disable Pattern","pattern-wrangler"):(0,s._n)("Disable Pattern","Disable Patterns",e.items.length,"pattern-wrangler"),onRequestClose:e.onRequestClose,focusOnMount:"firstContentElement"},ce().createElement("div",{className:"dlx-pw-modal-content"},ce().createElement("form",{onSubmit:h(g)},ce().createElement("div",{className:"dlx-pw-modal-admin-row"},ce().createElement("p",null,(0,s.__)("Are you sure you want to disable this pattern? You can always re-enable it later.","pattern-wrangler"))),ce().createElement("div",{className:"dlx-pw-modal-admin-row"},ce().createElement(l.CheckboxControl,{label:(0,s.__)("Do not show this confirmation again.","pattern-wrangler"),checked:a,onChange:function(e){return c(e)},disabled:i})),ce().createElement("div",{className:"dlx-pw-modal-admin-row dlx-pw-modal-admin-row-buttons"},ce().createElement(l.Button,{variant:"primary",type:"submit",disabled:i},(t=(0,s._n)("Disable Pattern","Disable Patterns",e.items.length,"pattern-wrangler"),i&&(t=(0,s._n)("Disabling Pattern…","Disabling Patterns…",e.items.length,"pattern-wrangler")),t)),ce().createElement(l.Button,{variant:"secondary",onClick:e.onRequestClose,disabled:i},(0,s.__)("Cancel","pattern-wrangler"))),(null==m?void 0:m.patternTitle)&&ce().createElement(Uo,{className:"dlx-pw-admin-notice",status:"error",inline:!0,icon:function(){return ce().createElement(Yo,null)}},m.patternTitle.message)))))};function Ss(){var e,t,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(n,i,r,o){var l=i&&i.prototype instanceof s?i:s,c=Object.create(l.prototype);return Es(c,"_invoke",function(n,i,r){var o,s,l,c=0,u=r||[],d=!1,f={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,n){return o=t,s=0,l=e,f.n=n,a}};function h(n,i){for(s=n,l=i,t=0;!d&&c&&!r&&t<u.length;t++){var r,o=u[t],h=f.p,p=o[2];n>3?(r=p===i)&&(l=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=h&&((r=n<2&&h<o[1])?(s=0,f.v=i,f.n=o[1]):h<p&&(r=n<3||o[0]>i||i>p)&&(o[4]=n,o[5]=i,f.n=p,s=0))}if(r||n>1)return a;throw d=!0,i}return function(r,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&h(u,p),s=u,l=p;(t=s<2?e:l)||!d;){o||(s?s<3?(s>1&&(f.n=-1),h(s,l)):f.n=l:f.v=l);try{if(c=2,o){if(s||(r="next"),t=o[r]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),s=1);o=e}else if((t=(d=f.n<0)?l:n.call(i,f))!==a)break}catch(t){o=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,r,o),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][i]?t(t([][i]())):(Es(t={},i,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Es(e,r,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,Es(d,"constructor",c),Es(c,"constructor",l),l.displayName="GeneratorFunction",Es(c,r,"GeneratorFunction"),Es(d),Es(d,r,"Generator"),Es(d,i,function(){return this}),Es(d,"toString",function(){return"[object Generator]"}),(Ss=function(){return{w:o,m:f}})()}function Es(e,t,n,i){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}Es=function(e,t,n,i){function o(t,n){Es(e,t,function(e){return this._invoke(t,n,e)})}t?r?r(e,t,{value:n,enumerable:!i,configurable:!i,writable:!i}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},Es(e,t,n,i)}function Cs(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function Ps(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Os(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Os(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Os(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}r(912);const js=function(e){var t,n=Ps((0,se.useState)(!1),2),i=n[0],r=n[1],o=Ps((0,se.useState)(e.doNotShowAgain||!1),2),a=o[0],c=(o[1],us({defaultValues:{items:e.items||[],patternNonce:e.patternNonce||"",forceDelete:!1}})),d=c.control,f=c.handleSubmit,h=Oa({control:d}),p=_a({control:d}).errors,m=function(){var t,n=(t=Ss().m(function t(n){var i,o;return Ss().w(function(t){for(;;)switch(t.n){case 0:return r(!0),i=n.items.map(function(e){return{id:e.id,nonce:e.editNonce}}),t.n=1,u()({path:"/dlxplugins/pattern-wrangler/v1/patterns/publish/",method:"POST",data:{items:i,doNotShowAgain:a}});case 1:o=t.v,e.onPublish(o,i),r(!1);case 2:return t.a(2)}},t)}),function(){var e=this,n=arguments;return new Promise(function(i,r){var o=t.apply(e,n);function a(e){Cs(o,i,r,a,s,"next",e)}function s(e){Cs(o,i,r,a,s,"throw",e)}a(void 0)})});return function(_x){return n.apply(this,arguments)}}();return(0,se.useEffect)(function(){e.doNotShowAgain&&m(h)},[]),e.doNotShowAgain?null:ce().createElement(ce().Fragment,null,ce().createElement(l.Modal,{title:1===e.items.length?(0,s.__)("Publish Pattern","pattern-wrangler"):(0,s._n)("Publish Pattern","Publish Patterns",e.items.length,"pattern-wrangler"),onRequestClose:e.onRequestClose,focusOnMount:"firstContentElement"},ce().createElement("div",{className:"dlx-pw-modal-content"},ce().createElement("form",{onSubmit:f(m)},ce().createElement("div",{className:"dlx-pw-modal-admin-row dlx-pw-modal-admin-row-buttons"},ce().createElement(l.Button,{variant:"primary",type:"submit",disabled:i},(t=(0,s._n)("Publish Pattern","Publish Patterns",e.items.length,"pattern-wrangler"),i&&(t=(0,s._n)("Publishing Pattern…","Publishing Patterns…",e.items.length,"pattern-wrangler")),t)),ce().createElement(l.Button,{variant:"secondary",onClick:e.onRequestClose,disabled:i},(0,s.__)("Cancel","pattern-wrangler"))),(null==p?void 0:p.patternTitle)&&ce().createElement(Uo,{className:"dlx-pw-admin-notice",status:"error",inline:!0,icon:function(){return ce().createElement(Yo,null)}},p.patternTitle.message)))))};function ks(){var e,t,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(n,i,r,o){var l=i&&i.prototype instanceof s?i:s,c=Object.create(l.prototype);return As(c,"_invoke",function(n,i,r){var o,s,l,c=0,u=r||[],d=!1,f={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,n){return o=t,s=0,l=e,f.n=n,a}};function h(n,i){for(s=n,l=i,t=0;!d&&c&&!r&&t<u.length;t++){var r,o=u[t],h=f.p,p=o[2];n>3?(r=p===i)&&(l=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=h&&((r=n<2&&h<o[1])?(s=0,f.v=i,f.n=o[1]):h<p&&(r=n<3||o[0]>i||i>p)&&(o[4]=n,o[5]=i,f.n=p,s=0))}if(r||n>1)return a;throw d=!0,i}return function(r,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&h(u,p),s=u,l=p;(t=s<2?e:l)||!d;){o||(s?s<3?(s>1&&(f.n=-1),h(s,l)):f.n=l:f.v=l);try{if(c=2,o){if(s||(r="next"),t=o[r]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),s=1);o=e}else if((t=(d=f.n<0)?l:n.call(i,f))!==a)break}catch(t){o=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,r,o),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][i]?t(t([][i]())):(As(t={},i,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,As(e,r,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,As(d,"constructor",c),As(c,"constructor",l),l.displayName="GeneratorFunction",As(c,r,"GeneratorFunction"),As(d),As(d,r,"Generator"),As(d,i,function(){return this}),As(d,"toString",function(){return"[object Generator]"}),(ks=function(){return{w:o,m:f}})()}function As(e,t,n,i){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}As=function(e,t,n,i){function o(t,n){As(e,t,function(e){return this._invoke(t,n,e)})}t?r?r(e,t,{value:n,enumerable:!i,configurable:!i,writable:!i}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},As(e,t,n,i)}function Ts(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function Is(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ms(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ms(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ms(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}const Ls=function(e){var t,n=Is((0,se.useState)(!1),2),i=n[0],r=n[1],o=Is((0,se.useState)(e.doNotShowAgain||!1),2),a=o[0],c=o[1],d=us({defaultValues:{items:e.items||[],patternNonce:e.patternNonce||"",forceDelete:!1}}),f=d.control,h=d.handleSubmit,p=Oa({control:f}),m=_a({control:f}).errors,g=function(){var t,n=(t=ks().m(function t(n){var i,o;return ks().w(function(t){for(;;)switch(t.n){case 0:return r(!0),i=n.items.map(function(e){return{id:e.id,nonce:e.editNonce}}),t.n=1,u()({path:"/dlxplugins/pattern-wrangler/v1/patterns/publish/",method:"POST",data:{items:i,doNotShowAgain:a}});case 1:o=t.v,e.onReenable(o,i,a),r(!1);case 2:return t.a(2)}},t)}),function(){var e=this,n=arguments;return new Promise(function(i,r){var o=t.apply(e,n);function a(e){Ts(o,i,r,a,s,"next",e)}function s(e){Ts(o,i,r,a,s,"throw",e)}a(void 0)})});return function(_x){return n.apply(this,arguments)}}();return(0,se.useEffect)(function(){e.doNotShowAgain&&g(p)},[]),e.doNotShowAgain?null:ce().createElement(ce().Fragment,null,ce().createElement(l.Modal,{title:1===e.items.length?(0,s.__)("Re-enable Pattern","pattern-wrangler"):(0,s._n)("Re-enable Pattern","Re-enable Patterns",e.items.length,"pattern-wrangler"),onRequestClose:e.onRequestClose,focusOnMount:"firstContentElement"},ce().createElement("div",{className:"dlx-pw-modal-content"},ce().createElement("form",{onSubmit:h(g)},ce().createElement("div",{className:"dlx-pw-modal-admin-row"},ce().createElement("p",null,(0,s.__)("Are you sure you want to re-enable this pattern? You can always disable it later.","pattern-wrangler"))),ce().createElement("div",{className:"dlx-pw-modal-admin-row"},ce().createElement(l.CheckboxControl,{label:(0,s.__)("Do not show this confirmation again.","pattern-wrangler"),checked:a,onChange:function(e){return c(e)},disabled:i})),ce().createElement("div",{className:"dlx-pw-modal-admin-row dlx-pw-modal-admin-row-buttons"},ce().createElement(l.Button,{variant:"primary",type:"submit",disabled:i},(t=(0,s._n)("Re-enable Pattern","Re-enable Patterns",e.items.length,"pattern-wrangler"),i&&(t=(0,s._n)("Re-enabling Pattern…","Re-enabling Patterns…",e.items.length,"pattern-wrangler")),t)),ce().createElement(l.Button,{variant:"secondary",onClick:e.onRequestClose,disabled:i},(0,s.__)("Cancel","pattern-wrangler"))),(null==m?void 0:m.patternTitle)&&ce().createElement(Uo,{className:"dlx-pw-admin-notice",status:"error",inline:!0,icon:function(){return ce().createElement(Yo,null)}},m.patternTitle.message)))))};function Rs(){var e,t,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(n,i,r,o){var l=i&&i.prototype instanceof s?i:s,c=Object.create(l.prototype);return Ns(c,"_invoke",function(n,i,r){var o,s,l,c=0,u=r||[],d=!1,f={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,n){return o=t,s=0,l=e,f.n=n,a}};function h(n,i){for(s=n,l=i,t=0;!d&&c&&!r&&t<u.length;t++){var r,o=u[t],h=f.p,p=o[2];n>3?(r=p===i)&&(l=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=h&&((r=n<2&&h<o[1])?(s=0,f.v=i,f.n=o[1]):h<p&&(r=n<3||o[0]>i||i>p)&&(o[4]=n,o[5]=i,f.n=p,s=0))}if(r||n>1)return a;throw d=!0,i}return function(r,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&h(u,p),s=u,l=p;(t=s<2?e:l)||!d;){o||(s?s<3?(s>1&&(f.n=-1),h(s,l)):f.n=l:f.v=l);try{if(c=2,o){if(s||(r="next"),t=o[r]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),s=1);o=e}else if((t=(d=f.n<0)?l:n.call(i,f))!==a)break}catch(t){o=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,r,o),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][i]?t(t([][i]())):(Ns(t={},i,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Ns(e,r,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,Ns(d,"constructor",c),Ns(c,"constructor",l),l.displayName="GeneratorFunction",Ns(c,r,"GeneratorFunction"),Ns(d),Ns(d,r,"Generator"),Ns(d,i,function(){return this}),Ns(d,"toString",function(){return"[object Generator]"}),(Rs=function(){return{w:o,m:f}})()}function Ns(e,t,n,i){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}Ns=function(e,t,n,i){function o(t,n){Ns(e,t,function(e){return this._invoke(t,n,e)})}t?r?r(e,t,{value:n,enumerable:!i,configurable:!i,writable:!i}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},Ns(e,t,n,i)}function Fs(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function Ds(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Vs(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vs(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}const Bs=function(e){var t,n=Ds((0,se.useState)(!1),2),i=n[0],r=n[1],o=Ds((0,se.useState)(e.doNotShowAgain||!1),2),a=o[0],c=o[1],d=us({defaultValues:{items:e.items||[],patternNonce:e.patternNonce||"",forceDelete:!1}}),f=d.control,h=d.handleSubmit,p=Oa({control:f}),m=_a({control:f}).errors,g=function(){var t,n=(t=Rs().m(function t(n){var i,o;return Rs().w(function(t){for(;;)switch(t.n){case 0:return r(!0),i=n.items.map(function(e){return{id:e.id,nonce:e.editNonce}}),t.n=1,u()({path:"/dlxplugins/pattern-wrangler/v1/patterns/delete/",method:"POST",data:{items:i}});case 1:o=t.v,e.onDelete(o,i),r(!1);case 2:return t.a(2)}},t)}),function(){var e=this,n=arguments;return new Promise(function(i,r){var o=t.apply(e,n);function a(e){Fs(o,i,r,a,s,"next",e)}function s(e){Fs(o,i,r,a,s,"throw",e)}a(void 0)})});return function(_x){return n.apply(this,arguments)}}();return(0,se.useEffect)(function(){e.doNotShowAgain&&g(p)},[]),e.doNotShowAgain?null:ce().createElement(ce().Fragment,null,ce().createElement(l.Modal,{title:1===e.items.length?(0,s.__)("Delete Pattern","pattern-wrangler"):(0,s._n)("Delete Pattern","Delete Patterns",e.items.length,"pattern-wrangler"),onRequestClose:e.onRequestClose,focusOnMount:"firstContentElement"},ce().createElement("div",{className:"dlx-pw-modal-content"},ce().createElement("form",{onSubmit:h(g)},ce().createElement("div",{className:"dlx-pw-modal-admin-row"},ce().createElement("p",{className:"description"},(0,s.__)("Are you sure you want to delete this pattern? This action cannot be undone.","pattern-wrangler"))),ce().createElement("div",{className:"dlx-pw-modal-admin-row"},ce().createElement(l.CheckboxControl,{label:(0,s.__)("Do not show this confirmation again.","pattern-wrangler"),checked:a,onChange:function(e){return c(e)},disabled:i})),ce().createElement("div",{className:"dlx-pw-modal-admin-row dlx-pw-modal-admin-row-buttons"},ce().createElement(l.Button,{variant:"primary",type:"submit",isDestructive:!0,disabled:i},(t=(0,s._n)("Delete Pattern","Delete Patterns",e.items.length,"pattern-wrangler"),i&&(t=(0,s._n)("Deleting Pattern…","Deleting Patterns…",e.items.length,"pattern-wrangler")),t)),ce().createElement(l.Button,{variant:"secondary",onClick:e.onRequestClose,disabled:i},(0,s.__)("Cancel","pattern-wrangler"))),(null==m?void 0:m.patternTitle)&&ce().createElement(Uo,{className:"dlx-pw-admin-notice",status:"error",inline:!0,icon:function(){return ce().createElement(Yo,null)}},m.patternTitle.message)))))};function zs(){var e,t,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(n,i,r,o){var l=i&&i.prototype instanceof s?i:s,c=Object.create(l.prototype);return Hs(c,"_invoke",function(n,i,r){var o,s,l,c=0,u=r||[],d=!1,f={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,n){return o=t,s=0,l=e,f.n=n,a}};function h(n,i){for(s=n,l=i,t=0;!d&&c&&!r&&t<u.length;t++){var r,o=u[t],h=f.p,p=o[2];n>3?(r=p===i)&&(l=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=h&&((r=n<2&&h<o[1])?(s=0,f.v=i,f.n=o[1]):h<p&&(r=n<3||o[0]>i||i>p)&&(o[4]=n,o[5]=i,f.n=p,s=0))}if(r||n>1)return a;throw d=!0,i}return function(r,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&h(u,p),s=u,l=p;(t=s<2?e:l)||!d;){o||(s?s<3?(s>1&&(f.n=-1),h(s,l)):f.n=l:f.v=l);try{if(c=2,o){if(s||(r="next"),t=o[r]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),s=1);o=e}else if((t=(d=f.n<0)?l:n.call(i,f))!==a)break}catch(t){o=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,r,o),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][i]?t(t([][i]())):(Hs(t={},i,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Hs(e,r,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,Hs(d,"constructor",c),Hs(c,"constructor",l),l.displayName="GeneratorFunction",Hs(c,r,"GeneratorFunction"),Hs(d),Hs(d,r,"Generator"),Hs(d,i,function(){return this}),Hs(d,"toString",function(){return"[object Generator]"}),(zs=function(){return{w:o,m:f}})()}function Hs(e,t,n,i){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}Hs=function(e,t,n,i){function o(t,n){Hs(e,t,function(e){return this._invoke(t,n,e)})}t?r?r(e,t,{value:n,enumerable:!i,configurable:!i,writable:!i}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},Hs(e,t,n,i)}function $s(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function Us(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var o=e.apply(t,n);function a(e){$s(o,i,r,a,s,"next",e)}function s(e){$s(o,i,r,a,s,"throw",e)}a(void 0)})}}function Gs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ws(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ws(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ws(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}const qs=function(e){var t=e.item||{},n=t.id,i=void 0===n?0:n,r=t.syncStatus,o=void 0===r?"unsynced":r,a=Gs((0,se.useState)(dlxEnhancedPatternsView.isMultisite),1)[0],c=Gs((0,se.useState)(null),2),u=c[0],d=c[1],f=Gs((0,se.useState)(null),2),h=f[0],p=f[1],m=Gs((0,se.useState)(null),2),g=m[0],v=m[1],b=Gs((0,se.useState)(null),2),y=b[0],w=b[1],x=function(){var e=Us(zs().m(function e(t,n){var i,r;return zs().w(function(e){for(;;)if(0===e.n)return(i=document.createElement("button")).classList.add("dlx-pw-copy-shortcode"),i.innerHTML='<span class="dashicons dashicons-clipboard"></span>',r=function(){var e=Us(zs().m(function e(){var t,r,o;return zs().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=!1,null===(t=navigator.clipboard)||void 0===t||!t.writeText){e.n=4;break}return e.p=1,e.n=2,navigator.clipboard.writeText(n);case 2:r=!0,e.n=4;break;case 3:e.p=3,e.v;case 4:if(!r){(o=document.createElement("textarea")).value=n,o.style.position="fixed",o.style.opacity="0",o.style.pointerEvents="none",document.body.appendChild(o),o.select();try{document.execCommand("copy"),r=!0}catch(e){}document.body.removeChild(o)}r&&(i.innerHTML='<span class="dashicons dashicons-yes"></span>',setTimeout(function(){i.innerHTML='<span class="dashicons dashicons-clipboard"></span>'},1500));case 5:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}(),i.addEventListener("click",r),t.parentElement.appendChild(i),e.a(2,function(){i.removeEventListener("click",r),i.remove()})},e)}));return function(_x,t){return e.apply(this,arguments)}}();(0,se.useEffect)(function(){u&&x(u,_())},[u]),(0,se.useEffect)(function(){h&&x(h,C())},[h]),(0,se.useEffect)(function(){g&&x(g,S())},[g]),(0,se.useEffect)(function(){y&&x(y,E())},[y]);var _=function(){return a&&e.item.siteId?'[wp_block slug="'.concat(e.item.slug,'" site_id="').concat(e.item.siteId,'"]'):'[wp_block slug="'.concat(e.item.slug,'"]')},S=function(){return"spp-trigger-".concat(i)},E=function(){return'<a href="#spp-trigger-'.concat(i,'">Open the Popup</a>')},C=function(){return a&&e.item.siteId?"<?php function_exists( 'pw_wp_block' ) ? pw_wp_block( '".concat(e.item.slug,"', ").concat(e.item.siteId,", $echo = true ) : ''; ?>"):"<?php function_exists( 'pw_wp_block' ) ? pw_wp_block( '".concat(e.item.slug,"', null, $echo = true ) : ''; ?>")};return ce().createElement(ce().Fragment,null,ce().createElement(l.Modal,{title:(0,s.__)("Get Code","pattern-wrangler"),onRequestClose:e.onRequestClose,focusOnMount:"firstContentElement"},ce().createElement("div",{className:"dlx-pw-modal-content"},ce().createElement("p",{className:"description"},(0,s.__)("Use the fields below to get a shortcode or PHP function to output the pattern on your site.","pattern-wrangler")),ce().createElement("div",{className:"dlx-pw-modal-admin-row"},ce().createElement(l.TextControl,{label:(0,s.__)("Pattern Shortcode","pattern-wrangler"),value:_(),disabled:!0,ref:d,className:"dlx-pw-modal-admin-row-input"})),ce().createElement("div",{className:"dlx-pw-modal-admin-row"},ce().createElement(l.TextControl,{label:(0,s.__)("Pattern PHP Function","pattern-wrangler"),value:C(),disabled:!0,ref:p,className:"dlx-pw-modal-admin-row-input"})),dlxEnhancedPatternsView.syncedPatternPopupsActive&&"synced"===o&&ce().createElement(ce().Fragment,null,ce().createElement("div",{className:"dlx-pw-modal-admin-row"},ce().createElement(l.TextControl,{label:(0,s.__)("Synced Pattern Popups Trigger Code","pattern-wrangler"),value:S(),disabled:!0,ref:v,className:"dlx-pw-modal-admin-row-input",help:(0,s.__)("This is the code to trigger the Synced Pattern Popup on your site.","pattern-wrangler")}),ce().createElement(l.TextControl,{label:(0,s.__)("Synced Pattern Popups Trigger Anchor Code","pattern-wrangler"),value:E(),disabled:!0,ref:w,className:"dlx-pw-modal-admin-row-input",help:(0,s.__)("This is the code to add to the anchor of the Synced Pattern Popup on your site.","pattern-wrangler")}),ce().createElement("p",{className:"description"},ce().createElement("a",{href:"".concat(dlxEnhancedPatternsView.syncedPatternPopupsUrl,"#how-to-use"),target:"_blank",rel:"noreferrer"},(0,s.__)("Synced Pattern Popups documentation","pattern-wrangler"))))),ce().createElement("div",{className:"dlx-pw-modal-admin-row dlx-pw-modal-admin-row-buttons"},ce().createElement(l.Button,{variant:"secondary",onClick:e.onRequestClose},(0,s.__)("Cancel","pattern-wrangler"))))))};function Ys(){var e,t,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(n,i,r,o){var l=i&&i.prototype instanceof s?i:s,c=Object.create(l.prototype);return Xs(c,"_invoke",function(n,i,r){var o,s,l,c=0,u=r||[],d=!1,f={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,n){return o=t,s=0,l=e,f.n=n,a}};function h(n,i){for(s=n,l=i,t=0;!d&&c&&!r&&t<u.length;t++){var r,o=u[t],h=f.p,p=o[2];n>3?(r=p===i)&&(l=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=h&&((r=n<2&&h<o[1])?(s=0,f.v=i,f.n=o[1]):h<p&&(r=n<3||o[0]>i||i>p)&&(o[4]=n,o[5]=i,f.n=p,s=0))}if(r||n>1)return a;throw d=!0,i}return function(r,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&h(u,p),s=u,l=p;(t=s<2?e:l)||!d;){o||(s?s<3?(s>1&&(f.n=-1),h(s,l)):f.n=l:f.v=l);try{if(c=2,o){if(s||(r="next"),t=o[r]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),s=1);o=e}else if((t=(d=f.n<0)?l:n.call(i,f))!==a)break}catch(t){o=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,r,o),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][i]?t(t([][i]())):(Xs(t={},i,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Xs(e,r,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,Xs(d,"constructor",c),Xs(c,"constructor",l),l.displayName="GeneratorFunction",Xs(c,r,"GeneratorFunction"),Xs(d),Xs(d,r,"Generator"),Xs(d,i,function(){return this}),Xs(d,"toString",function(){return"[object Generator]"}),(Ys=function(){return{w:o,m:f}})()}function Xs(e,t,n,i){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}Xs=function(e,t,n,i){function o(t,n){Xs(e,t,function(e){return this._invoke(t,n,e)})}t?r?r(e,t,{value:n,enumerable:!i,configurable:!i,writable:!i}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},Xs(e,t,n,i)}function Ks(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function Zs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}const Qs=function(e){var t,n=e.categories||[],i=(e.categories||[]).map(function(e){return e.label||e.name}),r=(0,se.useMemo)(function(){var t=e.items||[];if(0===t.length)return[];var i=t.map(function(e){return e.categories||[]});if(0===i.length||0===i[0].length)return[];for(var r=i[0],o=function(){var e=i[a];r=r.filter(function(t){return e.some(function(e){return e===t})})},a=1;a<i.length;a++)o();return r.filter(function(e){return n.some(function(t){return t.label===e})})},[e.items,n]),o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Zs(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zs(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,se.useState)(!1),2),a=o[0],c=o[1],d=us({defaultValues:{items:e.items||[],patternCategories:r||[]}}),f=d.control,h=d.handleSubmit,p=(Oa({control:f}),_a({control:f}).errors),m=function(){var t,i=(t=Ys().m(function t(i){var r,o,a,s,l;return Ys().w(function(t){for(;;)switch(t.n){case 0:return c(!0),r=i.patternCategories.map(function(e){return{name:e,id:(t=e,i=n.find(function(e){return(e.label||e.name).toLowerCase()===t.toLowerCase()}),i?i.id:0)};var t,i}),o=i.items.map(function(e){return{id:e.id,nonce:e.editNonce}}),t.n=1,u()({path:"/dlxplugins/pattern-wrangler/v1/patterns/tag/",method:"POST",data:{items:o,patternCategories:r}});case 1:a=t.v,s=a.newCategories||{},l=Object.values(s).map(function(e){return e.slug}),e.onTag(a,o,a.itemsAffected,s,l),c(!1);case 2:return t.a(2)}},t)}),function(){var e=this,n=arguments;return new Promise(function(i,r){var o=t.apply(e,n);function a(e){Ks(o,i,r,a,s,"next",e)}function s(e){Ks(o,i,r,a,s,"throw",e)}a(void 0)})});return function(_x){return i.apply(this,arguments)}}();return ce().createElement(ce().Fragment,null,ce().createElement(l.Modal,{title:(0,s._n)("Assign Category to Pattern","Assign Categories to Pattern",e.items.length,"pattern-wrangler"),onRequestClose:e.onRequestClose,focusOnMount:"firstContentElement"},ce().createElement("div",{className:"dlx-pw-modal-content"},ce().createElement("form",{onSubmit:h(m)},ce().createElement("div",{className:"dlx-pw-modal-admin-row"},ce().createElement(ja,{control:f,name:"patternCategories[]",render:function(e){var t=e.field;return ce().createElement(ce().Fragment,null,ce().createElement(l.FormTokenField,{label:(0,s.__)("Categories","pattern-wrangler"),help:(0,s.__)("Enter the categories to assign to the pattern.","pattern-wrangler"),value:t.value,onChange:function(e){t.onChange(e)},tokenizeOnSpace:!1,allowMultiple:!0,placeholder:(0,s.__)("Add a category","pattern-wrangler"),suggestions:i,disabled:a,__experimentalShowHowTo:!1}),ce().createElement("p",{className:"description"},(0,s.__)("Separate with commas or press the Enter key.","pattern-wrangler")))}})),ce().createElement("div",{className:"dlx-pw-modal-admin-row dlx-pw-modal-admin-row-buttons"},ce().createElement(l.Button,{variant:"primary",type:"submit",disabled:a},(t=(0,s._n)("Assign Category to Pattern","Assign Categories to Pattern",e.items.length,"pattern-wrangler"),a&&(t=(0,s._n)("Saving Category…","Saving Categories…",e.items.length,"pattern-wrangler")),t)),ce().createElement(l.Button,{variant:"secondary",onClick:e.onRequestClose,disabled:a},(0,s.__)("Cancel","pattern-wrangler"))),(null==p?void 0:p.patternCategories)&&ce().createElement(Uo,{className:"dlx-pw-admin-notice",status:"error",inline:!0,icon:function(){return ce().createElement(Yo,null)}},p.patternCategories.message)))))};function Js(e){return Js="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Js(e)}function el(e){return function(e){if(Array.isArray(e))return tl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return tl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tl(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function nl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function il(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nl(Object(n),!0).forEach(function(t){rl(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nl(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rl(e,t,n){return(t=function(e){var t=function(e){if("object"!=Js(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Js(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Js(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ol(){var e,t,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(n,i,r,o){var l=i&&i.prototype instanceof s?i:s,c=Object.create(l.prototype);return al(c,"_invoke",function(n,i,r){var o,s,l,c=0,u=r||[],d=!1,f={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,n){return o=t,s=0,l=e,f.n=n,a}};function h(n,i){for(s=n,l=i,t=0;!d&&c&&!r&&t<u.length;t++){var r,o=u[t],h=f.p,p=o[2];n>3?(r=p===i)&&(l=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=h&&((r=n<2&&h<o[1])?(s=0,f.v=i,f.n=o[1]):h<p&&(r=n<3||o[0]>i||i>p)&&(o[4]=n,o[5]=i,f.n=p,s=0))}if(r||n>1)return a;throw d=!0,i}return function(r,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&h(u,p),s=u,l=p;(t=s<2?e:l)||!d;){o||(s?s<3?(s>1&&(f.n=-1),h(s,l)):f.n=l:f.v=l);try{if(c=2,o){if(s||(r="next"),t=o[r]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),s=1);o=e}else if((t=(d=f.n<0)?l:n.call(i,f))!==a)break}catch(t){o=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,r,o),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][i]?t(t([][i]())):(al(t={},i,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,al(e,r,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,al(d,"constructor",c),al(c,"constructor",l),l.displayName="GeneratorFunction",al(c,r,"GeneratorFunction"),al(d),al(d,r,"Generator"),al(d,i,function(){return this}),al(d,"toString",function(){return"[object Generator]"}),(ol=function(){return{w:o,m:f}})()}function al(e,t,n,i){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}al=function(e,t,n,i){function o(t,n){al(e,t,function(e){return this._invoke(t,n,e)})}t?r?r(e,t,{value:n,enumerable:!i,configurable:!i,writable:!i}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},al(e,t,n,i)}function sl(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}var ll={patterns:[],categories:[],assets:[],data:{patterns:[],categories:[],assets:[]},loading:!1,error:null,doNotShowAgain:dlxEnhancedPatternsView.doNotShowAgain||!1},cl={setPatterns:function(e){return{type:"SET_PATTERNS",patterns:e}},setPattern:function(e,t,n,i){return{type:"SET_PATTERN",patternId:e,patternTitle:t,patternCategories:n,patternCategorySlugs:i}},addPattern:function(e){return{type:"ADD_PATTERN",pattern:e}},disablePatterns:function(e){return{type:"DISABLE_PATTERNS",patternIdsAndNonces:e}},enablePatterns:function(e){return{type:"ENABLE_PATTERNS",patternIdsAndNonces:e}},setCategory:function(e,t){return{type:"SET_CATEGORY",categoryId:e,categoryTermData:t}},upsertCategory:function(e){return{type:"UPSERT_CATEGORY",categoryData:e}},setCategories:function(e){return{type:"SET_CATEGORIES",categories:e}},setAssets:function(e){return{type:"SET_ASSETS",assets:e}},setData:function(e){return{type:"SET_DATA",data:e}},setAllData:function(e,t,n,i){return{type:"SET_ALL_DATA",patterns:e,categories:t,assets:n,data:i}},setLoading:function(e){return{type:"SET_LOADING",loading:e}},setError:function(e){return{type:"SET_ERROR",error:e}},setDoNotShowAgain:function(e){return{type:"SET_DO_NOT_SHOW_AGAIN",doNotShowAgain:e}},fetchData:function(){return function(){var e,t=(e=ol().m(function e(t){var n,i,r;return ol().w(function(e){for(;;)switch(e.p=e.n){case 0:return n=t.dispatch,e.p=1,n(cl.setLoading(!0)),n(cl.setError(null)),e.n=2,u()({path:(0,ao.addQueryArgs)("/dlxplugins/pattern-wrangler/v1/patterns/all/",{nonce:dlxEnhancedPatternsView.getNonce}),method:"GET"});case 2:i=e.v,n(i?cl.setAllData(i.patterns,i.categories,i.assets,i):cl.setError("Failed to fetch data")),e.n=4;break;case 3:e.p=3,r=e.v,n(cl.setError(r.message||"Network error occurred"));case 4:return e.p=4,n(cl.setLoading(!1)),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}),function(){var t=this,n=arguments;return new Promise(function(i,r){var o=e.apply(t,n);function a(e){sl(o,i,r,a,s,"next",e)}function s(e){sl(o,i,r,a,s,"throw",e)}a(void 0)})});return function(_x){return t.apply(this,arguments)}}()},deletePatterns:function(e){return{type:"DELETE_PATTERNS",patternIdsAndNonces:e}}},ul=(0,$i.createReduxStore)("dlxplugins/pattern-wrangler/patterns",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ll,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ALL_DATA":return il(il({},e),{},{patterns:t.patterns,categories:t.categories,assets:t.assets,data:t.data,loading:!1,error:null});case"SET_PATTERNS":return il(il({},e),{},{patterns:t.patterns});case"SET_CATEGORIES":return il(il({},e),{},{categories:t.categories});case"UPSERT_CATEGORY":var n=il(il({},t.categoryData),e.categories);return il(il({},e),{},{categories:n,data:il(il({},e.data),{},{categories:n})});case"SET_PATTERN":var i=t.patternCategories,r=t.patternCategorySlugs,o=e.patterns.map(function(e){return e.id===t.patternId?il(il({},e),{title:t.patternTitle,categories:i,categorySlugs:r}):e});return il(il({},e),{},{patterns:o,data:il(il({},e.data),{},{patterns:o})});case"ADD_PATTERN":return il(il({},e),{},{patterns:[].concat(el(e.patterns),[t.pattern]),data:il(il({},e.data),{},{patterns:[].concat(el(e.patterns),[t.pattern])})});case"SET_CATEGORY":var a=e.categories.map(function(e){return e.id===t.categoryId?il(il({},e),t.categoryTermData):e});return il(il({},e),{},{categories:a,data:il(il({},e.data),{},{categories:a})});case"SET_DATA":return il(il({},e),{},{data:t.data});case"SET_ASSETS":return il(il({},e),{},{assets:t.assets});case"SET_LOADING":return il(il({},e),{},{loading:t.loading});case"SET_ERROR":return il(il({},e),{},{error:t.error});case"DISABLE_PATTERNS":var s=t.patternIdsAndNonces,l=[];return e.patterns.forEach(function(e){s.some(function(t){return t.id===e.id})&&(e.isDisabled=!0),l.push(e)}),il(il({},e),{},{patterns:[].concat(l),data:il(il({},e.data),{},{patterns:[].concat(l)})});case"ENABLE_PATTERNS":var c=t.patternIdsAndNonces,u=[];return e.patterns.forEach(function(e){c.some(function(t){return t.id===e.id})&&(e.isDisabled=!1),u.push(e)}),il(il({},e),{},{patterns:[].concat(u),data:il(il({},e.data),{},{patterns:[].concat(u)})});case"DELETE_PATTERNS":var d=t.patternIdsAndNonces,f=el(e.patterns).filter(function(e){return!d.some(function(t){return t.id===e.id})});return il(il({},e),{},{patterns:f,data:il(il({},e.data),{},{patterns:f})});case"SET_DO_NOT_SHOW_AGAIN":return il(il({},e),{},{doNotShowAgain:t.doNotShowAgain});default:return e}},actions:cl,selectors:{getPatterns:function(e){return e.patterns},getCategories:function(e){return e.categories},getAssets:function(e){return e.assets},getData:function(e){return e.data},getLoading:function(e){return e.loading},getError:function(e){return e.error},getDoNotShowAgain:function(e){return e.doNotShowAgain}}});(0,$i.register)(ul);const dl=ul,fl=window.wp.blocks;function hl(){var e,t,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(n,i,r,o){var l=i&&i.prototype instanceof s?i:s,c=Object.create(l.prototype);return pl(c,"_invoke",function(n,i,r){var o,s,l,c=0,u=r||[],d=!1,f={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,n){return o=t,s=0,l=e,f.n=n,a}};function h(n,i){for(s=n,l=i,t=0;!d&&c&&!r&&t<u.length;t++){var r,o=u[t],h=f.p,p=o[2];n>3?(r=p===i)&&(l=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=h&&((r=n<2&&h<o[1])?(s=0,f.v=i,f.n=o[1]):h<p&&(r=n<3||o[0]>i||i>p)&&(o[4]=n,o[5]=i,f.n=p,s=0))}if(r||n>1)return a;throw d=!0,i}return function(r,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&h(u,p),s=u,l=p;(t=s<2?e:l)||!d;){o||(s?s<3?(s>1&&(f.n=-1),h(s,l)):f.n=l:f.v=l);try{if(c=2,o){if(s||(r="next"),t=o[r]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),s=1);o=e}else if((t=(d=f.n<0)?l:n.call(i,f))!==a)break}catch(t){o=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,r,o),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][i]?t(t([][i]())):(pl(t={},i,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,pl(e,r,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,pl(d,"constructor",c),pl(c,"constructor",l),l.displayName="GeneratorFunction",pl(c,r,"GeneratorFunction"),pl(d),pl(d,r,"Generator"),pl(d,i,function(){return this}),pl(d,"toString",function(){return"[object Generator]"}),(hl=function(){return{w:o,m:f}})()}function pl(e,t,n,i){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}pl=function(e,t,n,i){function o(t,n){pl(e,t,function(e){return this._invoke(t,n,e)})}t?r?r(e,t,{value:n,enumerable:!i,configurable:!i,writable:!i}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},pl(e,t,n,i)}function ml(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function gl(){var e;return e=hl().m(function e(t){var n,i,r,o;return hl().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,t.text();case 1:n=e.v,e.p=2,i=JSON.parse(n),e.n=4;break;case 3:throw e.p=3,e.v,new Error("Invalid JSON file (cannot parse)");case 4:if(i.title){e.n=5;break}throw new Error("Pattern JSON missing a title");case 5:if(r="","string"!=typeof i.content){e.n=6;break}r=i.content,e.n=8;break;case 6:if(!Array.isArray(i.blocks)){e.n=7;break}r=(0,fl.serialize)(i.blocks),e.n=8;break;case 7:throw new Error("Pattern JSON missing content or blocks array");case 8:return o="string"==typeof i.syncStatus?i.syncStatus:"unsynced",e.a(2,{title:i.title,content:r,syncStatus:o})}},e,null,[[2,3]])}),gl=function(){var t=this,n=arguments;return new Promise(function(i,r){var o=e.apply(t,n);function a(e){ml(o,i,r,a,s,"next",e)}function s(e){ml(o,i,r,a,s,"throw",e)}a(void 0)})},gl.apply(this,arguments)}const vl=function(_x){return gl.apply(this,arguments)};function bl(e){return bl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(e)}function yl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function wl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yl(Object(n),!0).forEach(function(t){xl(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yl(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xl(e,t,n){return(t=function(e){var t=function(e){if("object"!=bl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=bl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==bl(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _l(e){return function(e){if(Array.isArray(e))return Al(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||kl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sl(){var e,t,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(n,i,r,o){var l=i&&i.prototype instanceof s?i:s,c=Object.create(l.prototype);return El(c,"_invoke",function(n,i,r){var o,s,l,c=0,u=r||[],d=!1,f={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,n){return o=t,s=0,l=e,f.n=n,a}};function h(n,i){for(s=n,l=i,t=0;!d&&c&&!r&&t<u.length;t++){var r,o=u[t],h=f.p,p=o[2];n>3?(r=p===i)&&(l=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=h&&((r=n<2&&h<o[1])?(s=0,f.v=i,f.n=o[1]):h<p&&(r=n<3||o[0]>i||i>p)&&(o[4]=n,o[5]=i,f.n=p,s=0))}if(r||n>1)return a;throw d=!0,i}return function(r,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&h(u,p),s=u,l=p;(t=s<2?e:l)||!d;){o||(s?s<3?(s>1&&(f.n=-1),h(s,l)):f.n=l:f.v=l);try{if(c=2,o){if(s||(r="next"),t=o[r]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),s=1);o=e}else if((t=(d=f.n<0)?l:n.call(i,f))!==a)break}catch(t){o=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,r,o),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][i]?t(t([][i]())):(El(t={},i,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,El(e,r,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,El(d,"constructor",c),El(c,"constructor",l),l.displayName="GeneratorFunction",El(c,r,"GeneratorFunction"),El(d),El(d,r,"Generator"),El(d,i,function(){return this}),El(d,"toString",function(){return"[object Generator]"}),(Sl=function(){return{w:o,m:f}})()}function El(e,t,n,i){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}El=function(e,t,n,i){function o(t,n){El(e,t,function(e){return this._invoke(t,n,e)})}t?r?r(e,t,{value:n,enumerable:!i,configurable:!i,writable:!i}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},El(e,t,n,i)}function Cl(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function Pl(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var o=e.apply(t,n);function a(e){Cl(o,i,r,a,s,"next",e)}function s(e){Cl(o,i,r,a,s,"throw",e)}a(void 0)})}}function Ol(){return Ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ol.apply(null,arguments)}function jl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(e,t)||kl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kl(e,t){if(e){if("string"==typeof e)return Al(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Al(e,t):void 0}}function Al(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var Tl=function(e){var i=e.src,r=e.title,o=e.item,a=(0,t.useRef)(null),s=(0,t.useRef)(null),l=jl((0,t.useState)(!1),2),c=l[0],u=l[1],d=jl((0,t.useState)(1),2),f=d[0],h=d[1],p=jl((0,t.useState)(0),2),m=p[0],g=p[1],v=jl((0,t.useState)(0),2),b=v[0],y=v[1],w=jl((0,t.useState)(1),2),x=w[0],_=w[1];(0,t.useEffect)(function(){var e=a.current;if(e){var t=function(){u(!0),g(o.viewportWidth||e.offsetWidth)};return e.addEventListener("load",t),function(){e.removeEventListener("load",t)}}},[i]);var S=jl((0,n.useResizeObserver)(),2),E=S[0],C=S[1],P=C.width,O=C.height;return(0,t.useEffect)(function(){if(void 0!==P&&c&&0!==m){var e=P/(m||800),t=P/O,n=Math.max(m*t,100);y(n),h(e),_(t);var i=new CustomEvent("dlxPatternPreviewResize",{detail:{width:P}});window.dispatchEvent(i);try{window.parent.dispatchEvent(i)}catch(e){}}},[P,c]),(0,t.useEffect)(function(){a.current&&g(a.current.offsetWidth)},[a,b]),React.createElement("a",{href:i,className:"pattern-preview-iframe-link",target:"_blank",rel:"noopener noreferrer",onClick:function(e){e.preventDefault(),Il(o)},"aria-hidden":"true"},React.createElement("div",{className:"pattern-preview-iframe-scale-container-wrapper",ref:s,style:{transform:"scale(".concat(f,")")}},React.createElement("div",{className:"pattern-preview-iframe-scale-wrapper"},React.createElement("div",{className:"pattern-preview-iframe-scale-container"},E,React.createElement("div",{className:"pattern-preview-iframe-wrapper"},React.createElement("iframe",{ref:a,key:"preview-".concat(o.id),src:i,title:r,sandbox:"allow-same-origin allow-scripts allow-popups allow-forms",loading:"lazy",style:{position:"absolute",top:0,left:0,width:o.viewportWidth||800,aspectRatio:x,height:b+"px",maxHeight:"1200px",overflow:"visible"}}))))))},Il=function(e){var t=e.viewportWidth||1200,n=null!=e&&e.id?"".concat(ajaxurl,"?action=dlxpw_pattern_preview&pattern_id=").concat(e.id,"&viewport_width=").concat(t):"";o.Fancybox.show([{src:n,caption:e.title,type:"iframe",closeButton:!0}])},Ml={grid:{layout:{titleField:"title",mediaField:"pattern-view-json",columns:2,columnGap:"24px",rowGap:"24px",showMedia:!0,viewConfigOptions:{}}}},Ll=function(e){var n,r,o,c,d,f,h,p,m=e.data,g=jl((0,t.useState)([]),2),v=g[0],b=g[1],y=(0,$i.useSelect)(function(e){return{patterns:e(dl).getPatterns(),doNotShowAgain:e(dl).getDoNotShowAgain()}}),w=y.patterns,x=y.doNotShowAgain,_=jl((0,t.useState)([]),2),S=_[0],E=_[1],C=(0,$i.useSelect)(function(){return{categories:(0,$i.select)(dl).getCategories()}}).categories,P=(0,t.useMemo)(function(){return Object.values(C).filter(function(e){return e.count>0})},[C]),O=((0,$i.useSelect)(function(){return{assets:(0,$i.select)(dl).getAssets()}}).assets,jl((0,t.useState)([]),2)),j=O[0],k=O[1],A=jl((0,t.useState)(!0),2),T=A[0],I=A[1],M=jl((0,t.useState)({isVisible:!1,message:"",title:"",type:""}),2),L=M[0],R=M[1],N=jl((0,t.useState)(!1),2),F=N[0],D=N[1],V=jl((0,t.useState)(!1),2),B=V[0],z=V[1],H=jl((0,t.useState)(0),2),$=(H[0],H[1]),U=jl((0,t.useState)(null),2),G=U[0],W=U[1],q=jl((0,t.useState)(null),2),Y=q[0],X=q[1],K=jl((0,t.useState)(null),2),Z=K[0],Q=K[1],J=jl((0,t.useState)(null),2),ee=J[0],te=J[1],ne=jl((0,t.useState)(null),2),ie=ne[0],re=ne[1],oe=jl((0,t.useState)(null),2),ae=oe[0],se=oe[1],le=jl((0,t.useState)(null),2),ce=le[0],ue=le[1],de=function(e){var t=e.isLocal,n=e.title,r="";t?r="unsynced":"synced"===e.patternType&&(r="synced");var o=JSON.stringify({__file:"wp_block",title:n,content:e.content,syncStatus:r},null,2);(0,i.downloadBlob)("".concat(n,".json"),o,"application/json")},fe=function(){var e,t,n,i,r,o;return{type:"grid",previewSize:"large",paginationInfo:{totalItems:w.length,totalPages:0},page:parseInt((0,ao.getQueryArgs)(window.location.href).paged)||1,perPage:parseInt((0,ao.getQueryArgs)(window.location.href).perPage)||12,defaultPerPage:12,sort:{field:(0,a.escapeAttribute)((0,ao.getQueryArgs)(window.location.href).orderby||"title"),direction:(0,a.escapeAttribute)((0,ao.getQueryArgs)(window.location.href).order||"asc")},titleField:"title",mediaField:"pattern-view-json",layout:Ml.grid.layout,fields:["title","pattern-view-json"],search:(0,a.escapeAttribute)((null===(e=(0,ao.getQueryArgs)(window.location.href))||void 0===e?void 0:e.search)||""),filters:[{field:"patternType",value:(null===(t=(0,ao.getQueryArgs)(window.location.href))||void 0===t?void 0:t.patternType)||"all"},{field:"patternStatus",value:(null===(n=(0,ao.getQueryArgs)(window.location.href))||void 0===n?void 0:n.patternStatus)||"both"},{field:"patternLocalStatus",value:(null===(i=(0,ao.getQueryArgs)(window.location.href))||void 0===i?void 0:i.patternLocalStatus)||"both"},{field:"patternRegisteredStatus",value:(null===(r=(0,ao.getQueryArgs)(window.location.href))||void 0===r?void 0:r.patternRegisteredStatus)||"both"},{field:"patternLocalRegisteredStatus",value:(null===(o=(0,ao.getQueryArgs)(window.location.href))||void 0===o?void 0:o.patternLocalRegisteredStatus)||"enabled"}]}},he=function(e){return React.createElement(React.Fragment,null,React.createElement("div",{className:"pattern-quick-links"},e.isLocal&&React.createElement(React.Fragment,null,!e.isDisabled&&React.createElement(React.Fragment,null,React.createElement(l.Button,{variant:"link",onClick:function(t){t.preventDefault(),t.stopPropagation(),W({item:e})}},(0,s.__)("Quick Edit","pattern-wrangler"))," | ",React.createElement(l.Button,{variant:"link",onClick:function(t){t.preventDefault(),t.stopPropagation(),se({item:e})}},(0,s.__)("Get Code","pattern-wrangler"))," | "),React.createElement(l.Button,{variant:"link",onClick:function(t){t.preventDefault(),t.stopPropagation(),de(e)}},(0,s.__)("Export Pattern","pattern-wrangler"))),!e.isLocal&&React.createElement(React.Fragment,null,React.createElement(l.Button,{variant:"link",onClick:function(t){t.preventDefault(),t.stopPropagation(),$(e.id),z({item:e})}},(0,s.__)("Copy to New Pattern","pattern-wrangler"))," | ",React.createElement(l.Button,{variant:"link",onClick:function(t){t.preventDefault(),t.stopPropagation(),de(e)}},(0,s.__)("Export Pattern","pattern-wrangler")))))},pe=jl((0,t.useState)(function(){var e,t=fe(),n=decodeURIComponent((null===(e=(0,ao.getQueryArgs)(window.location.href))||void 0===e?void 0:e.categories)||"");return n&&t.filters.push({field:"categories",value:n.split(","),operator:"isAny"}),t}),2),me=pe[0],ge=pe[1],ve=(0,t.useMemo)(function(){return[{id:"title",label:(0,s.__)("Title","pattern-wrangler"),render:function(e){var t=e.item;if(null==t||!t.categorySlugs||0===t.categorySlugs.length)return React.createElement("div",{className:"pattern-title-categories"},React.createElement("div",{className:"pattern-title"},t.isLocal&&React.createElement(l.Button,{variant:"link",onClick:function(e){e.preventDefault();var n=encodeURIComponent(window.location.href);window.location.href="".concat(dlxEnhancedPatternsView.getSiteBaseUrl,"post.php?post=").concat(t.id,"&action=edit&redirect_to=").concat(n)}},t.title),!t.isLocal&&React.createElement("span",{className:"pattern-title"},t.title)),React.createElement("div",{className:"pattern-categories"},(0,s.__)("No categories","pattern-wrangler")),he(t));var n=(0,$i.select)(dl).getCategories();return React.createElement(React.Fragment,null,React.createElement("div",{className:"pattern-title-categories"},React.createElement("div",{className:"pattern-title"},t.isLocal&&React.createElement(l.Button,{variant:"link",onClick:function(e){e.preventDefault();var n=encodeURIComponent(window.location.href);window.location.href="".concat(dlxEnhancedPatternsView.getSiteBaseUrl,"post.php?post=").concat(t.id,"&action=edit&redirect_to=").concat(n)}},t.title),!t.isLocal&&React.createElement("span",{className:"pattern-title"},t.title)),t.categorySlugs.length>0&&Object.values(n).length>0&&React.createElement("div",{className:"pattern-categories"},(0,s.__)("Categories:","pattern-wrangler")," ",t.categorySlugs.map(function(e,i){var r,o,a,s=(null==e?void 0:e.slug)||e.toString();if(!n.hasOwnProperty(s))return null;var l=(null===(r=n[s])||void 0===r?void 0:r.customLabel)||(null===(o=n[s])||void 0===o?void 0:o.label)||(null===(a=n[s])||void 0===a?void 0:a.name);return React.createElement("span",{key:"category-".concat(i),className:"pattern-category"},l," ",i<t.categorySlugs.length-1&&", ")})),he(t)))},enableSorting:!0,enableHiding:!1,enableGlobalSearch:!0},{id:"pattern-view-json",label:(0,s.__)("Preview","pattern-wrangler"),getValue:function(e){var t=e.item,n=t.viewportWidth||1200,i=null!=t&&t.id?"".concat(ajaxurl,"?action=dlxpw_pattern_preview&pattern_id=").concat(t.id,"&viewport_width=").concat(n):"",r=(0,s.__)("Local","pattern-wrangler"),o="pattern-badge-local",a=(0,s.__)("Disabled","pattern-wrangler"),l=!0;t.isDisabled&&t.isLocal?a=(0,s.__)("Draft","pattern-wrangler"):!t.isDisabled&&t.isLocal?l=!1:t.isDisabled||t.isLocal||(l=!1),t.isLocal?"synced"===t.patternType?(r=(0,s.__)("Local Synced","pattern-wrangler"),o="pattern-badge-synced"):(r=(0,s.__)("Local Unsynced","pattern-wrangler"),o="pattern-badge-unsynced"):(r=(0,s.__)("Registered","pattern-wrangler"),o="pattern-badge-registered");var c=React.createElement(React.Fragment,null,React.createElement("div",{className:"pattern-badge-wrapper"},l&&React.createElement("span",{className:"pattern-badge ".concat("pattern-badge-disabled")},a),React.createElement("span",{className:"pattern-badge ".concat(o)},r)));return React.createElement(React.Fragment,null,c,React.createElement("div",{className:"pattern-preview-wrapper"},React.createElement(Tl,{src:i,title:"Preview: ".concat(t.title),item:t})))},enableSorting:!1,enableHiding:!1},{id:"categories",label:(0,s.__)("Categories","pattern-wrangler"),render:function(e){return e.item,null},enableSorting:!1,enableHiding:!1,enableGlobalSearch:!0,type:"array",filterBy:{operators:["isAny","isNone"]},elements:P.length>0?Object.values(P).map(function(e){return{label:e.customLabel||e.label||e.name,value:e.slug}}):null},{id:"assets",label:(0,s.__)("Filter Patterns by Source","pattern-wrangler"),render:function(e){return e.item,null},enableHiding:!1,enableGlobalSearch:!0,enableSorting:!1,filterBy:{operators:["is"]},elements:(0,$i.select)(dl).getAssets()&&(0,$i.select)(dl).getAssets().length>0?Object.values((0,$i.select)(dl).getAssets()||[]).map(function(e){return{label:e.label,value:e.slug}}):null},{elements:[{label:(0,s.__)("All Patterns","pattern-wrangler"),value:"all"},{label:(0,s.__)("Local Patterns","pattern-wrangler"),value:"local"},{label:(0,s.__)("Registered Patterns","pattern-wrangler"),value:"registered"}],enableHiding:!1,enableSorting:!1,enableGlobalSearch:!1,filterBy:{operators:["is"]},default:"all",type:"array",id:"patternType",label:(0,s.__)("Pattern Type","pattern-wrangler")},{elements:[{label:(0,s.__)("Unsynced Patterns","pattern-wrangler"),value:"unsynced"},{label:(0,s.__)("Synced Patterns","pattern-wrangler"),value:"synced"},{label:(0,s.__)("Both","pattern-wrangler"),value:"both"}],enableHiding:!1,enableSorting:!1,enableGlobalSearch:!1,filterBy:{operators:["is"]},type:"array",id:"patternStatus",label:(0,s.__)("Pattern Status","pattern-wrangler")},{elements:[{label:(0,s.__)("Paused Patterns","pattern-wrangler"),value:"paused"},{label:(0,s.__)("Unpaused Patterns","pattern-wrangler"),value:"unpaused"},{label:(0,s.__)("Both","pattern-wrangler"),value:"both"}],enableHiding:!1,enableSorting:!1,enableGlobalSearch:!1,filterBy:{operators:["is"]},type:"array",id:"patternRegisteredStatus",label:(0,s.__)("Pattern Registered Status","pattern-wrangler")},{elements:[{label:(0,s.__)("Draft Patterns","pattern-wrangler"),value:"draft"},{label:(0,s.__)("Published Patterns","pattern-wrangler"),value:"published"},{label:(0,s.__)("Both","pattern-wrangler"),value:"both"}],enableHiding:!1,enableSorting:!1,enableGlobalSearch:!1,filterBy:{operators:["is"]},type:"array",id:"patternLocalStatus",label:(0,s.__)("Pattern Local Status","pattern-wrangler")},{elements:[{label:(0,s.__)("Disabled Patterns","pattern-wrangler"),value:"disabled"},{label:(0,s.__)("Enabled Patterns","pattern-wrangler"),value:"enabled"},{label:(0,s.__)("Both","pattern-wrangler"),value:"both"}],enableHiding:!1,enableSorting:!1,enableGlobalSearch:!1,filterBy:{operators:["is"]},type:"array",id:"patternLocalRegisteredStatus",label:(0,s.__)("Pattern Local and Registered Status","pattern-wrangler")}]},[P]),be=(0,t.useMemo)(function(){return[{id:"quick-edit",label:(0,s.__)("Quick Edit","pattern-wrangler"),icon:"edit",callback:function(e){W({item:e[0]})},isEligible:function(e){return e.isLocal&&!e.isDisabled},isPrimary:!0},{id:"get-code",label:(0,s.__)("Get Code","pattern-wrangler"),icon:"code",callback:function(e){se({item:e[0]})},isEligible:function(e){return e.isLocal&&!e.isDisabled},isPrimary:!1,supportsBulk:!1},{id:"delete",label:function(e){return(0,s.sprintf)(/* translators: %d: number of patterns */ /* translators: %d: number of patterns */
(0,s._n)("Delete %d Pattern","Delete %d Patterns",e.length,"pattern-wrangler"),e.length)},icon:"trash",isEligible:function(e){return e.isLocal&&e.isDisabled},callback:function(e){re({items:e})},isPrimary:!1,isDestructive:!0,supportsBulk:!0},{id:"tag-pattern",label:function(e){return(0,s.sprintf)(/* translators: %d: number of patterns */ /* translators: %d: number of patterns */
(0,s._n)("Assign Categories to %d Pattern","Assign Categories to %d Patterns",e.length,"pattern-wrangler"),e.length)},icon:"tag",isEligible:function(e){return e.isLocal&&!e.isDisabled},callback:function(e){ue({items:e})},isPrimary:!1,isDestructive:!1,supportsBulk:!0},{id:"publish",label:function(e){return(0,s.sprintf)(/* translators: %d: number of patterns */ /* translators: %d: number of patterns */
(0,s._n)("Publish %d Pattern","Publish %d Patterns",e.length,"pattern-wrangler"),e.length)},icon:"yes-alt",isEligible:function(e){return e.isLocal&&e.isDisabled},callback:function(e){Q({items:e})},isPrimary:!1,isDestructive:!1,supportsBulk:!0},{id:"unpause",label:function(e){return(0,s.sprintf)(/* translators: %d: number of patterns */ /* translators: %d: number of patterns */
(0,s._n)("Re-enable %d Pattern","Re-enable %d Patterns",e.length,"pattern-wrangler"),e.length)},icon:"controls-play",isEligible:function(e){return!e.isLocal&&e.isDisabled},callback:function(e){te({items:e})},isPrimary:!1,isDestructive:!1,supportsBulk:!0},{id:"copy-to-local",label:(0,s.__)("Copy to New Pattern","pattern-wrangler"),icon:"edit",callback:function(e){var t=e[0];$(t.id),z({item:t})},isEligible:function(e){return!e.isLocal},isPrimary:!1,isDestructive:!1},{id:"disable-preview",label:function(e){return(0,s.sprintf)(/* translators: %d: number of patterns */ /* translators: %d: number of patterns */
(0,s._n)("Disable %d Pattern","Disable %d Patterns",e.length,"pattern-wrangler"),e.length)},icon:"controls-pause",callback:function(e){X({items:e})},isEligible:function(e){return!e.isDisabled},isDestructive:!0,supportsBulk:!0,isPrimary:!1},{id:"copy",label:(0,s.__)("Copy Pattern to Clipboard","pattern-wrangler"),icon:"edit",callback:(e=Pl(Sl().m(function e(t){var n,i,r,o;return Sl().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n=t[0].content.trim(),i=!1,e.p=1,null===(r=navigator.clipboard)||void 0===r||!r.writeText){e.n=5;break}return e.p=2,e.n=3,navigator.clipboard.writeText(n);case 3:i=!0,e.n=5;break;case 4:e.p=4,e.v;case 5:if(!i){(o=document.createElement("textarea")).value=n,o.style.position="fixed",o.style.opacity="0",o.style.pointerEvents="none",document.body.appendChild(o),o.select();try{document.execCommand("copy"),i=!0}catch(e){}document.body.removeChild(o)}R({isVisible:!0,message:(0,s.__)("Pattern copied to clipboard","pattern-wrangler"),title:(0,s.__)("Pattern Copied","pattern-wrangler"),type:"success",onClose:function(){R({isVisible:!1})}}),e.n=7;break;case 6:e.p=6,e.v;case 7:return e.a(2)}},e,null,[[2,4],[1,6]])})),function(_x){return e.apply(this,arguments)}),isEligible:function(e){return!0},isPrimary:!1,isDestructive:!1},{id:"export",label:(0,s.__)("Export to JSON","pattern-wrangler"),icon:"edit",callback:function(e){var t=e[0].isLocal,n=e[0].title,r="";t?r="unsynced":"synced"===e[0].patternType&&(r="synced");var o=JSON.stringify({__file:"wp_block",title:n,content:e[0].content,syncStatus:r},null,2);(0,i.downloadBlob)("".concat(n,".json"),o,"application/json")},isEligible:function(){return!0},isPrimary:!1,isDestructive:!1}];var e},[C,w]),ye=function(e){var t,n,i=_l(w);null!==i&&0!==i.length||(i=_l(m.patterns));var r=null==e||null===(t=e.sort)||void 0===t?void 0:t.field,o=null==e||null===(n=e.sort)||void 0===n?void 0:n.direction;"title"===r&&("desc"===o?i.sort(function(e,t){return t.title.localeCompare(e.title)}):i.sort(function(e,t){return e.title.localeCompare(t.title)}));var a=(null==e?void 0:e.filters)||[];a.length>0&&a.forEach(function(e){switch(e.field){case"categories":if(e.value){var t=e.value.map(function(e){return(0,ao.cleanForSlug)(e)});"isAny"===e.operator?i=i.filter(function(e){return(e.categorySlugs||[]).some(function(e){var n=e.name||e.label||e.toString()||"",i=(0,ao.cleanForSlug)(n);return t.includes(i)})}):"isNone"===e.operator&&(i=i.filter(function(e){return!(e.categorySlugs||[]).some(function(e){var n=e.name||e.label||e.toString()||"",i=(0,ao.cleanForSlug)(n);return t.includes(i)})}))}break;case"assets":e.value&&"is"===e.operator&&(i=i.filter(function(t){return t.asset===e.value}));break;case"patternType":if(e.value)switch(e.value){case"all":break;case"local":i=i.filter(function(e){return e.isLocal});break;case"registered":i=i.filter(function(e){return!e.isLocal})}break;case"patternStatus":if(e.value){var n=a.find(function(e){return"patternType"===e.field});if(n&&"local"===n.value&&e.value)switch(e.value){case"unsynced":i=i.filter(function(e){return!!e.syncStatus&&"unsynced"===e.syncStatus&&e.isLocal});break;case"synced":i=i.filter(function(e){return!!e.syncStatus&&"synced"===e.syncStatus&&e.isLocal})}}break;case"patternLocalStatus":if(e.value){var r=a.find(function(e){return"patternType"===e.field});if(r&&"local"===r.value&&e.value)switch(e.value){case"draft":i=i.filter(function(e){return e.isDisabled&&e.isLocal});break;case"published":i=i.filter(function(e){return!e.isDisabled&&e.isLocal})}}break;case"patternRegisteredStatus":if(e.value){var o=a.find(function(e){return"patternType"===e.field});if(o&&"registered"===o.value&&e.value)switch(e.value){case"paused":i=i.filter(function(e){return e.isDisabled&&!e.isLocal});break;case"unpaused":i=i.filter(function(e){return!e.isDisabled&&!e.isLocal})}}break;case"patternLocalRegisteredStatus":if(e.value){var s=a.find(function(e){return"patternType"===e.field});if(s&&"all"===s.value&&e.value)switch(e.value){case"disabled":i=i.filter(function(e){return e.isDisabled});break;case"enabled":i=i.filter(function(e){return!e.isDisabled})}}}});var s=(null==e?void 0:e.search)||"";return"undefined"!==s&&""!==s&&(i=i.filter(function(t){return(t.label||t.title).toLowerCase().includes((e.search||s).toLowerCase())})),i.length},we=function(e){var t,n,i=_l(w);null!==i&&0!==i.length||(i=_l(m.patterns));var r=null==e||null===(t=e.sort)||void 0===t?void 0:t.field,o=null==e||null===(n=e.sort)||void 0===n?void 0:n.direction;"title"===r&&("desc"===o?i.sort(function(e,t){return t.title.localeCompare(e.title)}):i.sort(function(e,t){return e.title.localeCompare(t.title)}));var a=(null==e?void 0:e.filters)||[];a.length>0&&a.forEach(function(e){switch(e.field){case"categories":if(e.value){var t=e.value.map(function(e){return(0,ao.cleanForSlug)(e)});"isAny"===e.operator?i=i.filter(function(e){return(e.categorySlugs||[]).some(function(e){var n=e.name||e.label||e.toString()||"",i=(0,ao.cleanForSlug)(n);return t.includes(i)})}):"isNone"===e.operator&&(i=i.filter(function(e){return!(e.categorySlugs||[]).some(function(e){var n=e.name||e.label||e.toString()||"",i=(0,ao.cleanForSlug)(n);return t.includes(i)})}))}break;case"assets":e.value&&(i=i.filter(function(t){return t.asset===e.value}));break;case"patternType":if(e.value)switch(e.value){case"all":break;case"local":i=i.filter(function(e){return e.isLocal});break;case"registered":i=i.filter(function(e){return!e.isLocal})}break;case"patternStatus":if(e.value){var n=a.find(function(e){return"patternType"===e.field});if(n&&"local"===n.value&&e.value)switch(e.value){case"unsynced":i=i.filter(function(e){return!!e.syncStatus&&"unsynced"===e.syncStatus&&e.isLocal});break;case"synced":i=i.filter(function(e){return!!e.syncStatus&&"synced"===e.syncStatus&&e.isLocal})}}break;case"patternLocalStatus":if(e.value){var r=a.find(function(e){return"patternType"===e.field});if(r&&"local"===r.value&&e.value)switch(e.value){case"draft":case"paused":i=i.filter(function(e){return e.isDisabled&&e.isLocal});break;case"published":i=i.filter(function(e){return!e.isDisabled&&e.isLocal})}}break;case"patternRegisteredStatus":if(e.value){var o=a.find(function(e){return"patternType"===e.field});if(o&&"registered"===o.value&&e.value)switch(e.value){case"paused":i=i.filter(function(e){return e.isDisabled&&!e.isLocal});break;case"unpaused":i=i.filter(function(e){return!e.isDisabled&&!e.isLocal})}}break;case"patternLocalRegisteredStatus":if(e.value){var s=a.find(function(e){return"patternType"===e.field});if(s&&"all"===s.value&&e.value)switch(e.value){case"disabled":i=i.filter(function(e){return e.isDisabled});break;case"enabled":i=i.filter(function(e){return!e.isDisabled})}}}});var s=(null==e?void 0:e.search)||"";return"undefined"!==s&&""!==s&&(i=i.filter(function(t){return(t.label||t.title).toLowerCase().includes((e.search||s).toLowerCase())})),i.slice((e.page-1)*e.perPage,e.page*e.perPage)},xe=function(e){var t,n,i,r,o,a,s,l,c,u=(0,ao.getQueryArgs)(window.location.href);u.paged=e.page||1,u.perPage=e.perPage,e.search?u.search=e.search:u.search="";var d=null===(t=e.filters)||void 0===t?void 0:t.find(function(e){return"categories"===e.field});if(d){var f=d.value||[];f.length>0&&(u.categories=encodeURIComponent(f.join(",")))}null!==(n=e.sort)&&void 0!==n&&n.field&&(u.orderby=e.sort.field,u.order=e.sort.direction);var h=null===(i=e.filters)||void 0===i?void 0:i.find(function(e){return"patternType"===e.field}),p=null===(r=e.filters)||void 0===r?void 0:r.find(function(e){return"patternStatus"===e.field});h&&(u.patternType=h.value),p&&(u.patternStatus=p.value);var m=null===(o=e.filters)||void 0===o?void 0:o.find(function(e){return"patternRegisteredStatus"===e.field}),g=null===(a=e.filters)||void 0===a?void 0:a.find(function(e){return"patternLocalStatus"===e.field}),v=null===(s=e.filters)||void 0===s?void 0:s.find(function(e){return"patternLocalRegisteredStatus"===e.field});m&&!v&&(u.patternRegisteredStatus=m.value),g&&!v&&(u.patternLocalStatus=g.value),v&&(u.patternLocalRegisteredStatus=v.value);var b=(0,ao.addQueryArgs)(window.location.pathname,u);(0,ao.getQueryArgs)(window.location.href).search&&!e.search&&(b=(0,ao.removeQueryArgs)(b,"search")),0===(null===(l=e.filters)||void 0===l?void 0:l.length)&&(e.filters=[].concat(_l(e.filters),[{field:"patternType",operator:"is",value:"all"},{field:"patternLocalRegisteredStatus",operator:"is",value:"enabled"}]),u.categories="",b=(0,ao.removeQueryArgs)(b,"categories")),null!==(c=e.filters)&&void 0!==c&&c.find(function(e){return"categories"===e.field})||(u.categories="",b=(0,ao.removeQueryArgs)(b,"categories")),E(we(e)),window.history.pushState({},"",b),u.page=u.paged,ge(wl(wl({},e),u))};(0,t.useEffect)(function(){window.addEventListener("popstate",function(){xe(fe())})},[me]),(0,t.useEffect)(function(){if(m&&m.hasOwnProperty("patterns")&&m.categories){if(-1===ve.findIndex(function(e){return"categories"===e.id}))return void I(!1);if(function(e){var t=ve.findIndex(function(e){return"categories"===e.id});if(-1!==t&&0!==e.length){var n=[],i="",r=Object.values(e).map(function(e){var t=e.customLabel||e.label||e.name,r=t;return i===t&&(r="".concat(r," (").concat(e.count+1,")")),i=t,e.registered||n.push({id:e.id,label:t}),{label:r,value:e.slug}}),o=_l(ve);o[t]=wl(wl({},o[t]),{},{elements:r}),0===n.length&&(o=o.filter(function(e){return"categories"!==e.id})),0===Object.values(m.assets||{}).length&&(o=o.filter(function(e){return"assets"!==e.id}));var a=wl(wl({},me),{},{fields:o});k(n),ge(a)}}(m.categories),m.patterns&&m.patterns!==S){var e=we(me);E(e)}I(!1)}},[m]);var _e=(0,t.useMemo)(function(){return ye(me)},[me]),Se=(0,t.useMemo)(function(){return ye(me)>me.perPage},[me]);return T?React.createElement(React.Fragment,null,"Loading..."):React.createElement("div",{className:"dlx-patterns-view-container-wrapper"},React.createElement("div",{className:"dlx-patterns-view-container"},React.createElement(jo,{data:S,fields:ve,actions:be,label:(0,s.__)("Patterns","pattern-wrangler"),view:me,onChangeView:xe,paginationInfo:{totalItems:ye(me),totalPages:Math.ceil(ye(me)/me.perPage)},perPageSizes:[12,24,48,96],selection:v,onChangeSelection:b,defaultLayouts:Ml,searchLabel:(0,s.__)("Search Patterns","pattern-wrangler")},React.createElement("div",{className:"dlx-patterns-view-container-header"},React.createElement("h1",null,(0,s.__)("Pattern Library","pattern-wrangler"))),React.createElement("div",{className:"dlx-patterns-view-quick-buttons-wrapper"},React.createElement(l.Button,{variant:"primary",className:"dlx-patterns-view-quick-button",onClick:function(){D(!0)}},(0,s.__)("Add New Pattern","pattern-wrangler")),React.createElement(l.FormFileUpload,{accept:".json",variant:"secondary",className:"dlx-patterns-view-quick-button",onChange:function(){var e=Pl(Sl().m(function e(t){var n,i,r,o;return Sl().w(function(e){for(;;)switch(e.p=e.n){case 0:return n=t.target.files[0],e.p=1,e.n=2,vl(n);case 2:return i=e.v,e.n=3,u()({path:"/wp/v2/blocks",method:"POST",data:{title:i.title,content:i.content,status:"publish",meta:{wp_pattern_sync_status:i.syncStatus}}});case 3:if(null==(r=e.v)||!r.id){e.n=5;break}return e.n=4,u()({path:"/dlxplugins/pattern-wrangler/v1/patterns/get/".concat(r.id),method:"GET"});case 4:(o=e.v)&&(0,$i.dispatch)(dl).addPattern(o);case 5:e.n=7;break;case 6:e.p=6,e.v;case 7:return e.a(2)}},e,null,[[1,6]])}));return function(t){return e.apply(this,arguments)}}()},(0,s.__)("Import Pattern From JSON File","pattern-wrangler"))),React.createElement("div",{className:"dlx-patterns-view-grid"},React.createElement("div",{className:"dlx-patterns-view-search-filters-wrapper"},React.createElement(jo.Search,{label:(0,s.__)("Search Patterns","pattern-wrangler")}),React.createElement(jo.FiltersToggle,null)),React.createElement("div",{className:"dlx-patterns-view-button-actions-wrapper"},React.createElement(l.__experimentalToggleGroupControl,{label:(0,s.__)("Pattern Type","pattern-wrangler"),isAdaptiveWidth:!0,hideLabelFromVision:!0,value:(null==me||null===(n=me.filters)||void 0===n||null===(n=n.find(function(e){return"patternType"===e.field}))||void 0===n?void 0:n.value)||"all",onChange:function(e){var t,n=wl({},me),i=(null===(t=n.filters)||void 0===t?void 0:t.filter(function(e){return"patternType"!==e.field}))||[];n.filters=[].concat(_l(i),[{field:"patternType",operator:"is",value:e}]),n.page=1,xe(n);var r=window.location.href;switch(e){case"all":r=(0,ao.removeQueryArgs)(r,"patternStatus"),r=(0,ao.removeQueryArgs)(r,"patternRegisteredStatus"),r=(0,ao.removeQueryArgs)(r,"patternLocalStatus"),r=(0,ao.removeQueryArgs)(r,"patternLocalRegisteredStatus"),window.history.pushState({},"",r);break;case"local":r=(0,ao.removeQueryArgs)(r,"patternRegisteredStatus"),r=(0,ao.removeQueryArgs)(r,"patternLocalRegisteredStatus"),window.history.pushState({},"",r);break;case"registered":r=(0,ao.removeQueryArgs)(r,"patternStatus"),r=(0,ao.removeQueryArgs)(r,"patternLocalStatus"),r=(0,ao.removeQueryArgs)(r,"patternLocalRegisteredStatus"),window.history.pushState({},"",r)}}},React.createElement(l.__experimentalToggleGroupControlOption,{value:"local",label:(0,s.__)("Local","pattern-wrangler"),showTooltip:!0,"aria-label":(0,s.__)("Show Only Local Patterns","pattern-wrangler")}),React.createElement(l.__experimentalToggleGroupControlOption,{value:"all",label:(0,s.__)("All","pattern-wrangler"),showTooltip:!0,"aria-label":(0,s.__)("Show All Patterns","pattern-wrangler")}),React.createElement(l.__experimentalToggleGroupControlOption,{value:"registered",label:(0,s.__)("Registered","pattern-wrangler"),showTooltip:!0,"aria-label":(0,s.__)("Show Only Registered Patterns","pattern-wrangler")})),"registered"===(null==me||null===(r=me.filters)||void 0===r||null===(r=r.find(function(e){return"patternType"===e.field}))||void 0===r?void 0:r.value)&&React.createElement(React.Fragment,null,React.createElement(l.__experimentalToggleGroupControl,{label:(0,s.__)("Registered Status","pattern-wrangler"),isAdaptiveWidth:!0,hideLabelFromVision:!0,value:(null==me||null===(o=me.filters)||void 0===o||null===(o=o.find(function(e){return"patternRegisteredStatus"===e.field}))||void 0===o?void 0:o.value)||"both",onChange:function(e){var t,n=wl({},me),i=(null===(t=n.filters)||void 0===t?void 0:t.filter(function(e){return"patternRegisteredStatus"!==e.field}))||[];n.filters=[].concat(_l(i),[{field:"patternRegisteredStatus",operator:"is",value:e}]),n.page=1,xe(n)}},React.createElement(l.__experimentalToggleGroupControlOption,{value:"paused",label:(0,s.__)("Disabled","pattern-wrangler"),showTooltip:!0,"aria-label":(0,s.__)("Show Only Disabled Patterns","pattern-wrangler")}),React.createElement(l.__experimentalToggleGroupControlOption,{value:"both",label:(0,s.__)("Both","pattern-wrangler"),"aria-label":(0,s.__)("Show Both Disabled and Enabled Patterns","pattern-wrangler"),showTooltip:!0}),React.createElement(l.__experimentalToggleGroupControlOption,{value:"unpaused",label:(0,s.__)("Enabled","pattern-wrangler"),showTooltip:!0,"aria-label":(0,s.__)("Show Only Enabled Patterns","pattern-wrangler")}))),"local"===(null==me||null===(c=me.filters)||void 0===c||null===(c=c.find(function(e){return"patternType"===e.field}))||void 0===c?void 0:c.value)&&React.createElement(React.Fragment,null,React.createElement(l.__experimentalToggleGroupControl,{label:(0,s.__)("Pattern Status","pattern-wrangler"),isAdaptiveWidth:!0,hideLabelFromVision:!0,value:(null==me||null===(d=me.filters)||void 0===d||null===(d=d.find(function(e){return"patternStatus"===e.field}))||void 0===d?void 0:d.value)||"both",onChange:function(e){var t,n=wl({},me),i=(null===(t=n.filters)||void 0===t?void 0:t.filter(function(e){return"patternStatus"!==e.field}))||[];n.filters=[].concat(_l(i),[{field:"patternStatus",operator:"is",value:e}]),n.page=1,xe(n)}},React.createElement(l.__experimentalToggleGroupControlOption,{value:"unsynced",label:(0,s.__)("Unsynced","pattern-wrangler"),showTooltip:!0,"aria-label":(0,s.__)("Show Only Unsynced Patterns","pattern-wrangler")}),React.createElement(l.__experimentalToggleGroupControlOption,{value:"both",label:(0,s.__)("Both","pattern-wrangler"),"aria-label":(0,s.__)("Show Both Synced and Unsynced Patterns","pattern-wrangler"),showTooltip:!0}),React.createElement(l.__experimentalToggleGroupControlOption,{value:"synced",label:(0,s.__)("Synced","pattern-wrangler"),showTooltip:!0,"aria-label":(0,s.__)("Show Only Synced Patterns","pattern-wrangler")})),React.createElement(l.__experimentalToggleGroupControl,{label:(0,s.__)("Published Status","pattern-wrangler"),isAdaptiveWidth:!0,hideLabelFromVision:!0,value:(null==me||null===(f=me.filters)||void 0===f||null===(f=f.find(function(e){return"patternLocalStatus"===e.field}))||void 0===f?void 0:f.value)||"both",onChange:function(e){var t,n=wl({},me),i=(null===(t=n.filters)||void 0===t?void 0:t.filter(function(e){return"patternLocalStatus"!==e.field}))||[];n.filters=[].concat(_l(i),[{field:"patternLocalStatus",operator:"is",value:e}]),n.page=1,xe(n)}},React.createElement(l.__experimentalToggleGroupControlOption,{value:"draft",label:(0,s.__)("Draft","pattern-wrangler"),showTooltip:!0,"aria-label":(0,s.__)("Show Only Draft Patterns","pattern-wrangler")}),React.createElement(l.__experimentalToggleGroupControlOption,{value:"both",label:(0,s.__)("Both","pattern-wrangler"),"aria-label":(0,s.__)("Show Both Draft and Published Patterns","pattern-wrangler"),showTooltip:!0}),React.createElement(l.__experimentalToggleGroupControlOption,{value:"published",label:(0,s.__)("Published","pattern-wrangler"),showTooltip:!0,"aria-label":(0,s.__)("Show Only Published Patterns","pattern-wrangler")}))),"all"===(null==me||null===(h=me.filters)||void 0===h||null===(h=h.find(function(e){return"patternType"===e.field}))||void 0===h?void 0:h.value)&&React.createElement(React.Fragment,null,React.createElement(l.__experimentalToggleGroupControl,{label:(0,s.__)("Disabled Status","pattern-wrangler"),isAdaptiveWidth:!0,hideLabelFromVision:!0,value:(null==me||null===(p=me.filters)||void 0===p||null===(p=p.find(function(e){return"patternLocalRegisteredStatus"===e.field}))||void 0===p?void 0:p.value)||"both",onChange:function(e){var t,n=wl({},me),i=(null===(t=n.filters)||void 0===t?void 0:t.filter(function(e){return"patternLocalRegisteredStatus"!==e.field}))||[];n.filters=[].concat(_l(i),[{field:"patternLocalRegisteredStatus",operator:"is",value:e}]),n.page=1,xe(n)}},React.createElement(l.__experimentalToggleGroupControlOption,{value:"disabled",label:(0,s.__)("Disabled","pattern-wrangler"),showTooltip:!0,"aria-label":(0,s.__)("Show Only Disabled Local and Registered Patterns","pattern-wrangler")}),React.createElement(l.__experimentalToggleGroupControlOption,{value:"both",label:(0,s.__)("Both","pattern-wrangler"),"aria-label":(0,s.__)("Show Both Disabled and Enabled Local and Registered Patterns","pattern-wrangler"),showTooltip:!0}),React.createElement(l.__experimentalToggleGroupControlOption,{value:"enabled",label:(0,s.__)("Enabled","pattern-wrangler"),showTooltip:!0,"aria-label":(0,s.__)("Show Only Enabled Local and Registered Patterns","pattern-wrangler")})))),React.createElement("div",{className:"dlx-patterns-view-layout-pagination-wrapper"},React.createElement(jo.ViewConfig,null),React.createElement(jo.LayoutSwitcher,null))),React.createElement("div",{className:"dlx-patterns-view-filters-wrapper"},React.createElement(jo.Filters,null)),React.createElement("div",{className:"dlx-bulk-action-toolbar-top"},React.createElement(jo.BulkActionToolbar,null)),React.createElement(jo.Layout,null),React.createElement(jo.BulkActionToolbar,null),Se&&React.createElement("div",{className:"dlx-patterns-view-pagination-wrapper"},React.createElement("div",{className:"dlx-patterns-view-pagination-item dlx-patterns-view-pagination-item-total-items"},React.createElement("span",null,_e," ",(0,s._n)("Item","Items",_e,"pattern-wrangler"))),React.createElement("div",{className:"dlx-patterns-view-pagination-item"},React.createElement(jo.Pagination,null)))),L.isVisible&&React.createElement(qo,{isVisible:L.isVisible,message:L.message,title:L.title,type:L.type,onClose:function(){R({isVisible:!1})}})),F&&React.createElement(gs,{isOpen:F,onRequestClose:function(){return D(!1)},categories:j,title:(0,s.__)("Create New Pattern","pattern-wrangler")}),B&&React.createElement(gs,{isOpen:B,onRequestClose:function(){return z(!1)},categories:j,title:(0,s.__)("Copy Pattern to Local","pattern-wrangler"),syncedDefaultStatus:"unsynced",copyPatternId:B.item.id}),G&&React.createElement(gs,{isOpen:G,onRequestClose:function(){return W(null)},pattern:G.item,patternTitle:G.item.title,categories:j,patternCategories:G.item.categories,title:(0,s.__)("Quick Edit Pattern","pattern-wrangler"),syncedDisabled:!0,patternId:G.item.id,patternNonce:G.item.editNonce,isEditMode:!0,onEdit:function(e){(0,$i.dispatch)(dl).upsertCategory(e.categories),(0,$i.dispatch)(dl).setPattern(e.patternId,e.patternTitle,e.categorySlugs,e.categorySlugs),W(null)}}),Y&&React.createElement(_s,{items:Y.items,onPause:function(e,t,n){(0,$i.dispatch)(dl).disablePatterns(t),(0,$i.dispatch)(dl).setDoNotShowAgain(n),X(null),R({isVisible:!0,message:(0,s.__)("Patterns disabled","pattern-wrangler"),title:(0,s.__)("Patterns Disabled","pattern-wrangler"),type:"success",onClose:function(){R({isVisible:!1})}})},doNotShowAgain:x,onRequestClose:function(){return X(null)}}),Z&&React.createElement(js,{items:Z.items,onPublish:function(e,t){(0,$i.dispatch)(dl).enablePatterns(t),Q(null),R({isVisible:!0,message:(0,s.__)("Patterns published","pattern-wrangler"),title:(0,s.__)("Patterns Published","pattern-wrangler"),type:"success",onClose:function(){R({isVisible:!1})}})},onRequestClose:function(){return Q(null)}}),ee&&React.createElement(Ls,{items:ee.items,onReenable:function(e,t,n){(0,$i.dispatch)(dl).enablePatterns(t),(0,$i.dispatch)(dl).setDoNotShowAgain(n),te(null),R({isVisible:!0,message:(0,s.__)("Patterns re-enabled","pattern-wrangler"),title:(0,s.__)("Patterns Re-enabled","pattern-wrangler"),type:"success",onClose:function(){R({isVisible:!1})}})},doNotShowAgain:x,onRequestClose:function(){return te(null)}}),ie&&React.createElement(Bs,{items:ie.items,onDelete:function(e,t,n){(0,$i.dispatch)(dl).setDoNotShowAgain(n),(0,$i.dispatch)(dl).deletePatterns(t),re(null),R({isVisible:!0,message:(0,s.__)("Patterns deleted","pattern-wrangler"),title:(0,s.__)("Patterns Deleted","pattern-wrangler"),type:"success",onClose:function(){R({isVisible:!1})}})},doNotShowAgain:x,onRequestClose:function(){return re(null)}}),ce&&React.createElement(Qs,{items:ce.items,categories:j,onTag:function(e,t,n,i,r){(0,$i.dispatch)(dl).upsertCategory(i),n.forEach(function(e){(0,$i.dispatch)(dl).setPattern(e.patternId,e.patternTitle,r,r)}),ue(null),R({isVisible:!0,message:(0,s.__)("Categories assigned to patterns","pattern-wrangler"),title:(0,s.__)("Categories Assigned to Patterns","pattern-wrangler"),type:"success",onClose:function(){R({isVisible:!1})}})},onRequestClose:function(){return ue(null)}}),ae&&React.createElement(qs,{item:ae.item,onRequestClose:function(){return se(null)}}))};const Rl=function(e){var n=(0,$i.useSelect)(function(e){return{data:e(dl).getData(),loading:e(dl).getLoading(),error:e(dl).getError()}}),i=n.data,r=n.loading,o=n.error;return(0,t.useEffect)(function(){(0,$i.dispatch)(dl).fetchData()},[]),r?React.createElement("div",{className:"dlx-patterns-view-container-wrapper"},React.createElement("div",{className:"dlx-patterns-view-container"},React.createElement("div",{className:"dataviews-wrapper"},React.createElement("div",{className:"dlx-patterns-view-container-header"},React.createElement("h1",null,(0,s.__)("Loading patterns…","pattern-wrangler")),React.createElement(Ao(),{size:30,color:"#3c434a"}))))):o?React.createElement("div",{className:"dlx-patterns-view-error"},React.createElement("p",null,(0,s.__)("Error loading patterns:","pattern-wrangler")," ",o),React.createElement(l.Button,{variant:"primary",onClick:function(){return(0,$i.dispatch)(dl).fetchData()}},(0,s.__)("Retry","pattern-wrangler"))):React.createElement(Ll,Ol({data:i},e))};var Nl=document.getElementById("dlx-pattern-wrangler-view");Nl&&(0,e.createRoot)(Nl).render(React.createElement(Rl,null))})()})();