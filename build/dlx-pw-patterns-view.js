(()=>{var e,t,n={985:function(e,t){!function(e){"use strict";const t=(e,t=1e4)=>(e=parseFloat(e+"")||0,Math.round((e+Number.EPSILON)*t)/t),n=function(e){if(!(e&&e instanceof Element&&e.offsetParent))return!1;const t=e.scrollHeight>e.clientHeight,n=window.getComputedStyle(e).overflowY,r=-1!==n.indexOf("hidden"),i=-1!==n.indexOf("visible");return t&&!r&&!i},r=function(e,t=void 0){return!(!e||e===document.body||t&&e===t)&&(n(e)?e:r(e.parentElement,t))},i=function(e){var t=(new DOMParser).parseFromString(e,"text/html").body;if(t.childElementCount>1){for(var n=document.createElement("div");t.firstChild;)n.appendChild(t.firstChild);return n}return t.firstChild},o=e=>`${e||""}`.split(" ").filter((e=>!!e)),a=(e,t,n)=>{e&&o(t).forEach((t=>{e.classList.toggle(t,n||!1)}))};class s{constructor(e){Object.defineProperty(this,"pageX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pageY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nativePointer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.nativePointer=e,this.pageX=e.pageX,this.pageY=e.pageY,this.clientX=e.clientX,this.clientY=e.clientY,this.id=self.Touch&&e instanceof Touch?e.identifier:-1,this.time=Date.now()}}const l={passive:!1};class c{constructor(e,{start:t=()=>!0,move:n=()=>{},end:r=()=>{}}){Object.defineProperty(this,"element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"moveCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"endCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"startPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.element=e,this.startCallback=t,this.moveCallback=n,this.endCallback=r;for(const e of["onPointerStart","onTouchStart","onMove","onTouchEnd","onPointerEnd","onWindowBlur"])this[e]=this[e].bind(this);this.element.addEventListener("mousedown",this.onPointerStart,l),this.element.addEventListener("touchstart",this.onTouchStart,l),this.element.addEventListener("touchmove",this.onMove,l),this.element.addEventListener("touchend",this.onTouchEnd),this.element.addEventListener("touchcancel",this.onTouchEnd)}onPointerStart(e){if(!e.buttons||0!==e.button)return;const t=new s(e);this.currentPointers.some((e=>e.id===t.id))||this.triggerPointerStart(t,e)&&(window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseup",this.onPointerEnd),window.addEventListener("blur",this.onWindowBlur))}onTouchStart(e){for(const t of Array.from(e.changedTouches||[]))this.triggerPointerStart(new s(t),e);window.addEventListener("blur",this.onWindowBlur)}onMove(e){const t=this.currentPointers.slice(),n="changedTouches"in e?Array.from(e.changedTouches||[]).map((e=>new s(e))):[new s(e)],r=[];for(const e of n){const t=this.currentPointers.findIndex((t=>t.id===e.id));t<0||(r.push(e),this.currentPointers[t]=e)}r.length&&this.moveCallback(e,this.currentPointers.slice(),t)}onPointerEnd(e){e.buttons>0&&0!==e.button||(this.triggerPointerEnd(e,new s(e)),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur))}onTouchEnd(e){for(const t of Array.from(e.changedTouches||[]))this.triggerPointerEnd(e,new s(t))}triggerPointerStart(e,t){return!!this.startCallback(t,e,this.currentPointers.slice())&&(this.currentPointers.push(e),this.startPointers.push(e),!0)}triggerPointerEnd(e,t){const n=this.currentPointers.findIndex((e=>e.id===t.id));n<0||(this.currentPointers.splice(n,1),this.startPointers.splice(n,1),this.endCallback(e,t,this.currentPointers.slice()))}onWindowBlur(){this.clear()}clear(){for(;this.currentPointers.length;){const e=this.currentPointers[this.currentPointers.length-1];this.currentPointers.splice(this.currentPointers.length-1,1),this.startPointers.splice(this.currentPointers.length-1,1),this.endCallback(new Event("touchend",{bubbles:!0,cancelable:!0,clientX:e.clientX,clientY:e.clientY}),e,this.currentPointers.slice())}}stop(){this.element.removeEventListener("mousedown",this.onPointerStart,l),this.element.removeEventListener("touchstart",this.onTouchStart,l),this.element.removeEventListener("touchmove",this.onMove,l),this.element.removeEventListener("touchend",this.onTouchEnd),this.element.removeEventListener("touchcancel",this.onTouchEnd),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur)}}function u(e,t){return t?Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2)):0}function d(e,t){return t?{clientX:(e.clientX+t.clientX)/2,clientY:(e.clientY+t.clientY)/2}:e}const f=e=>"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e),h=(e,...t)=>{const n=t.length;for(let r=0;r<n;r++){const n=t[r]||{};Object.entries(n).forEach((([t,n])=>{const r=Array.isArray(n)?[]:{};e[t]||Object.assign(e,{[t]:r}),f(n)?Object.assign(e[t],h(r,n)):Array.isArray(n)?Object.assign(e,{[t]:[...n]}):Object.assign(e,{[t]:n})}))}return e},p=function(e,t){return e.split(".").reduce(((e,t)=>"object"==typeof e?e[t]:void 0),t)};class m{constructor(e={}){Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.setOptions(e);for(const e of Object.getOwnPropertyNames(Object.getPrototypeOf(this)))e.startsWith("on")&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}setOptions(e){this.options=e?h({},this.constructor.defaults,e):{};for(const[e,t]of Object.entries(this.option("on")||{}))this.on(e,t)}option(e,...t){let n=p(e,this.options);return n&&"function"==typeof n&&(n=n.call(this,this,...t)),n}optionFor(e,t,n,...r){let i=p(t,e);var o;"string"!=typeof(o=i)||isNaN(o)||isNaN(parseFloat(o))||(i=parseFloat(i)),"true"===i&&(i=!0),"false"===i&&(i=!1),i&&"function"==typeof i&&(i=i.call(this,this,e,...r));let a=p(t,this.options);return a&&"function"==typeof a?i=a.call(this,this,e,...r,i):void 0===i&&(i=a),void 0===i?n:i}cn(e){const t=this.options.classes;return t&&t[e]||""}localize(e,t=[]){e=String(e).replace(/\{\{(\w+).?(\w+)?\}\}/g,((e,t,n)=>{let r="";return n?r=this.option(`${t[0]+t.toLowerCase().substring(1)}.l10n.${n}`):t&&(r=this.option(`l10n.${t}`)),r||(r=e),r}));for(let n=0;n<t.length;n++)e=e.split(t[n][0]).join(t[n][1]);return e.replace(/\{\{(.*?)\}\}/g,((e,t)=>t))}on(e,t){let n=[];"string"==typeof e?n=e.split(" "):Array.isArray(e)&&(n=e),this.events||(this.events=new Map),n.forEach((e=>{let n=this.events.get(e);n||(this.events.set(e,[]),n=[]),n.includes(t)||n.push(t),this.events.set(e,n)}))}off(e,t){let n=[];"string"==typeof e?n=e.split(" "):Array.isArray(e)&&(n=e),n.forEach((e=>{const n=this.events.get(e);if(Array.isArray(n)){const e=n.indexOf(t);e>-1&&n.splice(e,1)}}))}emit(e,...t){[...this.events.get(e)||[]].forEach((e=>e(this,...t))),"*"!==e&&this.emit("*",e,...t)}}Object.defineProperty(m,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.36"}),Object.defineProperty(m,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{}});class g extends m{constructor(e={}){super(e),Object.defineProperty(this,"plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}})}attachPlugins(e={}){const t=new Map;for(const[n,r]of Object.entries(e)){const e=this.option(n),i=this.plugins[n];i||!1===e?i&&!1===e&&(i.detach(),delete this.plugins[n]):t.set(n,new r(this,e||{}))}for(const[e,n]of t)this.plugins[e]=n,n.attach()}detachPlugins(e){e=e||Object.keys(this.plugins);for(const t of e){const e=this.plugins[t];e&&e.detach(),delete this.plugins[t]}return this.emit("detachPlugins"),this}}var v;!function(e){e[e.Init=0]="Init",e[e.Error=1]="Error",e[e.Ready=2]="Ready",e[e.Panning=3]="Panning",e[e.Mousemove=4]="Mousemove",e[e.Destroy=5]="Destroy"}(v||(v={}));const y=["a","b","c","d","e","f"],b={PANUP:"Move up",PANDOWN:"Move down",PANLEFT:"Move left",PANRIGHT:"Move right",ZOOMIN:"Zoom in",ZOOMOUT:"Zoom out",TOGGLEZOOM:"Toggle zoom level",TOGGLE1TO1:"Toggle zoom level",ITERATEZOOM:"Toggle zoom level",ROTATECCW:"Rotate counterclockwise",ROTATECW:"Rotate clockwise",FLIPX:"Flip horizontally",FLIPY:"Flip vertically",FITX:"Fit horizontally",FITY:"Fit vertically",RESET:"Reset",TOGGLEFS:"Toggle fullscreen"},w={content:null,width:"auto",height:"auto",panMode:"drag",touch:!0,dragMinThreshold:3,lockAxis:!1,mouseMoveFactor:1,mouseMoveFriction:.12,zoom:!0,pinchToZoom:!0,panOnlyZoomed:"auto",minScale:1,maxScale:2,friction:.25,dragFriction:.35,decelFriction:.05,click:"toggleZoom",dblClick:!1,wheel:"zoom",wheelLimit:7,spinner:!0,bounds:"auto",infinite:!1,rubberband:!0,bounce:!0,maxVelocity:75,transformParent:!1,classes:{content:"f-panzoom__content",isLoading:"is-loading",canZoomIn:"can-zoom_in",canZoomOut:"can-zoom_out",isDraggable:"is-draggable",isDragging:"is-dragging",inFullscreen:"in-fullscreen",htmlHasFullscreen:"with-panzoom-in-fullscreen"},l10n:b},x='<circle cx="25" cy="25" r="20"></circle>',_='<div class="f-spinner"><svg viewBox="0 0 50 50">'+x+x+"</svg></div>",E=e=>e&&null!==e&&e instanceof Element&&"nodeType"in e,S=(e,t)=>{e&&o(t).forEach((t=>{e.classList.remove(t)}))},C=(e,t)=>{e&&o(t).forEach((t=>{e.classList.add(t)}))},O={a:1,b:0,c:0,d:1,e:0,f:0},P=1e4,j="mousemove",L="drag",k="content",T="auto";let I=null,A=null;class M extends g{get fits(){return this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1}get isTouchDevice(){return null===A&&(A=window.matchMedia("(hover: none)").matches),A}get isMobile(){return null===I&&(I=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)),I}get panMode(){return this.options.panMode!==j||this.isTouchDevice?L:j}get panOnlyZoomed(){const e=this.options.panOnlyZoomed;return e===T?this.isTouchDevice:e}get isInfinite(){return this.option("infinite")}get angle(){return 180*Math.atan2(this.current.b,this.current.a)/Math.PI||0}get targetAngle(){return 180*Math.atan2(this.target.b,this.target.a)/Math.PI||0}get scale(){const{a:e,b:t}=this.current;return Math.sqrt(e*e+t*t)||1}get targetScale(){const{a:e,b:t}=this.target;return Math.sqrt(e*e+t*t)||1}get minScale(){return this.option("minScale")||1}get fullScale(){const{contentRect:e}=this;return e.fullWidth/e.fitWidth||1}get maxScale(){return this.fullScale*(this.option("maxScale")||1)||1}get coverScale(){const{containerRect:e,contentRect:t}=this,n=Math.max(e.height/t.fitHeight,e.width/t.fitWidth)||1;return Math.min(this.fullScale,n)}get isScaling(){return Math.abs(this.targetScale-this.scale)>1e-5&&!this.isResting}get isContentLoading(){const e=this.content;return!!(e&&e instanceof HTMLImageElement)&&!e.complete}get isResting(){if(this.isBouncingX||this.isBouncingY)return!1;for(const e of y){const t="e"==e||"f"===e?1e-4:1e-5;if(Math.abs(this.target[e]-this.current[e])>t)return!1}return!(!this.ignoreBounds&&!this.checkBounds().inBounds)}constructor(e,t={},n={}){var r;if(super(t),Object.defineProperty(this,"pointerTracker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"resizeObserver",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"updateTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"rAF",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"isTicking",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreBounds",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isBouncingX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isBouncingY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"clicks",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"trackingPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"cwd",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"pmme",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"friction",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:v.Init}),Object.defineProperty(this,"isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"spinner",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"containerRect",{enumerable:!0,configurable:!0,writable:!0,value:{width:0,height:0,innerWidth:0,innerHeight:0}}),Object.defineProperty(this,"contentRect",{enumerable:!0,configurable:!0,writable:!0,value:{top:0,right:0,bottom:0,left:0,fullWidth:0,fullHeight:0,fitWidth:0,fitHeight:0,width:0,height:0}}),Object.defineProperty(this,"dragStart",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,top:0,left:0,time:0}}),Object.defineProperty(this,"dragOffset",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,time:0}}),Object.defineProperty(this,"current",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},O)}),Object.defineProperty(this,"target",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},O)}),Object.defineProperty(this,"velocity",{enumerable:!0,configurable:!0,writable:!0,value:{a:0,b:0,c:0,d:0,e:0,f:0}}),Object.defineProperty(this,"lockedAxis",{enumerable:!0,configurable:!0,writable:!0,value:!1}),!e)throw new Error("Container Element Not Found");this.container=e,this.initContent(),this.attachPlugins(Object.assign(Object.assign({},M.Plugins),n)),this.emit("attachPlugins"),this.emit("init");const o=this.content;if(o.addEventListener("load",this.onLoad),o.addEventListener("error",this.onError),this.isContentLoading){if(this.option("spinner")){e.classList.add(this.cn("isLoading"));const t=i(_);!e.contains(o)||o.parentElement instanceof HTMLPictureElement?this.spinner=e.appendChild(t):this.spinner=(null===(r=o.parentElement)||void 0===r?void 0:r.insertBefore(t,o))||null}this.emit("beforeLoad")}else queueMicrotask((()=>{this.enable()}))}initContent(){const{container:e}=this,t=this.cn(k);let n=this.option(k)||e.querySelector(`.${t}`);if(n||(n=e.querySelector("img,picture")||e.firstElementChild,n&&C(n,t)),n instanceof HTMLPictureElement&&(n=n.querySelector("img")),!n)throw new Error("No content found");this.content=n}onLoad(){const{spinner:e,container:t,state:n}=this;e&&(e.remove(),this.spinner=null),this.option("spinner")&&t.classList.remove(this.cn("isLoading")),this.emit("afterLoad"),n===v.Init?this.enable():this.updateMetrics()}onError(){this.state!==v.Destroy&&(this.spinner&&(this.spinner.remove(),this.spinner=null),this.stop(),this.detachEvents(),this.state=v.Error,this.emit("error"))}getNextScale(e){const{fullScale:t,targetScale:n,coverScale:r,maxScale:i,minScale:o}=this;let a=o;switch(e){case"toggleMax":a=n-o<.5*(i-o)?i:o;break;case"toggleCover":a=n-o<.5*(r-o)?r:o;break;case"toggleZoom":a=n-o<.5*(t-o)?t:o;break;case"iterateZoom":let e=[1,t,i].sort(((e,t)=>e-t)),s=e.findIndex((e=>e>n+1e-5));a=e[s]||1}return a}attachObserver(){var e;const t=()=>{const{container:e,containerRect:t}=this;return Math.abs(t.width-e.getBoundingClientRect().width)>.1||Math.abs(t.height-e.getBoundingClientRect().height)>.1};this.resizeObserver||void 0===window.ResizeObserver||(this.resizeObserver=new ResizeObserver((()=>{this.updateTimer||(t()?(this.onResize(),this.isMobile&&(this.updateTimer=setTimeout((()=>{t()&&this.onResize(),this.updateTimer=null}),500))):this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null))}))),null===(e=this.resizeObserver)||void 0===e||e.observe(this.container)}detachObserver(){var e;null===(e=this.resizeObserver)||void 0===e||e.disconnect()}attachEvents(){const{container:e}=this;e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),e.addEventListener("wheel",this.onWheel,{passive:!1}),this.pointerTracker=new c(e,{start:this.onPointerDown,move:this.onPointerMove,end:this.onPointerUp}),document.addEventListener(j,this.onMouseMove)}detachEvents(){var e;const{container:t}=this;t.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),t.removeEventListener("wheel",this.onWheel,{passive:!1}),null===(e=this.pointerTracker)||void 0===e||e.stop(),this.pointerTracker=null,document.removeEventListener(j,this.onMouseMove),document.removeEventListener("keydown",this.onKeydown,!0),this.clickTimer&&(clearTimeout(this.clickTimer),this.clickTimer=null),this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null)}animate(){this.setTargetForce();const e=this.friction,t=this.option("maxVelocity");for(const n of y)e?(this.velocity[n]*=1-e,t&&!this.isScaling&&(this.velocity[n]=Math.max(Math.min(this.velocity[n],t),-1*t)),this.current[n]+=this.velocity[n]):this.current[n]=this.target[n];this.setTransform(),this.setEdgeForce(),!this.isResting||this.isDragging?this.rAF=requestAnimationFrame((()=>this.animate())):this.stop("current")}setTargetForce(){for(const e of y)"e"===e&&this.isBouncingX||"f"===e&&this.isBouncingY||(this.velocity[e]=(1/(1-this.friction)-1)*(this.target[e]-this.current[e]))}checkBounds(e=0,t=0){const{current:n}=this,r=n.e+e,i=n.f+t,o=this.getBounds(),{x:a,y:s}=o,l=a.min,c=a.max,u=s.min,d=s.max;let f=0,h=0;return l!==1/0&&r<l?f=l-r:c!==1/0&&r>c&&(f=c-r),u!==1/0&&i<u?h=u-i:d!==1/0&&i>d&&(h=d-i),Math.abs(f)<1e-4&&(f=0),Math.abs(h)<1e-4&&(h=0),Object.assign(Object.assign({},o),{xDiff:f,yDiff:h,inBounds:!f&&!h})}clampTargetBounds(){const{target:e}=this,{x:t,y:n}=this.getBounds();t.min!==1/0&&(e.e=Math.max(e.e,t.min)),t.max!==1/0&&(e.e=Math.min(e.e,t.max)),n.min!==1/0&&(e.f=Math.max(e.f,n.min)),n.max!==1/0&&(e.f=Math.min(e.f,n.max))}calculateContentDim(e=this.current){const{content:t,contentRect:n}=this,{fitWidth:r,fitHeight:i,fullWidth:o,fullHeight:a}=n;let s=o,l=a;if(this.option("zoom")||0!==this.angle){const n=!(t instanceof HTMLImageElement||"none"!==window.getComputedStyle(t).maxWidth&&"none"!==window.getComputedStyle(t).maxHeight),c=n?o:r,u=n?a:i,d=this.getMatrix(e),f=new DOMPoint(0,0).matrixTransform(d),h=new DOMPoint(0+c,0).matrixTransform(d),p=new DOMPoint(0+c,0+u).matrixTransform(d),m=new DOMPoint(0,0+u).matrixTransform(d),g=Math.abs(p.x-f.x),v=Math.abs(p.y-f.y),y=Math.abs(m.x-h.x),b=Math.abs(m.y-h.y);s=Math.max(g,y),l=Math.max(v,b)}return{contentWidth:s,contentHeight:l}}setEdgeForce(){if(this.ignoreBounds||this.isDragging||this.panMode===j||this.targetScale<this.scale)return this.isBouncingX=!1,void(this.isBouncingY=!1);const{target:e}=this,{x:t,y:n,xDiff:r,yDiff:i}=this.checkBounds(),o=this.option("maxVelocity");let a=this.velocity.e,s=this.velocity.f;0!==r?(this.isBouncingX=!0,r*a<=0?a+=.14*r:(a=.14*r,t.min!==1/0&&(this.target.e=Math.max(e.e,t.min)),t.max!==1/0&&(this.target.e=Math.min(e.e,t.max))),o&&(a=Math.max(Math.min(a,o),-1*o))):this.isBouncingX=!1,0!==i?(this.isBouncingY=!0,i*s<=0?s+=.14*i:(s=.14*i,n.min!==1/0&&(this.target.f=Math.max(e.f,n.min)),n.max!==1/0&&(this.target.f=Math.min(e.f,n.max))),o&&(s=Math.max(Math.min(s,o),-1*o))):this.isBouncingY=!1,this.isBouncingX&&(this.velocity.e=a),this.isBouncingY&&(this.velocity.f=s)}enable(){const{content:e}=this,t=new DOMMatrixReadOnly(window.getComputedStyle(e).transform);for(const e of y)this.current[e]=this.target[e]=t[e];this.updateMetrics(),this.attachObserver(),this.attachEvents(),this.state=v.Ready,this.emit("ready")}onClick(e){var t;"click"===e.type&&0===e.detail&&(this.dragOffset.x=0,this.dragOffset.y=0),this.isDragging&&(null===(t=this.pointerTracker)||void 0===t||t.clear(),this.trackingPoints=[],this.startDecelAnim());const n=e.target;if(!n||e.defaultPrevented)return;if(n.hasAttribute("disabled"))return e.preventDefault(),void e.stopPropagation();if((()=>{const e=window.getSelection();return e&&"Range"===e.type})()&&!n.closest("button"))return;const r=n.closest("[data-panzoom-action]"),i=n.closest("[data-panzoom-change]"),o=r||i,a=o&&E(o)?o.dataset:null;if(a){const t=a.panzoomChange,n=a.panzoomAction;if((t||n)&&e.preventDefault(),t){let n={};try{n=JSON.parse(t)}catch(e){console&&console.warn("The given data was not valid JSON")}return void this.applyChange(n)}if(n)return void(this[n]&&this[n]())}if(Math.abs(this.dragOffset.x)>3||Math.abs(this.dragOffset.y)>3)return e.preventDefault(),void e.stopPropagation();if(n.closest("[data-fancybox]"))return;const s=this.content.getBoundingClientRect(),l=this.dragStart;if(l.time&&!this.canZoomOut()&&(Math.abs(s.x-l.x)>2||Math.abs(s.y-l.y)>2))return;this.dragStart.time=0;const c=t=>{this.option("zoom",e)&&t&&"string"==typeof t&&/(iterateZoom)|(toggle(Zoom|Full|Cover|Max)|(zoomTo(Fit|Cover|Max)))/.test(t)&&"function"==typeof this[t]&&(e.preventDefault(),this[t]({event:e}))},u=this.option("click",e),d=this.option("dblClick",e);d?(this.clicks++,1==this.clicks&&(this.clickTimer=setTimeout((()=>{1===this.clicks?(this.emit("click",e),!e.defaultPrevented&&u&&c(u)):(this.emit("dblClick",e),e.defaultPrevented||c(d)),this.clicks=0,this.clickTimer=null}),350))):(this.emit("click",e),!e.defaultPrevented&&u&&c(u))}addTrackingPoint(e){const t=this.trackingPoints.filter((e=>e.time>Date.now()-100));t.push(e),this.trackingPoints=t}onPointerDown(e,t,n){var r;if(!1===this.option("touch",e))return!1;this.pwt=0,this.dragOffset={x:0,y:0,time:0},this.trackingPoints=[];const i=this.content.getBoundingClientRect();if(this.dragStart={x:i.x,y:i.y,top:i.top,left:i.left,time:Date.now()},this.clickTimer)return!1;if(this.panMode===j&&this.targetScale>1)return e.preventDefault(),e.stopPropagation(),!1;const o=e.composedPath()[0];if(!n.length){if(["TEXTAREA","OPTION","INPUT","SELECT","VIDEO","IFRAME"].includes(o.nodeName)||o.closest("[contenteditable],[data-selectable],[data-draggable],[data-clickable],[data-panzoom-change],[data-panzoom-action]"))return!1;null===(r=window.getSelection())||void 0===r||r.removeAllRanges()}if("mousedown"===e.type)["A","BUTTON"].includes(o.nodeName)||e.preventDefault();else if(Math.abs(this.velocity.a)>.3)return!1;return this.target.e=this.current.e,this.target.f=this.current.f,this.stop(),this.isDragging||(this.isDragging=!0,this.addTrackingPoint(t),this.emit("touchStart",e)),!0}onPointerMove(e,n,i){if(!1===this.option("touch",e))return;if(!this.isDragging)return;if(n.length<2&&this.panOnlyZoomed&&t(this.targetScale)<=t(this.minScale))return;if(this.emit("touchMove",e),e.defaultPrevented)return;this.addTrackingPoint(n[0]);const{content:o}=this,a=d(i[0],i[1]),s=d(n[0],n[1]);let l=0,c=0;if(n.length>1){const e=o.getBoundingClientRect();l=a.clientX-e.left-.5*e.width,c=a.clientY-e.top-.5*e.height}const f=u(i[0],i[1]),h=u(n[0],n[1]);let p=f?h/f:1,m=s.clientX-a.clientX,g=s.clientY-a.clientY;this.dragOffset.x+=m,this.dragOffset.y+=g,this.dragOffset.time=Date.now()-this.dragStart.time;let v=t(this.targetScale)===t(this.minScale)&&this.option("lockAxis");if(v&&!this.lockedAxis)if("xy"===v||"y"===v||"touchmove"===e.type){if(Math.abs(this.dragOffset.x)<6&&Math.abs(this.dragOffset.y)<6)return void e.preventDefault();const t=Math.abs(180*Math.atan2(this.dragOffset.y,this.dragOffset.x)/Math.PI);this.lockedAxis=t>45&&t<135?"y":"x",this.dragOffset.x=0,this.dragOffset.y=0,m=0,g=0}else this.lockedAxis=v;if(r(e.target,this.content)&&(v="x",this.dragOffset.y=0),v&&"xy"!==v&&this.lockedAxis!==v&&t(this.targetScale)===t(this.minScale))return;e.cancelable&&e.preventDefault(),this.container.classList.add(this.cn("isDragging"));const y=this.checkBounds(m,g);this.option("rubberband")?("x"!==this.isInfinite&&(y.xDiff>0&&m<0||y.xDiff<0&&m>0)&&(m*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitWidth*y.xDiff))),"y"!==this.isInfinite&&(y.yDiff>0&&g<0||y.yDiff<0&&g>0)&&(g*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitHeight*y.yDiff)))):(y.xDiff&&(m=0),y.yDiff&&(g=0));const b=this.targetScale,w=this.minScale,x=this.maxScale;b<.5*w&&(p=Math.max(p,w)),b>1.5*x&&(p=Math.min(p,x)),"y"===this.lockedAxis&&t(b)===t(w)&&(m=0),"x"===this.lockedAxis&&t(b)===t(w)&&(g=0),this.applyChange({originX:l,originY:c,panX:m,panY:g,scale:p,friction:this.option("dragFriction"),ignoreBounds:!0})}onPointerUp(e,t,n){if(n.length)return this.dragOffset.x=0,this.dragOffset.y=0,void(this.trackingPoints=[]);this.container.classList.remove(this.cn("isDragging")),this.isDragging&&(this.addTrackingPoint(t),this.panOnlyZoomed&&this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1&&(this.trackingPoints=[]),r(e.target,this.content)&&"y"===this.lockedAxis&&(this.trackingPoints=[]),this.emit("touchEnd",e),this.isDragging=!1,this.lockedAxis=!1,this.state!==v.Destroy&&(e.defaultPrevented||this.startDecelAnim()))}startDecelAnim(){var e;const n=this.isScaling;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(const e of y)this.velocity[e]=0;this.target.e=this.current.e,this.target.f=this.current.f,S(this.container,"is-scaling"),S(this.container,"is-animating"),this.isTicking=!1;const{trackingPoints:r}=this,i=r[0],o=r[r.length-1];let a=0,s=0,l=0;o&&i&&(a=o.clientX-i.clientX,s=o.clientY-i.clientY,l=o.time-i.time);const c=(null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1;1!==c&&(a*=c,s*=c);let u=0,d=0,f=0,h=0,p=this.option("decelFriction");const m=this.targetScale;if(l>0){f=Math.abs(a)>3?a/(l/30):0,h=Math.abs(s)>3?s/(l/30):0;const e=this.option("maxVelocity");e&&(f=Math.max(Math.min(f,e),-1*e),h=Math.max(Math.min(h,e),-1*e))}f&&(u=f/(1/(1-p)-1)),h&&(d=h/(1/(1-p)-1)),("y"===this.option("lockAxis")||"xy"===this.option("lockAxis")&&"y"===this.lockedAxis&&t(m)===this.minScale)&&(u=f=0),("x"===this.option("lockAxis")||"xy"===this.option("lockAxis")&&"x"===this.lockedAxis&&t(m)===this.minScale)&&(d=h=0);const g=this.dragOffset.x,v=this.dragOffset.y,b=this.option("dragMinThreshold")||0;Math.abs(g)<b&&Math.abs(v)<b&&(u=d=0,f=h=0),(this.option("zoom")&&(m<this.minScale-1e-5||m>this.maxScale+1e-5)||n&&!u&&!d)&&(p=.35),this.applyChange({panX:u,panY:d,friction:p}),this.emit("decel",f,h,g,v)}onWheel(e){var t=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce((function(e,t){return Math.abs(t)>Math.abs(e)?t:e}));const n=Math.max(-1,Math.min(1,t));if(this.emit("wheel",e,n),this.panMode===j)return;if(e.defaultPrevented)return;const r=this.option("wheel");"pan"===r?(e.preventDefault(),this.panOnlyZoomed&&!this.canZoomOut()||this.applyChange({panX:2*-e.deltaX,panY:2*-e.deltaY,bounce:!1})):"zoom"===r&&!1!==this.option("zoom")&&this.zoomWithWheel(e)}onMouseMove(e){this.panWithMouse(e)}onKeydown(e){"Escape"===e.key&&this.toggleFS()}onResize(){this.updateMetrics(),this.checkBounds().inBounds||this.requestTick()}setTransform(){this.emit("beforeTransform");const{current:e,target:n,content:r,contentRect:i}=this,o=Object.assign({},O);for(const r of y){const i="e"==r||"f"===r?P:1e5;o[r]=t(e[r],i),Math.abs(n[r]-e[r])<("e"==r||"f"===r?.51:.001)&&(e[r]=n[r])}let{a,b:s,c:l,d:c,e:u,f:d}=o,f=`matrix(${a}, ${s}, ${l}, ${c}, ${u}, ${d})`,h=r.parentElement instanceof HTMLPictureElement?r.parentElement:r;if(this.option("transformParent")&&(h=h.parentElement||h),h.style.transform===f)return;h.style.transform=f;const{contentWidth:p,contentHeight:m}=this.calculateContentDim();i.width=p,i.height=m,this.emit("afterTransform")}updateMetrics(e=!1){var n;if(!this||this.state===v.Destroy)return;if(this.isContentLoading)return;const r=Math.max(1,(null===(n=window.visualViewport)||void 0===n?void 0:n.scale)||1),{container:i,content:o}=this,a=o instanceof HTMLImageElement,s=i.getBoundingClientRect(),l=getComputedStyle(this.container);let c=s.width*r,u=s.height*r;const d=parseFloat(l.paddingTop)+parseFloat(l.paddingBottom),f=c-(parseFloat(l.paddingLeft)+parseFloat(l.paddingRight)),h=u-d;this.containerRect={width:c,height:u,innerWidth:f,innerHeight:h};const p=parseFloat(o.dataset.width||"")||(e=>{let t=0;return t=e instanceof HTMLImageElement?e.naturalWidth:e instanceof SVGElement?e.width.baseVal.value:Math.max(e.offsetWidth,e.scrollWidth),t||0})(o),m=parseFloat(o.dataset.height||"")||(e=>{let t=0;return t=e instanceof HTMLImageElement?e.naturalHeight:e instanceof SVGElement?e.height.baseVal.value:Math.max(e.offsetHeight,e.scrollHeight),t||0})(o);let g=this.option("width",p)||T,y=this.option("height",m)||T;const b=g===T,w=y===T;"number"!=typeof g&&(g=p),"number"!=typeof y&&(y=m),b&&(g=p*(y/m)),w&&(y=m/(p/g));let x=o.parentElement instanceof HTMLPictureElement?o.parentElement:o;this.option("transformParent")&&(x=x.parentElement||x);const _=x.getAttribute("style")||"";x.style.setProperty("transform","none","important"),a&&(x.style.width="",x.style.height=""),x.offsetHeight;const E=o.getBoundingClientRect();let S=E.width*r,C=E.height*r,O=S,P=C;S=Math.min(S,g),C=Math.min(C,y),a?({width:S,height:C}=((e,t,n,r)=>{const i=n/e,o=r/t,a=Math.min(i,o);return{width:e*=a,height:t*=a}})(g,y,S,C)):(S=Math.min(S,g),C=Math.min(C,y));let j=.5*(P-C),L=.5*(O-S);this.contentRect=Object.assign(Object.assign({},this.contentRect),{top:E.top-s.top+j,bottom:s.bottom-E.bottom+j,left:E.left-s.left+L,right:s.right-E.right+L,fitWidth:S,fitHeight:C,width:S,height:C,fullWidth:g,fullHeight:y}),x.style.cssText=_,a&&(x.style.width=`${S}px`,x.style.height=`${C}px`),this.setTransform(),!0!==e&&this.emit("refresh"),this.ignoreBounds||(t(this.targetScale)<t(this.minScale)?this.zoomTo(this.minScale,{friction:0}):this.targetScale>this.maxScale?this.zoomTo(this.maxScale,{friction:0}):this.state===v.Init||this.checkBounds().inBounds||this.requestTick()),this.updateControls()}calculateBounds(){const{contentWidth:e,contentHeight:n}=this.calculateContentDim(this.target),{targetScale:r,lockedAxis:i}=this,{fitWidth:o,fitHeight:a}=this.contentRect;let s=0,l=0,c=0,u=0;const d=this.option("infinite");if(!0===d||i&&d===i)s=-1/0,c=1/0,l=-1/0,u=1/0;else{let{containerRect:i,contentRect:d}=this,f=t(o*r,P),h=t(a*r,P),{innerWidth:p,innerHeight:m}=i;if(i.width===f&&(p=i.width),i.width===h&&(m=i.height),e>p){c=.5*(e-p),s=-1*c;let t=.5*(d.right-d.left);s+=t,c+=t}if(o>p&&e<p&&(s-=.5*(o-p),c-=.5*(o-p)),n>m){u=.5*(n-m),l=-1*u;let e=.5*(d.bottom-d.top);l+=e,u+=e}a>m&&n<m&&(s-=.5*(a-m),c-=.5*(a-m))}return{x:{min:s,max:c},y:{min:l,max:u}}}getBounds(){const e=this.option("bounds");return e!==T?e:this.calculateBounds()}updateControls(){const e=this,n=e.container,{panMode:r,contentRect:i,targetScale:o,minScale:s}=e;let l=s,c=e.option("click")||!1;c&&(l=e.getNextScale(c));let u=e.canZoomIn(),d=e.canZoomOut(),f=r===L&&!!this.option("touch"),h=d&&f;if(f&&(t(o)<t(s)&&!this.panOnlyZoomed&&(h=!0),(t(i.width,1)>t(i.fitWidth,1)||t(i.height,1)>t(i.fitHeight,1))&&(h=!0)),t(i.width*o,1)<t(i.fitWidth,1)&&(h=!1),r===j&&(h=!1),a(n,this.cn("isDraggable"),h),!this.option("zoom"))return;let p=u&&t(l)>t(o),m=!p&&!h&&d&&t(l)<t(o);a(n,this.cn("canZoomIn"),p),a(n,this.cn("canZoomOut"),m);for(const e of n.querySelectorAll("[data-panzoom-action]")){let t=!1,n=!1;switch(e.dataset.panzoomAction){case"zoomIn":u?t=!0:n=!0;break;case"zoomOut":d?t=!0:n=!0;break;case"toggleZoom":case"iterateZoom":u||d?t=!0:n=!0;const r=e.querySelector("g");r&&(r.style.display=u?"":"none")}t?(e.removeAttribute("disabled"),e.removeAttribute("tabindex")):n&&(e.setAttribute("disabled",""),e.setAttribute("tabindex","-1"))}}panTo({x:e=this.target.e,y:t=this.target.f,scale:n=this.targetScale,friction:r=this.option("friction"),angle:i=0,originX:o=0,originY:a=0,flipX:s=!1,flipY:l=!1,ignoreBounds:c=!1}){this.state!==v.Destroy&&this.applyChange({panX:e-this.target.e,panY:t-this.target.f,scale:n/this.targetScale,angle:i,originX:o,originY:a,friction:r,flipX:s,flipY:l,ignoreBounds:c})}applyChange({panX:e=0,panY:n=0,scale:r=1,angle:i=0,originX:o=-this.current.e,originY:a=-this.current.f,friction:s=this.option("friction"),flipX:l=!1,flipY:c=!1,ignoreBounds:u=!1,bounce:d=this.option("bounce")}){const f=this.state;if(f===v.Destroy)return;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.friction=s||0,this.ignoreBounds=u;const{current:h}=this,p=h.e,m=h.f,g=this.getMatrix(this.target);let b=(new DOMMatrix).translate(p,m).translate(o,a).translate(e,n);if(this.option("zoom")){if(!u){const e=this.targetScale,t=this.minScale,n=this.maxScale;e*r<t&&(r=t/e),e*r>n&&(r=n/e)}b=b.scale(r)}b=b.translate(-o,-a).translate(-p,-m).multiply(g),i&&(b=b.rotate(i)),l&&(b=b.scale(-1,1)),c&&(b=b.scale(1,-1));for(const e of y)"e"!==e&&"f"!==e&&(b[e]>this.minScale+1e-5||b[e]<this.minScale-1e-5)?this.target[e]=b[e]:this.target[e]=t(b[e],P);(this.targetScale<this.scale||Math.abs(r-1)>.1||this.panMode===j||!1===d)&&!u&&this.clampTargetBounds(),f===v.Init?this.animate():this.isResting||(this.state=v.Panning,this.requestTick())}stop(e=!1){if(this.state===v.Init||this.state===v.Destroy)return;const t=this.isTicking;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(const t of y)this.velocity[t]=0,"current"===e?this.current[t]=this.target[t]:"target"===e&&(this.target[t]=this.current[t]);this.setTransform(),S(this.container,"is-scaling"),S(this.container,"is-animating"),this.isTicking=!1,this.state=v.Ready,t&&(this.emit("endAnimation"),this.updateControls())}requestTick(){this.isTicking||(this.emit("startAnimation"),this.updateControls(),C(this.container,"is-animating"),this.isScaling&&C(this.container,"is-scaling")),this.isTicking=!0,this.rAF||(this.rAF=requestAnimationFrame((()=>this.animate())))}panWithMouse(e,n=this.option("mouseMoveFriction")){if(this.pmme=e,this.panMode!==j||!e)return;if(t(this.targetScale)<=t(this.minScale))return;this.emit("mouseMove",e);const{container:r,containerRect:i,contentRect:o}=this,a=i.width,s=i.height,l=r.getBoundingClientRect(),c=(e.clientX||0)-l.left,u=(e.clientY||0)-l.top;let{contentWidth:d,contentHeight:f}=this.calculateContentDim(this.target);const h=this.option("mouseMoveFactor");h>1&&(d!==a&&(d*=h),f!==s&&(f*=h));let p=.5*(d-a)-c/a*100/100*(d-a);p+=.5*(o.right-o.left);let m=.5*(f-s)-u/s*100/100*(f-s);m+=.5*(o.bottom-o.top),this.applyChange({panX:p-this.target.e,panY:m-this.target.f,friction:n})}zoomWithWheel(e){if(this.state===v.Destroy||this.state===v.Init)return;const n=Date.now();if(n-this.pwt<45)return void e.preventDefault();this.pwt=n;var r=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce((function(e,t){return Math.abs(t)>Math.abs(e)?t:e}));const i=Math.max(-1,Math.min(1,r)),{targetScale:o,maxScale:a,minScale:s}=this;let l=o*(100+45*i)/100;t(l)<t(s)&&t(o)<=t(s)?(this.cwd+=Math.abs(i),l=s):t(l)>t(a)&&t(o)>=t(a)?(this.cwd+=Math.abs(i),l=a):(this.cwd=0,l=Math.max(Math.min(l,a),s)),this.cwd>this.option("wheelLimit")||(e.preventDefault(),t(l)!==t(o)&&this.zoomTo(l,{event:e}))}canZoomIn(){return this.option("zoom")&&(t(this.contentRect.width,1)<t(this.contentRect.fitWidth,1)||t(this.targetScale)<t(this.maxScale))}canZoomOut(){return this.option("zoom")&&t(this.targetScale)>t(this.minScale)}zoomIn(e=1.25,t){this.zoomTo(this.targetScale*e,t)}zoomOut(e=.8,t){this.zoomTo(this.targetScale*e,t)}zoomToFit(e){this.zoomTo("fit",e)}zoomToCover(e){this.zoomTo("cover",e)}zoomToFull(e){this.zoomTo("full",e)}zoomToMax(e){this.zoomTo("max",e)}toggleZoom(e){this.zoomTo(this.getNextScale("toggleZoom"),e)}toggleMax(e){this.zoomTo(this.getNextScale("toggleMax"),e)}toggleCover(e){this.zoomTo(this.getNextScale("toggleCover"),e)}iterateZoom(e){this.zoomTo("next",e)}zoomTo(e=1,{friction:t=T,originX:n=T,originY:r=T,event:i}={}){if(this.isContentLoading||this.state===v.Destroy)return;const{targetScale:o,fullScale:a,maxScale:s,coverScale:l}=this;if(this.stop(),this.panMode===j&&(i=this.pmme||i),i||n===T||r===T){const e=this.content.getBoundingClientRect(),t=this.container.getBoundingClientRect(),o=i?i.clientX:t.left+.5*t.width,a=i?i.clientY:t.top+.5*t.height;n=o-e.left-.5*e.width,r=a-e.top-.5*e.height}let c=1;"number"==typeof e?c=e:"full"===e?c=a:"cover"===e?c=l:"max"===e?c=s:"fit"===e?c=1:"next"===e&&(c=this.getNextScale("iterateZoom")),c=c/o||1,t=t===T?c>1?.15:.25:t,this.applyChange({scale:c,originX:n,originY:r,friction:t}),i&&this.panMode===j&&this.panWithMouse(i,t)}rotateCCW(){this.applyChange({angle:-90})}rotateCW(){this.applyChange({angle:90})}flipX(){this.applyChange({flipX:!0})}flipY(){this.applyChange({flipY:!0})}fitX(){this.stop("target");const{containerRect:e,contentRect:t,target:n}=this;this.applyChange({panX:.5*e.width-(t.left+.5*t.fitWidth)-n.e,panY:.5*e.height-(t.top+.5*t.fitHeight)-n.f,scale:e.width/t.fitWidth/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}fitY(){this.stop("target");const{containerRect:e,contentRect:t,target:n}=this;this.applyChange({panX:.5*e.width-(t.left+.5*t.fitWidth)-n.e,panY:.5*e.innerHeight-(t.top+.5*t.fitHeight)-n.f,scale:e.height/t.fitHeight/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}toggleFS(){const{container:e}=this,t=this.cn("inFullscreen"),n=this.cn("htmlHasFullscreen");e.classList.toggle(t);const r=e.classList.contains(t);r?(document.documentElement.classList.add(n),document.addEventListener("keydown",this.onKeydown,!0)):(document.documentElement.classList.remove(n),document.removeEventListener("keydown",this.onKeydown,!0)),this.updateMetrics(),this.emit(r?"enterFS":"exitFS")}getMatrix(e=this.current){const{a:t,b:n,c:r,d:i,e:o,f:a}=e;return new DOMMatrix([t,n,r,i,o,a])}reset(e){if(this.state!==v.Init&&this.state!==v.Destroy){this.stop("current");for(const e of y)this.target[e]=O[e];this.target.a=this.minScale,this.target.d=this.minScale,this.clampTargetBounds(),this.isResting||(this.friction=void 0===e?this.option("friction"):e,this.state=v.Panning,this.requestTick())}}destroy(){this.stop(),this.state=v.Destroy,this.detachEvents(),this.detachObserver();const{container:e,content:t}=this,n=this.option("classes")||{};for(const t of Object.values(n))e.classList.remove(t+"");t&&(t.removeEventListener("load",this.onLoad),t.removeEventListener("error",this.onError)),this.detachPlugins()}}Object.defineProperty(M,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:w}),Object.defineProperty(M,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}});const N=function(e,t){let n=!0;return(...r)=>{n&&(n=!1,e(...r),setTimeout((()=>{n=!0}),t))}},R=(e,t)=>{let n=[];return e.childNodes.forEach((e=>{e.nodeType!==Node.ELEMENT_NODE||t&&!e.matches(t)||n.push(e)})),n};var F;!function(e){e[e.Init=0]="Init",e[e.Ready=1]="Ready",e[e.Destroy=2]="Destroy"}(F||(F={}));const D=e=>{if("string"==typeof e||e instanceof HTMLElement)e={html:e};else{const t=e.thumb;void 0!==t&&("string"==typeof t&&(e.thumbSrc=t),t instanceof HTMLImageElement&&(e.thumbEl=t,e.thumbElSrc=t.src,e.thumbSrc=t.src),delete e.thumb)}return Object.assign({html:"",el:null,isDom:!1,class:"",customClass:"",index:-1,dim:0,gap:0,pos:0,transition:!1},e)},V=(e={})=>Object.assign({index:-1,slides:[],dim:0,pos:-1},e);class B extends m{constructor(e,t){super(t),Object.defineProperty(this,"instance",{enumerable:!0,configurable:!0,writable:!0,value:e})}attach(){}detach(){}}class z extends B{constructor(){super(...arguments),Object.defineProperty(this,"isDynamic",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"list",{enumerable:!0,configurable:!0,writable:!0,value:null})}onRefresh(){this.refresh()}build(){let e=this.list;if(!e){e=document.createElement("ul"),C(e,this.cn("list")),e.setAttribute("role","tablist");const t=this.instance.container;t.appendChild(e),C(t,this.cn("hasDots")),this.list=e}return e}refresh(){var e;const t=this.instance.pages.length,n=Math.min(2,this.option("minCount")),r=Math.max(2e3,this.option("maxCount")),i=this.option("dynamicFrom");if(t<n||t>r)return void this.cleanup();const o="number"==typeof i&&t>5&&t>=i,s=!this.list||this.isDynamic!==o||this.list.children.length!==t;s&&this.cleanup();const l=this.build();if(a(l,this.cn("isDynamic"),!!o),s)for(let e=0;e<t;e++)l.append(this.createItem(e));let c,u=0;for(const t of[...l.children]){const n=u===this.instance.page;n&&(c=t),a(t,this.cn("isCurrent"),n),null===(e=t.children[0])||void 0===e||e.setAttribute("aria-selected",n?"true":"false");for(const e of["isBeforePrev","isPrev","isNext","isAfterNext"])S(t,this.cn(e));u++}if(c=c||l.firstChild,o&&c){const e=c.previousElementSibling,t=e&&e.previousElementSibling;C(e,this.cn("isPrev")),C(t,this.cn("isBeforePrev"));const n=c.nextElementSibling,r=n&&n.nextElementSibling;C(n,this.cn("isNext")),C(r,this.cn("isAfterNext"))}this.isDynamic=o}createItem(e=0){var t;const n=document.createElement("li");n.setAttribute("role","presentation");const r=i(this.instance.localize(this.option("dotTpl"),[["%d",e+1]]).replace(/\%i/g,e+""));return n.appendChild(r),null===(t=n.children[0])||void 0===t||t.setAttribute("role","tab"),n}cleanup(){this.list&&(this.list.remove(),this.list=null),this.isDynamic=!1,S(this.instance.container,this.cn("hasDots"))}attach(){this.instance.on(["refresh","change"],this.onRefresh)}detach(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}}Object.defineProperty(z,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{list:"f-carousel__dots",isDynamic:"is-dynamic",hasDots:"has-dots",dot:"f-carousel__dot",isBeforePrev:"is-before-prev",isPrev:"is-prev",isCurrent:"is-current",isNext:"is-next",isAfterNext:"is-after-next"},dotTpl:'<button type="button" data-carousel-page="%i" aria-label="{{GOTO}}"><span class="f-carousel__dot" aria-hidden="true"></span></button>',dynamicFrom:11,maxCount:1/0,minCount:2}});const H="disabled",$="next",G="prev";class U extends B{constructor(){super(...arguments),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"prev",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"next",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"isDom",{enumerable:!0,configurable:!0,writable:!0,value:!1})}onRefresh(){const e=this.instance,t=e.pages.length,n=e.page;if(t<2)return void this.cleanup();this.build();let r=this.prev,i=this.next;r&&i&&(r.removeAttribute(H),i.removeAttribute(H),e.isInfinite||(n<=0&&r.setAttribute(H,""),n>=t-1&&i.setAttribute(H,"")))}addBtn(e){var t;const n=this.instance,r=document.createElement("button");r.setAttribute("tabindex","0"),r.setAttribute("title",n.localize(`{{${e.toUpperCase()}}}`)),C(r,this.cn("button")+" "+this.cn(e===$?"isNext":"isPrev"));const i=n.isRTL?e===$?G:$:e;var o;return r.innerHTML=n.localize(this.option(`${i}Tpl`)),r.dataset[`carousel${o=e,o?o.match("^[a-z]")?o.charAt(0).toUpperCase()+o.substring(1):o:""}`]="true",null===(t=this.container)||void 0===t||t.appendChild(r),r}build(){const e=this.instance.container,t=this.cn("container");let{container:n,prev:r,next:i}=this;n||(n=e.querySelector("."+t),this.isDom=!!n),n||(n=document.createElement("div"),C(n,t),e.appendChild(n)),this.container=n,i||(i=n.querySelector("[data-carousel-next]")),i||(i=this.addBtn($)),this.next=i,r||(r=n.querySelector("[data-carousel-prev]")),r||(r=this.addBtn(G)),this.prev=r}cleanup(){this.isDom||(this.prev&&this.prev.remove(),this.next&&this.next.remove(),this.container&&this.container.remove()),this.prev=null,this.next=null,this.container=null,this.isDom=!1}attach(){this.instance.on(["refresh","change"],this.onRefresh)}detach(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}}Object.defineProperty(U,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{container:"f-carousel__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"},nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"/></svg>',prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"/></svg>'}});class W extends B{constructor(){super(...arguments),Object.defineProperty(this,"selectedIndex",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"target",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"nav",{enumerable:!0,configurable:!0,writable:!0,value:null})}addAsTargetFor(e){this.target=this.instance,this.nav=e,this.attachEvents()}addAsNavFor(e){this.nav=this.instance,this.target=e,this.attachEvents()}attachEvents(){const{nav:e,target:t}=this;e&&t&&(e.options.initialSlide=t.options.initialPage,e.state===F.Ready?this.onNavReady(e):e.on("ready",this.onNavReady),t.state===F.Ready?this.onTargetReady(t):t.on("ready",this.onTargetReady))}onNavReady(e){e.on("createSlide",this.onNavCreateSlide),e.on("Panzoom.click",this.onNavClick),e.on("Panzoom.touchEnd",this.onNavTouch),this.onTargetChange()}onTargetReady(e){e.on("change",this.onTargetChange),e.on("Panzoom.refresh",this.onTargetChange),this.onTargetChange()}onNavClick(e,t,n){this.onNavTouch(e,e.panzoom,n)}onNavTouch(e,t,n){var r,i;if(Math.abs(t.dragOffset.x)>3||Math.abs(t.dragOffset.y)>3)return;const o=n.target,{nav:a,target:s}=this;if(!a||!s||!o)return;const l=o.closest("[data-index]");if(n.stopPropagation(),n.preventDefault(),!l)return;const c=parseInt(l.dataset.index||"",10)||0,u=s.getPageForSlide(c),d=a.getPageForSlide(c);a.slideTo(d),s.slideTo(u,{friction:(null===(i=null===(r=this.nav)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.Sync.option("friction"))||0}),this.markSelectedSlide(c)}onNavCreateSlide(e,t){t.index===this.selectedIndex&&this.markSelectedSlide(t.index)}onTargetChange(){var e,t;const{target:n,nav:r}=this;if(!n||!r)return;if(r.state!==F.Ready||n.state!==F.Ready)return;const i=null===(t=null===(e=n.pages[n.page])||void 0===e?void 0:e.slides[0])||void 0===t?void 0:t.index,o=r.getPageForSlide(i);this.markSelectedSlide(i),r.slideTo(o,null===r.prevPage&&null===n.prevPage?{friction:0}:void 0)}markSelectedSlide(e){const t=this.nav;t&&t.state===F.Ready&&(this.selectedIndex=e,[...t.slides].map((t=>{t.el&&t.el.classList[t.index===e?"add":"remove"]("is-nav-selected")})))}attach(){const e=this;let t=e.options.target,n=e.options.nav;t?e.addAsNavFor(t):n&&e.addAsTargetFor(n)}detach(){const e=this,t=e.nav,n=e.target;t&&(t.off("ready",e.onNavReady),t.off("createSlide",e.onNavCreateSlide),t.off("Panzoom.click",e.onNavClick),t.off("Panzoom.touchEnd",e.onNavTouch)),e.nav=null,n&&(n.off("ready",e.onTargetReady),n.off("refresh",e.onTargetChange),n.off("change",e.onTargetChange)),e.target=null}}Object.defineProperty(W,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{friction:.35}});const q={Navigation:U,Dots:z,Sync:W},Y="animationend",X="isSelected",K="slide";class Z extends g{get axis(){return this.isHorizontal?"e":"f"}get isEnabled(){return this.state===F.Ready}get isInfinite(){let e=!1;const{contentDim:t,viewportDim:n,pages:r,slides:i}=this,o=i[0];return r.length>=2&&o&&t+o.dim>=n&&(e=this.option("infinite")),e}get isRTL(){return"rtl"===this.option("direction")}get isHorizontal(){return"x"===this.option("axis")}constructor(e,t={},n={}){if(super(),Object.defineProperty(this,"bp",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"lp",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"userOptions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:F.Init}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"prevPage",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"viewport",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"slides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"pages",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"panzoom",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"inTransition",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"contentDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"viewportDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),"string"==typeof e&&(e=document.querySelector(e)),!e||!E(e))throw new Error("No Element found");this.container=e,this.slideNext=N(this.slideNext.bind(this),150),this.slidePrev=N(this.slidePrev.bind(this),150),this.userOptions=t,this.userPlugins=n,queueMicrotask((()=>{this.processOptions()}))}processOptions(){var e,t;const n=h({},Z.defaults,this.userOptions);let r="";const i=n.breakpoints;if(i&&f(i))for(const[e,t]of Object.entries(i))window.matchMedia(e).matches&&f(t)&&(r+=e,h(n,t));r===this.bp&&this.state!==F.Init||(this.bp=r,this.state===F.Ready&&(n.initialSlide=(null===(t=null===(e=this.pages[this.page])||void 0===e?void 0:e.slides[0])||void 0===t?void 0:t.index)||0),this.state!==F.Init&&this.destroy(),super.setOptions(n),!1===this.option("enabled")?this.attachEvents():setTimeout((()=>{this.init()}),0))}init(){this.state=F.Init,this.emit("init"),this.attachPlugins(Object.assign(Object.assign({},Z.Plugins),this.userPlugins)),this.emit("attachPlugins"),this.initLayout(),this.initSlides(),this.updateMetrics(),this.setInitialPosition(),this.initPanzoom(),this.attachEvents(),this.state=F.Ready,this.emit("ready")}initLayout(){const{container:e}=this,t=this.option("classes");C(e,this.cn("container")),a(e,t.isLTR,!this.isRTL),a(e,t.isRTL,this.isRTL),a(e,t.isVertical,!this.isHorizontal),a(e,t.isHorizontal,this.isHorizontal);let n=this.option("viewport")||e.querySelector(`.${t.viewport}`);n||(n=document.createElement("div"),C(n,t.viewport),n.append(...R(e,`.${t.slide}`)),e.prepend(n)),n.addEventListener("scroll",this.onScroll);let r=this.option("track")||e.querySelector(`.${t.track}`);r||(r=document.createElement("div"),C(r,t.track),r.append(...Array.from(n.childNodes))),r.setAttribute("aria-live","polite"),n.contains(r)||n.prepend(r),this.viewport=n,this.track=r,this.emit("initLayout")}initSlides(){const{track:e}=this;if(!e)return;const t=[...this.slides],n=[];[...R(e,`.${this.cn(K)}`)].forEach((e=>{if(E(e)){const t=D({el:e,isDom:!0,index:this.slides.length});n.push(t)}}));for(let e of[...this.option("slides",[])||[],...t])n.push(D(e));this.slides=n;for(let e=0;e<this.slides.length;e++)this.slides[e].index=e;for(const e of n)this.emit("beforeInitSlide",e,e.index),this.emit("initSlide",e,e.index);this.emit("initSlides")}setInitialPage(){const e=this.option("initialSlide");this.page="number"==typeof e?this.getPageForSlide(e):parseInt(this.option("initialPage",0)+"",10)||0}setInitialPosition(){const{track:e,pages:t,isHorizontal:n}=this;if(!e||!t.length)return;let r=this.page;t[r]||(this.page=r=0);const i=(t[r].pos||0)*(this.isRTL&&n?1:-1),o=n?`${i}px`:"0",a=n?"0":`${i}px`;e.style.transform=`translate3d(${o}, ${a}, 0) scale(1)`,this.option("adaptiveHeight")&&this.setViewportHeight()}initPanzoom(){this.panzoom&&(this.panzoom.destroy(),this.panzoom=null);const e=this.option("Panzoom")||{};this.panzoom=new M(this.viewport,h({},{content:this.track,zoom:!1,panOnlyZoomed:!1,lockAxis:this.isHorizontal?"x":"y",infinite:this.isInfinite,click:!1,dblClick:!1,touch:e=>!(this.pages.length<2&&!e.options.infinite),bounds:()=>this.getBounds(),maxVelocity:e=>Math.abs(e.target[this.axis]-e.current[this.axis])<2*this.viewportDim?100:0},e)),this.panzoom.on("*",((e,t,...n)=>{this.emit(`Panzoom.${t}`,e,...n)})),this.panzoom.on("decel",this.onDecel),this.panzoom.on("refresh",this.onRefresh),this.panzoom.on("beforeTransform",this.onBeforeTransform),this.panzoom.on("endAnimation",this.onEndAnimation)}attachEvents(){const e=this.container;e&&(e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),e.addEventListener("slideTo",this.onSlideTo)),window.addEventListener("resize",this.onResize)}createPages(){let e=[];const{contentDim:t,viewportDim:n}=this;let r=this.option("slidesPerPage");r=("auto"===r||t<=n)&&!1!==this.option("fill")?1/0:parseFloat(r+"");let i=0,o=0,a=0;for(const t of this.slides)(!e.length||o+t.dim-n>.05||a>=r)&&(e.push(V()),i=e.length-1,o=0,a=0),e[i].slides.push(t),o+=t.dim+t.gap,a++;return e}processPages(){const e=this.pages,{contentDim:n,viewportDim:r,isInfinite:i}=this,o=this.option("center"),a=this.option("fill"),s=a&&o&&n>r&&!i;if(e.forEach(((e,t)=>{var i;e.index=t,e.pos=(null===(i=e.slides[0])||void 0===i?void 0:i.pos)||0,e.dim=0;for(const[t,n]of e.slides.entries())e.dim+=n.dim,t<e.slides.length-1&&(e.dim+=n.gap);s&&e.pos+.5*e.dim<.5*r?e.pos=0:s&&e.pos+.5*e.dim>=n-.5*r?e.pos=n-r:o&&(e.pos+=-.5*(r-e.dim))})),e.forEach((e=>{a&&!i&&n>r&&(e.pos=Math.max(e.pos,0),e.pos=Math.min(e.pos,n-r)),e.pos=t(e.pos,1e3),e.dim=t(e.dim,1e3),Math.abs(e.pos)<=.1&&(e.pos=0)})),i)return e;const l=[];let c;return e.forEach((e=>{const t=Object.assign({},e);c&&t.pos===c.pos?(c.dim+=t.dim,c.slides=[...c.slides,...t.slides]):(t.index=l.length,c=t,l.push(t))})),l}getPageFromIndex(e=0){const t=this.pages.length;let n;return e=parseInt((e||0).toString())||0,n=this.isInfinite?(e%t+t)%t:Math.max(Math.min(e,t-1),0),n}getSlideMetrics(e){var n,r;const i=this.isHorizontal?"width":"height";let o=0,a=0,s=e.el;const l=!(!s||s.parentNode);if(s?o=parseFloat(s.dataset[i]||"")||0:(s=document.createElement("div"),s.style.visibility="hidden",(this.track||document.body).prepend(s)),C(s,this.cn(K)+" "+e.class+" "+e.customClass),o)s.style[i]=`${o}px`,s.style["width"===i?"height":"width"]="";else{l&&(this.track||document.body).prepend(s),o=s.getBoundingClientRect()[i]*Math.max(1,(null===(n=window.visualViewport)||void 0===n?void 0:n.scale)||1);let e=s[this.isHorizontal?"offsetWidth":"offsetHeight"];e-1>o&&(o=e)}const c=getComputedStyle(s);return"content-box"===c.boxSizing&&(this.isHorizontal?(o+=parseFloat(c.paddingLeft)||0,o+=parseFloat(c.paddingRight)||0):(o+=parseFloat(c.paddingTop)||0,o+=parseFloat(c.paddingBottom)||0)),a=parseFloat(c[this.isHorizontal?"marginRight":"marginBottom"])||0,l?null===(r=s.parentElement)||void 0===r||r.removeChild(s):e.el||s.remove(),{dim:t(o,1e3),gap:t(a,1e3)}}getBounds(){const{isInfinite:e,isRTL:t,isHorizontal:n,pages:r}=this;let i={min:0,max:0};if(e)i={min:-1/0,max:1/0};else if(r.length){const e=r[0].pos,o=r[r.length-1].pos;i=t&&n?{min:e,max:o}:{min:-1*o,max:-1*e}}return{x:n?i:{min:0,max:0},y:n?{min:0,max:0}:i}}repositionSlides(){let e,{isHorizontal:n,isRTL:r,isInfinite:i,viewport:o,viewportDim:a,contentDim:s,page:l,pages:c,slides:u,panzoom:d}=this,f=0,h=0,p=0,m=0;d?m=-1*d.current[this.axis]:c[l]&&(m=c[l].pos||0),e=n?r?"right":"left":"top",r&&n&&(m*=-1);for(const n of u){const r=n.el;r?("top"===e?(r.style.right="",r.style.left=""):r.style.top="",n.index!==f?r.style[e]=0===h?"":`${t(h,1e3)}px`:r.style[e]="",p+=n.dim+n.gap,f++):h+=n.dim+n.gap}if(i&&p&&o){let r=getComputedStyle(o),i="padding",l=n?"Right":"Bottom",c=parseFloat(r[i+(n?"Left":"Top")]);m-=c,a+=c,a+=parseFloat(r[i+l]);for(const n of u)n.el&&(t(n.pos)<t(a)&&t(n.pos+n.dim+n.gap)<t(m)&&t(m)>t(s-a)&&(n.el.style[e]=`${t(h+p,1e3)}px`),t(n.pos+n.gap)>=t(s-a)&&t(n.pos)>t(m+a)&&t(m)<t(a)&&(n.el.style[e]=`-${t(p,1e3)}px`))}let g,v,y=[...this.inTransition];if(y.length>1&&(g=c[y[0]],v=c[y[1]]),g&&v){let n=0;for(const r of u)r.el?this.inTransition.has(r.index)&&g.slides.indexOf(r)<0&&(r.el.style[e]=`${t(n+(g.pos-v.pos),1e3)}px`):n+=r.dim+r.gap}}createSlideEl(e){const{track:t,slides:n}=this;if(!t||!e)return;if(e.el&&e.el.parentNode)return;const r=e.el||document.createElement("div");C(r,this.cn(K)),C(r,e.class),C(r,e.customClass);const i=e.html;i&&(i instanceof HTMLElement?r.appendChild(i):r.innerHTML=e.html+"");const o=[];n.forEach(((e,t)=>{e.el&&o.push(t)}));const a=e.index;let s=null;o.length&&(s=n[o.reduce(((e,t)=>Math.abs(t-a)<Math.abs(e-a)?t:e))]);const l=s&&s.el&&s.el.parentNode?s.index<e.index?s.el.nextSibling:s.el:null;t.insertBefore(r,t.contains(l)?l:null),e.el=r,this.emit("createSlide",e)}removeSlideEl(e,t=!1){const n=null==e?void 0:e.el;if(!n||!n.parentNode)return;const r=this.cn(X);if(n.classList.contains(r)&&(S(n,r),this.emit("unselectSlide",e)),e.isDom&&!t)return n.removeAttribute("aria-hidden"),n.removeAttribute("data-index"),void(n.style.left="");this.emit("removeSlide",e);const i=new CustomEvent(Y);n.dispatchEvent(i),e.el&&(e.el.remove(),e.el=null)}transitionTo(e=0,t=this.option("transition")){var n,r,i,o;if(!t)return!1;const a=this.page,{pages:s,panzoom:l}=this;e=parseInt((e||0).toString())||0;const c=this.getPageFromIndex(e);if(!l||!s[c]||s.length<2||Math.abs(((null===(r=null===(n=s[a])||void 0===n?void 0:n.slides[0])||void 0===r?void 0:r.dim)||0)-this.viewportDim)>1)return!1;let u=e>a?1:-1;this.isInfinite&&(0===a&&e===s.length-1&&(u=-1),a===s.length-1&&0===e&&(u=1));const d=s[c].pos*(this.isRTL?1:-1);if(a===c&&Math.abs(d-l.target[this.axis])<1)return!1;this.clearTransitions();const f=l.isResting;C(this.container,this.cn("inTransition"));const h=(null===(i=s[a])||void 0===i?void 0:i.slides[0])||null,p=(null===(o=s[c])||void 0===o?void 0:o.slides[0])||null;this.inTransition.add(p.index),this.createSlideEl(p);let m=h.el,g=p.el;f||t===K||(t="fadeFast",m=null);const v=this.isRTL?"next":"prev",y=this.isRTL?"prev":"next";return m&&(this.inTransition.add(h.index),h.transition=t,m.addEventListener(Y,this.onAnimationEnd),m.classList.add(`f-${t}Out`,`to-${u>0?y:v}`)),g&&(p.transition=t,g.addEventListener(Y,this.onAnimationEnd),g.classList.add(`f-${t}In`,`from-${u>0?v:y}`)),l.current[this.axis]=d,l.target[this.axis]=d,l.requestTick(),this.onChange(c),!0}manageSlideVisiblity(){const e=new Set,t=new Set,n=this.getVisibleSlides(parseFloat(this.option("preload",0)+"")||0);for(const r of this.slides)n.has(r)?e.add(r):t.add(r);for(const t of this.inTransition)e.add(this.slides[t]);for(const t of e)this.createSlideEl(t),this.lazyLoadSlide(t);for(const n of t)e.has(n)||this.removeSlideEl(n);this.markSelectedSlides(),this.repositionSlides()}markSelectedSlides(){if(!this.pages[this.page]||!this.pages[this.page].slides)return;const e="aria-hidden";let t=this.cn(X);if(t)for(const n of this.slides){const r=n.el;r&&(r.dataset.index=`${n.index}`,r.classList.contains("f-thumbs__slide")?this.getVisibleSlides(0).has(n)?r.removeAttribute(e):r.setAttribute(e,"true"):this.pages[this.page].slides.includes(n)?(r.classList.contains(t)||(C(r,t),this.emit("selectSlide",n)),r.removeAttribute(e)):(r.classList.contains(t)&&(S(r,t),this.emit("unselectSlide",n)),r.setAttribute(e,"true")))}}flipInfiniteTrack(){const{axis:e,isHorizontal:t,isInfinite:n,isRTL:r,viewportDim:i,contentDim:o}=this,a=this.panzoom;if(!a||!n)return;let s=a.current[e],l=a.target[e]-s,c=0,u=.5*i;r&&t?(s<-u&&(c=-1,s+=o),s>o-u&&(c=1,s-=o)):(s>u&&(c=1,s-=o),s<-o+u&&(c=-1,s+=o)),c&&(a.current[e]=s,a.target[e]=s+l)}lazyLoadImg(e,t){const n=this,r="f-fadeIn",o="is-preloading";let a=!1,s=null;const l=()=>{a||(a=!0,s&&(s.remove(),s=null),S(t,o),t.complete&&(C(t,r),setTimeout((()=>{S(t,r)}),350)),this.option("adaptiveHeight")&&e.el&&this.pages[this.page].slides.indexOf(e)>-1&&(n.updateMetrics(),n.setViewportHeight()),this.emit("load",e))};C(t,o),t.src=t.dataset.lazySrcset||t.dataset.lazySrc||"",delete t.dataset.lazySrc,delete t.dataset.lazySrcset,t.addEventListener("error",(()=>{l()})),t.addEventListener("load",(()=>{l()})),setTimeout((()=>{const n=t.parentNode;n&&e.el&&(t.complete?l():a||(s=i(_),n.insertBefore(s,t)))}),300)}lazyLoadSlide(e){const t=e&&e.el;if(!t)return;const n=new Set;let r=Array.from(t.querySelectorAll("[data-lazy-src],[data-lazy-srcset]"));t.dataset.lazySrc&&r.push(t),r.map((e=>{e instanceof HTMLImageElement?n.add(e):e instanceof HTMLElement&&e.dataset.lazySrc&&(e.style.backgroundImage=`url('${e.dataset.lazySrc}')`,delete e.dataset.lazySrc)}));for(const t of n)this.lazyLoadImg(e,t)}onAnimationEnd(e){var t;const n=e.target,r=n?parseInt(n.dataset.index||"",10)||0:-1,i=this.slides[r],o=e.animationName;if(!n||!i||!o)return;const a=!!this.inTransition.has(r)&&i.transition;a&&o.substring(0,a.length+2)===`f-${a}`&&this.inTransition.delete(r),this.inTransition.size||this.clearTransitions(),r===this.page&&(null===(t=this.panzoom)||void 0===t?void 0:t.isResting)&&this.emit("settle")}onDecel(e,t=0,n=0,r=0,i=0){if(this.option("dragFree"))return void this.setPageFromPosition();const{isRTL:o,isHorizontal:a,axis:s,pages:l}=this,c=l.length,u=Math.abs(Math.atan2(n,t)/(Math.PI/180));let d=0;if(d=u>45&&u<135?a?0:n:a?t:0,!c)return;let f=this.page,h=o&&a?1:-1;const p=e.current[s]*h;let{pageIndex:m}=this.getPageFromPosition(p);Math.abs(d)>5?(l[f].dim<document.documentElement["client"+(this.isHorizontal?"Width":"Height")]-1&&(f=m),f=o&&a?d<0?f-1:f+1:d<0?f+1:f-1):f=0===r&&0===i?f:m,this.slideTo(f,{transition:!1,friction:e.option("decelFriction")})}onClick(e){const t=e.target,n=t&&E(t)?t.dataset:null;let r,i;n&&(void 0!==n.carouselPage?(i="slideTo",r=n.carouselPage):void 0!==n.carouselNext?i="slideNext":void 0!==n.carouselPrev&&(i="slidePrev")),i?(e.preventDefault(),e.stopPropagation(),t&&!t.hasAttribute("disabled")&&this[i](r)):this.emit("click",e)}onSlideTo(e){const t=e.detail||0;this.slideTo(this.getPageForSlide(t),{friction:0})}onChange(e,t=0){const n=this.page;this.prevPage=n,this.page=e,this.option("adaptiveHeight")&&this.setViewportHeight(),e!==n&&(this.markSelectedSlides(),this.emit("change",e,n,t))}onRefresh(){let e=this.contentDim,t=this.viewportDim;this.updateMetrics(),this.contentDim===e&&this.viewportDim===t||this.slideTo(this.page,{friction:0,transition:!1})}onScroll(){var e;null===(e=this.viewport)||void 0===e||e.scroll(0,0)}onResize(){this.option("breakpoints")&&this.processOptions()}onBeforeTransform(e){this.lp!==e.current[this.axis]&&(this.flipInfiniteTrack(),this.manageSlideVisiblity()),this.lp=e.current.e}onEndAnimation(){this.inTransition.size||this.emit("settle")}reInit(e=null,t=null){this.destroy(),this.state=F.Init,this.prevPage=null,this.userOptions=e||this.userOptions,this.userPlugins=t||this.userPlugins,this.processOptions()}slideTo(e=0,{friction:t=this.option("friction"),transition:n=this.option("transition")}={}){if(this.state===F.Destroy)return;e=parseInt((e||0).toString())||0;const r=this.getPageFromIndex(e),{axis:i,isHorizontal:o,isRTL:a,pages:s,panzoom:l}=this,c=s.length,u=a&&o?1:-1;if(!l||!c)return;if(this.page!==r){const t=new Event("beforeChange",{bubbles:!0,cancelable:!0});if(this.emit("beforeChange",t,e),t.defaultPrevented)return}if(this.transitionTo(e,n))return;let d=s[r].pos;if(this.isInfinite){const t=this.contentDim,n=l.target[i]*u;2===c?d+=t*Math.floor(parseFloat(e+"")/2):d=[d,d-t,d+t].reduce((function(e,t){return Math.abs(t-n)<Math.abs(e-n)?t:e}))}d*=u,Math.abs(l.target[i]-d)<1||(l.panTo({x:o?d:0,y:o?0:d,friction:t}),this.onChange(r))}slideToClosest(e){if(this.panzoom){const{pageIndex:t}=this.getPageFromPosition();this.slideTo(t,e)}}slideNext(){this.slideTo(this.page+1)}slidePrev(){this.slideTo(this.page-1)}clearTransitions(){this.inTransition.clear(),S(this.container,this.cn("inTransition"));const e=["to-prev","to-next","from-prev","from-next"];for(const t of this.slides){const n=t.el;if(n){n.removeEventListener(Y,this.onAnimationEnd),n.classList.remove(...e);const r=t.transition;r&&n.classList.remove(`f-${r}Out`,`f-${r}In`)}}this.manageSlideVisiblity()}addSlide(e,t){var n,r,i,o;const a=this.panzoom,s=(null===(n=this.pages[this.page])||void 0===n?void 0:n.pos)||0,l=(null===(r=this.pages[this.page])||void 0===r?void 0:r.dim)||0,c=this.contentDim<this.viewportDim;let u=Array.isArray(t)?t:[t];const d=[];for(const e of u)d.push(D(e));this.slides.splice(e,0,...d);for(let e=0;e<this.slides.length;e++)this.slides[e].index=e;for(const e of d)this.emit("beforeInitSlide",e,e.index);if(this.page>=e&&(this.page+=d.length),this.updateMetrics(),a){const t=(null===(i=this.pages[this.page])||void 0===i?void 0:i.pos)||0,n=(null===(o=this.pages[this.page])||void 0===o?void 0:o.dim)||0,r=this.pages.length||1,u=this.isRTL?l-n:n-l,d=this.isRTL?s-t:t-s;c&&1===r?(e<=this.page&&(a.current[this.axis]-=u,a.target[this.axis]-=u),a.panTo({[this.isHorizontal?"x":"y"]:-1*t})):d&&e<=this.page&&(a.target[this.axis]-=d,a.current[this.axis]-=d,a.requestTick())}for(const e of d)this.emit("initSlide",e,e.index)}prependSlide(e){this.addSlide(0,e)}appendSlide(e){this.addSlide(this.slides.length,e)}removeSlide(e){const t=this.slides.length;e=(e%t+t)%t;const n=this.slides[e];if(n){this.removeSlideEl(n,!0),this.slides.splice(e,1);for(let e=0;e<this.slides.length;e++)this.slides[e].index=e;this.updateMetrics(),this.slideTo(this.page,{friction:0,transition:!1}),this.emit("destroySlide",n)}}updateMetrics(){const{panzoom:e,viewport:n,track:r,slides:i,isHorizontal:o,isInfinite:a}=this;if(!r)return;const s=o?"width":"height",l=o?"offsetWidth":"offsetHeight";if(n){let e=Math.max(n[l],t(n.getBoundingClientRect()[s],1e3)),r=getComputedStyle(n),i="padding",a=o?"Right":"Bottom";e-=parseFloat(r[i+(o?"Left":"Top")])+parseFloat(r[i+a]),this.viewportDim=e}let c,u=0;for(const[e,n]of i.entries()){let r=0,o=0;!n.el&&c?(r=c.dim,o=c.gap):(({dim:r,gap:o}=this.getSlideMetrics(n)),c=n),r=t(r,1e3),o=t(o,1e3),n.dim=r,n.gap=o,n.pos=u,u+=r,(a||e<i.length-1)&&(u+=o)}u=t(u,1e3),this.contentDim=u,e&&(e.contentRect[s]=u,e.contentRect[o?"fullWidth":"fullHeight"]=u),this.pages=this.createPages(),this.pages=this.processPages(),this.state===F.Init&&this.setInitialPage(),this.page=Math.max(0,Math.min(this.page,this.pages.length-1)),this.manageSlideVisiblity(),this.emit("refresh")}getProgress(e,n=!1,r=!1){void 0===e&&(e=this.page);const i=this,o=i.panzoom,a=i.contentDim,s=i.pages[e]||0;if(!s||!o)return e>this.page?-1:1;let l=-1*o.current.e,c=t((l-s.pos)/(1*s.dim),1e3),u=c,d=c;this.isInfinite&&!0!==r&&(u=t((l-s.pos+a)/(1*s.dim),1e3),d=t((l-s.pos-a)/(1*s.dim),1e3));let f=[c,u,d].reduce((function(e,t){return Math.abs(t)<Math.abs(e)?t:e}));return n?f:f>1?1:f<-1?-1:f}setViewportHeight(){const{page:e,pages:t,viewport:n,isHorizontal:r}=this;if(!n||!t[e])return;let i=0;r&&this.track&&(this.track.style.height="auto",t[e].slides.forEach((e=>{e.el&&(i=Math.max(i,e.el.offsetHeight))}))),n.style.height=i?`${i}px`:""}getPageForSlide(e){for(const t of this.pages)for(const n of t.slides)if(n.index===e)return t.index;return-1}getVisibleSlides(e=0){var t;const n=new Set;let{panzoom:r,contentDim:i,viewportDim:o,pages:a,page:s}=this;if(o){i=i+(null===(t=this.slides[this.slides.length-1])||void 0===t?void 0:t.gap)||0;let l=0;l=r&&r.state!==v.Init&&r.state!==v.Destroy?-1*r.current[this.axis]:a[s]&&a[s].pos||0,this.isInfinite&&(l-=Math.floor(l/i)*i),this.isRTL&&this.isHorizontal&&(l*=-1);const c=l-o*e,u=l+o*(e+1),d=this.isInfinite?[-1,0,1]:[0];for(const e of this.slides)for(const t of d){const r=e.pos+t*i,o=r+e.dim+e.gap;r<u&&o>c&&n.add(e)}}return n}getPageFromPosition(e){const{viewportDim:t,contentDim:n,slides:r,pages:i,panzoom:o}=this,a=i.length,s=r.length,l=r[0],c=r[s-1],u=this.option("center");let d=0,f=0,h=0,p=void 0===e?-1*((null==o?void 0:o.target[this.axis])||0):e;u&&(p+=.5*t),this.isInfinite?(p<l.pos-.5*c.gap&&(p-=n,h=-1),p>c.pos+c.dim+.5*c.gap&&(p-=n,h=1)):p=Math.max(l.pos||0,Math.min(p,c.pos));let m=c,g=r.find((e=>{const t=e.pos-.5*m.gap,n=e.pos+e.dim+.5*e.gap;return m=e,p>=t&&p<n}));return g||(g=c),f=this.getPageForSlide(g.index),d=f+h*a,{page:d,pageIndex:f}}setPageFromPosition(){const{pageIndex:e}=this.getPageFromPosition();this.onChange(e)}destroy(){if([F.Destroy].includes(this.state))return;this.state=F.Destroy;const{container:e,viewport:t,track:n,slides:r,panzoom:i}=this,o=this.option("classes");e.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),e.removeEventListener("slideTo",this.onSlideTo),window.removeEventListener("resize",this.onResize),i&&(i.destroy(),this.panzoom=null),r&&r.forEach((e=>{this.removeSlideEl(e)})),this.detachPlugins(),t&&(t.removeEventListener("scroll",this.onScroll),t.offsetParent&&n&&n.offsetParent&&t.replaceWith(...n.childNodes));for(const[t,n]of Object.entries(o))"container"!==t&&n&&e.classList.remove(n);this.track=null,this.viewport=null,this.page=0,this.slides=[];const a=this.events.get("ready");this.events=new Map,a&&this.events.set("ready",a)}}Object.defineProperty(Z,"Panzoom",{enumerable:!0,configurable:!0,writable:!0,value:M}),Object.defineProperty(Z,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{viewport:null,track:null,enabled:!0,slides:[],axis:"x",transition:"fade",preload:1,slidesPerPage:"auto",initialPage:0,friction:.12,Panzoom:{decelFriction:.12},center:!0,infinite:!0,fill:!0,dragFree:!1,adaptiveHeight:!1,direction:"ltr",classes:{container:"f-carousel",viewport:"f-carousel__viewport",track:"f-carousel__track",slide:"f-carousel__slide",isLTR:"is-ltr",isRTL:"is-rtl",isHorizontal:"is-horizontal",isVertical:"is-vertical",inTransition:"in-transition",isSelected:"is-selected"},l10n:{NEXT:"Next slide",PREV:"Previous slide",GOTO:"Go to slide #%d"}}}),Object.defineProperty(Z,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:q});const Q=function(e){if(!E(e))return 0;const t=window.scrollY,n=window.innerHeight,r=t+n,i=e.getBoundingClientRect(),o=i.y+t,a=i.height,s=o+a;if(t>s||r<o)return 0;if(t<o&&r>s)return 100;if(o<t&&s>r)return 100;let l=a;o<t&&(l-=t-o),s>r&&(l-=s-r);const c=l/n*100;return Math.round(c)},J=!("undefined"==typeof window||!window.document||!window.document.createElement);let ee;const te=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden]):not(.fancybox-focus-guard)","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"]):not([disabled]):not([aria-hidden])'].join(","),ne=e=>{if(e&&J){void 0===ee&&document.createElement("div").focus({get preventScroll(){return ee=!0,!1}});try{if(ee)e.focus({preventScroll:!0});else{const t=window.scrollY||document.body.scrollTop,n=window.scrollX||document.body.scrollLeft;e.focus(),document.body.scrollTo({top:t,left:n,behavior:"auto"})}}catch(e){}}},re=()=>{const e=document;let t,n="",r="",i="";return e.fullscreenEnabled?(n="requestFullscreen",r="exitFullscreen",i="fullscreenElement"):e.webkitFullscreenEnabled&&(n="webkitRequestFullscreen",r="webkitExitFullscreen",i="webkitFullscreenElement"),n&&(t={request:function(t=e.documentElement){return"webkitRequestFullscreen"===n?t[n](Element.ALLOW_KEYBOARD_INPUT):t[n]()},exit:function(){return e[i]&&e[r]()},isFullscreen:function(){return e[i]}}),t},ie={animated:!0,autoFocus:!0,backdropClick:"close",Carousel:{classes:{container:"fancybox__carousel",viewport:"fancybox__viewport",track:"fancybox__track",slide:"fancybox__slide"}},closeButton:"auto",closeExisting:!1,commonCaption:!1,compact:()=>window.matchMedia("(max-width: 578px), (max-height: 578px)").matches,contentClick:"toggleZoom",contentDblClick:!1,defaultType:"image",defaultDisplay:"flex",dragToClose:!0,Fullscreen:{autoStart:!1},groupAll:!1,groupAttr:"data-fancybox",hideClass:"f-fadeOut",hideScrollbar:!0,idle:3500,keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"prev",ArrowDown:"next",ArrowRight:"next",ArrowLeft:"prev"},l10n:Object.assign(Object.assign({},b),{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ERROR:"Something Went Wrong, Please Try Again Later",IMAGE_ERROR:"Image Not Found",ELEMENT_NOT_FOUND:"HTML Element Not Found",AJAX_NOT_FOUND:"Error Loading AJAX : Not Found",AJAX_FORBIDDEN:"Error Loading AJAX : Forbidden",IFRAME_ERROR:"Error Loading Page",TOGGLE_ZOOM:"Toggle zoom level",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_SLIDESHOW:"Toggle slideshow",TOGGLE_FULLSCREEN:"Toggle full-screen mode",DOWNLOAD:"Download"}),parentEl:null,placeFocusBack:!0,showClass:"f-zoomInUp",startIndex:0,tpl:{closeButton:'<button data-fancybox-close class="f-button is-close-btn" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M20 20L4 4m16 0L4 20"/></svg></button>',main:'<div class="fancybox__container" role="dialog" aria-modal="true" aria-label="{{MODAL}}" tabindex="-1">\n    <div class="fancybox__backdrop"></div>\n    <div class="fancybox__carousel"></div>\n    <div class="fancybox__footer"></div>\n  </div>'},trapFocus:!0,wheel:"zoom"};var oe,ae;!function(e){e[e.Init=0]="Init",e[e.Ready=1]="Ready",e[e.Closing=2]="Closing",e[e.CustomClosing=3]="CustomClosing",e[e.Destroy=4]="Destroy"}(oe||(oe={})),function(e){e[e.Loading=0]="Loading",e[e.Opening=1]="Opening",e[e.Ready=2]="Ready",e[e.Closing=3]="Closing"}(ae||(ae={}));let se="",le=!1,ce=!1,ue=null;const de=()=>{let e="",t="";const n=St.getInstance();if(n){const r=n.carousel,i=n.getSlide();if(r&&i){let o=i.slug||void 0,a=i.triggerEl||void 0;t=o||n.option("slug")||"",!t&&a&&a.dataset&&(t=a.dataset.fancybox||""),t&&"true"!==t&&(e="#"+t+(!o&&r.slides.length>1?"-"+(i.index+1):""))}}return{hash:e,slug:t,index:1}},fe=()=>{const e=new URL(document.URL).hash,t=e.slice(1).split("-"),n=t[t.length-1],r=n&&/^\+?\d+$/.test(n)&&parseInt(t.pop()||"1",10)||1;return{hash:e,slug:t.join("-"),index:r}},he=()=>{const{slug:e,index:t}=fe();if(!e)return;let n=document.querySelector(`[data-slug="${e}"]`);if(n&&n.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),St.getInstance())return;const r=document.querySelectorAll(`[data-fancybox="${e}"]`);r.length&&(n=r[t-1],n&&n.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})))},pe=()=>{if(!1===St.defaults.Hash)return;const e=St.getInstance();if(!1===(null==e?void 0:e.options.Hash))return;const{slug:t,index:n}=fe(),{slug:r}=de();e&&(t===r?e.jumpTo(n-1):(le=!0,e.close())),he()},me=()=>{ue&&clearTimeout(ue),queueMicrotask((()=>{pe()}))},ge=()=>{window.addEventListener("hashchange",me,!1),setTimeout((()=>{pe()}),500)};J&&(/complete|interactive|loaded/.test(document.readyState)?ge():document.addEventListener("DOMContentLoaded",ge));const ve="is-zooming-in";class ye extends B{onCreateSlide(e,t,n){const r=this.instance.optionFor(n,"src")||"";n.el&&"image"===n.type&&"string"==typeof r&&this.setImage(n,r)}onRemoveSlide(e,t,n){n.panzoom&&n.panzoom.destroy(),n.panzoom=void 0,n.imageEl=void 0}onChange(e,t,n,r){S(this.instance.container,ve);for(const e of t.slides){const t=e.panzoom;t&&e.index!==n&&t.reset(.35)}}onClose(){var e;const t=this.instance,n=t.container,r=t.getSlide();if(!n||!n.parentElement||!r)return;const{el:i,contentEl:o,panzoom:a,thumbElSrc:s}=r;if(!i||!s||!o||!a||a.isContentLoading||a.state===v.Init||a.state===v.Destroy)return;a.updateMetrics();let l=this.getZoomInfo(r);if(!l)return;this.instance.state=oe.CustomClosing,n.classList.remove(ve),n.classList.add("is-zooming-out"),o.style.backgroundImage=`url('${s}')`;const c=n.getBoundingClientRect();1===((null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1)&&Object.assign(n.style,{position:"absolute",top:`${n.offsetTop+window.scrollY}px`,left:`${n.offsetLeft+window.scrollX}px`,bottom:"auto",right:"auto",width:`${c.width}px`,height:`${c.height}px`,overflow:"hidden"});const{x:u,y:d,scale:f,opacity:h}=l;if(h){const e=((e,t)=>{const n=t-e;return t=>1+((t-e)/n*-1||0)})(a.scale,f);a.on("afterTransform",(()=>{o.style.opacity=e(a.scale)+""}))}a.on("endAnimation",(()=>{t.destroy()})),a.target.a=f,a.target.b=0,a.target.c=0,a.target.d=f,a.panTo({x:u,y:d,scale:f,friction:h?.2:.33,ignoreBounds:!0}),a.isResting&&t.destroy()}setImage(e,t){const n=this.instance;e.src=t,this.process(e,t).then((t=>{const{contentEl:r,imageEl:i,thumbElSrc:o,el:a}=e;if(n.isClosing()||!r||!i)return;r.offsetHeight;const s=!!n.isOpeningSlide(e)&&this.getZoomInfo(e);if(this.option("protected")&&a){a.addEventListener("contextmenu",(e=>{e.preventDefault()}));const e=document.createElement("div");C(e,"fancybox-protected"),r.appendChild(e)}if(o&&s){const i=t.contentRect,a=Math.max(i.fullWidth,i.fullHeight);let c=null;!s.opacity&&a>1200&&(c=document.createElement("img"),C(c,"fancybox-ghost"),c.src=o,r.appendChild(c));const u=()=>{c&&(C(c,"f-fadeFastOut"),setTimeout((()=>{c&&(c.remove(),c=null)}),200))};(l=o,new Promise(((e,t)=>{const n=new Image;n.onload=e,n.onerror=t,n.src=l}))).then((()=>{n.hideLoading(e),e.state=ae.Opening,this.instance.emit("reveal",e),this.zoomIn(e).then((()=>{u(),this.instance.done(e)}),(()=>{})),c&&setTimeout((()=>{u()}),a>2500?800:200)}),(()=>{n.hideLoading(e),n.revealContent(e)}))}else{const r=this.optionFor(e,"initialSize"),i=this.optionFor(e,"zoom"),o={event:n.prevMouseMoveEvent||n.options.event,friction:i?.12:0};let a=n.optionFor(e,"showClass")||void 0,s=!0;n.isOpeningSlide(e)&&("full"===r?t.zoomToFull(o):"cover"===r?t.zoomToCover(o):"max"===r?t.zoomToMax(o):s=!1,t.stop("current")),s&&a&&(a=t.isDragging?"f-fadeIn":""),n.hideLoading(e),n.revealContent(e,a)}var l}),(()=>{n.setError(e,"{{IMAGE_ERROR}}")}))}process(e,t){return new Promise(((n,r)=>{var o;const a=this.instance,s=e.el;a.clearContent(e),a.showLoading(e);let l=this.optionFor(e,"content");if("string"==typeof l&&(l=i(l)),!l||!E(l)){if(l=document.createElement("img"),l instanceof HTMLImageElement){let n="",r=e.caption;n="string"==typeof r&&r?r.replace(/<[^>]+>/gi,"").substring(0,1e3):`Image ${e.index+1} of ${(null===(o=a.carousel)||void 0===o?void 0:o.pages.length)||1}`,l.src=t||"",l.alt=n,l.draggable=!1,e.srcset&&l.setAttribute("srcset",e.srcset),this.instance.isOpeningSlide(e)&&(l.fetchPriority="high")}e.sizes&&l.setAttribute("sizes",e.sizes)}C(l,"fancybox-image"),e.imageEl=l,a.setContent(e,l,!1),e.panzoom=new M(s,h({transformParent:!0},this.option("Panzoom")||{},{content:l,width:(t,n)=>a.optionFor(e,"width","auto",n)||"auto",height:(t,n)=>a.optionFor(e,"height","auto",n)||"auto",wheel:()=>{const e=a.option("wheel");return("zoom"===e||"pan"==e)&&e},click:(t,n)=>{var r,i;if(a.isCompact||a.isClosing())return!1;if(e.index!==(null===(r=a.getSlide())||void 0===r?void 0:r.index))return!1;if(n){const e=n.composedPath()[0];if(["A","BUTTON","TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].includes(e.nodeName))return!1}let o=!n||n.target&&(null===(i=e.contentEl)||void 0===i?void 0:i.contains(n.target));return a.option(o?"contentClick":"backdropClick")||!1},dblClick:()=>a.isCompact?"toggleZoom":a.option("contentDblClick")||!1,spinner:!1,panOnlyZoomed:!0,wheelLimit:1/0,on:{ready:e=>{n(e)},error:()=>{r()},destroy:()=>{r()}}}))}))}zoomIn(e){return new Promise(((t,n)=>{const r=this.instance,i=r.container,{panzoom:o,contentEl:a,el:s}=e;o&&o.updateMetrics();const l=this.getZoomInfo(e);if(!(l&&s&&a&&o&&i))return void n();const{x:c,y:u,scale:d,opacity:f}=l,h=()=>{e.state!==ae.Closing&&(f&&(a.style.opacity=Math.max(Math.min(1,1-(1-o.scale)/(1-d)),0)+""),o.scale>=1&&o.scale>o.targetScale-.1&&t(o))},p=e=>{(e.scale<.99||e.scale>1.01)&&!e.isDragging||(S(i,ve),a.style.opacity="",e.off("endAnimation",p),e.off("touchStart",p),e.off("afterTransform",h),t(e))};o.on("endAnimation",p),o.on("touchStart",p),o.on("afterTransform",h),o.on(["error","destroy"],(()=>{n()})),o.panTo({x:c,y:u,scale:d,friction:0,ignoreBounds:!0}),o.stop("current");const m={event:"mousemove"===o.panMode?r.prevMouseMoveEvent||r.options.event:void 0},g=this.optionFor(e,"initialSize");C(i,ve),r.hideLoading(e),"full"===g?o.zoomToFull(m):"cover"===g?o.zoomToCover(m):"max"===g?o.zoomToMax(m):o.reset(.172)}))}getZoomInfo(e){const{el:t,imageEl:n,thumbEl:r,panzoom:i}=e,o=this.instance,a=o.container;if(!t||!n||!r||!i||Q(r)<3||!this.optionFor(e,"zoom")||!a||o.state===oe.Destroy)return!1;if("0"===getComputedStyle(a).getPropertyValue("--f-images-zoom"))return!1;const s=window.visualViewport||null;if(1!==(s?s.scale:1))return!1;let{top:l,left:c,width:u,height:d}=r.getBoundingClientRect(),{top:f,left:h,fitWidth:p,fitHeight:m}=i.contentRect;if(!(u&&d&&p&&m))return!1;const g=i.container.getBoundingClientRect();h+=g.left,f+=g.top;const v=-1*(h+.5*p-(c+.5*u)),y=-1*(f+.5*m-(l+.5*d)),b=u/p;let w=this.option("zoomOpacity")||!1;return"auto"===w&&(w=Math.abs(u/d-p/m)>.1),{x:v,y,scale:b,opacity:w}}attach(){const e=this,t=e.instance;t.on("Carousel.change",e.onChange),t.on("Carousel.createSlide",e.onCreateSlide),t.on("Carousel.removeSlide",e.onRemoveSlide),t.on("close",e.onClose)}detach(){const e=this,t=e.instance;t.off("Carousel.change",e.onChange),t.off("Carousel.createSlide",e.onCreateSlide),t.off("Carousel.removeSlide",e.onRemoveSlide),t.off("close",e.onClose)}}Object.defineProperty(ye,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{initialSize:"fit",Panzoom:{maxScale:1},protected:!1,zoom:!0,zoomOpacity:"auto"}}),"function"==typeof SuppressedError&&SuppressedError;const be="html",we="image",xe="map",_e="youtube",Ee="vimeo",Se="html5video",Ce=(e,t={})=>{const n=new URL(e),r=new URLSearchParams(n.search),i=new URLSearchParams;for(const[e,n]of[...r,...Object.entries(t)]){let t=n+"";if("t"===e){let e=t.match(/((\d*)m)?(\d*)s?/);e&&i.set("start",60*parseInt(e[2]||"0")+parseInt(e[3]||"0")+"")}else i.set(e,t)}let o=i+"",a=e.match(/#t=((.*)?\d+s)/);return a&&(o+=`#t=${a[1]}`),o},Oe=["image","html","ajax","inline","clone","iframe","map","pdf","html5video","youtube","vimeo"];class Pe extends B{onBeforeInitSlide(e,t,n){this.processType(n)}onCreateSlide(e,t,n){this.setContent(n)}onClearContent(e,t){t.xhr&&(t.xhr.abort(),t.xhr=null);const n=t.iframeEl;n&&(n.onload=n.onerror=null,n.src="//about:blank",t.iframeEl=null);const r=t.contentEl,i=t.placeholderEl;if("inline"===t.type&&r&&i)r.classList.remove("fancybox__content"),"none"!==getComputedStyle(r).getPropertyValue("display")&&(r.style.display="none"),setTimeout((()=>{i&&(r&&i.parentNode&&i.parentNode.insertBefore(r,i),i.remove())}),0),t.contentEl=void 0,t.placeholderEl=void 0;else for(;t.el&&t.el.firstChild;)t.el.removeChild(t.el.firstChild)}onSelectSlide(e,t,n){n.state===ae.Ready&&this.playVideo()}onUnselectSlide(e,t,n){var r,i;if(n.type===Se){try{null===(i=null===(r=n.el)||void 0===r?void 0:r.querySelector("video"))||void 0===i||i.pause()}catch(e){}return}let o;n.type===Ee?o={method:"pause",value:"true"}:n.type===_e&&(o={event:"command",func:"pauseVideo"}),o&&n.iframeEl&&n.iframeEl.contentWindow&&n.iframeEl.contentWindow.postMessage(JSON.stringify(o),"*"),n.poller&&clearTimeout(n.poller)}onDone(e,t){e.isCurrentSlide(t)&&!e.isClosing()&&this.playVideo()}onRefresh(e,t){t.slides.forEach((e=>{e.el&&(this.resizeIframe(e),this.setAspectRatio(e))}))}onMessage(e){try{let t=JSON.parse(e.data);if("https://player.vimeo.com"===e.origin){if("ready"===t.event)for(let t of Array.from(document.getElementsByClassName("fancybox__iframe")))t instanceof HTMLIFrameElement&&t.contentWindow===e.source&&(t.dataset.ready="true")}else if(e.origin.match(/^https:\/\/(www.)?youtube(-nocookie)?.com$/)&&"onReady"===t.event){const e=document.getElementById(t.id);e&&(e.dataset.ready="true")}}catch(e){}}loadAjaxContent(e){const t=this.instance.optionFor(e,"src")||"";this.instance.showLoading(e);const n=this.instance,r=new XMLHttpRequest;n.showLoading(e),r.onreadystatechange=function(){r.readyState===XMLHttpRequest.DONE&&n.state===oe.Ready&&(n.hideLoading(e),200===r.status?n.setContent(e,r.responseText):n.setError(e,404===r.status?"{{AJAX_NOT_FOUND}}":"{{AJAX_FORBIDDEN}}"))};const i=e.ajax||null;r.open(i?"POST":"GET",t+""),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.send(i),e.xhr=r}setInlineContent(e){let t=null;if(E(e.src))t=e.src;else if("string"==typeof e.src){const n=e.src.split("#",2).pop();t=n?document.getElementById(n):null}if(t){if("clone"===e.type||t.closest(".fancybox__slide")){t=t.cloneNode(!0);const n=t.dataset.animationName;n&&(t.classList.remove(n),delete t.dataset.animationName);let r=t.getAttribute("id");r=r?`${r}--clone`:`clone-${this.instance.id}-${e.index}`,t.setAttribute("id",r)}else if(t.parentNode){const n=document.createElement("div");n.classList.add("fancybox-placeholder"),t.parentNode.insertBefore(n,t),e.placeholderEl=n}this.instance.setContent(e,t)}else this.instance.setError(e,"{{ELEMENT_NOT_FOUND}}")}setIframeContent(e){const{src:t,el:n}=e;if(!t||"string"!=typeof t||!n)return;n.classList.add("is-loading");const r=this.instance,i=document.createElement("iframe");i.className="fancybox__iframe",i.setAttribute("id",`fancybox__iframe_${r.id}_${e.index}`);for(const[t,n]of Object.entries(this.optionFor(e,"iframeAttr")||{}))i.setAttribute(t,n);i.onerror=()=>{r.setError(e,"{{IFRAME_ERROR}}")},e.iframeEl=i;const o=this.optionFor(e,"preload");if("iframe"!==e.type||!1===o)return i.setAttribute("src",e.src+""),r.setContent(e,i,!1),this.resizeIframe(e),void r.revealContent(e);r.showLoading(e),i.onload=()=>{if(!i.src.length)return;const t="true"!==i.dataset.ready;i.dataset.ready="true",this.resizeIframe(e),t?r.revealContent(e):r.hideLoading(e)},i.setAttribute("src",t),r.setContent(e,i,!1)}resizeIframe(e){const{type:t,iframeEl:n}=e;if(t===_e||t===Ee)return;const r=null==n?void 0:n.parentElement;if(!n||!r)return;let i=e.autoSize;void 0===i&&(i=this.optionFor(e,"autoSize"));let o=e.width||0,a=e.height||0;o&&a&&(i=!1);const s=r&&r.style;if(!1!==e.preload&&!1!==i&&s)try{const e=window.getComputedStyle(r),t=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),i=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),l=n.contentWindow;if(l){const e=l.document,n=e.getElementsByTagName(be)[0],r=e.body;s.width="",r.style.overflow="hidden",o=o||n.scrollWidth+t,s.width=`${o}px`,r.style.overflow="",s.flex="0 0 auto",s.height=`${r.scrollHeight}px`,a=n.scrollHeight+i}}catch(e){}if(o||a){const e={flex:"0 1 auto",width:"",height:""};o&&"auto"!==o&&(e.width=`${o}px`),a&&"auto"!==a&&(e.height=`${a}px`),Object.assign(s,e)}}playVideo(){const e=this.instance.getSlide();if(!e)return;const{el:t}=e;if(!t||!t.offsetParent)return;if(!this.optionFor(e,"videoAutoplay"))return;if(e.type===Se)try{const e=t.querySelector("video");if(e){const t=e.play();void 0!==t&&t.then((()=>{})).catch((t=>{e.muted=!0,e.play()}))}}catch(e){}if(e.type!==_e&&e.type!==Ee)return;const n=()=>{if(e.iframeEl&&e.iframeEl.contentWindow){let t;if("true"===e.iframeEl.dataset.ready)return t=e.type===_e?{event:"command",func:"playVideo"}:{method:"play",value:"true"},t&&e.iframeEl.contentWindow.postMessage(JSON.stringify(t),"*"),void(e.poller=void 0);e.type===_e&&(t={event:"listening",id:e.iframeEl.getAttribute("id")},e.iframeEl.contentWindow.postMessage(JSON.stringify(t),"*"))}e.poller=setTimeout(n,250)};n()}processType(e){if(e.html)return e.type=be,e.src=e.html,void(e.html="");const t=this.instance.optionFor(e,"src","");if(!t||"string"!=typeof t)return;let n=e.type,r=null;if(r=t.match(/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|shorts\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i)){const i=this.optionFor(e,_e),{nocookie:o}=i,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(i,["nocookie"]),s=`www.youtube${o?"-nocookie":""}.com`,l=Ce(t,a),c=encodeURIComponent(r[2]);e.videoId=c,e.src=`https://${s}/embed/${c}?${l}`,e.thumbSrc=e.thumbSrc||`https://i.ytimg.com/vi/${c}/mqdefault.jpg`,n=_e}else if(r=t.match(/^.+vimeo.com\/(?:\/)?([\d]+)((\/|\?h=)([a-z0-9]+))?(.*)?/)){const i=Ce(t,this.optionFor(e,Ee)),o=encodeURIComponent(r[1]),a=r[4]||"";e.videoId=o,e.src=`https://player.vimeo.com/video/${o}?${a?`h=${a}${i?"&":""}`:""}${i}`,n=Ee}if(!n&&e.triggerEl){const t=e.triggerEl.dataset.type;Oe.includes(t)&&(n=t)}n||"string"==typeof t&&("#"===t.charAt(0)?n="inline":(r=t.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(n=Se,e.videoFormat=e.videoFormat||"video/"+("ogv"===r[1]?"ogg":r[1])):t.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?n=we:t.match(/\.(pdf)((\?|#).*)?$/i)&&(n="pdf")),(r=t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i))?(e.src=`https://maps.google.${r[1]}/?ll=${(r[2]?r[2]+"&z="+Math.floor(parseFloat(r[3]))+(r[4]?r[4].replace(/^\//,"&"):""):r[4]+"").replace(/\?/,"&")}&output=${r[4]&&r[4].indexOf("layer=c")>0?"svembed":"embed"}`,n=xe):(r=t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i))&&(e.src=`https://maps.google.${r[1]}/maps?q=${r[2].replace("query=","q=").replace("api=1","")}&output=embed`,n=xe),n=n||this.instance.option("defaultType"),e.type=n,n===we&&(e.thumbSrc=e.thumbSrc||e.src)}setContent(e){const t=this.instance.optionFor(e,"src")||"";if(e&&e.type&&t){switch(e.type){case be:this.instance.setContent(e,t);break;case Se:const n=this.option("videoTpl");n&&this.instance.setContent(e,n.replace(/\{\{src\}\}/gi,t+"").replace(/\{\{format\}\}/gi,this.optionFor(e,"videoFormat")||"").replace(/\{\{poster\}\}/gi,e.poster||e.thumbSrc||""));break;case"inline":case"clone":this.setInlineContent(e);break;case"ajax":this.loadAjaxContent(e);break;case"pdf":case xe:case _e:case Ee:e.preload=!1;case"iframe":this.setIframeContent(e)}this.setAspectRatio(e)}}setAspectRatio(e){const t=e.contentEl;if(!(e.el&&t&&e.type&&[_e,Ee,Se].includes(e.type)))return;let n,r=e.width||"auto",i=e.height||"auto";if("auto"===r||"auto"===i){n=this.optionFor(e,"videoRatio");const t=(n+"").match(/(\d+)\s*\/\s?(\d+)/);n=t&&t.length>2?parseFloat(t[1])/parseFloat(t[2]):parseFloat(n+"")}else r&&i&&(n=r/i);if(!n)return;t.style.aspectRatio="",t.style.width="",t.style.height="",t.offsetHeight;const o=t.getBoundingClientRect(),a=o.width||1,s=o.height||1;t.style.aspectRatio=n+"",n<a/s?(i="auto"===i?s:Math.min(s,i),t.style.width="auto",t.style.height=`${i}px`):(r="auto"===r?a:Math.min(a,r),t.style.width=`${r}px`,t.style.height="auto")}attach(){const e=this,t=e.instance;t.on("Carousel.beforeInitSlide",e.onBeforeInitSlide),t.on("Carousel.createSlide",e.onCreateSlide),t.on("Carousel.selectSlide",e.onSelectSlide),t.on("Carousel.unselectSlide",e.onUnselectSlide),t.on("Carousel.Panzoom.refresh",e.onRefresh),t.on("done",e.onDone),t.on("clearContent",e.onClearContent),window.addEventListener("message",e.onMessage)}detach(){const e=this,t=e.instance;t.off("Carousel.beforeInitSlide",e.onBeforeInitSlide),t.off("Carousel.createSlide",e.onCreateSlide),t.off("Carousel.selectSlide",e.onSelectSlide),t.off("Carousel.unselectSlide",e.onUnselectSlide),t.off("Carousel.Panzoom.refresh",e.onRefresh),t.off("done",e.onDone),t.off("clearContent",e.onClearContent),window.removeEventListener("message",e.onMessage)}}Object.defineProperty(Pe,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{ajax:null,autoSize:!0,iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto"},preload:!0,videoAutoplay:!0,videoRatio:16/9,videoTpl:'<video class="fancybox__html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">\n  <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos.</video>',videoFormat:"",vimeo:{byline:1,color:"00adef",controls:1,dnt:1,muted:0},youtube:{controls:1,enablejsapi:1,nocookie:1,rel:0,fs:1}}});const je="play",Le="pause",ke="ready";class Te extends B{constructor(){super(...arguments),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:ke}),Object.defineProperty(this,"inHover",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"progressBar",{enumerable:!0,configurable:!0,writable:!0,value:null})}get isActive(){return this.state!==ke}onReady(e){this.option("autoStart")&&(e.isInfinite||e.page<e.pages.length-1)&&this.start()}onChange(){this.removeProgressBar(),this.pause()}onSettle(){this.resume()}onVisibilityChange(){"visible"===document.visibilityState?this.resume():this.pause()}onMouseEnter(){this.inHover=!0,this.pause()}onMouseLeave(){var e;this.inHover=!1,(null===(e=this.instance.panzoom)||void 0===e?void 0:e.isResting)&&this.resume()}onTimerEnd(){const e=this.instance;"play"===this.state&&(e.isInfinite||e.page!==e.pages.length-1?e.slideNext():e.slideTo(0))}removeProgressBar(){this.progressBar&&(this.progressBar.remove(),this.progressBar=null)}createProgressBar(){var e;if(!this.option("showProgress"))return null;this.removeProgressBar();const t=this.instance,n=(null===(e=t.pages[t.page])||void 0===e?void 0:e.slides)||[];let r=this.option("progressParentEl");if(r||(r=(1===n.length?n[0].el:null)||t.viewport),!r)return null;const i=document.createElement("div");return C(i,"f-progress"),r.prepend(i),this.progressBar=i,i.offsetHeight,i}set(){const e=this,t=e.instance;if(t.pages.length<2)return;if(e.timer)return;const n=e.option("timeout");e.state=je,C(t.container,"has-autoplay");let r=e.createProgressBar();r&&(r.style.transitionDuration=`${n}ms`,r.style.transform="scaleX(1)"),e.timer=setTimeout((()=>{e.timer=null,e.inHover||e.onTimerEnd()}),n),e.emit("set")}clear(){const e=this;e.timer&&(clearTimeout(e.timer),e.timer=null),e.removeProgressBar()}start(){const e=this;if(e.set(),e.state!==ke){if(e.option("pauseOnHover")){const t=e.instance.container;t.addEventListener("mouseenter",e.onMouseEnter,!1),t.addEventListener("mouseleave",e.onMouseLeave,!1)}document.addEventListener("visibilitychange",e.onVisibilityChange,!1),e.emit("start")}}stop(){const e=this,t=e.state,n=e.instance.container;e.clear(),e.state=ke,n.removeEventListener("mouseenter",e.onMouseEnter,!1),n.removeEventListener("mouseleave",e.onMouseLeave,!1),document.removeEventListener("visibilitychange",e.onVisibilityChange,!1),S(n,"has-autoplay"),t!==ke&&e.emit("stop")}pause(){const e=this;e.state===je&&(e.state=Le,e.clear(),e.emit(Le))}resume(){const e=this,t=e.instance;if(t.isInfinite||t.page!==t.pages.length-1)if(e.state!==je){if(e.state===Le&&!e.inHover){const t=new Event("resume",{bubbles:!0,cancelable:!0});e.emit("resume",t),t.defaultPrevented||e.set()}}else e.set();else e.stop()}toggle(){this.state===je||this.state===Le?this.stop():this.start()}attach(){const e=this,t=e.instance;t.on("ready",e.onReady),t.on("Panzoom.startAnimation",e.onChange),t.on("Panzoom.endAnimation",e.onSettle),t.on("Panzoom.touchMove",e.onChange)}detach(){const e=this,t=e.instance;t.off("ready",e.onReady),t.off("Panzoom.startAnimation",e.onChange),t.off("Panzoom.endAnimation",e.onSettle),t.off("Panzoom.touchMove",e.onChange),e.stop()}}Object.defineProperty(Te,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{autoStart:!0,pauseOnHover:!0,progressParentEl:null,showProgress:!0,timeout:3e3}});class Ie extends B{constructor(){super(...arguments),Object.defineProperty(this,"ref",{enumerable:!0,configurable:!0,writable:!0,value:null})}onPrepare(e){const t=e.carousel;if(!t)return;const n=e.container;n&&(t.options.Autoplay=h({autoStart:!1},this.option("Autoplay")||{},{pauseOnHover:!1,timeout:this.option("timeout"),progressParentEl:()=>this.option("progressParentEl")||null,on:{start:()=>{e.emit("startSlideshow")},set:t=>{var r;n.classList.add("has-slideshow"),(null===(r=e.getSlide())||void 0===r?void 0:r.state)!==ae.Ready&&t.pause()},stop:()=>{n.classList.remove("has-slideshow"),e.isCompact||e.endIdle(),e.emit("endSlideshow")},resume:(t,n)=>{var r,i,o;!n||!n.cancelable||(null===(r=e.getSlide())||void 0===r?void 0:r.state)===ae.Ready&&(null===(o=null===(i=e.carousel)||void 0===i?void 0:i.panzoom)||void 0===o?void 0:o.isResting)||n.preventDefault()}}}),t.attachPlugins({Autoplay:Te}),this.ref=t.plugins.Autoplay)}onReady(e){const t=e.carousel,n=this.ref;n&&t&&this.option("playOnStart")&&(t.isInfinite||t.page<t.pages.length-1)&&n.start()}onDone(e,t){const n=this.ref,r=e.carousel;if(!n||!r)return;const i=t.panzoom;i&&i.on("startAnimation",(()=>{e.isCurrentSlide(t)&&n.stop()})),e.isCurrentSlide(t)&&n.resume()}onKeydown(e,t){var n;const r=this.ref;r&&t===this.option("key")&&"BUTTON"!==(null===(n=document.activeElement)||void 0===n?void 0:n.nodeName)&&r.toggle()}attach(){const e=this,t=e.instance;t.on("Carousel.init",e.onPrepare),t.on("Carousel.ready",e.onReady),t.on("done",e.onDone),t.on("keydown",e.onKeydown)}detach(){const e=this,t=e.instance;t.off("Carousel.init",e.onPrepare),t.off("Carousel.ready",e.onReady),t.off("done",e.onDone),t.off("keydown",e.onKeydown)}}Object.defineProperty(Ie,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{key:" ",playOnStart:!1,progressParentEl:e=>{var t;return(null===(t=e.instance.container)||void 0===t?void 0:t.querySelector(".fancybox__toolbar [data-fancybox-toggle-slideshow]"))||e.instance.container},timeout:3e3}});const Ae={classes:{container:"f-thumbs f-carousel__thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide",isResting:"is-resting",isSelected:"is-selected",isLoading:"is-loading",hasThumbs:"has-thumbs"},minCount:2,parentEl:null,thumbTpl:'<button class="f-thumbs__slide__button" tabindex="0" type="button" aria-label="{{GOTO}}" data-carousel-index="%i"><img class="f-thumbs__slide__img" data-lazy-src="{{%s}}" alt="" /></button>',type:"modern"};var Me;!function(e){e[e.Init=0]="Init",e[e.Ready=1]="Ready",e[e.Hidden=2]="Hidden"}(Me||(Me={}));const Ne="isResting",Re="thumbWidth",Fe="thumbHeight",De="thumbClipWidth";let Ve=class extends B{constructor(){super(...arguments),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:"modern"}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"thumbWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbClipWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbExtraGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:Me.Init})}get isModern(){return"modern"===this.type}onInitSlide(e,t){const n=t.el?t.el.dataset:void 0;n&&(t.thumbSrc=n.thumbSrc||t.thumbSrc||"",t[De]=parseFloat(n[De]||"")||t[De]||0,t[Fe]=parseFloat(n.thumbHeight||"")||t[Fe]||0),this.addSlide(t)}onInitSlides(){this.build()}onChange(){var e;if(!this.isModern)return;const t=this.container,n=this.instance,r=n.panzoom,i=this.carousel,o=i?i.panzoom:null,s=n.page;if(r&&i&&o){if(r.isDragging){S(t,this.cn(Ne));let r=(null===(e=i.pages[s])||void 0===e?void 0:e.pos)||0;r+=n.getProgress(s)*(this[De]+this.thumbGap);let a=o.getBounds();-1*r>a.x.min&&-1*r<a.x.max&&o.panTo({x:-1*r,friction:.12})}else a(t,this.cn(Ne),r.isResting);this.shiftModern()}}onRefresh(){this.updateProps();for(const e of this.instance.slides||[])this.resizeModernSlide(e);this.shiftModern()}isDisabled(){const e=this.option("minCount")||0;if(e){const t=this.instance;let n=0;for(const e of t.slides||[])e.thumbSrc&&n++;if(n<e)return!0}const t=this.option("type");return["modern","classic"].indexOf(t)<0}getThumb(e){const t=this.option("thumbTpl")||"";return{html:this.instance.localize(t,[["%i",e.index],["%d",e.index+1],["%s",e.thumbSrc||"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"]])}}addSlide(e){const t=this.carousel;t&&t.addSlide(e.index,this.getThumb(e))}getSlides(){const e=[];for(const t of this.instance.slides||[])e.push(this.getThumb(t));return e}resizeModernSlide(e){this.isModern&&(e[Re]=e[De]&&e[Fe]?Math.round(this[Fe]*(e[De]/e[Fe])):this[Re])}updateProps(){const e=this.container;if(!e)return;const t=t=>parseFloat(getComputedStyle(e).getPropertyValue("--f-thumb-"+t))||0;this.thumbGap=t("gap"),this.thumbExtraGap=t("extra-gap"),this[Re]=t("width")||40,this[De]=t("clip-width")||40,this[Fe]=t("height")||40}build(){const e=this;if(e.state!==Me.Init)return;if(e.isDisabled())return void e.emit("disabled");const t=e.instance,n=t.container,r=e.getSlides(),i=e.option("type");e.type=i;const o=e.option("parentEl"),a=e.cn("container"),s=e.cn("track");let l=null==o?void 0:o.querySelector("."+a);l||(l=document.createElement("div"),C(l,a),o?o.appendChild(l):n.after(l)),C(l,`is-${i}`),C(n,e.cn("hasThumbs")),e.container=l,e.updateProps();let c=l.querySelector("."+s);c||(c=document.createElement("div"),C(c,e.cn("track")),l.appendChild(c)),e.track=c;const u=h({},{track:c,infinite:!1,center:!0,fill:"classic"===i,dragFree:!0,slidesPerPage:1,transition:!1,preload:.25,friction:.12,Panzoom:{maxVelocity:0},Dots:!1,Navigation:!1,classes:{container:"f-thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide"}},e.option("Carousel")||{},{Sync:{target:t},slides:r}),d=new t.constructor(l,u);d.on("createSlide",((t,n)=>{e.setProps(n.index),e.emit("createSlide",n,n.el)})),d.on("ready",(()=>{e.shiftModern(),e.emit("ready")})),d.on("refresh",(()=>{e.shiftModern()})),d.on("Panzoom.click",((t,n,r)=>{e.onClick(r)})),e.carousel=d,e.state=Me.Ready}onClick(e){e.preventDefault(),e.stopPropagation();const t=this.instance,{pages:n,page:r}=t,i=e=>{if(e){const t=e.closest("[data-carousel-index]");if(t)return[parseInt(t.dataset.carouselIndex||"",10)||0,t]}return[-1,void 0]},o=(e,t)=>{const n=document.elementFromPoint(e,t);return n?i(n):[-1,void 0]};let[a,s]=i(e.target);if(a>-1)return;const l=this[De],c=e.clientX,u=e.clientY;let[d,f]=o(c-l,u),[h,p]=o(c+l,u);f&&p?(a=Math.abs(c-f.getBoundingClientRect().right)<Math.abs(c-p.getBoundingClientRect().left)?d:h,a===r&&(a=a===d?h:d)):f?a=d:p&&(a=h),a>-1&&n[a]&&t.slideTo(a)}getShift(e){var t;const n=this,{instance:r}=n,i=n.carousel;if(!r||!i)return 0;const o=n[Re],a=n[De],s=n.thumbGap,l=n.thumbExtraGap;if(!(null===(t=i.slides[e])||void 0===t?void 0:t.el))return 0;const c=.5*(o-a),u=r.pages.length-1;let d=r.getProgress(0),f=r.getProgress(u),h=r.getProgress(e,!1,!0),p=0,m=c+l+s;const g=d<0&&d>-1,v=f>0&&f<1;return 0===e?(p=m*Math.abs(d),v&&1===d&&(p-=m*Math.abs(f))):e===u?(p=m*Math.abs(f)*-1,g&&-1===f&&(p+=m*Math.abs(d))):g||v?(p=-1*m,p+=m*Math.abs(d),p+=m*(1-Math.abs(f))):p=m*h,p}setProps(e){var n;const r=this;if(!r.isModern)return;const{instance:i}=r,o=r.carousel;if(i&&o){const a=null===(n=o.slides[e])||void 0===n?void 0:n.el;if(a&&a.childNodes.length){let n=t(1-Math.abs(i.getProgress(e))),o=t(r.getShift(e));a.style.setProperty("--progress",n?n+"":""),a.style.setProperty("--shift",o+"")}}}shiftModern(){const e=this;if(!e.isModern)return;const{instance:t,track:n}=e,r=t.panzoom,i=e.carousel;if(!(t&&n&&r&&i))return;if(r.state===v.Init||r.state===v.Destroy)return;for(const n of t.slides)e.setProps(n.index);let o=(e[De]+e.thumbGap)*(i.slides.length||0);n.style.setProperty("--width",o+"")}cleanup(){const e=this;e.carousel&&e.carousel.destroy(),e.carousel=null,e.container&&e.container.remove(),e.container=null,e.track&&e.track.remove(),e.track=null,e.state=Me.Init,S(e.instance.container,e.cn("hasThumbs"))}attach(){const e=this,t=e.instance;t.on("initSlide",e.onInitSlide),t.state===F.Init?t.on("initSlides",e.onInitSlides):e.onInitSlides(),t.on(["change","Panzoom.afterTransform"],e.onChange),t.on("Panzoom.refresh",e.onRefresh)}detach(){const e=this,t=e.instance;t.off("initSlide",e.onInitSlide),t.off("initSlides",e.onInitSlides),t.off(["change","Panzoom.afterTransform"],e.onChange),t.off("Panzoom.refresh",e.onRefresh),e.cleanup()}};Object.defineProperty(Ve,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Ae});const Be=Object.assign(Object.assign({},Ae),{key:"t",showOnStart:!0,parentEl:null}),ze="is-masked",He="aria-hidden";class $e extends B{constructor(){super(...arguments),Object.defineProperty(this,"ref",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hidden",{enumerable:!0,configurable:!0,writable:!0,value:!1})}get isEnabled(){const e=this.ref;return e&&!e.isDisabled()}get isHidden(){return this.hidden}onClick(e,t){t.stopPropagation()}onCreateSlide(e,t){var n,r,i;const o=(null===(i=null===(r=null===(n=this.instance)||void 0===n?void 0:n.carousel)||void 0===r?void 0:r.slides[t.index])||void 0===i?void 0:i.type)||"",a=t.el;if(a&&o){let e=`for-${o}`;["video","youtube","vimeo","html5video"].includes(o)&&(e+=" for-video"),C(a,e)}}onInit(){var e;const t=this,n=t.instance,r=n.carousel;if(t.ref||!r)return;const i=t.option("parentEl")||n.footer||n.container;if(!i)return;const o=h({},t.options,{parentEl:i,classes:{container:"f-thumbs fancybox__thumbs"},Carousel:{Sync:{friction:n.option("Carousel.friction")||0}},on:{ready:e=>{const n=e.container;n&&this.hidden&&(t.refresh(),n.style.transition="none",t.hide(),n.offsetHeight,queueMicrotask((()=>{n.style.transition="",t.show()})))}}});o.Carousel=o.Carousel||{},o.Carousel.on=h((null===(e=t.options.Carousel)||void 0===e?void 0:e.on)||{},{click:this.onClick,createSlide:this.onCreateSlide}),r.options.Thumbs=o,r.attachPlugins({Thumbs:Ve}),t.ref=r.plugins.Thumbs,t.option("showOnStart")||(t.ref.state=Me.Hidden,t.hidden=!0)}onResize(){var e;const t=null===(e=this.ref)||void 0===e?void 0:e.container;t&&(t.style.maxHeight="")}onKeydown(e,t){const n=this.option("key");n&&n===t&&this.toggle()}toggle(){const e=this.ref;if(e&&!e.isDisabled())return e.state===Me.Hidden?(e.state=Me.Init,void e.build()):void(this.hidden?this.show():this.hide())}show(){const e=this.ref;if(!e||e.isDisabled())return;const t=e.container;t&&(this.refresh(),t.offsetHeight,t.removeAttribute(He),t.classList.remove(ze),this.hidden=!1)}hide(){const e=this.ref,t=e&&e.container;t&&(this.refresh(),t.offsetHeight,t.classList.add(ze),t.setAttribute(He,"true")),this.hidden=!0}refresh(){const e=this.ref;if(!e||!e.state)return;const t=e.container,n=(null==t?void 0:t.firstChild)||null;t&&n&&n.childNodes.length&&(t.style.maxHeight=`${n.getBoundingClientRect().height}px`)}attach(){const e=this,t=e.instance;t.state===oe.Init?t.on("Carousel.init",e.onInit):e.onInit(),t.on("resize",e.onResize),t.on("keydown",e.onKeydown)}detach(){var e;const t=this,n=t.instance;n.off("Carousel.init",t.onInit),n.off("resize",t.onResize),n.off("keydown",t.onKeydown),null===(e=n.carousel)||void 0===e||e.detachPlugins(["Thumbs"]),t.ref=null}}Object.defineProperty($e,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Be});const Ge={panLeft:{icon:'<svg><path d="M5 12h14M5 12l6 6M5 12l6-6"/></svg>',change:{panX:-100}},panRight:{icon:'<svg><path d="M5 12h14M13 18l6-6M13 6l6 6"/></svg>',change:{panX:100}},panUp:{icon:'<svg><path d="M12 5v14M18 11l-6-6M6 11l6-6"/></svg>',change:{panY:-100}},panDown:{icon:'<svg><path d="M12 5v14M18 13l-6 6M6 13l6 6"/></svg>',change:{panY:100}},zoomIn:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M11 8v6M8 11h6"/></svg>',action:"zoomIn"},zoomOut:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"zoomOut"},toggle1to1:{icon:'<svg><path d="M3.51 3.07c5.74.02 11.48-.02 17.22.02 1.37.1 2.34 1.64 2.18 3.13 0 4.08.02 8.16 0 12.23-.1 1.54-1.47 2.64-2.79 2.46-5.61-.01-11.24.02-16.86-.01-1.36-.12-2.33-1.65-2.17-3.14 0-4.07-.02-8.16 0-12.23.1-1.36 1.22-2.48 2.42-2.46Z"/><path d="M5.65 8.54h1.49v6.92m8.94-6.92h1.49v6.92M11.5 9.4v.02m0 5.18v0"/></svg>',action:"toggleZoom"},toggleZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"toggleZoom"},iterateZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"iterateZoom"},rotateCCW:{icon:'<svg><path d="M15 4.55a8 8 0 0 0-6 14.9M9 15v5H4M18.37 7.16v.01M13 19.94v.01M16.84 18.37v.01M19.37 15.1v.01M19.94 11v.01"/></svg>',action:"rotateCCW"},rotateCW:{icon:'<svg><path d="M9 4.55a8 8 0 0 1 6 14.9M15 15v5h5M5.63 7.16v.01M4.06 11v.01M4.63 15.1v.01M7.16 18.37v.01M11 19.94v.01"/></svg>',action:"rotateCW"},flipX:{icon:'<svg style="stroke-width: 1.3"><path d="M12 3v18M16 7v10h5L16 7M8 7v10H3L8 7"/></svg>',action:"flipX"},flipY:{icon:'<svg style="stroke-width: 1.3"><path d="M3 12h18M7 16h10L7 21v-5M7 8h10L7 3v5"/></svg>',action:"flipY"},fitX:{icon:'<svg><path d="M4 12V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v6M10 18H3M21 18h-7M6 15l-3 3 3 3M18 15l3 3-3 3"/></svg>',action:"fitX"},fitY:{icon:'<svg><path d="M12 20H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h6M18 14v7M18 3v7M15 18l3 3 3-3M15 6l3-3 3 3"/></svg>',action:"fitY"},reset:{icon:'<svg><path d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"/></svg>',action:"reset"},toggleFS:{icon:'<svg><g><path d="M14.5 9.5 21 3m0 0h-6m6 0v6M3 21l6.5-6.5M3 21v-6m0 6h6"/></g><g><path d="m14 10 7-7m-7 7h6m-6 0V4M3 21l7-7m0 0v6m0-6H4"/></g></svg>',action:"toggleFS"}};var Ue;!function(e){e[e.Init=0]="Init",e[e.Ready=1]="Ready",e[e.Disabled=2]="Disabled"}(Ue||(Ue={}));const We={tabindex:"-1",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},qe="has-toolbar",Ye="fancybox__toolbar";class Xe extends B{constructor(){super(...arguments),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:Ue.Init}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null})}onReady(e){var t;if(!e.carousel)return;let n=this.option("display"),r=this.option("absolute"),i=this.option("enabled");if("auto"===i){const e=this.instance.carousel;let t=0;if(e)for(const n of e.slides)(n.panzoom||"image"===n.type)&&t++;t||(i=!1)}i||(n=void 0);let o=0;const a={left:[],middle:[],right:[]};if(n)for(const e of["left","middle","right"])for(const r of n[e]){const n=this.createEl(r);n&&(null===(t=a[e])||void 0===t||t.push(n),o++)}let s=null;if(o&&(s=this.createContainer()),s){for(const[e,t]of Object.entries(a)){const n=document.createElement("div");C(n,Ye+"__column is-"+e);for(const e of t)n.appendChild(e);"auto"!==r||"middle"!==e||t.length||(r=!0),s.appendChild(n)}!0===r&&C(s,"is-absolute"),this.state=Ue.Ready,this.onRefresh()}else this.state=Ue.Disabled}onClick(e){var t,n;const r=this.instance,i=r.getSlide(),o=null==i?void 0:i.panzoom,a=e.target,s=a&&E(a)?a.dataset:null;if(!s)return;if(void 0!==s.fancyboxToggleThumbs)return e.preventDefault(),e.stopPropagation(),void(null===(t=r.plugins.Thumbs)||void 0===t||t.toggle());if(void 0!==s.fancyboxToggleFullscreen)return e.preventDefault(),e.stopPropagation(),void this.instance.toggleFullscreen();if(void 0!==s.fancyboxToggleSlideshow){e.preventDefault(),e.stopPropagation();const t=null===(n=r.carousel)||void 0===n?void 0:n.plugins.Autoplay;let i=t.isActive;return o&&"mousemove"===o.panMode&&!i&&o.reset(),void(i?t.stop():t.start())}const l=s.panzoomAction,c=s.panzoomChange;if((c||l)&&(e.preventDefault(),e.stopPropagation()),c){let t={};try{t=JSON.parse(c)}catch(e){}o&&o.applyChange(t)}else l&&o&&o[l]&&o[l]()}onChange(){this.onRefresh()}onRefresh(){if(this.instance.isClosing())return;const e=this.container;if(!e)return;const t=this.instance.getSlide();if(!t||t.state!==ae.Ready)return;const n=t&&!t.error&&t.panzoom;for(const t of e.querySelectorAll("[data-panzoom-action]"))n?(t.removeAttribute("disabled"),t.removeAttribute("tabindex")):(t.setAttribute("disabled",""),t.setAttribute("tabindex","-1"));let r=n&&n.canZoomIn(),i=n&&n.canZoomOut();for(const t of e.querySelectorAll('[data-panzoom-action="zoomIn"]'))r?(t.removeAttribute("disabled"),t.removeAttribute("tabindex")):(t.setAttribute("disabled",""),t.setAttribute("tabindex","-1"));for(const t of e.querySelectorAll('[data-panzoom-action="zoomOut"]'))i?(t.removeAttribute("disabled"),t.removeAttribute("tabindex")):(t.setAttribute("disabled",""),t.setAttribute("tabindex","-1"));for(const t of e.querySelectorAll('[data-panzoom-action="toggleZoom"],[data-panzoom-action="iterateZoom"]')){i||r?(t.removeAttribute("disabled"),t.removeAttribute("tabindex")):(t.setAttribute("disabled",""),t.setAttribute("tabindex","-1"));const e=t.querySelector("g");e&&(e.style.display=r?"":"none")}}onDone(e,t){var n;null===(n=t.panzoom)||void 0===n||n.on("afterTransform",(()=>{this.instance.isCurrentSlide(t)&&this.onRefresh()})),this.instance.isCurrentSlide(t)&&this.onRefresh()}createContainer(){const e=this.instance.container;if(!e)return null;const t=this.option("parentEl")||e;let n=t.querySelector("."+Ye);return n||(n=document.createElement("div"),C(n,Ye),t.prepend(n)),n.addEventListener("click",this.onClick,{passive:!1,capture:!0}),e&&C(e,qe),this.container=n,n}createEl(e){const t=this.instance,n=t.carousel;if(!n)return null;if("toggleFS"===e)return null;if("fullscreen"===e&&!re())return null;let r=null;const o=n.slides.length||0;let a=0,s=0;for(const e of n.slides)(e.panzoom||"image"===e.type)&&a++,("image"===e.type||e.downloadSrc)&&s++;if(o<2&&["infobar","prev","next"].includes(e))return r;if(void 0!==Ge[e]&&!a)return null;if("download"===e&&!s)return null;if("thumbs"===e){const e=t.plugins.Thumbs;if(!e||!e.isEnabled)return null}if("slideshow"===e&&(!n.plugins.Autoplay||o<2))return null;if(void 0!==Ge[e]){const t=Ge[e];r=document.createElement("button"),r.setAttribute("title",this.instance.localize(`{{${e.toUpperCase()}}}`)),C(r,"f-button"),t.action&&(r.dataset.panzoomAction=t.action),t.change&&(r.dataset.panzoomChange=JSON.stringify(t.change)),r.appendChild(i(this.instance.localize(t.icon)))}else{const t=(this.option("items")||[])[e];t&&(r=i(this.instance.localize(t.tpl)),"function"==typeof t.click&&r.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),"function"==typeof t.click&&t.click.call(this,this,e)})))}const l=null==r?void 0:r.querySelector("svg");if(l)for(const[e,t]of Object.entries(We))l.getAttribute(e)||l.setAttribute(e,String(t));return r}removeContainer(){const e=this.container;e&&e.remove(),this.container=null,this.state=Ue.Disabled;const t=this.instance.container;t&&S(t,qe)}attach(){const e=this,t=e.instance;t.on("Carousel.initSlides",e.onReady),t.on("done",e.onDone),t.on(["reveal","Carousel.change"],e.onChange),e.onReady(e.instance)}detach(){const e=this,t=e.instance;t.off("Carousel.initSlides",e.onReady),t.off("done",e.onDone),t.off(["reveal","Carousel.change"],e.onChange),e.removeContainer()}}Object.defineProperty(Xe,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{absolute:"auto",display:{left:["infobar"],middle:[],right:["iterateZoom","slideshow","fullscreen","thumbs","close"]},enabled:"auto",items:{infobar:{tpl:'<div class="fancybox__infobar" tabindex="-1"><span data-fancybox-current-index></span>/<span data-fancybox-count></span></div>'},download:{tpl:'<a class="f-button" title="{{DOWNLOAD}}" data-fancybox-download href="javasript:;"><svg><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 11l5 5 5-5M12 4v12"/></svg></a>'},prev:{tpl:'<button class="f-button" title="{{PREV}}" data-fancybox-prev><svg><path d="m15 6-6 6 6 6"/></svg></button>'},next:{tpl:'<button class="f-button" title="{{NEXT}}" data-fancybox-next><svg><path d="m9 6 6 6-6 6"/></svg></button>'},slideshow:{tpl:'<button class="f-button" title="{{TOGGLE_SLIDESHOW}}" data-fancybox-toggle-slideshow><svg><g><path d="M8 4v16l13 -8z"></path></g><g><path d="M8 4v15M17 4v15"/></g></svg></button>'},fullscreen:{tpl:'<button class="f-button" title="{{TOGGLE_FULLSCREEN}}" data-fancybox-toggle-fullscreen><svg><g><path d="M4 8V6a2 2 0 0 1 2-2h2M4 16v2a2 2 0 0 0 2 2h2M16 4h2a2 2 0 0 1 2 2v2M16 20h2a2 2 0 0 0 2-2v-2"/></g><g><path d="M15 19v-2a2 2 0 0 1 2-2h2M15 5v2a2 2 0 0 0 2 2h2M5 15h2a2 2 0 0 1 2 2v2M5 9h2a2 2 0 0 0 2-2V5"/></g></svg></button>'},thumbs:{tpl:'<button class="f-button" title="{{TOGGLE_THUMBS}}" data-fancybox-toggle-thumbs><svg><circle cx="5.5" cy="5.5" r="1"/><circle cx="12" cy="5.5" r="1"/><circle cx="18.5" cy="5.5" r="1"/><circle cx="5.5" cy="12" r="1"/><circle cx="12" cy="12" r="1"/><circle cx="18.5" cy="12" r="1"/><circle cx="5.5" cy="18.5" r="1"/><circle cx="12" cy="18.5" r="1"/><circle cx="18.5" cy="18.5" r="1"/></svg></button>'},close:{tpl:'<button class="f-button" title="{{CLOSE}}" data-fancybox-close><svg><path d="m19.5 4.5-15 15M4.5 4.5l15 15"/></svg></button>'}},parentEl:null}});const Ke={Hash:class extends B{onReady(){le=!1}onChange(e){ue&&clearTimeout(ue);const{hash:t}=de(),{hash:n}=fe(),r=e.isOpeningSlide(e.getSlide());r&&(se=n===t?"":n),t&&t!==n&&(ue=setTimeout((()=>{try{if(e.state===oe.Ready){let e="replaceState";r&&!ce&&(e="pushState",ce=!0),window.history[e]({},document.title,window.location.pathname+window.location.search+t)}}catch(e){}}),300))}onClose(e){if(ue&&clearTimeout(ue),!le&&ce)return ce=!1,le=!1,void window.history.back();if(!le)try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+(se||""))}catch(e){}}attach(){const e=this.instance;e.on("ready",this.onReady),e.on(["Carousel.ready","Carousel.change"],this.onChange),e.on("close",this.onClose)}detach(){const e=this.instance;e.off("ready",this.onReady),e.off(["Carousel.ready","Carousel.change"],this.onChange),e.off("close",this.onClose)}static parseURL(){return fe()}static startFromUrl(){he()}static destroy(){window.removeEventListener("hashchange",me,!1)}},Html:Pe,Images:ye,Slideshow:Ie,Thumbs:$e,Toolbar:Xe},Ze="with-fancybox",Qe="hide-scrollbar",Je="--fancybox-scrollbar-compensate",et="--fancybox-body-margin",tt="aria-hidden",nt="is-using-tab",rt="is-animated",it="is-compact",ot="is-loading",at="is-opening",st="has-caption",lt="disabled",ct="tabindex",ut="download",dt="href",ft="src",ht=e=>"string"==typeof e,pt=function(){var e=window.getSelection();return!!e&&"Range"===e.type};let mt,gt=null,vt=null,yt=0,bt=0,wt=0,xt=0;const _t=new Map;let Et=0;class St extends g{get isIdle(){return this.idle}get isCompact(){return this.option("compact")}constructor(e=[],t={},n={}){super(t),Object.defineProperty(this,"userSlides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"idle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"idleTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"ignoreFocusChange",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"startedFs",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:oe.Init}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"footer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"lastFocus",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"prevMouseMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),mt||(mt=re()),this.id=t.id||++Et,_t.set(this.id,this),this.userSlides=e,this.userPlugins=n,queueMicrotask((()=>{this.init()}))}init(){if(this.state===oe.Destroy)return;this.state=oe.Init,this.attachPlugins(Object.assign(Object.assign({},St.Plugins),this.userPlugins)),this.emit("init"),this.emit("attachPlugins"),!0===this.option("hideScrollbar")&&(()=>{if(!J)return;const e=document,t=e.body,n=e.documentElement;if(t.classList.contains(Qe))return;let r=window.innerWidth-n.getBoundingClientRect().width;const i=parseFloat(window.getComputedStyle(t).marginRight);r<0&&(r=0),n.style.setProperty(Je,`${r}px`),i&&t.style.setProperty(et,`${i}px`),t.classList.add(Qe)})(),this.initLayout(),this.scale();const e=()=>{this.initCarousel(this.userSlides),this.state=oe.Ready,this.attachEvents(),this.emit("ready"),setTimeout((()=>{this.container&&this.container.setAttribute(tt,"false")}),16)};this.option("Fullscreen.autoStart")&&mt&&!mt.isFullscreen()?mt.request().then((()=>{this.startedFs=!0,e()})).catch((()=>e())):e()}initLayout(){var e,t;const n=this.option("parentEl")||document.body,r=i(this.localize(this.option("tpl.main")||""));if(r){if(r.setAttribute("id",`fancybox-${this.id}`),r.setAttribute("aria-label",this.localize("{{MODAL}}")),r.classList.toggle(it,this.isCompact),C(r,this.option("mainClass")||""),C(r,at),this.container=r,this.footer=r.querySelector(".fancybox__footer"),n.appendChild(r),C(document.documentElement,Ze),gt&&vt||(gt=document.createElement("span"),C(gt,"fancybox-focus-guard"),gt.setAttribute(ct,"0"),gt.setAttribute(tt,"true"),gt.setAttribute("aria-label","Focus guard"),vt=gt.cloneNode(),null===(e=r.parentElement)||void 0===e||e.insertBefore(gt,r),null===(t=r.parentElement)||void 0===t||t.append(vt)),r.addEventListener("mousedown",(e=>{yt=e.pageX,bt=e.pageY,S(r,nt)})),this.option("closeExisting"))for(const e of _t.values())e.id!==this.id&&e.close();else this.option("animated")&&(C(r,rt),setTimeout((()=>{this.isClosing()||S(r,rt)}),350));this.emit("initLayout")}}initCarousel(e){const t=this.container;if(!t)return;const r=t.querySelector(".fancybox__carousel");if(!r)return;const i=this.carousel=new Z(r,h({},{slides:e,transition:"fade",Panzoom:{lockAxis:this.option("dragToClose")?"xy":"x",infinite:!!this.option("dragToClose")&&"y"},Dots:!1,Navigation:{classes:{container:"fancybox__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"}},initialPage:this.option("startIndex"),l10n:this.option("l10n")},this.option("Carousel")||{}));i.on("*",((e,t,...n)=>{this.emit(`Carousel.${t}`,e,...n)})),i.on(["ready","change"],(()=>{this.manageCaption()})),this.on("Carousel.removeSlide",((e,t,n)=>{this.clearContent(n),n.state=void 0})),i.on("Panzoom.touchStart",(()=>{var e,t;this.isCompact||this.endIdle(),(null===(e=document.activeElement)||void 0===e?void 0:e.closest(".f-thumbs"))&&(null===(t=this.container)||void 0===t||t.focus())})),i.on("settle",(()=>{this.idleTimer||this.isCompact||!this.option("idle")||this.setIdle(),this.option("autoFocus")&&!this.isClosing&&this.checkFocus()})),this.option("dragToClose")&&(i.on("Panzoom.afterTransform",((e,t)=>{const r=this.getSlide();if(r&&n(r.el))return;const i=this.container;if(i){const e=Math.abs(t.current.f),n=e<1?"":Math.max(.5,Math.min(1,1-e/t.contentRect.fitHeight*1.5));i.style.setProperty("--fancybox-ts",n?"0s":""),i.style.setProperty("--fancybox-opacity",n+"")}})),i.on("Panzoom.touchEnd",((e,t,r)=>{var i;const o=this.getSlide();if(o&&n(o.el))return;if(t.isMobile&&document.activeElement&&-1!==["TEXTAREA","INPUT"].indexOf(null===(i=document.activeElement)||void 0===i?void 0:i.nodeName))return;const a=Math.abs(t.dragOffset.y);"y"===t.lockedAxis&&(a>=200||a>=50&&t.dragOffset.time<300)&&(r&&r.cancelable&&r.preventDefault(),this.close(r,"f-throwOut"+(t.current.f<0?"Up":"Down")))}))),i.on("change",(e=>{var t;let n=null===(t=this.getSlide())||void 0===t?void 0:t.triggerEl;if(n){const t=new CustomEvent("slideTo",{bubbles:!0,cancelable:!0,detail:e.page});n.dispatchEvent(t)}})),i.on(["refresh","change"],(e=>{const t=this.container;if(!t)return;for(const n of t.querySelectorAll("[data-fancybox-current-index]"))n.innerHTML=e.page+1;for(const n of t.querySelectorAll("[data-fancybox-count]"))n.innerHTML=e.pages.length;if(!e.isInfinite){for(const n of t.querySelectorAll("[data-fancybox-next]"))e.page<e.pages.length-1?(n.removeAttribute(lt),n.removeAttribute(ct)):(n.setAttribute(lt,""),n.setAttribute(ct,"-1"));for(const n of t.querySelectorAll("[data-fancybox-prev]"))e.page>0?(n.removeAttribute(lt),n.removeAttribute(ct)):(n.setAttribute(lt,""),n.setAttribute(ct,"-1"))}const n=this.getSlide();if(!n)return;let r=n.downloadSrc||"";r||"image"!==n.type||n.error||!ht(n[ft])||(r=n[ft]);for(const e of t.querySelectorAll("[data-fancybox-download]")){const t=n.downloadFilename;r?(e.removeAttribute(lt),e.removeAttribute(ct),e.setAttribute(dt,r),e.setAttribute(ut,t||r),e.setAttribute("target","_blank")):(e.setAttribute(lt,""),e.setAttribute(ct,"-1"),e.removeAttribute(dt),e.removeAttribute(ut))}})),this.emit("initCarousel")}attachEvents(){const e=this,t=e.container;if(!t)return;t.addEventListener("click",e.onClick,{passive:!1,capture:!1}),t.addEventListener("wheel",e.onWheel,{passive:!1,capture:!1}),document.addEventListener("keydown",e.onKeydown,{passive:!1,capture:!0}),document.addEventListener("visibilitychange",e.onVisibilityChange,!1),document.addEventListener("mousemove",e.onMousemove),e.option("trapFocus")&&document.addEventListener("focus",e.onFocus,!0),window.addEventListener("resize",e.onResize);const n=window.visualViewport;n&&(n.addEventListener("scroll",e.onResize),n.addEventListener("resize",e.onResize))}detachEvents(){const e=this,t=e.container;if(!t)return;document.removeEventListener("keydown",e.onKeydown,{passive:!1,capture:!0}),t.removeEventListener("wheel",e.onWheel,{passive:!1,capture:!1}),t.removeEventListener("click",e.onClick,{passive:!1,capture:!1}),document.removeEventListener("mousemove",e.onMousemove),window.removeEventListener("resize",e.onResize);const n=window.visualViewport;n&&(n.removeEventListener("resize",e.onResize),n.removeEventListener("scroll",e.onResize)),document.removeEventListener("visibilitychange",e.onVisibilityChange,!1),document.removeEventListener("focus",e.onFocus,!0)}scale(){const e=this.container;if(!e)return;const t=window.visualViewport,n=Math.max(1,(null==t?void 0:t.scale)||1);let r="",i="",o="";if(t&&n>1){let e=`${t.offsetLeft}px`,a=`${t.offsetTop}px`;r=t.width*n+"px",i=t.height*n+"px",o=`translate3d(${e}, ${a}, 0) scale(${1/n})`}e.style.transform=o,e.style.width=r,e.style.height=i}onClick(e){var t;const{container:n,isCompact:r}=this;if(!n||this.isClosing())return;!r&&this.option("idle")&&this.resetIdle();const i=e.composedPath()[0];if(i.closest(".fancybox-spinner")||i.closest("[data-fancybox-close]"))return e.preventDefault(),void this.close(e);if(i.closest("[data-fancybox-prev]"))return e.preventDefault(),void this.prev();if(i.closest("[data-fancybox-next]"))return e.preventDefault(),void this.next();if("click"===e.type&&0===e.detail)return;if(Math.abs(e.pageX-yt)>30||Math.abs(e.pageY-bt)>30)return;const o=document.activeElement;if(pt()&&o&&n.contains(o))return;if(r&&"image"===(null===(t=this.getSlide())||void 0===t?void 0:t.type))return void(this.clickTimer?(clearTimeout(this.clickTimer),this.clickTimer=null):this.clickTimer=setTimeout((()=>{this.toggleIdle(),this.clickTimer=null}),350));if(this.emit("click",e),e.defaultPrevented)return;let a=!1;if(i.closest(".fancybox__content")){if(o){if(o.closest("[contenteditable]"))return;i.matches(te)||o.blur()}if(pt())return;a=this.option("contentClick")}else i.closest(".fancybox__carousel")&&!i.matches(te)&&(a=this.option("backdropClick"));"close"===a?(e.preventDefault(),this.close(e)):"next"===a?(e.preventDefault(),this.next()):"prev"===a&&(e.preventDefault(),this.prev())}onWheel(e){const t=e.target;let n=this.option("wheel",e);t.closest(".fancybox__thumbs")&&(n="slide");const i="slide"===n,o=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce((function(e,t){return Math.abs(t)>Math.abs(e)?t:e})),a=Math.max(-1,Math.min(1,o)),s=Date.now();this.pwt&&s-this.pwt<300?i&&e.preventDefault():(this.pwt=s,this.emit("wheel",e,a),e.defaultPrevented||("close"===n?(e.preventDefault(),this.close(e)):"slide"===n&&(r(t)||(e.preventDefault(),this[a>0?"prev":"next"]()))))}onScroll(){window.scrollTo(wt,xt)}onKeydown(e){if(!this.isTopmost())return;this.isCompact||!this.option("idle")||this.isClosing()||this.resetIdle();const t=e.key,n=this.option("keyboard");if(!n)return;const r=e.composedPath()[0],i=document.activeElement&&document.activeElement.classList,o=i&&i.contains("f-button")||r.dataset.carouselPage||r.dataset.carouselIndex;if("Escape"!==t&&!o&&E(r)&&(r.isContentEditable||-1!==["TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].indexOf(r.nodeName)))return;if("Tab"===e.key?C(this.container,nt):S(this.container,nt),e.ctrlKey||e.altKey||e.shiftKey)return;this.emit("keydown",t,e);const a=n[t];a&&"function"==typeof this[a]&&(e.preventDefault(),this[a]())}onResize(){const e=this.container;if(!e)return;const t=this.isCompact;e.classList.toggle(it,t),this.manageCaption(this.getSlide()),this.isCompact?this.clearIdle():this.endIdle(),this.scale(),this.emit("resize")}onFocus(e){this.isTopmost()&&this.checkFocus(e)}onMousemove(e){this.prevMouseMoveEvent=e,!this.isCompact&&this.option("idle")&&this.resetIdle()}onVisibilityChange(){"visible"===document.visibilityState?this.checkFocus():this.endIdle()}manageCloseBtn(e){const t=this.optionFor(e,"closeButton")||!1;if("auto"===t){const e=this.plugins.Toolbar;if(e&&e.state===Ue.Ready)return}if(!t)return;if(!e.contentEl||e.closeBtnEl)return;const n=this.option("tpl.closeButton");if(n){const t=i(this.localize(n));e.closeBtnEl=e.contentEl.appendChild(t),e.el&&C(e.el,"has-close-btn")}}manageCaption(e=void 0){var t,n;const r="fancybox__caption",i=this.container;if(!i)return;S(i,st);const o=this.isCompact||this.option("commonCaption"),a=!o;if(this.caption&&this.stop(this.caption),a&&this.caption&&(this.caption.remove(),this.caption=null),o&&!this.caption)for(const e of(null===(t=this.carousel)||void 0===t?void 0:t.slides)||[])e.captionEl&&(e.captionEl.remove(),e.captionEl=void 0,S(e.el,st),null===(n=e.el)||void 0===n||n.removeAttribute("aria-labelledby"));if(e||(e=this.getSlide()),!e||o&&!this.isCurrentSlide(e))return;const s=e.el;let l=this.optionFor(e,"caption","");if(!l)return void(o&&this.caption&&this.animate(this.caption,"f-fadeOut",(()=>{this.caption&&(this.caption.innerHTML="")})));let c=null;if(a){if(c=e.captionEl||null,s&&!c){const t=r+`_${this.id}_${e.index}`;c=document.createElement("div"),C(c,r),c.setAttribute("id",t),e.captionEl=s.appendChild(c),C(s,st),s.setAttribute("aria-labelledby",t)}}else c=this.caption,c||(c=i.querySelector("."+r)),c||(c=document.createElement("div"),c.dataset.fancyboxCaption="",C(c,r),(this.footer||i).prepend(c)),C(i,st),this.caption=c;c&&(c.innerHTML="",ht(l)||"number"==typeof l?c.innerHTML=l+"":l instanceof HTMLElement&&c.appendChild(l))}checkFocus(e){this.focus(e)}focus(e){var t;if(this.ignoreFocusChange)return;const n=document.activeElement||null,r=(null==e?void 0:e.target)||null,i=this.container,o=null===(t=this.carousel)||void 0===t?void 0:t.viewport;if(!i||!o)return;if(!e&&n&&i.contains(n))return;const a=this.getSlide(),s=a&&a.state===ae.Ready?a.el:null;if(!s||s.contains(n)||i===n)return;e&&e.cancelable&&e.preventDefault(),this.ignoreFocusChange=!0;const l=Array.from(i.querySelectorAll(te));let c=[],u=null;for(let e of l){const t=!e.offsetParent||!!e.closest('[aria-hidden="true"]'),n=s&&s.contains(e),r=!o.contains(e);if(e===i||(n||r)&&!t){c.push(e);const t=e.dataset.origTabindex;void 0!==t&&t&&(e.tabIndex=parseFloat(t)),e.removeAttribute("data-orig-tabindex"),!e.hasAttribute("autoFocus")&&u||(u=e)}else{const t=void 0===e.dataset.origTabindex?e.getAttribute("tabindex")||"":e.dataset.origTabindex;t&&(e.dataset.origTabindex=t),e.tabIndex=-1}}let d=null;e?(!r||c.indexOf(r)<0)&&(d=u||i,c.length&&(n===vt?d=c[0]:this.lastFocus!==i&&n!==gt||(d=c[c.length-1]))):d=a&&"image"===a.type?i:u||i,d&&ne(d),this.lastFocus=document.activeElement,this.ignoreFocusChange=!1}next(){const e=this.carousel;e&&e.pages.length>1&&e.slideNext()}prev(){const e=this.carousel;e&&e.pages.length>1&&e.slidePrev()}jumpTo(...e){this.carousel&&this.carousel.slideTo(...e)}isTopmost(){var e;return(null===(e=St.getInstance())||void 0===e?void 0:e.id)==this.id}animate(e=null,t="",n){if(!e||!t)return void(n&&n());this.stop(e);const r=i=>{i.target===e&&e.dataset.animationName&&(e.removeEventListener("animationend",r),delete e.dataset.animationName,n&&n(),S(e,t))};e.dataset.animationName=t,e.addEventListener("animationend",r),C(e,t)}stop(e){e&&e.dispatchEvent(new CustomEvent("animationend",{bubbles:!1,cancelable:!0,currentTarget:e}))}setContent(e,t="",n=!0){if(this.isClosing())return;const r=e.el;if(!r)return;let o=null;if(E(t)?o=t:(o=i(t+""),E(o)||(o=document.createElement("div"),o.innerHTML=t+"")),["img","picture","iframe","video","audio"].includes(o.nodeName.toLowerCase())){const e=document.createElement("div");e.appendChild(o),o=e}E(o)&&e.filter&&!e.error&&(o=o.querySelector(e.filter)),o&&E(o)?(C(o,"fancybox__content"),e.id&&o.setAttribute("id",e.id),r.classList.add(`has-${e.error?"error":e.type||"unknown"}`),r.prepend(o),"none"===o.style.display&&(o.style.display=""),"none"===getComputedStyle(o).getPropertyValue("display")&&(o.style.display=e.display||this.option("defaultDisplay")||"flex"),e.contentEl=o,n&&this.revealContent(e),this.manageCloseBtn(e),this.manageCaption(e)):this.setError(e,"{{ELEMENT_NOT_FOUND}}")}revealContent(e,t){const n=e.el,r=e.contentEl;n&&r&&(this.emit("reveal",e),this.hideLoading(e),e.state=ae.Opening,(t=this.isOpeningSlide(e)?void 0===t?this.optionFor(e,"showClass"):t:"f-fadeIn")?this.animate(r,t,(()=>{this.done(e)})):this.done(e))}done(e){this.isClosing()||(e.state=ae.Ready,this.emit("done",e),C(e.el,"is-done"),this.isCurrentSlide(e)&&this.option("autoFocus")&&queueMicrotask((()=>{var t;null===(t=e.panzoom)||void 0===t||t.updateControls(),this.option("autoFocus")&&this.focus()})),this.isOpeningSlide(e)&&(S(this.container,at),!this.isCompact&&this.option("idle")&&this.setIdle()))}isCurrentSlide(e){const t=this.getSlide();return!(!e||!t)&&t.index===e.index}isOpeningSlide(e){var t,n;return null===(null===(t=this.carousel)||void 0===t?void 0:t.prevPage)&&e&&e.index===(null===(n=this.getSlide())||void 0===n?void 0:n.index)}showLoading(e){e.state=ae.Loading;const t=e.el;t&&(C(t,ot),this.emit("loading",e),e.spinnerEl||setTimeout((()=>{if(!this.isClosing()&&!e.spinnerEl&&e.state===ae.Loading){let n=i(_);C(n,"fancybox-spinner"),e.spinnerEl=n,t.prepend(n),this.animate(n,"f-fadeIn")}}),250))}hideLoading(e){const t=e.el;if(!t)return;const n=e.spinnerEl;this.isClosing()?null==n||n.remove():(S(t,ot),n&&this.animate(n,"f-fadeOut",(()=>{n.remove()})),e.state===ae.Loading&&(this.emit("loaded",e),e.state=ae.Ready))}setError(e,t){if(this.isClosing())return;const n=new Event("error",{bubbles:!0,cancelable:!0});if(this.emit("error",n,e),n.defaultPrevented)return;e.error=t,this.hideLoading(e),this.clearContent(e);const r=document.createElement("div");r.classList.add("fancybox-error"),r.innerHTML=this.localize(t||"<p>{{ERROR}}</p>"),this.setContent(e,r)}clearContent(e){if(void 0===e.state)return;this.emit("clearContent",e),e.contentEl&&(e.contentEl.remove(),e.contentEl=void 0);const t=e.el;t&&(S(t,"has-error"),S(t,"has-unknown"),S(t,`has-${e.type||"unknown"}`)),e.closeBtnEl&&e.closeBtnEl.remove(),e.closeBtnEl=void 0,e.captionEl&&e.captionEl.remove(),e.captionEl=void 0,e.spinnerEl&&e.spinnerEl.remove(),e.spinnerEl=void 0}getSlide(){var e;const t=this.carousel;return(null===(e=null==t?void 0:t.pages[null==t?void 0:t.page])||void 0===e?void 0:e.slides[0])||void 0}close(e,t){if(this.isClosing())return;const n=new Event("shouldClose",{bubbles:!0,cancelable:!0});if(this.emit("shouldClose",n,e),n.defaultPrevented)return;e&&e.cancelable&&(e.preventDefault(),e.stopPropagation());const r=()=>{this.proceedClose(e,t)};this.startedFs&&mt&&mt.isFullscreen()?Promise.resolve(mt.exit()).then((()=>r())):r()}clearIdle(){this.idleTimer&&clearTimeout(this.idleTimer),this.idleTimer=null}setIdle(e=!1){const t=()=>{this.clearIdle(),this.idle=!0,C(this.container,"is-idle"),this.emit("setIdle")};if(this.clearIdle(),!this.isClosing())if(e)t();else{const e=this.option("idle");e&&(this.idleTimer=setTimeout(t,e))}}endIdle(){this.clearIdle(),this.idle&&!this.isClosing()&&(this.idle=!1,S(this.container,"is-idle"),this.emit("endIdle"))}resetIdle(){this.endIdle(),this.setIdle()}toggleIdle(){this.idle?this.endIdle():this.setIdle(!0)}toggleFullscreen(){mt&&(mt.isFullscreen()?mt.exit():mt.request().then((()=>{this.startedFs=!0})))}isClosing(){return[oe.Closing,oe.CustomClosing,oe.Destroy].includes(this.state)}proceedClose(e,t){var n,r;this.state=oe.Closing,this.clearIdle(),this.detachEvents();const i=this.container,o=this.carousel,a=this.getSlide(),s=a&&this.option("placeFocusBack")?a.triggerEl||this.option("triggerEl"):null;if(s&&(Q(s)?ne(s):s.focus()),i&&(S(i,at),C(i,"is-closing"),i.setAttribute(tt,"true"),this.option("animated")&&C(i,rt),i.style.pointerEvents="none"),o){o.clearTransitions(),null===(n=o.panzoom)||void 0===n||n.destroy(),null===(r=o.plugins.Navigation)||void 0===r||r.detach();for(const e of o.slides){e.state=ae.Closing,this.hideLoading(e);const t=e.contentEl;t&&this.stop(t);const n=null==e?void 0:e.panzoom;n&&(n.stop(),n.detachEvents(),n.detachObserver()),this.isCurrentSlide(e)||o.emit("removeSlide",e)}}wt=window.scrollX,xt=window.scrollY,window.addEventListener("scroll",this.onScroll),this.emit("close",e),this.state!==oe.CustomClosing?(void 0===t&&a&&(t=this.optionFor(a,"hideClass")),t&&a?(this.animate(a.contentEl,t,(()=>{o&&o.emit("removeSlide",a)})),setTimeout((()=>{this.destroy()}),500)):this.destroy()):setTimeout((()=>{this.destroy()}),500)}destroy(){var e;if(this.state===oe.Destroy)return;window.removeEventListener("scroll",this.onScroll),this.state=oe.Destroy,null===(e=this.carousel)||void 0===e||e.destroy();const t=this.container;t&&t.remove(),_t.delete(this.id);const n=St.getInstance();n?n.focus():(gt&&(gt.remove(),gt=null),vt&&(vt.remove(),vt=null),S(document.documentElement,Ze),(()=>{if(!J)return;const e=document,t=e.body;t.classList.remove(Qe),t.style.setProperty(et,""),e.documentElement.style.setProperty(Je,"")})(),this.emit("destroy"))}static bind(e,t,n){if(!J)return;let r,i="",o={};if(void 0===e?r=document.body:ht(e)?(r=document.body,i=e,"object"==typeof t&&(o=t||{})):(r=e,ht(t)&&(i=t),"object"==typeof n&&(o=n||{})),!r||!E(r))return;i=i||"[data-fancybox]";const a=St.openers.get(r)||new Map;a.set(i,o),St.openers.set(r,a),1===a.size&&r.addEventListener("click",St.fromEvent)}static unbind(e,t){let n,r="";if(ht(e)?(n=document.body,r=e):(n=e,ht(t)&&(r=t)),!n)return;const i=St.openers.get(n);i&&r&&i.delete(r),r&&i||(St.openers.delete(n),n.removeEventListener("click",St.fromEvent))}static destroy(){let e;for(;e=St.getInstance();)e.destroy();for(const e of St.openers.keys())e.removeEventListener("click",St.fromEvent);St.openers=new Map}static fromEvent(e){if(e.defaultPrevented)return;if(e.button&&0!==e.button)return;if(e.ctrlKey||e.metaKey||e.shiftKey)return;let t=e.composedPath()[0];const n=t.closest("[data-fancybox-trigger]");if(n){const e=n.dataset.fancyboxTrigger||"",r=document.querySelectorAll(`[data-fancybox="${e}"]`),i=parseInt(n.dataset.fancyboxIndex||"",10)||0;t=r[i]||t}if(!(t&&t instanceof Element))return;let r,i,o,a;if([...St.openers].reverse().find((([e,n])=>!(!e.contains(t)||![...n].reverse().find((([n,s])=>{let l=t.closest(n);return!!l&&(r=e,i=n,o=l,a=s,!0)}))))),!r||!i||!o)return;a=a||{},e.preventDefault(),t=o;let s=[],l=h({},ie,a);l.event=e,l.triggerEl=t,l.delegate=n;const c=l.groupAll,u=l.groupAttr,d=u&&t?t.getAttribute(`${u}`):"";if((!t||d||c)&&(s=[].slice.call(r.querySelectorAll(i))),t&&!c&&(s=d?s.filter((e=>e.getAttribute(`${u}`)===d)):[t]),!s.length)return;const f=St.getInstance();return f&&f.options.triggerEl&&s.indexOf(f.options.triggerEl)>-1?void 0:(t&&(l.startIndex=s.indexOf(t)),St.fromNodes(s,l))}static fromSelector(e,t,n){let r=null,i="",o={};if(ht(e)?(r=document.body,i=e,"object"==typeof t&&(o=t||{})):e instanceof HTMLElement&&ht(t)&&(r=e,i=t,"object"==typeof n&&(o=n||{})),!r||!i)return!1;const a=St.openers.get(r);return!!a&&(o=h({},a.get(i)||{},o),!!o&&St.fromNodes(Array.from(r.querySelectorAll(i)),o))}static fromNodes(e,t){t=h({},ie,t||{});const n=[];for(const r of e){const e=r.dataset||{},i=e[ft]||r.getAttribute(dt)||r.getAttribute("currentSrc")||r.getAttribute(ft)||void 0;let o;const a=t.delegate;let s;a&&n.length===t.startIndex&&(o=a instanceof HTMLImageElement?a:a.querySelector("img:not([aria-hidden])")),o||(o=r instanceof HTMLImageElement?r:r.querySelector("img:not([aria-hidden])")),o&&(s=o.currentSrc||o[ft]||void 0,!s&&o.dataset&&(s=o.dataset.lazySrc||o.dataset[ft]||void 0));const l={src:i,triggerEl:r,thumbEl:o,thumbElSrc:s,thumbSrc:s};for(const t in e){let n=e[t]+"";n="false"!==n&&("true"===n||n),l[t]=n}n.push(l)}return new St(n,t)}static getInstance(e){return e?_t.get(e):Array.from(_t.values()).reverse().find((e=>!e.isClosing()&&e))||null}static getSlide(){var e;return(null===(e=St.getInstance())||void 0===e?void 0:e.getSlide())||null}static show(e=[],t={}){return new St(e,t)}static next(){const e=St.getInstance();e&&e.next()}static prev(){const e=St.getInstance();e&&e.prev()}static close(e=!0,...t){if(e)for(const e of _t.values())e.close(...t);else{const e=St.getInstance();e&&e.close(...t)}}}Object.defineProperty(St,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.36"}),Object.defineProperty(St,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:ie}),Object.defineProperty(St,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:Ke}),Object.defineProperty(St,"openers",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),e.Carousel=Z,e.Fancybox=St,e.Panzoom=M}(t)},252:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(i of t.entries())if(!n.has(i[0]))return!1;for(i of t.entries())if(!e(i[1],n.get(i[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(i of t.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(t[i]!==n[i])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){var a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n}},802:e=>{e.exports=function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var l=n[a]={exports:{}};t[a][0].call(l.exports,(function(e){return i(t[a][1][e]||e)}),l,l.exports,e,t,n,r)}return n[a].exports}for(var o=void 0,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){(function(r,i,o,a,s,l,c,u,d){"use strict";var f=e("crypto");function h(e,t){return function(e,t){var n;if(void 0===(n="passthrough"!==t.algorithm?f.createHash(t.algorithm):new b).write&&(n.write=n.update,n.end=n.update),y(t,n).dispatch(e),n.update||n.end(""),n.digest)return n.digest("buffer"===t.encoding?void 0:t.encoding);var r=n.read();return"buffer"!==t.encoding?r.toString(t.encoding):r}(e,t=g(e,t))}(n=t.exports=h).sha1=function(e){return h(e)},n.keys=function(e){return h(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},n.MD5=function(e){return h(e,{algorithm:"md5",encoding:"hex"})},n.keysMD5=function(e){return h(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var p=f.getHashes?f.getHashes().slice():["sha1","md5"];p.push("passthrough");var m=["buffer","hex","binary","base64"];function g(e,t){t=t||{};var n={};if(n.algorithm=t.algorithm||"sha1",n.encoding=t.encoding||"hex",n.excludeValues=!!t.excludeValues,n.algorithm=n.algorithm.toLowerCase(),n.encoding=n.encoding.toLowerCase(),n.ignoreUnknown=!0===t.ignoreUnknown,n.respectType=!1!==t.respectType,n.respectFunctionNames=!1!==t.respectFunctionNames,n.respectFunctionProperties=!1!==t.respectFunctionProperties,n.unorderedArrays=!0===t.unorderedArrays,n.unorderedSets=!1!==t.unorderedSets,n.unorderedObjects=!1!==t.unorderedObjects,n.replacer=t.replacer||void 0,n.excludeKeys=t.excludeKeys||void 0,void 0===e)throw new Error("Object argument required.");for(var r=0;r<p.length;++r)p[r].toLowerCase()===n.algorithm.toLowerCase()&&(n.algorithm=p[r]);if(-1===p.indexOf(n.algorithm))throw new Error('Algorithm "'+n.algorithm+'"  not supported. supported values: '+p.join(", "));if(-1===m.indexOf(n.encoding)&&"passthrough"!==n.algorithm)throw new Error('Encoding "'+n.encoding+'"  not supported. supported values: '+m.join(", "));return n}function v(e){if("function"==typeof e)return null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))}function y(e,t,n){function r(e){return t.update?t.update(e,"utf8"):t.write(e,"utf8")}return n=n||[],{dispatch:function(t){return e.replacer&&(t=e.replacer(t)),this["_"+(null===t?"null":typeof t)](t)},_object:function(t){var i,a=Object.prototype.toString.call(t),s=/\[object (.*)\]/i.exec(a);if(s=(s=s?s[1]:"unknown:["+a+"]").toLowerCase(),0<=(i=n.indexOf(t)))return this.dispatch("[CIRCULAR:"+i+"]");if(n.push(t),void 0!==o&&o.isBuffer&&o.isBuffer(t))return r("buffer:"),r(t);if("object"===s||"function"===s||"asyncfunction"===s){var l=Object.keys(t);e.unorderedObjects&&(l=l.sort()),!1===e.respectType||v(t)||l.splice(0,0,"prototype","__proto__","constructor"),e.excludeKeys&&(l=l.filter((function(t){return!e.excludeKeys(t)}))),r("object:"+l.length+":");var c=this;return l.forEach((function(n){c.dispatch(n),r(":"),e.excludeValues||c.dispatch(t[n]),r(",")}))}if(!this["_"+s]){if(e.ignoreUnknown)return r("["+s+"]");throw new Error('Unknown object type "'+s+'"')}this["_"+s](t)},_array:function(t,i){i=void 0!==i?i:!1!==e.unorderedArrays;var o=this;if(r("array:"+t.length+":"),!i||t.length<=1)return t.forEach((function(e){return o.dispatch(e)}));var a=[],s=t.map((function(t){var r=new b,i=n.slice();return y(e,r,i).dispatch(t),a=a.concat(i.slice(n.length)),r.read().toString()}));return n=n.concat(a),s.sort(),this._array(s,!1)},_date:function(e){return r("date:"+e.toJSON())},_symbol:function(e){return r("symbol:"+e.toString())},_error:function(e){return r("error:"+e.toString())},_boolean:function(e){return r("bool:"+e.toString())},_string:function(e){r("string:"+e.length+":"),r(e.toString())},_function:function(t){r("fn:"),v(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this._object(t)},_number:function(e){return r("number:"+e.toString())},_xml:function(e){return r("xml:"+e.toString())},_null:function(){return r("Null")},_undefined:function(){return r("Undefined")},_regexp:function(e){return r("regex:"+e.toString())},_uint8array:function(e){return r("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint8clampedarray:function(e){return r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},_int8array:function(e){return r("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint16array:function(e){return r("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_int16array:function(e){return r("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_uint32array:function(e){return r("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_int32array:function(e){return r("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_float32array:function(e){return r("float32array:"),this.dispatch(Array.prototype.slice.call(e))},_float64array:function(e){return r("float64array:"),this.dispatch(Array.prototype.slice.call(e))},_arraybuffer:function(e){return r("arraybuffer:"),this.dispatch(new Uint8Array(e))},_url:function(e){return r("url:"+e.toString())},_map:function(t){r("map:");var n=Array.from(t);return this._array(n,!1!==e.unorderedSets)},_set:function(t){r("set:");var n=Array.from(t);return this._array(n,!1!==e.unorderedSets)},_file:function(e){return r("file:"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},_blob:function(){if(e.ignoreUnknown)return r("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return r("domwindow")},_bigint:function(e){return r("bigint:"+e.toString())},_process:function(){return r("process")},_timer:function(){return r("timer")},_pipe:function(){return r("pipe")},_tcp:function(){return r("tcp")},_udp:function(){return r("udp")},_tty:function(){return r("tty")},_statwatcher:function(){return r("statwatcher")},_securecontext:function(){return r("securecontext")},_connection:function(){return r("connection")},_zlib:function(){return r("zlib")},_context:function(){return r("context")},_nodescript:function(){return r("nodescript")},_httpparser:function(){return r("httpparser")},_dataview:function(){return r("dataview")},_signal:function(){return r("signal")},_fsevent:function(){return r("fsevent")},_tlswrap:function(){return r("tlswrap")}}}function b(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}n.writeToStream=function(e,t,n){return void 0===n&&(n=t,t={}),y(t=g(e,t),n).dispatch(e)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_7eac155c.js","/")},{buffer:3,crypto:5,lYpoI2:10}],2:[function(e,t,n){(function(e,t,r,i,o,a,s,l,c){!function(e){"use strict";var t="undefined"!=typeof Uint8Array?Uint8Array:Array,n="+".charCodeAt(0),r="/".charCodeAt(0),i="0".charCodeAt(0),o="a".charCodeAt(0),a="A".charCodeAt(0),s="-".charCodeAt(0),l="_".charCodeAt(0);function c(e){var t=e.charCodeAt(0);return t===n||t===s?62:t===r||t===l?63:t<i?-1:t<i+10?t-i+26+26:t<a+26?t-a:t<o+26?t-o+26:void 0}e.toByteArray=function(e){var n,r;if(0<e.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.length,o="="===e.charAt(i-2)?2:"="===e.charAt(i-1)?1:0,a=new t(3*e.length/4-o),s=0<o?e.length-4:e.length,l=0;function u(e){a[l++]=e}for(n=0;n<s;n+=4,0)u((16711680&(r=c(e.charAt(n))<<18|c(e.charAt(n+1))<<12|c(e.charAt(n+2))<<6|c(e.charAt(n+3))))>>16),u((65280&r)>>8),u(255&r);return 2==o?u(255&(r=c(e.charAt(n))<<2|c(e.charAt(n+1))>>4)):1==o&&(u((r=c(e.charAt(n))<<10|c(e.charAt(n+1))<<4|c(e.charAt(n+2))>>2)>>8&255),u(255&r)),a},e.fromByteArray=function(e){var t,n,r,i,o=e.length%3,a="";function s(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)}for(t=0,r=e.length-o;t<r;t+=3)a+=s((i=n=(e[t]<<16)+(e[t+1]<<8)+e[t+2])>>18&63)+s(i>>12&63)+s(i>>6&63)+s(63&i);switch(o){case 1:a+=s((n=e[e.length-1])>>2),a+=s(n<<4&63),a+="==";break;case 2:a+=s((n=(e[e.length-2]<<8)+e[e.length-1])>>10),a+=s(n>>4&63),a+=s(n<<2&63),a+="="}return a}}(void 0===n?this.base64js={}:n)}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:10}],3:[function(e,t,n){(function(t,r,i,o,a,s,l,c,u){var d=e("base64-js"),f=e("ieee754");function i(e,t,n){if(!(this instanceof i))return new i(e,t,n);var r,o,a,s,l,c=typeof e;if("base64"===t&&"string"==c)for(e=(r=e).trim?r.trim():r.replace(/^\s+|\s+$/g,"");e.length%4!=0;)e+="=";if("number"==c)o=P(e);else if("string"==c)o=i.byteLength(e,t);else{if("object"!=c)throw new Error("First argument needs to be a number, array or string.");o=P(e.length)}if(i._useTypedArrays?a=i._augment(new Uint8Array(o)):((a=this).length=o,a._isBuffer=!0),i._useTypedArrays&&"number"==typeof e.byteLength)a._set(e);else if(j(l=e)||i.isBuffer(l)||l&&"object"==typeof l&&"number"==typeof l.length)for(s=0;s<o;s++)i.isBuffer(e)?a[s]=e.readUInt8(s):a[s]=e[s];else if("string"==c)a.write(e,0,t);else if("number"==c&&!i._useTypedArrays&&!n)for(s=0;s<o;s++)a[s]=0;return a}function h(e,t,n,r){r||(F("boolean"==typeof n,"missing or invalid endian"),F(null!=t,"missing offset"),F(t+1<e.length,"Trying to read beyond buffer length"));var i,o=e.length;if(!(o<=t))return n?(i=e[t],t+1<o&&(i|=e[t+1]<<8)):(i=e[t]<<8,t+1<o&&(i|=e[t+1])),i}function p(e,t,n,r){r||(F("boolean"==typeof n,"missing or invalid endian"),F(null!=t,"missing offset"),F(t+3<e.length,"Trying to read beyond buffer length"));var i,o=e.length;if(!(o<=t))return n?(t+2<o&&(i=e[t+2]<<16),t+1<o&&(i|=e[t+1]<<8),i|=e[t],t+3<o&&(i+=e[t+3]<<24>>>0)):(t+1<o&&(i=e[t+1]<<16),t+2<o&&(i|=e[t+2]<<8),t+3<o&&(i|=e[t+3]),i+=e[t]<<24>>>0),i}function m(e,t,n,r){if(r||(F("boolean"==typeof n,"missing or invalid endian"),F(null!=t,"missing offset"),F(t+1<e.length,"Trying to read beyond buffer length")),!(e.length<=t)){var i=h(e,t,n,!0);return 32768&i?-1*(65535-i+1):i}}function g(e,t,n,r){if(r||(F("boolean"==typeof n,"missing or invalid endian"),F(null!=t,"missing offset"),F(t+3<e.length,"Trying to read beyond buffer length")),!(e.length<=t)){var i=p(e,t,n,!0);return 2147483648&i?-1*(4294967295-i+1):i}}function v(e,t,n,r){return r||(F("boolean"==typeof n,"missing or invalid endian"),F(t+3<e.length,"Trying to read beyond buffer length")),f.read(e,t,n,23,4)}function y(e,t,n,r){return r||(F("boolean"==typeof n,"missing or invalid endian"),F(t+7<e.length,"Trying to read beyond buffer length")),f.read(e,t,n,52,8)}function b(e,t,n,r,i){i||(F(null!=t,"missing value"),F("boolean"==typeof r,"missing or invalid endian"),F(null!=n,"missing offset"),F(n+1<e.length,"trying to write beyond buffer length"),M(t,65535));var o=e.length;if(!(o<=n))for(var a=0,s=Math.min(o-n,2);a<s;a++)e[n+a]=(t&255<<8*(r?a:1-a))>>>8*(r?a:1-a)}function w(e,t,n,r,i){i||(F(null!=t,"missing value"),F("boolean"==typeof r,"missing or invalid endian"),F(null!=n,"missing offset"),F(n+3<e.length,"trying to write beyond buffer length"),M(t,4294967295));var o=e.length;if(!(o<=n))for(var a=0,s=Math.min(o-n,4);a<s;a++)e[n+a]=t>>>8*(r?a:3-a)&255}function x(e,t,n,r,i){i||(F(null!=t,"missing value"),F("boolean"==typeof r,"missing or invalid endian"),F(null!=n,"missing offset"),F(n+1<e.length,"Trying to write beyond buffer length"),N(t,32767,-32768)),e.length<=n||b(e,0<=t?t:65535+t+1,n,r,i)}function _(e,t,n,r,i){i||(F(null!=t,"missing value"),F("boolean"==typeof r,"missing or invalid endian"),F(null!=n,"missing offset"),F(n+3<e.length,"Trying to write beyond buffer length"),N(t,2147483647,-2147483648)),e.length<=n||w(e,0<=t?t:4294967295+t+1,n,r,i)}function E(e,t,n,r,i){i||(F(null!=t,"missing value"),F("boolean"==typeof r,"missing or invalid endian"),F(null!=n,"missing offset"),F(n+3<e.length,"Trying to write beyond buffer length"),R(t,34028234663852886e22,-34028234663852886e22)),e.length<=n||f.write(e,t,n,r,23,4)}function S(e,t,n,r,i){i||(F(null!=t,"missing value"),F("boolean"==typeof r,"missing or invalid endian"),F(null!=n,"missing offset"),F(n+7<e.length,"Trying to write beyond buffer length"),R(t,17976931348623157e292,-17976931348623157e292)),e.length<=n||f.write(e,t,n,r,52,8)}n.Buffer=i,n.SlowBuffer=i,n.INSPECT_MAX_BYTES=50,i.poolSize=8192,i._useTypedArrays=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray}catch(e){return!1}}(),i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.byteLength=function(e,t){var n;switch(e+="",t||"utf8"){case"hex":n=e.length/2;break;case"utf8":case"utf-8":n=k(e).length;break;case"ascii":case"binary":case"raw":n=e.length;break;case"base64":n=T(e).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*e.length;break;default:throw new Error("Unknown encoding")}return n},i.concat=function(e,t){if(F(j(e),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===e.length)return new i(0);if(1===e.length)return e[0];if("number"!=typeof t)for(o=t=0;o<e.length;o++)t+=e[o].length;for(var n=new i(t),r=0,o=0;o<e.length;o++){var a=e[o];a.copy(n,r),r+=a.length}return n},i.prototype.write=function(e,t,n,r){var o;isFinite(t)?isFinite(n)||(r=n,n=void 0):(o=r,r=t,t=n,n=o),t=Number(t)||0;var a,s,l,c,u,d,f,h=this.length-t;switch((!n||h<(n=Number(n)))&&(n=h),r=String(r||"utf8").toLowerCase()){case"hex":a=function(e,t,n,r){n=Number(n)||0;var o=e.length-n;(!r||o<(r=Number(r)))&&(r=o);var a=t.length;F(a%2==0,"Invalid hex string"),a/2<r&&(r=a/2);for(var s=0;s<r;s++){var l=parseInt(t.substr(2*s,2),16);F(!isNaN(l),"Invalid hex string"),e[n+s]=l}return i._charsWritten=2*s,s}(this,e,t,n);break;case"utf8":case"utf-8":u=e,d=t,f=n,a=i._charsWritten=I(k(u),this,d,f);break;case"ascii":case"binary":a=function(e,t,n,r){return i._charsWritten=I(function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}(this,e,t,n);break;case"base64":s=e,l=t,c=n,a=i._charsWritten=I(T(s),this,l,c);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":a=function(e,t,n,r){return i._charsWritten=I(function(e){for(var t,n,r,i=[],o=0;o<e.length;o++)n=(t=e.charCodeAt(o))>>8,r=t%256,i.push(r),i.push(n);return i}(t),e,n,r)}(this,e,t,n);break;default:throw new Error("Unknown encoding")}return a},i.prototype.toString=function(e,t,n){var r,i,o,a,s=this;if(e=String(e||"utf8").toLowerCase(),t=Number(t)||0,(n=void 0!==n?Number(n):n=s.length)===t)return"";switch(e){case"hex":r=function(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||r<n)&&(n=r);for(var i="",o=t;o<n;o++)i+=L(e[o]);return i}(s,t,n);break;case"utf8":case"utf-8":r=function(e,t,n){var r="",i="";n=Math.min(e.length,n);for(var o=t;o<n;o++)e[o]<=127?(r+=A(i)+String.fromCharCode(e[o]),i=""):i+="%"+e[o].toString(16);return r+A(i)}(s,t,n);break;case"ascii":case"binary":r=function(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;i++)r+=String.fromCharCode(e[i]);return r}(s,t,n);break;case"base64":i=s,a=n,r=0===(o=t)&&a===i.length?d.fromByteArray(i):d.fromByteArray(i.slice(o,a));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=function(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}(s,t,n);break;default:throw new Error("Unknown encoding")}return r},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},i.prototype.copy=function(e,t,n,r){if(n=n||0,r||0===r||(r=this.length),t=t||0,r!==n&&0!==e.length&&0!==this.length){F(n<=r,"sourceEnd < sourceStart"),F(0<=t&&t<e.length,"targetStart out of bounds"),F(0<=n&&n<this.length,"sourceStart out of bounds"),F(0<=r&&r<=this.length,"sourceEnd out of bounds"),r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o=r-n;if(o<100||!i._useTypedArrays)for(var a=0;a<o;a++)e[a+t]=this[a+n];else e._set(this.subarray(n,n+o),t)}},i.prototype.slice=function(e,t){var n=this.length;if(e=O(e,n,0),t=O(t,n,n),i._useTypedArrays)return i._augment(this.subarray(e,t));for(var r=t-e,o=new i(r,void 0,!0),a=0;a<r;a++)o[a]=this[a+e];return o},i.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},i.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},i.prototype.readUInt8=function(e,t){if(t||(F(null!=e,"missing offset"),F(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return this[e]},i.prototype.readUInt16LE=function(e,t){return h(this,e,!0,t)},i.prototype.readUInt16BE=function(e,t){return h(this,e,!1,t)},i.prototype.readUInt32LE=function(e,t){return p(this,e,!0,t)},i.prototype.readUInt32BE=function(e,t){return p(this,e,!1,t)},i.prototype.readInt8=function(e,t){if(t||(F(null!=e,"missing offset"),F(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return 128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){return m(this,e,!0,t)},i.prototype.readInt16BE=function(e,t){return m(this,e,!1,t)},i.prototype.readInt32LE=function(e,t){return g(this,e,!0,t)},i.prototype.readInt32BE=function(e,t){return g(this,e,!1,t)},i.prototype.readFloatLE=function(e,t){return v(this,e,!0,t)},i.prototype.readFloatBE=function(e,t){return v(this,e,!1,t)},i.prototype.readDoubleLE=function(e,t){return y(this,e,!0,t)},i.prototype.readDoubleBE=function(e,t){return y(this,e,!1,t)},i.prototype.writeUInt8=function(e,t,n){n||(F(null!=e,"missing value"),F(null!=t,"missing offset"),F(t<this.length,"trying to write beyond buffer length"),M(e,255)),t>=this.length||(this[t]=e)},i.prototype.writeUInt16LE=function(e,t,n){b(this,e,t,!0,n)},i.prototype.writeUInt16BE=function(e,t,n){b(this,e,t,!1,n)},i.prototype.writeUInt32LE=function(e,t,n){w(this,e,t,!0,n)},i.prototype.writeUInt32BE=function(e,t,n){w(this,e,t,!1,n)},i.prototype.writeInt8=function(e,t,n){n||(F(null!=e,"missing value"),F(null!=t,"missing offset"),F(t<this.length,"Trying to write beyond buffer length"),N(e,127,-128)),t>=this.length||(0<=e?this.writeUInt8(e,t,n):this.writeUInt8(255+e+1,t,n))},i.prototype.writeInt16LE=function(e,t,n){x(this,e,t,!0,n)},i.prototype.writeInt16BE=function(e,t,n){x(this,e,t,!1,n)},i.prototype.writeInt32LE=function(e,t,n){_(this,e,t,!0,n)},i.prototype.writeInt32BE=function(e,t,n){_(this,e,t,!1,n)},i.prototype.writeFloatLE=function(e,t,n){E(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){E(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){S(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){S(this,e,t,!1,n)},i.prototype.fill=function(e,t,n){if(e=e||0,t=t||0,n=n||this.length,"string"==typeof e&&(e=e.charCodeAt(0)),F("number"==typeof e&&!isNaN(e),"value is not a number"),F(t<=n,"end < start"),n!==t&&0!==this.length){F(0<=t&&t<this.length,"start out of bounds"),F(0<=n&&n<=this.length,"end out of bounds");for(var r=t;r<n;r++)this[r]=e}},i.prototype.inspect=function(){for(var e=[],t=this.length,r=0;r<t;r++)if(e[r]=L(this[r]),r===n.INSPECT_MAX_BYTES){e[r+1]="...";break}return"<Buffer "+e.join(" ")+">"},i.prototype.toArrayBuffer=function(){if("undefined"==typeof Uint8Array)throw new Error("Buffer.toArrayBuffer not supported in this browser");if(i._useTypedArrays)return new i(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;t<n;t+=1)e[t]=this[t];return e.buffer};var C=i.prototype;function O(e,t,n){return"number"!=typeof e?n:t<=(e=~~e)?t:0<=e||0<=(e+=t)?e:0}function P(e){return(e=~~Math.ceil(+e))<0?0:e}function j(e){return(Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)}function L(e){return e<16?"0"+e.toString(16):e.toString(16)}function k(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(e.charCodeAt(n));else{var i=n;55296<=r&&r<=57343&&n++;for(var o=encodeURIComponent(e.slice(i,n+1)).substr(1).split("%"),a=0;a<o.length;a++)t.push(parseInt(o[a],16))}}return t}function T(e){return d.toByteArray(e)}function I(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);i++)t[i+n]=e[i];return i}function A(e){try{return decodeURIComponent(e)}catch(e){return String.fromCharCode(65533)}}function M(e,t){F("number"==typeof e,"cannot write a non-number as a number"),F(0<=e,"specified a negative value for writing an unsigned value"),F(e<=t,"value is larger than maximum value for type"),F(Math.floor(e)===e,"value has a fractional component")}function N(e,t,n){F("number"==typeof e,"cannot write a non-number as a number"),F(e<=t,"value larger than maximum allowed value"),F(n<=e,"value smaller than minimum allowed value"),F(Math.floor(e)===e,"value has a fractional component")}function R(e,t,n){F("number"==typeof e,"cannot write a non-number as a number"),F(e<=t,"value larger than maximum allowed value"),F(n<=e,"value smaller than minimum allowed value")}function F(e,t){if(!e)throw new Error(t||"Failed assertion")}i._augment=function(e){return e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=C.get,e.set=C.set,e.write=C.write,e.toString=C.toString,e.toLocaleString=C.toString,e.toJSON=C.toJSON,e.copy=C.copy,e.slice=C.slice,e.readUInt8=C.readUInt8,e.readUInt16LE=C.readUInt16LE,e.readUInt16BE=C.readUInt16BE,e.readUInt32LE=C.readUInt32LE,e.readUInt32BE=C.readUInt32BE,e.readInt8=C.readInt8,e.readInt16LE=C.readInt16LE,e.readInt16BE=C.readInt16BE,e.readInt32LE=C.readInt32LE,e.readInt32BE=C.readInt32BE,e.readFloatLE=C.readFloatLE,e.readFloatBE=C.readFloatBE,e.readDoubleLE=C.readDoubleLE,e.readDoubleBE=C.readDoubleBE,e.writeUInt8=C.writeUInt8,e.writeUInt16LE=C.writeUInt16LE,e.writeUInt16BE=C.writeUInt16BE,e.writeUInt32LE=C.writeUInt32LE,e.writeUInt32BE=C.writeUInt32BE,e.writeInt8=C.writeInt8,e.writeInt16LE=C.writeInt16LE,e.writeInt16BE=C.writeInt16BE,e.writeInt32LE=C.writeInt32LE,e.writeInt32BE=C.writeInt32BE,e.writeFloatLE=C.writeFloatLE,e.writeFloatBE=C.writeFloatBE,e.writeDoubleLE=C.writeDoubleLE,e.writeDoubleBE=C.writeDoubleBE,e.fill=C.fill,e.inspect=C.inspect,e.toArrayBuffer=C.toArrayBuffer,e}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:11,lYpoI2:10}],4:[function(e,t,n){(function(n,r,i,o,a,s,l,c,u){i=e("buffer").Buffer;var d=new i(4);d.fill(0),t.exports={hash:function(e,t,n,r){return i.isBuffer(e)||(e=new i(e)),function(e,t,n){for(var r=new i(t),o=n?r.writeInt32BE:r.writeInt32LE,a=0;a<e.length;a++)o.call(r,e[a],4*a,!0);return r}(t(function(e,t){var n;e.length%4!=0&&(n=e.length+(4-e.length%4),e=i.concat([e,d],n));for(var r=[],o=t?e.readInt32BE:e.readInt32LE,a=0;a<e.length;a+=4)r.push(o.call(e,a));return r}(e,r),8*e.length),n,r)}}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:10}],5:[function(e,t,n){(function(t,r,i,o,a,s,l,c,u){i=e("buffer").Buffer;var d=e("./sha"),f=e("./sha256"),h=e("./rng"),p={sha1:d,sha256:f,md5:e("./md5")},m=64,g=new i(m);function v(e,t){var n=p[e=e||"sha1"],r=[];return n||y("algorithm:",e,"is not yet supported"),{update:function(e){return i.isBuffer(e)||(e=new i(e)),r.push(e),e.length,this},digest:function(e){var o=i.concat(r),a=t?function(e,t,n){i.isBuffer(t)||(t=new i(t)),i.isBuffer(n)||(n=new i(n)),t.length>m?t=e(t):t.length<m&&(t=i.concat([t,g],m));for(var r=new i(m),o=new i(m),a=0;a<m;a++)r[a]=54^t[a],o[a]=92^t[a];var s=e(i.concat([r,n]));return e(i.concat([o,s]))}(n,t,o):n(o);return r=null,e?a.toString(e):a}}}function y(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}g.fill(0),n.createHash=function(e){return v(e)},n.createHmac=v,n.randomBytes=function(e,t){if(!t||!t.call)return new i(h(e));try{t.call(this,void 0,new i(h(e)))}catch(e){t(e)}},function(e,t){for(var n in e)t(e[n])}(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],(function(e){n[e]=function(){y("sorry,",e,"is not implemented yet")}}))}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:10}],6:[function(e,t,n){(function(n,r,i,o,a,s,l,c,u){var d=e("./helpers");function f(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,a=0;a<e.length;a+=16){var s=n,l=r,c=i,u=o;n=p(n,r,i,o,e[a+0],7,-680876936),o=p(o,n,r,i,e[a+1],12,-389564586),i=p(i,o,n,r,e[a+2],17,606105819),r=p(r,i,o,n,e[a+3],22,-1044525330),n=p(n,r,i,o,e[a+4],7,-176418897),o=p(o,n,r,i,e[a+5],12,1200080426),i=p(i,o,n,r,e[a+6],17,-1473231341),r=p(r,i,o,n,e[a+7],22,-45705983),n=p(n,r,i,o,e[a+8],7,1770035416),o=p(o,n,r,i,e[a+9],12,-1958414417),i=p(i,o,n,r,e[a+10],17,-42063),r=p(r,i,o,n,e[a+11],22,-1990404162),n=p(n,r,i,o,e[a+12],7,1804603682),o=p(o,n,r,i,e[a+13],12,-40341101),i=p(i,o,n,r,e[a+14],17,-1502002290),n=m(n,r=p(r,i,o,n,e[a+15],22,1236535329),i,o,e[a+1],5,-165796510),o=m(o,n,r,i,e[a+6],9,-1069501632),i=m(i,o,n,r,e[a+11],14,643717713),r=m(r,i,o,n,e[a+0],20,-373897302),n=m(n,r,i,o,e[a+5],5,-701558691),o=m(o,n,r,i,e[a+10],9,38016083),i=m(i,o,n,r,e[a+15],14,-660478335),r=m(r,i,o,n,e[a+4],20,-405537848),n=m(n,r,i,o,e[a+9],5,568446438),o=m(o,n,r,i,e[a+14],9,-1019803690),i=m(i,o,n,r,e[a+3],14,-187363961),r=m(r,i,o,n,e[a+8],20,1163531501),n=m(n,r,i,o,e[a+13],5,-1444681467),o=m(o,n,r,i,e[a+2],9,-51403784),i=m(i,o,n,r,e[a+7],14,1735328473),n=g(n,r=m(r,i,o,n,e[a+12],20,-1926607734),i,o,e[a+5],4,-378558),o=g(o,n,r,i,e[a+8],11,-2022574463),i=g(i,o,n,r,e[a+11],16,1839030562),r=g(r,i,o,n,e[a+14],23,-35309556),n=g(n,r,i,o,e[a+1],4,-1530992060),o=g(o,n,r,i,e[a+4],11,1272893353),i=g(i,o,n,r,e[a+7],16,-155497632),r=g(r,i,o,n,e[a+10],23,-1094730640),n=g(n,r,i,o,e[a+13],4,681279174),o=g(o,n,r,i,e[a+0],11,-358537222),i=g(i,o,n,r,e[a+3],16,-722521979),r=g(r,i,o,n,e[a+6],23,76029189),n=g(n,r,i,o,e[a+9],4,-640364487),o=g(o,n,r,i,e[a+12],11,-421815835),i=g(i,o,n,r,e[a+15],16,530742520),n=v(n,r=g(r,i,o,n,e[a+2],23,-995338651),i,o,e[a+0],6,-198630844),o=v(o,n,r,i,e[a+7],10,1126891415),i=v(i,o,n,r,e[a+14],15,-1416354905),r=v(r,i,o,n,e[a+5],21,-57434055),n=v(n,r,i,o,e[a+12],6,1700485571),o=v(o,n,r,i,e[a+3],10,-1894986606),i=v(i,o,n,r,e[a+10],15,-1051523),r=v(r,i,o,n,e[a+1],21,-2054922799),n=v(n,r,i,o,e[a+8],6,1873313359),o=v(o,n,r,i,e[a+15],10,-30611744),i=v(i,o,n,r,e[a+6],15,-1560198380),r=v(r,i,o,n,e[a+13],21,1309151649),n=v(n,r,i,o,e[a+4],6,-145523070),o=v(o,n,r,i,e[a+11],10,-1120210379),i=v(i,o,n,r,e[a+2],15,718787259),r=v(r,i,o,n,e[a+9],21,-343485551),n=y(n,s),r=y(r,l),i=y(i,c),o=y(o,u)}return Array(n,r,i,o)}function h(e,t,n,r,i,o){return y((a=y(y(t,e),y(r,o)))<<(s=i)|a>>>32-s,n);var a,s}function p(e,t,n,r,i,o,a){return h(t&n|~t&r,e,t,i,o,a)}function m(e,t,n,r,i,o,a){return h(t&r|n&~r,e,t,i,o,a)}function g(e,t,n,r,i,o,a){return h(t^n^r,e,t,i,o,a)}function v(e,t,n,r,i,o,a){return h(n^(t|~r),e,t,i,o,a)}function y(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}t.exports=function(e){return d.hash(e,f,16)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],7:[function(e,t,n){(function(e,n,r,i,o,a,s,l,c){var u;u=function(e){for(var t,n=new Array(e),r=0;r<e;r++)!(3&r)&&(t=4294967296*Math.random()),n[r]=t>>>((3&r)<<3)&255;return n},t.exports=u}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:10}],8:[function(e,t,n){(function(n,r,i,o,a,s,l,c,u){var d=e("./helpers");function f(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var n,r,i,o,a,s=Array(80),l=1732584193,c=-271733879,u=-1732584194,d=271733878,f=-1009589776,m=0;m<e.length;m+=16){for(var g=l,v=c,y=u,b=d,w=f,x=0;x<80;x++){s[x]=x<16?e[m+x]:p(s[x-3]^s[x-8]^s[x-14]^s[x-16],1);var _=h(h(p(l,5),(i=c,o=u,a=d,(r=x)<20?i&o|~i&a:!(r<40)&&r<60?i&o|i&a|o&a:i^o^a)),h(h(f,s[x]),(n=x)<20?1518500249:n<40?1859775393:n<60?-1894007588:-899497514));f=d,d=u,u=p(c,30),c=l,l=_}l=h(l,g),c=h(c,v),u=h(u,y),d=h(d,b),f=h(f,w)}return Array(l,c,u,d,f)}function h(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function p(e,t){return e<<t|e>>>32-t}t.exports=function(e){return d.hash(e,f,20,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],9:[function(e,t,n){(function(n,r,i,o,a,s,l,c,u){function d(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function f(e,t){return e>>>t|e<<32-t}function h(e,t){var n,r,i,o,a,s,l,c,u,h,p=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),m=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),g=new Array(64);e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var v,y,b,w,x,_,E,S,C=0;C<e.length;C+=16){n=m[0],r=m[1],i=m[2],o=m[3],a=m[4],s=m[5],l=m[6],c=m[7];for(var O=0;O<64;O++)g[O]=O<16?e[O+C]:d(d(d(f(S=g[O-2],17)^f(S,19)^S>>>10,g[O-7]),f(E=g[O-15],7)^f(E,18)^E>>>3),g[O-16]),u=d(d(d(d(c,f(_=a,6)^f(_,11)^f(_,25)),(x=a)&s^~x&l),p[O]),g[O]),h=d(f(w=n,2)^f(w,13)^f(w,22),(v=n)&(y=r)^v&(b=i)^y&b),c=l,l=s,s=a,a=d(o,u),o=i,i=r,r=n,n=d(u,h);m[0]=d(n,m[0]),m[1]=d(r,m[1]),m[2]=d(i,m[2]),m[3]=d(o,m[3]),m[4]=d(a,m[4]),m[5]=d(s,m[5]),m[6]=d(l,m[6]),m[7]=d(c,m[7])}return m}var p=e("./helpers");t.exports=function(e){return p.hash(e,h,32,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],10:[function(e,t,n){(function(e,n,r,i,o,a,s,l,c){function u(){}(e=t.exports={}).nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",(function(e){var t=e.source;t!==window&&null!==t||"process-tick"!==e.data||(e.stopPropagation(),0<n.length&&n.shift()())}),!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.on=u,e.addListener=u,e.once=u,e.off=u,e.removeListener=u,e.removeAllListeners=u,e.emit=u,e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:10}],11:[function(e,t,n){(function(e,t,r,i,o,a,s,l,c){n.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?i-1:0,f=n?-1:1,h=e[t+d];for(d+=f,o=h&(1<<-u)-1,h>>=-u,u+=s;0<u;o=256*o+e[t+d],d+=f,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;0<u;a=256*a+e[t+d],d+=f,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=c}return(h?-1:1)*a*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,d=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),2<=(t+=1<=a+d?f/l:f*Math.pow(2,1-d))*l&&(a++,l/=2),u<=a+d?(s=0,a=u):1<=a+d?(s=(t*l-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));8<=i;e[n+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;0<c;e[n+h]=255&a,h+=p,a/=256,c-=8);e[n+h-p]|=128*m}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/ieee754/index.js","/node_modules/ieee754")},{buffer:3,lYpoI2:10}]},{},[1])(1)},694:(e,t,n)=>{"use strict";var r=n(925);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},556:(e,t,n)=>{e.exports=n(694)()},925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},270:function(e,t,n){"use strict";var r,i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),i=0;i<n.length;i++)"default"!==n[i]&&o(t,e,n[i]);return a(t,e),t}),l=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(609)),u=n(665),d=(0,n(489).createAnimation)("BeatLoader","50% {transform: scale(0.75);opacity: 0.2} 100% {transform: scale(1);opacity: 1}","beat");t.default=function(e){var t=e.loading,n=void 0===t||t,r=e.color,o=void 0===r?"#000000":r,a=e.speedMultiplier,s=void 0===a?1:a,f=e.cssOverride,h=void 0===f?{}:f,p=e.size,m=void 0===p?15:p,g=e.margin,v=void 0===g?2:g,y=l(e,["loading","color","speedMultiplier","cssOverride","size","margin"]),b=i({display:"inherit"},h),w=function(e){return{display:"inline-block",backgroundColor:o,width:(0,u.cssValue)(m),height:(0,u.cssValue)(m),margin:(0,u.cssValue)(v),borderRadius:"100%",animation:"".concat(d," ").concat(.7/s,"s ").concat(e%2?"0s":"".concat(.35/s,"s")," infinite linear"),animationFillMode:"both"}};return n?c.createElement("span",i({style:b},y),c.createElement("span",{style:w(1)}),c.createElement("span",{style:w(2)}),c.createElement("span",{style:w(3)})):null}},489:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAnimation=void 0,t.createAnimation=function(e,t,n){var r="react-spinners-".concat(e,"-").concat(n);if("undefined"==typeof window||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var o=i.sheet,a="\n    @keyframes ".concat(r," {\n      ").concat(t,"\n    }\n  ");return o&&o.insertRule(a,0),r}},665:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseLengthAndUnit=r,t.cssValue=function(e){var t=r(e);return"".concat(t.value).concat(t.unit)};var n={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function r(e){if("number"==typeof e)return{value:e,unit:"px"};var t,r=(e.match(/^[0-9.]*/)||"").toString();t=r.includes(".")?parseFloat(r):parseInt(r,10);var i=(e.match(/[^0-9]*$/)||"").toString();return n[i]?{value:t,unit:i}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}},731:e=>{var t={:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"AE",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"C",:"C",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"D",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"Y",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"ae",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"c",:"c",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"d",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"y",:"y",:"A",:"a",:"A",:"a",:"A",:"a",:"C",:"c",:"C",:"c",:"C",:"c",:"C",:"c",C:"C",c:"c",:"D",:"d",:"D",:"d",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"G",:"G",:"g",:"g",:"G",:"g",:"G",:"g",:"G",:"g",:"H",:"h",:"H",:"h",:"H",:"h",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"IJ",:"ij",:"J",:"j",:"K",:"k",:"K",:"k",K:"K",k:"k",:"L",:"l",:"L",:"l",:"L",:"l",:"L",:"l",:"l",:"l",:"M",:"m",M:"M",m:"m",:"N",:"n",:"N",:"n",:"N",:"n",:"n",N:"N",n:"n",:"O",:"o",:"O",:"o",:"O",:"o",:"OE",:"oe",P:"P",p:"p",:"R",:"r",:"R",:"r",:"R",:"r",R:"R",r:"r",:"R",:"r",:"S",:"s",:"S",:"s",:"S",:"S",:"s",:"s",:"S",:"s",:"T",:"t",:"t",:"T",:"T",:"t",:"T",:"t",T:"T",t:"t",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",V:"V",v:"v",:"W",:"w",:"W",:"w",X:"X",x:"x",:"Y",:"y",:"Y",Y:"Y",y:"y",:"Z",:"z",:"Z",:"z",:"Z",:"z",:"s",:"f",:"O",:"o",:"U",:"u",:"A",:"a",:"I",:"i",:"O",:"o",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"A",:"a",:"AE",:"ae",:"O",:"o",:"TH",:"th",:"P",:"p",:"S",:"s",X:"X",x:"x",:"",:"",:"",:"",A:"A",a:"a",E:"E",e:"e",I:"I",i:"i",:"N",:"n",:"O",:"o",:"O",:"o",:"U",:"u",:"W",:"w",:"Y",:"y",:"A",:"a",:"E",:"e",:"I",:"i",:"O",:"o",:"R",:"r",:"U",:"u",B:"B",b:"b",:"C",:"c",:"E",:"e",F:"F",f:"f",:"G",:"g",:"H",:"h",J:"J",:"j",:"K",:"k",M:"M",m:"m",P:"P",p:"p",Q:"Q",q:"q",:"R",:"r",:"S",:"s",V:"V",v:"v",W:"W",w:"w",X:"X",x:"x",Y:"Y",y:"y",A:"A",a:"a",B:"B",b:"b",:"D",:"d",:"E",:"e",:"E",:"e",:"H",:"h",I:"I",i:"i",:"I",:"i",M:"M",m:"m",O:"O",o:"o",Q:"Q",q:"q",U:"U",u:"u",X:"X",x:"x",Z:"Z",z:"z",:"",:"",:"",:""},n=Object.keys(t).join("|"),r=new RegExp(n,"g"),i=new RegExp(n,"");function o(e){return t[e]}var a=function(e){return e.replace(r,o)};e.exports=a,e.exports.has=function(e){return!!e.match(i)},e.exports.remove=a},699:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(n(609)),l=a(n(742));t.default=({children:e,fallback:t,errorMessage:n,errorComponent:r})=>{const i=r||l.default;return s.createElement(i,{errorMessage:n},s.createElement(s.Suspense,{fallback:t},e))}},742:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const a=o(n(609));class s extends a.Component{static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps({errorMessage:e},t){return t.error?{errorMessage:"function"==typeof e?e(t.error):e||t.error.message}:t}constructor(e){super(e),this.state={}}render(){return this.state.errorMessage?this.state.errorMessage:this.props.children}}t.default=s},286:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.resourceCache=void 0;const i=r(n(802)),o=new Map;t.resourceCache=function(e){o.has(e)||o.set(e,new Map);const t=o.get(e);return{get:(...e)=>t.get((0,i.default)(e)),set:(e,...n)=>t.set((0,i.default)(n),e),delete:(...e)=>t.delete((0,i.default)(e)),clear:()=>(o.delete(e),t.clear())}}},405:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeDataReader=void 0;const r=n(286);t.initializeDataReader=function(e,...t){const n=(0,r.resourceCache)(e),i=n.get(...t);if(i)return i;let o,a,s="init";const l=e(...t).then((e=>(o=e,s="done",e))).catch((e=>{a=e,s="error"}));function c(e){if("init"===s)throw l;if("error"===s)throw a;return"function"==typeof e?e(o):o}return n.set(c,...t),c}},484:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.script=t.image=void 0,t.image=function(e){return new Promise(((t,n)=>{const r=new Image;r.onload=()=>{t(e)},r.onerror=n,r.src=e}))},t.script=function(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.onload=()=>{t(e)},r.onerror=n,r.src=e,document.getElementsByTagName("body")[0].appendChild(r)}))}},912:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncResourceContent=t.resourceCache=t.fileResource=t.preloadResource=t.useAsyncResource=void 0,o(n(469),t);const l=n(715);Object.defineProperty(t,"useAsyncResource",{enumerable:!0,get:function(){return l.useAsyncResource}});const c=a(n(484));t.fileResource=c;const u=n(286);Object.defineProperty(t,"resourceCache",{enumerable:!0,get:function(){return u.resourceCache}});const d=n(405);Object.defineProperty(t,"preloadResource",{enumerable:!0,get:function(){return d.initializeDataReader}});const f=s(n(699));t.AsyncResourceContent=f.default},469:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},715:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useAsyncResource=void 0;const r=n(609),i=n(405);t.useAsyncResource=function(e,...t){const n=(0,r.useRef)((()=>{}));(0,r.useMemo)((()=>{t.length&&(!e.length&&1===t.length&&Array.isArray(t[0])&&0===t[0].length?n.current=(0,i.initializeDataReader)(e):n.current=(0,i.initializeDataReader)(e,...t))}),[e,...t]);const[,o]=(0,r.useState)(0),a=(0,r.useCallback)(((...t)=>{n.current=(0,i.initializeDataReader)(e,...t),o((e=>1-e))}),[e]);return[n.current,a]}},493:(e,t,n)=>{"use strict";var r=n(609),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})}),[e,n,t]),a((function(){return c(i)&&u({inst:i}),e((function(){c(i)&&u({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},888:(e,t,n)=>{"use strict";e.exports=n(493)},609:e=>{"use strict";e.exports=window.React},942:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,o(n)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={exports:{}};return n[e].call(o.exports,o,o.exports,i),o.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var o=Object.create(null);i.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>n[e]));return a.default=()=>n,i.d(o,a),o},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";const e=window.ReactDOM,t=window.wp.element,n=window.wp.compose,r=window.wp.blob;var o=i(985);const a=window.wp.escapeHtml,s=window.wp.i18n,l=window.wp.components,c=window.wp.apiFetch;var u=i.n(c);const d=window.wp.primitives,f=window.ReactJSXRuntime,h=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"M12 3.9 6.5 9.5l1 1 3.8-3.7V20h1.5V6.8l3.7 3.7 1-1z"})}),p=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"m16.5 13.5-3.7 3.7V4h-1.5v13.2l-3.8-3.7-1 1 5.5 5.6 5.5-5.6z"})}),m="is",g="isNot",v="isAny",y="isNone",b="isAll",w="isNotAll",x="lessThan",_="greaterThan",E="lessThanOrEqual",S="greaterThanOrEqual",C="before",O="after",P="beforeInc",j="afterInc",L="contains",k="notContains",T="startsWith",I="between",A="on",M="notOn",N="inThePast",R="over",F=[m,g,v,y,b,w,x,_,E,S,C,O,P,j,L,k,T,I,A,M,N,R],D=[m,g,x,_,E,S,C,O,P,j,L,k,T,A,M],V={[m]:{key:"is-filter",label:(0,s.__)("Is")},[g]:{key:"is-not-filter",label:(0,s.__)("Is not")},[v]:{key:"is-any-filter",label:(0,s.__)("Is any")},[y]:{key:"is-none-filter",label:(0,s.__)("Is none")},[b]:{key:"is-all-filter",label:(0,s.__)("Is all")},[w]:{key:"is-not-all-filter",label:(0,s.__)("Is not all")},[x]:{key:"less-than-filter",label:(0,s.__)("Less than")},[_]:{key:"greater-than-filter",label:(0,s.__)("Greater than")},[E]:{key:"less-than-or-equal-filter",label:(0,s.__)("Less than or equal")},[S]:{key:"greater-than-or-equal-filter",label:(0,s.__)("Greater than or equal")},[C]:{key:"before-filter",label:(0,s.__)("Before")},[O]:{key:"after-filter",label:(0,s.__)("After")},[P]:{key:"before-inc-filter",label:(0,s.__)("Before (inc)")},[j]:{key:"after-inc-filter",label:(0,s.__)("After (inc)")},[L]:{key:"contains-filter",label:(0,s.__)("Contains")},[k]:{key:"not-contains-filter",label:(0,s.__)("Doesn't contain")},[T]:{key:"starts-with-filter",label:(0,s.__)("Starts with")},[I]:{key:"between-filter",label:(0,s.__)("Between (inc)")},[A]:{key:"on-filter",label:(0,s.__)("On")},[M]:{key:"not-on-filter",label:(0,s.__)("Not on")},[N]:{key:"in-the-past-filter",label:(0,s.__)("In the past")},[R]:{key:"over-filter",label:(0,s.__)("Over")}},B=["asc","desc"],z={asc:"",desc:""},H={asc:"ascending",desc:"descending"},$={asc:(0,s.__)("Sort ascending"),desc:(0,s.__)("Sort descending")},G={asc:h,desc:p},U="table",W="grid",q=(0,t.createContext)({view:{type:U},onChangeView:()=>{},fields:[],data:[],paginationInfo:{totalItems:0,totalPages:0},selection:[],onChangeSelection:()=>{},setOpenedFilter:()=>{},openedFilter:null,getItemId:e=>e.id,isItemClickable:()=>!0,renderItemLink:void 0,containerWidth:0,containerRef:(0,t.createRef)(),defaultLayouts:{list:{},grid:{},table:{}},filters:[],isShowingFilter:!1,setIsShowingFilter:()=>{}}),Y=(0,f.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)(d.Path,{d:"M10 17.5H14V16H10V17.5ZM6 6V7.5H18V6H6ZM8 12.5H16V11H8V12.5Z"})});function X(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=X(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const K=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=X(e))&&(r&&(r+=" "),r+=t);return r},Z=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})});var Q=Object.defineProperty,J=Object.defineProperties,ee=Object.getOwnPropertyDescriptors,te=Object.getOwnPropertySymbols,ne=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable,ie=(e,t,n)=>t in e?Q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oe=(e,t)=>{for(var n in t||(t={}))ne.call(t,n)&&ie(e,n,t[n]);if(te)for(var n of te(t))re.call(t,n)&&ie(e,n,t[n]);return e},ae=(e,t)=>J(e,ee(t)),se=(e,t)=>{var n={};for(var r in e)ne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&te)for(var r of te(e))t.indexOf(r)<0&&re.call(e,r)&&(n[r]=e[r]);return n},le=Object.defineProperty,ce=Object.defineProperties,ue=Object.getOwnPropertyDescriptors,de=Object.getOwnPropertySymbols,fe=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable,pe=(e,t,n)=>t in e?le(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,me=(e,t)=>{for(var n in t||(t={}))fe.call(t,n)&&pe(e,n,t[n]);if(de)for(var n of de(t))he.call(t,n)&&pe(e,n,t[n]);return e},ge=(e,t)=>ce(e,ue(t)),ve=(e,t)=>{var n={};for(var r in e)fe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&de)for(var r of de(e))t.indexOf(r)<0&&he.call(e,r)&&(n[r]=e[r]);return n};function ye(...e){}function be(e,t){return"function"==typeof Object.hasOwn?Object.hasOwn(e,t):Object.prototype.hasOwnProperty.call(e,t)}function we(...e){return(...t)=>{for(const n of e)"function"==typeof n&&n(...t)}}function xe(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function _e(e){return e}function Ee(e,t){if(!e){if("string"!=typeof t)throw new Error("Invariant failed");throw new Error(t)}}function Se(e){return e.disabled||!0===e["aria-disabled"]||"true"===e["aria-disabled"]}function Ce(e){const t={};for(const n in e)void 0!==e[n]&&(t[n]=e[n]);return t}function Oe(...e){for(const t of e)if(void 0!==t)return t}var Pe=i(609),je=i.t(Pe,2),Le=i.n(Pe);function ke(e,t){"function"==typeof e?e(t):e&&(e.current=t)}var Te,Ie="undefined"!=typeof window&&!!(null==(Te=window.document)?void 0:Te.createElement);function Ae(e){return e?"self"in e?e.document:e.ownerDocument||document:document}function Me(e,t=!1){const{activeElement:n}=Ae(e);if(!(null==n?void 0:n.nodeName))return null;if("IFRAME"===n.tagName&&n.contentDocument)return Me(n.contentDocument.body,t);if(t){const e=n.getAttribute("aria-activedescendant");if(e){const t=Ae(n).getElementById(e);if(t)return t}}return n}function Ne(e,t){return e===t||e.contains(t)}function Re(e){const t=e.tagName.toLowerCase();return"button"===t||!("input"!==t||!e.type)&&-1!==Fe.indexOf(e.type)}var Fe=["button","color","file","image","reset","submit"];function De(e){try{const t=e instanceof HTMLInputElement&&null!==e.selectionStart,n="TEXTAREA"===e.tagName;return t||n||!1}catch(e){return!1}}function Ve(e){return e.isContentEditable||De(e)}function Be(e){let t=0,n=0;if(De(e))t=e.selectionStart||0,n=e.selectionEnd||0;else if(e.isContentEditable){const r=Ae(e).getSelection();if((null==r?void 0:r.rangeCount)&&r.anchorNode&&Ne(e,r.anchorNode)&&r.focusNode&&Ne(e,r.focusNode)){const i=r.getRangeAt(0),o=i.cloneRange();o.selectNodeContents(e),o.setEnd(i.startContainer,i.startOffset),t=o.toString().length,o.setEnd(i.endContainer,i.endOffset),n=o.toString().length}}return{start:t,end:n}}function ze(e,t){const n=null==e?void 0:e.getAttribute("role");return n&&-1!==["dialog","menu","listbox","tree","grid"].indexOf(n)?n:t}function He(e){if(!e)return null;const t=e=>"auto"===e||"scroll"===e;if(e.clientHeight&&e.scrollHeight>e.clientHeight){const{overflowY:n}=getComputedStyle(e);if(t(n))return e}else if(e.clientWidth&&e.scrollWidth>e.clientWidth){const{overflowX:n}=getComputedStyle(e);if(t(n))return e}return He(e.parentElement)||document.scrollingElement||document.body}function $e(e,...t){/text|search|password|tel|url/i.test(e.type)&&e.setSelectionRange(...t)}function Ge(){return!!Ie&&/mac|iphone|ipad|ipod/i.test(navigator.platform)}function Ue(){return Ie&&Ge()&&/apple/i.test(navigator.vendor)}function We(e){return Boolean(e.currentTarget&&!Ne(e.currentTarget,e.target))}function qe(e){return e.target===e.currentTarget}function Ye(e,t){const n=new FocusEvent("blur",t),r=e.dispatchEvent(n),i=ge(me({},t),{bubbles:!0});return e.dispatchEvent(new FocusEvent("focusout",i)),r}function Xe(e,t){const n=new MouseEvent("click",t);return e.dispatchEvent(n)}function Ke(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!Ne(n,r)}function Ze(e,t,n,r){const i=(e=>{if(r){const t=setTimeout(e,r);return()=>clearTimeout(t)}const t=requestAnimationFrame(e);return()=>cancelAnimationFrame(t)})((()=>{e.removeEventListener(t,o,!0),n()})),o=()=>{i(),n()};return e.addEventListener(t,o,{once:!0,capture:!0}),i}function Qe(e,t,n,r=window){const i=[];try{r.document.addEventListener(e,t,n);for(const o of Array.from(r.frames))i.push(Qe(e,t,n,o))}catch(e){}return()=>{try{r.document.removeEventListener(e,t,n)}catch(e){}for(const e of i)e()}}var Je=oe({},je),et=Je.useId,tt=(Je.useDeferredValue,Je.useInsertionEffect),nt=Ie?Pe.useLayoutEffect:Pe.useEffect;function rt(e){const t=(0,Pe.useRef)((()=>{throw new Error("Cannot call an event handler while rendering.")}));return tt?tt((()=>{t.current=e})):t.current=e,(0,Pe.useCallback)(((...e)=>{var n;return null==(n=t.current)?void 0:n.call(t,...e)}),[])}function it(...e){return(0,Pe.useMemo)((()=>{if(e.some(Boolean))return t=>{for(const n of e)ke(n,t)}}),e)}function ot(e){if(et){const t=et();return e||t}const[t,n]=(0,Pe.useState)(e);return nt((()=>{if(e||t)return;const r=Math.random().toString(36).slice(2,8);n(`id-${r}`)}),[e,t]),e||t}function at(e,t){const n=(0,Pe.useRef)(!1);(0,Pe.useEffect)((()=>{if(n.current)return e();n.current=!0}),t),(0,Pe.useEffect)((()=>()=>{n.current=!1}),[])}function st(e){return rt("function"==typeof e?e:()=>e)}function lt(e,t,n=[]){const r=(0,Pe.useCallback)((n=>(e.wrapElement&&(n=e.wrapElement(n)),t(n))),[...n,e.wrapElement]);return ae(oe({},e),{wrapElement:r})}var ct=!1,ut=0,dt=0;function ft(e){(function(e){const t=e.movementX||e.screenX-ut,n=e.movementY||e.screenY-dt;return ut=e.screenX,dt=e.screenY,t||n||!1})(e)&&(ct=!0)}function ht(){ct=!1}function pt(e){const t=Pe.forwardRef(((t,n)=>e(ae(oe({},t),{ref:n}))));return t.displayName=e.displayName||e.name,t}function mt(e,t){return Pe.memo(e,t)}function gt(e,t){const n=t,{wrapElement:r,render:i}=n,o=se(n,["wrapElement","render"]),a=it(t.ref,function(e){return function(e){return!!e&&!!(0,Pe.isValidElement)(e)&&("ref"in e.props||"ref"in e)}(e)?oe({},e.props).ref||e.ref:null}(i));let s;if(Pe.isValidElement(i)){const e=ae(oe({},i.props),{ref:a});s=Pe.cloneElement(i,function(e,t){const n=oe({},e);for(const r in t){if(!be(t,r))continue;if("className"===r){const r="className";n[r]=e[r]?`${e[r]} ${t[r]}`:t[r];continue}if("style"===r){const r="style";n[r]=e[r]?oe(oe({},e[r]),t[r]):t[r];continue}const i=t[r];if("function"==typeof i&&r.startsWith("on")){const t=e[r];if("function"==typeof t){n[r]=(...e)=>{i(...e),t(...e)};continue}}n[r]=i}return n}(o,e))}else s=i?i(o):(0,f.jsx)(e,oe({},o));return r?r(s):s}function vt(e){const t=(t={})=>e(t);return t.displayName=e.name,t}function yt(e=[],t=[]){const n=Pe.createContext(void 0),r=Pe.createContext(void 0),i=()=>Pe.useContext(n),o=t=>e.reduceRight(((e,n)=>(0,f.jsx)(n,ae(oe({},t),{children:e}))),(0,f.jsx)(n.Provider,oe({},t)));return{context:n,scopedContext:r,useContext:i,useScopedContext:(e=!1)=>{const t=Pe.useContext(r),n=i();return e?t:t||n},useProviderContext:()=>{const e=Pe.useContext(r),t=i();if(!e||e!==t)return t},ContextProvider:o,ScopedContextProvider:e=>(0,f.jsx)(o,ae(oe({},e),{children:t.reduceRight(((t,n)=>(0,f.jsx)(n,ae(oe({},e),{children:t}))),(0,f.jsx)(r.Provider,oe({},e)))}))}}var bt=yt(),wt=bt.useContext,xt=(bt.useScopedContext,bt.useProviderContext,yt([bt.ContextProvider],[bt.ScopedContextProvider])),_t=xt.useContext,Et=(xt.useScopedContext,xt.useProviderContext),St=xt.ContextProvider,Ct=xt.ScopedContextProvider,Ot=(0,Pe.createContext)(void 0),Pt=(0,Pe.createContext)(void 0),jt=((0,Pe.createContext)(null),(0,Pe.createContext)(null),yt([St],[Ct])),Lt=jt.useContext;function kt(e,t){const n=e.__unstableInternals;return Ee(n,"Invalid store"),n[t]}function Tt(e,...t){let n=e,r=n,i=Symbol(),o=ye;const a=new Set,s=new Set,l=new Set,c=new Set,u=new Set,d=new WeakMap,f=new WeakMap,h=(e,t,n=c)=>(n.add(t),f.set(t,e),()=>{var e;null==(e=d.get(t))||e(),d.delete(t),f.delete(t),n.delete(t)}),p=(e,o,a=!1)=>{var l;if(!be(n,e))return;const h=(p=o,m=n[e],function(e){return"function"==typeof e}(p)?p(function(e){return"function"==typeof e}(m)?m():m):p);var p,m;if(h===n[e])return;if(!a)for(const n of t)null==(l=null==n?void 0:n.setState)||l.call(n,e,h);const g=n;n=ge(me({},n),{[e]:h});const v=Symbol();i=v,s.add(e);const y=(t,r,i)=>{var o;const a=f.get(t);a&&!a.some((t=>i?i.has(t):t===e))||(null==(o=d.get(t))||o(),d.set(t,t(n,r)))};for(const e of c)y(e,g);queueMicrotask((()=>{if(i!==v)return;const e=n;for(const e of u)y(e,r,s);r=e,s.clear()}))},m={getState:()=>n,setState:p,__unstableInternals:{setup:e=>(l.add(e),()=>l.delete(e)),init:()=>{const e=a.size,r=Symbol();a.add(r);const i=()=>{a.delete(r),a.size||o()};if(e)return i;const s=(c=n,Object.keys(c)).map((e=>we(...t.map((t=>{var n;const r=null==(n=null==t?void 0:t.getState)?void 0:n.call(t);if(r&&be(r,e))return Nt(t,[e],(t=>{p(e,t[e],!0)}))})))));var c;const u=[];for(const e of l)u.push(e());const d=t.map(At);return o=we(...s,...u,...d),i},subscribe:(e,t)=>h(e,t),sync:(e,t)=>(d.set(t,t(n,n)),h(e,t)),batch:(e,t)=>(d.set(t,t(n,r)),h(e,t,u)),pick:e=>Tt(function(e,t){const n={};for(const r of t)be(e,r)&&(n[r]=e[r]);return n}(n,e),m),omit:e=>Tt(function(e,t){const n=me({},e);for(const e of t)be(n,e)&&delete n[e];return n}(n,e),m)}};return m}function It(e,...t){if(e)return kt(e,"setup")(...t)}function At(e,...t){if(e)return kt(e,"init")(...t)}function Mt(e,...t){if(e)return kt(e,"subscribe")(...t)}function Nt(e,...t){if(e)return kt(e,"sync")(...t)}function Rt(e,...t){if(e)return kt(e,"batch")(...t)}function Ft(e,...t){if(e)return kt(e,"omit")(...t)}function Dt(...e){const t=e.reduce(((e,t)=>{var n;const r=null==(n=null==t?void 0:t.getState)?void 0:n.call(t);return r?Object.assign(e,r):e}),{}),n=Tt(t,...e);return Object.assign({},...e,n)}jt.useScopedContext,jt.useProviderContext,jt.ContextProvider,jt.ScopedContextProvider;var Vt=i(888),{useSyncExternalStore:Bt}=Vt;function zt(e,t=_e){const n=Pe.useCallback((t=>e?Mt(e,null,t):()=>{}),[e]),r=()=>{const n="string"==typeof t?t:null,r="function"==typeof t?t:null,i=null==e?void 0:e.getState();return r?r(i):i&&n&&be(i,n)?i[n]:void 0};return Bt(n,r,r)}function Ht(e,t){const n=Pe.useRef({}),r=Pe.useCallback((t=>e?Mt(e,null,t):()=>{}),[e]),i=()=>{const r=null==e?void 0:e.getState();let i=!1;const o=n.current;for(const e in t){const n=t[e];if("function"==typeof n){const t=n(r);t!==o[e]&&(o[e]=t,i=!0)}if("string"==typeof n){if(!r)continue;if(!be(r,n))continue;const t=r[n];t!==o[e]&&(o[e]=t,i=!0)}}return i&&(n.current=oe({},o)),n.current};return Bt(r,i,i)}function $t(e,t,n,r){const i=be(t,n)?t[n]:void 0,o=r?t[r]:void 0,a=function(e){const t=(0,Pe.useRef)(e);return nt((()=>{t.current=e})),t}({value:i,setValue:o});nt((()=>Nt(e,[n],((e,t)=>{const{value:r,setValue:i}=a.current;i&&e[n]!==t[n]&&e[n]!==r&&i(e[n])}))),[e,n]),nt((()=>{if(void 0!==i)return e.setState(n,i),Rt(e,[n],(()=>{void 0!==i&&e.setState(n,i)}))}))}function Gt(e,t,n){return $t(e=function(e,t,n){return at(t,[n.store]),$t(e,n,"items","setItems"),e}(e,t,n),n,"activeId","setActiveId"),$t(e,n,"includesBaseElement"),$t(e,n,"virtualFocus"),$t(e,n,"orientation"),$t(e,n,"rtl"),$t(e,n,"focusLoop"),$t(e,n,"focusWrap"),$t(e,n,"focusShift"),e}function Ut(e,t,n){return function(e,t,n){return at(t,[n.store,n.disclosure]),$t(e,n,"open","setOpen"),$t(e,n,"mounted","setMounted"),$t(e,n,"animated"),Object.assign(e,{disclosure:n.disclosure})}(e,t,n)}function Wt(e={}){var t;e.store;const n=null==(t=e.store)?void 0:t.getState(),r=Oe(e.items,null==n?void 0:n.items,e.defaultItems,[]),i=new Map(r.map((e=>[e.id,e]))),o={items:r,renderedItems:Oe(null==n?void 0:n.renderedItems,[])},a=function(e){return null==e?void 0:e.__unstablePrivateStore}(e.store),s=Tt({items:r,renderedItems:o.renderedItems},a),l=Tt(o,e.store),c=e=>{const t=function(e,t){const n=e.map(((e,t)=>[t,e]));let r=!1;return n.sort((([e,n],[i,o])=>{const a=t(n),s=t(o);return a===s?0:a&&s?function(e,t){return Boolean(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_PRECEDING)}(a,s)?(e>i&&(r=!0),-1):(e<i&&(r=!0),1):0})),r?n.map((([e,t])=>t)):e}(e,(e=>e.element));s.setState("renderedItems",t),l.setState("renderedItems",t)};It(l,(()=>At(s))),It(s,(()=>Rt(s,["items"],(e=>{l.setState("items",e.items)})))),It(s,(()=>Rt(s,["renderedItems"],(e=>{let t=!0,n=requestAnimationFrame((()=>{const{renderedItems:t}=l.getState();e.renderedItems!==t&&c(e.renderedItems)}));if("function"!=typeof IntersectionObserver)return()=>cancelAnimationFrame(n);const r=function(e){var t;const n=e.find((e=>!!e.element)),r=[...e].reverse().find((e=>!!e.element));let i=null==(t=null==n?void 0:n.element)?void 0:t.parentElement;for(;i&&(null==r?void 0:r.element);){if(r&&i.contains(r.element))return i;i=i.parentElement}return Ae(i).body}(e.renderedItems),i=new IntersectionObserver((()=>{t?t=!1:(cancelAnimationFrame(n),n=requestAnimationFrame((()=>c(e.renderedItems))))}),{root:r});for(const t of e.renderedItems)t.element&&i.observe(t.element);return()=>{cancelAnimationFrame(n),i.disconnect()}}))));const u=(e,t,n=!1)=>{let r;return t((t=>{const n=t.findIndex((({id:t})=>t===e.id)),o=t.slice();if(-1!==n){r=t[n];const a=me(me({},r),e);o[n]=a,i.set(e.id,a)}else o.push(e),i.set(e.id,e);return o})),()=>{t((t=>{if(!r)return n&&i.delete(e.id),t.filter((({id:t})=>t!==e.id));const o=t.findIndex((({id:t})=>t===e.id));if(-1===o)return t;const a=t.slice();return a[o]=r,i.set(e.id,r),a}))}},d=e=>u(e,(e=>s.setState("items",e)),!0);return ge(me({},l),{registerItem:d,renderItem:e=>we(d(e),u(e,(e=>s.setState("renderedItems",e)))),item:e=>{if(!e)return null;let t=i.get(e);if(!t){const{items:n}=s.getState();t=n.find((t=>t.id===e)),t&&i.set(e,t)}return t||null},__unstablePrivateStore:s})}function qt(e){const t=[];for(const n of e)t.push(...n);return t}function Yt(e){return e.slice().reverse()}var Xt={id:null};function Kt(e,t){return e.find((e=>t?!e.disabled&&e.id!==t:!e.disabled))}function Zt(e,t){return e.filter((e=>e.rowId===t))}function Qt(e){const t=[];for(const n of e){const e=t.find((e=>{var t;return(null==(t=e[0])?void 0:t.rowId)===n.rowId}));e?e.push(n):t.push([n])}return t}function Jt(e){let t=0;for(const{length:n}of e)n>t&&(t=n);return t}var en=Ue()&&Ie&&!!navigator.maxTouchPoints;function tn(e={}){var t=e,{tag:n}=t,r=ve(t,["tag"]);const i=Dt(r.store,function(e,...t){if(e)return kt(e,"pick")(...t)}(n,["value","rtl"])),o=null==n?void 0:n.getState(),a=null==i?void 0:i.getState(),s=Oe(r.activeId,null==a?void 0:a.activeId,r.defaultActiveId,null),l=function(e={}){var t;const n=null==(t=e.store)?void 0:t.getState(),r=Wt(e),i=Oe(e.activeId,null==n?void 0:n.activeId,e.defaultActiveId),o=Tt(ge(me({},r.getState()),{id:Oe(e.id,null==n?void 0:n.id,`id-${Math.random().toString(36).slice(2,8)}`),activeId:i,baseElement:Oe(null==n?void 0:n.baseElement,null),includesBaseElement:Oe(e.includesBaseElement,null==n?void 0:n.includesBaseElement,null===i),moves:Oe(null==n?void 0:n.moves,0),orientation:Oe(e.orientation,null==n?void 0:n.orientation,"both"),rtl:Oe(e.rtl,null==n?void 0:n.rtl,!1),virtualFocus:Oe(e.virtualFocus,null==n?void 0:n.virtualFocus,!1),focusLoop:Oe(e.focusLoop,null==n?void 0:n.focusLoop,!1),focusWrap:Oe(e.focusWrap,null==n?void 0:n.focusWrap,!1),focusShift:Oe(e.focusShift,null==n?void 0:n.focusShift,!1)}),r,e.store);It(o,(()=>Nt(o,["renderedItems","activeId"],(e=>{o.setState("activeId",(t=>{var n;return void 0!==t?t:null==(n=Kt(e.renderedItems))?void 0:n.id}))}))));const a=(e="next",t={})=>{var n,r;const i=o.getState(),{skip:a=0,activeId:s=i.activeId,focusShift:l=i.focusShift,focusLoop:c=i.focusLoop,focusWrap:u=i.focusWrap,includesBaseElement:d=i.includesBaseElement,renderedItems:f=i.renderedItems,rtl:h=i.rtl}=t,p="up"===e||"down"===e,m="next"===e||"down"===e,g=m?h&&!p:!h||p,v=l&&!a;let y=p?qt(function(e,t,n){const r=Jt(e);for(const i of e)for(let e=0;e<r;e+=1){const r=i[e];if(!r||n&&r.disabled){const r=0===e&&n?Kt(i):i[e-1];i[e]=r&&t!==r.id&&n?r:{id:"__EMPTY_ITEM__",disabled:!0,rowId:null==r?void 0:r.rowId}}}return e}(Qt(f),s,v)):f;if(y=g?Yt(y):y,y=p?function(e){const t=Qt(e),n=Jt(t),r=[];for(let e=0;e<n;e+=1)for(const n of t){const t=n[e];t&&r.push(ge(me({},t),{rowId:t.rowId?`${e}`:void 0}))}return r}(y):y,null==s)return null==(n=Kt(y))?void 0:n.id;const b=y.find((e=>e.id===s));if(!b)return null==(r=Kt(y))?void 0:r.id;const w=y.some((e=>e.rowId)),x=y.indexOf(b),_=y.slice(x+1),E=Zt(_,b.rowId);if(a){const e=function(e,t){return e.filter((e=>t?!e.disabled&&e.id!==t:!e.disabled))}(E,s),t=e.slice(a)[0]||e[e.length-1];return null==t?void 0:t.id}const S=c&&(p?"horizontal"!==c:"vertical"!==c),C=w&&u&&(p?"horizontal"!==u:"vertical"!==u),O=m?(!w||p)&&S&&d:!!p&&d;if(S){const e=function(e,t,n=!1){const r=e.findIndex((e=>e.id===t));return[...e.slice(r+1),...n?[Xt]:[],...e.slice(0,r)]}(C&&!O?y:Zt(y,b.rowId),s,O),t=Kt(e,s);return null==t?void 0:t.id}if(C){const e=Kt(O?E:_,s);return O?(null==e?void 0:e.id)||null:null==e?void 0:e.id}const P=Kt(E,s);return!P&&O?null:null==P?void 0:P.id};return ge(me(me({},r),o),{setBaseElement:e=>o.setState("baseElement",e),setActiveId:e=>o.setState("activeId",e),move:e=>{void 0!==e&&(o.setState("activeId",e),o.setState("moves",(e=>e+1)))},first:()=>{var e;return null==(e=Kt(o.getState().renderedItems))?void 0:e.id},last:()=>{var e;return null==(e=Kt(Yt(o.getState().renderedItems)))?void 0:e.id},next:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),a("next",e)),previous:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),a("previous",e)),down:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),a("down",e)),up:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),a("up",e))})}(ge(me({},r),{activeId:s,includesBaseElement:Oe(r.includesBaseElement,null==a?void 0:a.includesBaseElement,!0),orientation:Oe(r.orientation,null==a?void 0:a.orientation,"vertical"),focusLoop:Oe(r.focusLoop,null==a?void 0:a.focusLoop,!0),focusWrap:Oe(r.focusWrap,null==a?void 0:a.focusWrap,!0),virtualFocus:Oe(r.virtualFocus,null==a?void 0:a.virtualFocus,!0)})),c=function(e={}){var t=e,{popover:n}=t,r=ve(t,["popover"]);const i=Dt(r.store,Ft(n,["arrowElement","anchorElement","contentElement","popoverElement","disclosureElement"])),o=null==i?void 0:i.getState(),a=function(e={}){return function(e={}){const t=Dt(e.store,Ft(e.disclosure,["contentElement","disclosureElement"])),n=null==t?void 0:t.getState(),r=Oe(e.open,null==n?void 0:n.open,e.defaultOpen,!1),i=Oe(e.animated,null==n?void 0:n.animated,!1),o=Tt({open:r,animated:i,animating:!!i&&r,mounted:r,contentElement:Oe(null==n?void 0:n.contentElement,null),disclosureElement:Oe(null==n?void 0:n.disclosureElement,null)},t);return It(o,(()=>Nt(o,["animated","animating"],(e=>{e.animated||o.setState("animating",!1)})))),It(o,(()=>Mt(o,["open"],(()=>{o.getState().animated&&o.setState("animating",!0)})))),It(o,(()=>Nt(o,["open","animating"],(e=>{o.setState("mounted",e.open||e.animating)})))),ge(me({},o),{disclosure:e.disclosure,setOpen:e=>o.setState("open",e),show:()=>o.setState("open",!0),hide:()=>o.setState("open",!1),toggle:()=>o.setState("open",(e=>!e)),stopAnimation:()=>o.setState("animating",!1),setContentElement:e=>o.setState("contentElement",e),setDisclosureElement:e=>o.setState("disclosureElement",e)})}(e)}(ge(me({},r),{store:i})),s=Oe(r.placement,null==o?void 0:o.placement,"bottom"),l=Tt(ge(me({},a.getState()),{placement:s,currentPlacement:s,anchorElement:Oe(null==o?void 0:o.anchorElement,null),popoverElement:Oe(null==o?void 0:o.popoverElement,null),arrowElement:Oe(null==o?void 0:o.arrowElement,null),rendered:Symbol("rendered")}),a,i);return ge(me(me({},a),l),{setAnchorElement:e=>l.setState("anchorElement",e),setPopoverElement:e=>l.setState("popoverElement",e),setArrowElement:e=>l.setState("arrowElement",e),render:()=>l.setState("rendered",Symbol("rendered"))})}(ge(me({},r),{placement:Oe(r.placement,null==a?void 0:a.placement,"bottom-start")})),u=Oe(r.value,null==a?void 0:a.value,r.defaultValue,""),d=Oe(r.selectedValue,null==a?void 0:a.selectedValue,null==o?void 0:o.values,r.defaultSelectedValue,""),f=Array.isArray(d),h=ge(me(me({},l.getState()),c.getState()),{value:u,selectedValue:d,resetValueOnSelect:Oe(r.resetValueOnSelect,null==a?void 0:a.resetValueOnSelect,f),resetValueOnHide:Oe(r.resetValueOnHide,null==a?void 0:a.resetValueOnHide,f&&!n),activeValue:null==a?void 0:a.activeValue}),p=Tt(h,l,c,i);return en&&It(p,(()=>Nt(p,["virtualFocus"],(()=>{p.setState("virtualFocus",!1)})))),It(p,(()=>{if(n)return we(Nt(p,["selectedValue"],(e=>{Array.isArray(e.selectedValue)&&n.setValues(e.selectedValue)})),Nt(n,["values"],(e=>{p.setState("selectedValue",e.values)})))})),It(p,(()=>Nt(p,["resetValueOnHide","mounted"],(e=>{e.resetValueOnHide&&(e.mounted||p.setState("value",u))})))),It(p,(()=>Nt(p,["open"],(e=>{e.open||(p.setState("activeId",s),p.setState("moves",0))})))),It(p,(()=>Nt(p,["moves","activeId"],((e,t)=>{e.moves===t.moves&&p.setState("activeValue",void 0)})))),It(p,(()=>Rt(p,["moves","renderedItems"],((e,t)=>{if(e.moves===t.moves)return;const{activeId:n}=p.getState(),r=l.item(n);p.setState("activeValue",null==r?void 0:r.value)})))),ge(me(me(me({},c),l),p),{tag:n,setValue:e=>p.setState("value",e),resetValue:()=>p.setState("value",h.value),setSelectedValue:e=>p.setState("selectedValue",e)})}function nn(e={}){e=function(e){const t=Lt();return function(e){const t=ot(e.id);return oe({id:t},e)}(e=ae(oe({},e),{tag:void 0!==e.tag?e.tag:t}))}(e);const[t,n]=function(e,t){const[n,r]=Pe.useState((()=>e(t)));nt((()=>At(n)),[n]);const i=Pe.useCallback((e=>zt(n,e)),[n]);return[Pe.useMemo((()=>ae(oe({},n),{useState:i})),[n,i]),rt((()=>{r((n=>e(oe(oe({},t),n.getState()))))}))]}(tn,e);return function(e,t,n){return at(t,[n.tag]),$t(e,n,"value","setValue"),$t(e,n,"selectedValue","setSelectedValue"),$t(e,n,"resetValueOnHide"),$t(e,n,"resetValueOnSelect"),Object.assign(Gt(function(e,t,n){return at(t,[n.popover]),$t(e,n,"placement"),Ut(e,t,n)}(e,t,n),t,n),{tag:n.tag})}(t,n,e)}var rn=yt(),on=(rn.useContext,rn.useScopedContext,rn.useProviderContext),an=yt([rn.ContextProvider],[rn.ScopedContextProvider]),sn=(an.useContext,an.useScopedContext,an.useProviderContext,an.ContextProvider),ln=an.ScopedContextProvider,cn=((0,Pe.createContext)(void 0),(0,Pe.createContext)(void 0),yt([sn],[ln])),un=(cn.useContext,cn.useScopedContext,cn.useProviderContext),dn=cn.ContextProvider,fn=cn.ScopedContextProvider,hn=(0,Pe.createContext)(void 0),pn=yt([dn,St],[fn,Ct]),mn=pn.useContext,gn=pn.useScopedContext,vn=pn.useProviderContext,yn=pn.ContextProvider,bn=pn.ScopedContextProvider,wn=(0,Pe.createContext)(void 0),xn=(0,Pe.createContext)(!1);function En(e={}){const t=nn(e);return(0,f.jsx)(yn,{value:t,children:e.children})}var Sn=vt((function(e){var t=e,{store:n}=t,r=se(t,["store"]);const i=vn();Ee(n=n||i,!1);const o=n.useState((e=>{var t;return null==(t=e.baseElement)?void 0:t.id}));return Ce(r=oe({htmlFor:o},r))})),Cn=mt(pt((function(e){return gt("label",Sn(e))}))),On=vt((function(e){var t=e,{store:n}=t,r=se(t,["store"]);const i=un();return n=n||i,ae(oe({},r),{ref:it(null==n?void 0:n.setAnchorElement,r.ref)})}));function Pn(e,t){return t&&e.item(t)||null}pt((function(e){return gt("div",On(e))}));var jn=Symbol("FOCUS_SILENTLY");function Ln(e,t,n){if(!t)return!1;if(t===n)return!1;const r=e.item(t.id);return!(!r||n&&r.element===n)}var kn=(0,Pe.createContext)(!0),Tn="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], summary, iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])";function In(e){return!!e.matches(Tn)&&!!function(e){if("function"==typeof e.checkVisibility)return e.checkVisibility();const t=e;return t.offsetWidth>0||t.offsetHeight>0||e.getClientRects().length>0}(e)&&!e.closest("[inert]")}function An(e){const t=Me(e);if(!t)return!1;if(t===e)return!0;const n=t.getAttribute("aria-activedescendant");return!!n&&n===e.id}function Mn(e){const t=Me(e);if(!t)return!1;if(Ne(e,t))return!0;const n=t.getAttribute("aria-activedescendant");return!!n&&"id"in e&&(n===e.id||!!e.querySelector(`#${CSS.escape(n)}`))}var Nn=Ue(),Rn=["text","search","url","tel","email","password","number","date","month","week","time","datetime","datetime-local"],Fn=Symbol("safariFocusAncestor");function Dn(e,t){e&&(e[Fn]=t)}function Vn(e){return!("input"!==e.tagName.toLowerCase()||!e.type||"radio"!==e.type&&"checkbox"!==e.type)}function Bn(e,t,n,r,i){return e?t?n&&!r?-1:void 0:n?i:i||0:i}function zn(e,t){return rt((n=>{null==e||e(n),n.defaultPrevented||t&&(n.stopPropagation(),n.preventDefault())}))}var Hn=!0;function $n(e){const t=e.target;t&&"hasAttribute"in t&&(t.hasAttribute("data-focus-visible")||(Hn=!1))}function Gn(e){e.metaKey||e.ctrlKey||e.altKey||(Hn=!0)}var Un=vt((function(e){var t=e,{focusable:n=!0,accessibleWhenDisabled:r,autoFocus:i,onFocusVisible:o}=t,a=se(t,["focusable","accessibleWhenDisabled","autoFocus","onFocusVisible"]);const s=(0,Pe.useRef)(null);(0,Pe.useEffect)((()=>{n&&(Qe("mousedown",$n,!0),Qe("keydown",Gn,!0))}),[n]),Nn&&(0,Pe.useEffect)((()=>{if(!n)return;const e=s.current;if(!e)return;if(!Vn(e))return;const t=function(e){return"labels"in e?e.labels:null}(e);if(!t)return;const r=()=>queueMicrotask((()=>e.focus()));for(const e of t)e.addEventListener("mouseup",r);return()=>{for(const e of t)e.removeEventListener("mouseup",r)}}),[n]);const l=n&&Se(a),c=!!l&&!r,[u,d]=(0,Pe.useState)(!1);(0,Pe.useEffect)((()=>{n&&c&&u&&d(!1)}),[n,c,u]),(0,Pe.useEffect)((()=>{if(!n)return;if(!u)return;const e=s.current;if(!e)return;if("undefined"==typeof IntersectionObserver)return;const t=new IntersectionObserver((()=>{In(e)||d(!1)}));return t.observe(e),()=>t.disconnect()}),[n,u]);const f=zn(a.onKeyPressCapture,l),h=zn(a.onMouseDownCapture,l),p=zn(a.onClickCapture,l),m=a.onMouseDown,g=rt((e=>{if(null==m||m(e),e.defaultPrevented)return;if(!n)return;const t=e.currentTarget;if(!Nn)return;if(We(e))return;if(!Re(t)&&!Vn(t))return;let r=!1;const i=()=>{r=!0};t.addEventListener("focusin",i,{capture:!0,once:!0});const o=function(e){for(;e&&!In(e);)e=e.closest(Tn);return e||null}(t.parentElement);Dn(o,!0),Ze(t,"mouseup",(()=>{t.removeEventListener("focusin",i,!0),Dn(o,!1),r||function(e){!Mn(e)&&In(e)&&e.focus()}(t)}))})),v=(e,t)=>{if(t&&(e.currentTarget=t),!n)return;const r=e.currentTarget;r&&An(r)&&(null==o||o(e),e.defaultPrevented||(r.dataset.focusVisible="true",d(!0)))},y=a.onKeyDownCapture,b=rt((e=>{if(null==y||y(e),e.defaultPrevented)return;if(!n)return;if(u)return;if(e.metaKey)return;if(e.altKey)return;if(e.ctrlKey)return;if(!qe(e))return;const t=e.currentTarget;Ze(t,"focusout",(()=>v(e,t)))})),w=a.onFocusCapture,x=rt((e=>{if(null==w||w(e),e.defaultPrevented)return;if(!n)return;if(!qe(e))return void d(!1);const t=e.currentTarget;Hn||function(e){const{tagName:t,readOnly:n,type:r}=e;return"TEXTAREA"===t&&!n||"SELECT"===t&&!n||("INPUT"!==t||n?!!e.isContentEditable||!("combobox"!==e.getAttribute("role")||!e.dataset.name):Rn.includes(r))}(e.target)?Ze(e.target,"focusout",(()=>v(e,t))):d(!1)})),_=a.onBlur,E=rt((e=>{null==_||_(e),n&&Ke(e)&&d(!1)})),S=(0,Pe.useContext)(kn),C=rt((e=>{n&&i&&e&&S&&queueMicrotask((()=>{An(e)||In(e)&&e.focus()}))})),O=function(e,t){const n=e=>{if("string"==typeof e)return e},[r,i]=(0,Pe.useState)((()=>n(t)));return nt((()=>{const r=e&&"current"in e?e.current:e;i((null==r?void 0:r.tagName.toLowerCase())||n(t))}),[e,t]),r}(s),P=n&&function(e){return!e||"button"===e||"summary"===e||"input"===e||"select"===e||"textarea"===e||"a"===e}(O),j=n&&function(e){return!e||"button"===e||"input"===e||"select"===e||"textarea"===e}(O),L=a.style,k=(0,Pe.useMemo)((()=>c?oe({pointerEvents:"none"},L):L),[c,L]);return Ce(a=ae(oe({"data-focus-visible":n&&u||void 0,"data-autofocus":i||void 0,"aria-disabled":l||void 0},a),{ref:it(s,C,a.ref),style:k,tabIndex:Bn(n,c,P,j,a.tabIndex),disabled:!(!j||!c)||void 0,contentEditable:l?void 0:a.contentEditable,onKeyPressCapture:f,onClickCapture:p,onMouseDownCapture:h,onMouseDown:g,onKeyDownCapture:b,onFocusCapture:x,onBlur:E}))}));function Wn(e,t,n){return rt((r=>{var i;if(null==t||t(r),r.defaultPrevented)return;if(r.isPropagationStopped())return;if(!qe(r))return;if(function(e){return"Shift"===e.key||"Control"===e.key||"Alt"===e.key||"Meta"===e.key}(r))return;if(function(e){const t=e.target;return!(t&&!De(t)||1!==e.key.length||e.ctrlKey||e.metaKey)}(r))return;const o=e.getState(),a=null==(i=Pn(e,o.activeId))?void 0:i.element;if(!a)return;const s=r,{view:l}=s,c=se(s,["view"]);a!==(null==n?void 0:n.current)&&a.focus(),function(e,t,n){const r=new KeyboardEvent(t,n);return e.dispatchEvent(r)}(a,r.type,c)||r.preventDefault(),r.currentTarget.contains(a)&&r.stopPropagation()}))}pt((function(e){return gt("div",Un(e))}));var qn=vt((function(e){var t=e,{store:n,composite:r=!0,focusOnMove:i=r,moveOnKeyPress:o=!0}=t,a=se(t,["store","composite","focusOnMove","moveOnKeyPress"]);const s=Et();Ee(n=n||s,!1);const l=(0,Pe.useRef)(null),c=(0,Pe.useRef)(null),u=function(e){const[t,n]=(0,Pe.useState)(!1),r=(0,Pe.useCallback)((()=>n(!0)),[]),i=e.useState((t=>Pn(e,t.activeId)));return(0,Pe.useEffect)((()=>{const e=null==i?void 0:i.element;t&&e&&(n(!1),e.focus({preventScroll:!0}))}),[i,t]),r}(n),d=n.useState("moves"),[,h]=function(e){const[t,n]=(0,Pe.useState)(null);return nt((()=>{if(null==t)return;if(!e)return;let n=null;return e((e=>(n=e,t))),()=>{e(n)}}),[t,e]),[t,n]}(r?n.setBaseElement:null);(0,Pe.useEffect)((()=>{var e;if(!n)return;if(!d)return;if(!r)return;if(!i)return;const{activeId:t}=n.getState(),o=null==(e=Pn(n,t))?void 0:e.element;var a;o&&("scrollIntoView"in(a=o)?(a.focus({preventScroll:!0}),a.scrollIntoView(me({block:"nearest",inline:"nearest"},undefined))):a.focus())}),[n,d,r,i]),nt((()=>{if(!n)return;if(!d)return;if(!r)return;const{baseElement:e,activeId:t}=n.getState();if(null!==t)return;if(!e)return;const i=c.current;c.current=null,i&&Ye(i,{relatedTarget:e}),An(e)||e.focus()}),[n,d,r]);const p=n.useState("activeId"),m=n.useState("virtualFocus");nt((()=>{var e;if(!n)return;if(!r)return;if(!m)return;const t=c.current;if(c.current=null,!t)return;const i=(null==(e=Pn(n,p))?void 0:e.element)||Me(t);i!==t&&Ye(t,{relatedTarget:i})}),[n,p,m,r]);const g=Wn(n,a.onKeyDownCapture,c),v=Wn(n,a.onKeyUpCapture,c),y=a.onFocusCapture,b=rt((e=>{if(null==y||y(e),e.defaultPrevented)return;if(!n)return;const{virtualFocus:t}=n.getState();if(!t)return;const r=e.relatedTarget,i=function(e){const t=e[jn];return delete e[jn],t}(e.currentTarget);qe(e)&&i&&(e.stopPropagation(),c.current=r)})),w=a.onFocus,x=rt((e=>{if(null==w||w(e),e.defaultPrevented)return;if(!r)return;if(!n)return;const{relatedTarget:t}=e,{virtualFocus:i}=n.getState();i?qe(e)&&!Ln(n,t)&&queueMicrotask(u):qe(e)&&n.setActiveId(null)})),_=a.onBlurCapture,E=rt((e=>{var t;if(null==_||_(e),e.defaultPrevented)return;if(!n)return;const{virtualFocus:r,activeId:i}=n.getState();if(!r)return;const o=null==(t=Pn(n,i))?void 0:t.element,a=e.relatedTarget,s=Ln(n,a),l=c.current;c.current=null,qe(e)&&s?(a===o?l&&l!==a&&Ye(l,e):o?Ye(o,e):l&&Ye(l,e),e.stopPropagation()):!Ln(n,e.target)&&o&&Ye(o,e)})),S=a.onKeyDown,C=st(o),O=rt((e=>{var t;if(null==S||S(e),e.defaultPrevented)return;if(!n)return;if(!qe(e))return;const{orientation:r,renderedItems:i,activeId:o}=n.getState(),a=Pn(n,o);if(null==(t=null==a?void 0:a.element)?void 0:t.isConnected)return;const s="horizontal"!==r,l="vertical"!==r,c=i.some((e=>!!e.rowId));if(("ArrowLeft"===e.key||"ArrowRight"===e.key||"Home"===e.key||"End"===e.key)&&De(e.currentTarget))return;const u={ArrowUp:(c||s)&&(()=>{if(c){const e=function(e){return e.find((e=>!e.disabled))}(qt(Yt(function(e){const t=[];for(const n of e){const e=t.find((e=>{var t;return(null==(t=e[0])?void 0:t.rowId)===n.rowId}));e?e.push(n):t.push([n])}return t}(i))));return null==e?void 0:e.id}return null==n?void 0:n.last()}),ArrowRight:(c||l)&&n.first,ArrowDown:(c||s)&&n.first,ArrowLeft:(c||l)&&n.last,Home:n.first,End:n.last,PageUp:n.first,PageDown:n.last},d=u[e.key];if(d){const t=d();if(void 0!==t){if(!C(e))return;e.preventDefault(),n.move(t)}}}));a=lt(a,(e=>(0,f.jsx)(St,{value:n,children:e})),[n]);const P=n.useState((e=>{var t;if(n&&r&&e.virtualFocus)return null==(t=Pn(n,e.activeId))?void 0:t.id}));a=ae(oe({"aria-activedescendant":P},a),{ref:it(l,h,a.ref),onKeyDownCapture:g,onKeyUpCapture:v,onFocusCapture:b,onFocus:x,onBlurCapture:E,onKeyDown:O});const j=n.useState((e=>r&&(e.virtualFocus||null===e.activeId)));return Un(oe({focusable:j},a))}));function Yn(e,t,n){if(!n)return!1;const r=e.find((e=>!e.disabled&&e.value));return(null==r?void 0:r.value)===t}function Xn(e,t){return!!t&&null!=e&&(e=xe(e),t.length>e.length&&0===t.toLowerCase().indexOf(e.toLowerCase()))}pt((function(e){return gt("div",qn(e))}));var Kn=vt((function(e){var t=e,{store:n,focusable:r=!0,autoSelect:i=!1,getAutoSelectId:o,setValueOnChange:a,showMinLength:s=0,showOnChange:l,showOnMouseDown:c,showOnClick:u=c,showOnKeyDown:d,showOnKeyPress:f=d,blurActiveItemOnClick:h,setValueOnClick:p=!0,moveOnKeyPress:m=!0,autoComplete:g="list"}=t,v=se(t,["store","focusable","autoSelect","getAutoSelectId","setValueOnChange","showMinLength","showOnChange","showOnMouseDown","showOnClick","showOnKeyDown","showOnKeyPress","blurActiveItemOnClick","setValueOnClick","moveOnKeyPress","autoComplete"]);const y=vn();Ee(n=n||y,!1);const b=(0,Pe.useRef)(null),[w,x]=(0,Pe.useReducer)((()=>[]),[]),_=(0,Pe.useRef)(!1),E=(0,Pe.useRef)(!1),S=n.useState((e=>e.virtualFocus&&i)),C="inline"===g||"both"===g,[O,P]=(0,Pe.useState)(C);!function(e,t){const n=(0,Pe.useRef)(!1);nt((()=>{n.current?C&&P(!0):n.current=!0}),t),nt((()=>()=>{n.current=!1}),[])}(0,[C]);const j=n.useState("value"),L=(0,Pe.useRef)();(0,Pe.useEffect)((()=>Nt(n,["selectedValue","activeId"],((e,t)=>{L.current=t.selectedValue}))),[]);const k=n.useState((e=>{var t;if(C&&O){if(e.activeValue&&Array.isArray(e.selectedValue)){if(e.selectedValue.includes(e.activeValue))return;if(null==(t=L.current)?void 0:t.includes(e.activeValue))return}return e.activeValue}})),T=n.useState("renderedItems"),I=n.useState("open"),A=n.useState("contentElement"),M=(0,Pe.useMemo)((()=>{if(!C)return j;if(!O)return j;if(Yn(T,k,S)){if(Xn(j,k)){const e=(null==k?void 0:k.slice(j.length))||"";return j+e}return j}return k||j}),[C,O,T,k,S,j]);(0,Pe.useEffect)((()=>{const e=b.current;if(!e)return;const t=()=>P(!0);return e.addEventListener("combobox-item-move",t),()=>{e.removeEventListener("combobox-item-move",t)}}),[]),(0,Pe.useEffect)((()=>{if(!C)return;if(!O)return;if(!k)return;if(!Yn(T,k,S))return;if(!Xn(j,k))return;let e=ye;return queueMicrotask((()=>{const t=b.current;if(!t)return;const{start:n,end:r}=Be(t),i=j.length,o=k.length;$e(t,i,o),e=()=>{if(!An(t))return;const{start:e,end:a}=Be(t);e===i&&a===o&&$e(t,n,r)}})),()=>e()}),[w,C,O,k,T,S,j]);const N=(0,Pe.useRef)(null),R=rt(o),F=(0,Pe.useRef)(null);(0,Pe.useEffect)((()=>{if(!I)return;if(!A)return;const e=He(A);if(!e)return;N.current=e;const t=()=>{_.current=!1},r=()=>{if(!n)return;if(!_.current)return;const{activeId:e}=n.getState();null!==e&&e!==F.current&&(_.current=!1)},i={passive:!0,capture:!0};return e.addEventListener("wheel",t,i),e.addEventListener("touchmove",t,i),e.addEventListener("scroll",r,i),()=>{e.removeEventListener("wheel",t,!0),e.removeEventListener("touchmove",t,!0),e.removeEventListener("scroll",r,!0)}}),[I,A,n]),nt((()=>{j&&(E.current||(_.current=!0))}),[j]),nt((()=>{"always"!==S&&I||(_.current=I)}),[S,I]);const D=n.useState("resetValueOnSelect");at((()=>{var e,t;const r=_.current;if(!n)return;if(!I)return;if(!r&&!D)return;const{baseElement:i,contentElement:o,activeId:a}=n.getState();if(!i||An(i)){if(null==o?void 0:o.hasAttribute("data-placing")){const e=new MutationObserver(x);return e.observe(o,{attributeFilter:["data-placing"]}),()=>e.disconnect()}if(S&&r){const t=R(T),r=void 0!==t?t:null!=(e=function(e){const t=e.find((e=>{var t;return!e.disabled&&"tab"!==(null==(t=e.element)?void 0:t.getAttribute("role"))}));return null==t?void 0:t.id}(T))?e:n.first();F.current=r,n.move(null!=r?r:null)}else{const e=null==(t=n.item(a||n.first()))?void 0:t.element;e&&"scrollIntoView"in e&&e.scrollIntoView({block:"nearest",inline:"nearest"})}}}),[n,I,w,j,S,D,R,T]),(0,Pe.useEffect)((()=>{if(!C)return;const e=b.current;if(!e)return;const t=[e,A].filter((e=>!!e)),r=e=>{t.every((t=>Ke(e,t)))&&(null==n||n.setValue(M))};for(const e of t)e.addEventListener("focusout",r);return()=>{for(const e of t)e.removeEventListener("focusout",r)}}),[C,A,n,M]);const V=e=>e.currentTarget.value.length>=s,B=v.onChange,z=st(null!=l?l:V),H=st(null!=a?a:!n.tag),$=rt((e=>{if(null==B||B(e),e.defaultPrevented)return;if(!n)return;const t=e.currentTarget,{value:r,selectionStart:i,selectionEnd:o}=t,a=e.nativeEvent;if(_.current=!0,function(e){return"input"===e.type}(a)&&(a.isComposing&&(_.current=!1,E.current=!0),C)){const e="insertText"===a.inputType||"insertCompositionText"===a.inputType,t=i===r.length;P(e&&t)}if(H(e)){const e=r===n.getState().value;n.setValue(r),queueMicrotask((()=>{$e(t,i,o)})),C&&S&&e&&x()}z(e)&&n.show(),S&&_.current||n.setActiveId(null)})),G=v.onCompositionEnd,U=rt((e=>{_.current=!0,E.current=!1,null==G||G(e),e.defaultPrevented||S&&x()})),W=v.onMouseDown,q=st(null!=h?h:()=>!!(null==n?void 0:n.getState().includesBaseElement)),Y=st(p),X=st(null!=u?u:V),K=rt((e=>{null==W||W(e),e.defaultPrevented||e.button||e.ctrlKey||n&&(q(e)&&n.setActiveId(null),Y(e)&&n.setValue(M),X(e)&&Ze(e.currentTarget,"mouseup",n.show))})),Z=v.onKeyDown,Q=st(null!=f?f:V),J=rt((e=>{if(null==Z||Z(e),e.repeat||(_.current=!1),e.defaultPrevented)return;if(e.ctrlKey)return;if(e.altKey)return;if(e.shiftKey)return;if(e.metaKey)return;if(!n)return;const{open:t}=n.getState();t||"ArrowUp"!==e.key&&"ArrowDown"!==e.key||Q(e)&&(e.preventDefault(),n.show())})),ee=v.onBlur,te=rt((e=>{_.current=!1,null==ee||ee(e),e.defaultPrevented})),ne=ot(v.id),re=function(e){return"inline"===e||"list"===e||"both"===e||"none"===e}(g)?g:void 0,ie=n.useState((e=>null===e.activeId));return v=ae(oe({id:ne,role:"combobox","aria-autocomplete":re,"aria-haspopup":ze(A,"listbox"),"aria-expanded":I,"aria-controls":null==A?void 0:A.id,"data-active-item":ie||void 0,value:M},v),{ref:it(b,v.ref),onChange:$,onCompositionEnd:U,onMouseDown:K,onKeyDown:J,onBlur:te}),v=qn(ae(oe({store:n,focusable:r},v),{moveOnKeyPress:e=>!function(e,...t){const n="function"==typeof e?e(...t):e;return null!=n&&!n}(m,e)&&(C&&P(!0),!0)})),v=On(oe({store:n},v)),oe({autoComplete:"off"},v)})),Zn=pt((function(e){return gt("input",Kn(e))}));function Qn(e,t){const n=setTimeout(t,e);return()=>clearTimeout(n)}function Jn(...e){return e.join(", ").split(", ").reduce(((e,t)=>{const n=t.endsWith("ms")?1:1e3,r=Number.parseFloat(t||"0s")*n;return r>e?r:e}),0)}function er(e,t,n){return!(n||!1===t||e&&!t)}var tr=vt((function(t){var n=t,{store:r,alwaysVisible:i}=n,o=se(n,["store","alwaysVisible"]);const a=on();Ee(r=r||a,!1);const s=(0,Pe.useRef)(null),l=ot(o.id),[c,u]=(0,Pe.useState)(null),d=r.useState("open"),h=r.useState("mounted"),p=r.useState("animated"),m=r.useState("contentElement"),g=zt(r.disclosure,"contentElement");nt((()=>{s.current&&(null==r||r.setContentElement(s.current))}),[r]),nt((()=>{let e;return null==r||r.setState("animated",(t=>(e=t,!0))),()=>{void 0!==e&&(null==r||r.setState("animated",e))}}),[r]),nt((()=>{if(p){if(null==m?void 0:m.isConnected)return function(e){let t=requestAnimationFrame((()=>{t=requestAnimationFrame(e)}));return()=>cancelAnimationFrame(t)}((()=>{u(d?"enter":h?"leave":null)}));u(null)}}),[p,m,d,h]),nt((()=>{if(!r)return;if(!p)return;if(!c)return;if(!m)return;const t=()=>null==r?void 0:r.setState("animating",!1),n=()=>(0,e.flushSync)(t);if("leave"===c&&d)return;if("enter"===c&&!d)return;if("number"==typeof p)return Qn(p,n);const{transitionDuration:i,animationDuration:o,transitionDelay:a,animationDelay:s}=getComputedStyle(m),{transitionDuration:l="0",animationDuration:u="0",transitionDelay:f="0",animationDelay:h="0"}=g?getComputedStyle(g):{},v=Jn(a,s,f,h)+Jn(i,o,l,u);return v?Qn(Math.max(v-1e3/60,0),n):("enter"===c&&r.setState("animated",!1),void t())}),[r,p,m,g,d,c]),o=lt(o,(e=>(0,f.jsx)(ln,{value:r,children:e})),[r]);const v=er(h,o.hidden,i),y=o.style,b=(0,Pe.useMemo)((()=>v?ae(oe({},y),{display:"none"}):y),[v,y]);return Ce(o=ae(oe({id:l,"data-open":d||void 0,"data-enter":"enter"===c||void 0,"data-leave":"leave"===c||void 0,hidden:v},o),{ref:it(l?r.setContentElement:null,s,o.ref),style:b}))})),nr=pt((function(e){return gt("div",tr(e))})),rr=(pt((function(e){var t=e,{unmountOnHide:n}=t,r=se(t,["unmountOnHide"]);const i=on();return!1===zt(r.store||i,(e=>!n||(null==e?void 0:e.mounted)))?null:(0,f.jsx)(nr,oe({},r))})),vt((function(e){var t=e,{store:n,alwaysVisible:r}=t,i=se(t,["store","alwaysVisible"]);const o=gn(!0),a=mn(),s=!!(n=n||a)&&n===o;Ee(n,!1);const l=(0,Pe.useRef)(null),c=ot(i.id),u=n.useState("mounted"),d=er(u,i.hidden,r),h=d?ae(oe({},i.style),{display:"none"}):i.style,p=n.useState((e=>Array.isArray(e.selectedValue))),m=function(e,t,n){const r=function(e){const[t]=(0,Pe.useState)(e);return t}(n),[i,o]=(0,Pe.useState)(r);return(0,Pe.useEffect)((()=>{const n=e&&"current"in e?e.current:e;if(!n)return;const i=()=>{const e=n.getAttribute(t);o(null==e?r:e)},a=new MutationObserver(i);return a.observe(n,{attributeFilter:[t]}),i(),()=>a.disconnect()}),[e,t,r]),i}(l,"role",i.role),g=("listbox"===m||"tree"===m||"grid"===m)&&p||void 0,[v,y]=(0,Pe.useState)(!1),b=n.useState("contentElement");nt((()=>{if(!u)return;const e=l.current;if(!e)return;if(b!==e)return;const t=()=>{y(!!e.querySelector("[role='listbox']"))},n=new MutationObserver(t);return n.observe(e,{subtree:!0,childList:!0,attributeFilter:["role"]}),t(),()=>n.disconnect()}),[u,b]),v||(i=oe({role:"listbox","aria-multiselectable":g},i)),i=lt(i,(e=>(0,f.jsx)(bn,{value:n,children:(0,f.jsx)(hn.Provider,{value:m,children:e})})),[n,m]);const w=!c||o&&s?null:n.setContentElement;return Ce(i=ae(oe({id:c,hidden:d},i),{ref:it(w,l,i.ref),style:h}))}))),ir=pt((function(e){return gt("div",rr(e))}));function or(e){const t=e.relatedTarget;return(null==t?void 0:t.nodeType)===Node.ELEMENT_NODE?t:null}var ar=Symbol("composite-hover"),sr=vt((function(e){var t=e,{store:n,focusOnHover:r=!0,blurOnHoverEnd:i=!!r}=t,o=se(t,["store","focusOnHover","blurOnHoverEnd"]);const a=_t();Ee(n=n||a,!1);const s=((0,Pe.useEffect)((()=>{Qe("mousemove",ft,!0),Qe("mousedown",ht,!0),Qe("mouseup",ht,!0),Qe("keydown",ht,!0),Qe("scroll",ht,!0)}),[]),rt((()=>ct))),l=o.onMouseMove,c=st(r),u=rt((e=>{if(null==l||l(e),!e.defaultPrevented&&s()&&c(e)){if(!Mn(e.currentTarget)){const e=null==n?void 0:n.getState().baseElement;e&&!An(e)&&e.focus()}null==n||n.setActiveId(e.currentTarget.id)}})),d=o.onMouseLeave,f=st(i),h=rt((e=>{var t;null==d||d(e),e.defaultPrevented||s()&&(function(e){const t=or(e);return!!t&&Ne(e.currentTarget,t)}(e)||function(e){let t=or(e);if(!t)return!1;do{if(be(t,ar)&&t[ar])return!0;t=t.parentElement}while(t);return!1}(e)||c(e)&&f(e)&&(null==n||n.setActiveId(null),null==(t=null==n?void 0:n.getState().baseElement)||t.focus()))})),p=(0,Pe.useCallback)((e=>{e&&(e[ar]=!0)}),[]);return Ce(o=ae(oe({},o),{ref:it(p,o.ref),onMouseMove:u,onMouseLeave:h}))})),lr=(mt(pt((function(e){return gt("div",sr(e))}))),vt((function(e){var t=e,{store:n,shouldRegisterItem:r=!0,getItem:i=_e,element:o}=t,a=se(t,["store","shouldRegisterItem","getItem","element"]);const s=wt();n=n||s;const l=ot(a.id),c=(0,Pe.useRef)(o);return(0,Pe.useEffect)((()=>{const e=c.current;if(!l)return;if(!e)return;if(!r)return;const t=i({id:l,element:e});return null==n?void 0:n.renderItem(t)}),[l,r,i,n]),Ce(a=ae(oe({},a),{ref:it(c,a.ref)}))})));function cr(e){if(!e.isTrusted)return!1;const t=e.currentTarget;return"Enter"===e.key?Re(t)||"SUMMARY"===t.tagName||"A"===t.tagName:" "===e.key&&(Re(t)||"SUMMARY"===t.tagName||"INPUT"===t.tagName||"SELECT"===t.tagName)}pt((function(e){return gt("div",lr(e))}));var ur=Symbol("command"),dr=vt((function(e){var t=e,{clickOnEnter:n=!0,clickOnSpace:r=!0}=t,i=se(t,["clickOnEnter","clickOnSpace"]);const o=(0,Pe.useRef)(null),[a,s]=(0,Pe.useState)(!1);(0,Pe.useEffect)((()=>{o.current&&s(Re(o.current))}),[]);const[l,c]=(0,Pe.useState)(!1),u=(0,Pe.useRef)(!1),d=Se(i),[f,h]=function(e,t,n){const r=e.onLoadedMetadataCapture,i=(0,Pe.useMemo)((()=>Object.assign((()=>{}),ae(oe({},r),{[t]:n}))),[r,t,n]);return[null==r?void 0:r[t],{onLoadedMetadataCapture:i}]}(i,ur,!0),p=i.onKeyDown,m=rt((e=>{null==p||p(e);const t=e.currentTarget;if(e.defaultPrevented)return;if(f)return;if(d)return;if(!qe(e))return;if(De(t))return;if(t.isContentEditable)return;const i=n&&"Enter"===e.key,o=r&&" "===e.key,a="Enter"===e.key&&!n,s=" "===e.key&&!r;if(a||s)e.preventDefault();else if(i||o){const n=cr(e);if(i){if(!n){e.preventDefault();const n=e,{view:r}=n,i=se(n,["view"]),o=()=>Xe(t,i);Ie&&/firefox\//i.test(navigator.userAgent)?Ze(t,"keyup",o):queueMicrotask(o)}}else o&&(u.current=!0,n||(e.preventDefault(),c(!0)))}})),g=i.onKeyUp,v=rt((e=>{if(null==g||g(e),e.defaultPrevented)return;if(f)return;if(d)return;if(e.metaKey)return;const t=r&&" "===e.key;if(u.current&&t&&(u.current=!1,!cr(e))){e.preventDefault(),c(!1);const t=e.currentTarget,n=e,{view:r}=n,i=se(n,["view"]);queueMicrotask((()=>Xe(t,i)))}}));return i=ae(oe(oe({"data-active":l||void 0,type:a?"button":void 0},h),i),{ref:it(o,i.ref),onKeyDown:m,onKeyUp:v}),Un(i)}));function fr(e,t=!1){const{top:n}=e.getBoundingClientRect();return t?n+e.clientHeight:n}function hr(e,t,n,r=!1){var i;if(!t)return;if(!n)return;const{renderedItems:o}=t.getState(),a=He(e);if(!a)return;const s=function(e,t=!1){const n=e.clientHeight,{top:r}=e.getBoundingClientRect(),i=1.5*Math.max(.875*n,n-40),o=t?n-i+r:i+r;return"HTML"===e.tagName?o+e.scrollTop:o}(a,r);let l,c;for(let e=0;e<o.length;e+=1){const o=l;if(l=n(e),!l)break;if(l===o)continue;const a=null==(i=Pn(t,l))?void 0:i.element;if(!a)continue;const u=fr(a,r)-s,d=Math.abs(u);if(r&&u<=0||!r&&u>=0){void 0!==c&&c<d&&(l=o);break}c=d}return l}pt((function(e){return gt("button",dr(e))}));var pr=vt((function(e){var t=e,{store:n,rowId:r,preventScrollOnKeyDown:i=!1,moveOnKeyPress:o=!0,tabbable:a=!1,getItem:s,"aria-setsize":l,"aria-posinset":c}=t,u=se(t,["store","rowId","preventScrollOnKeyDown","moveOnKeyPress","tabbable","getItem","aria-setsize","aria-posinset"]);const d=_t();n=n||d;const h=ot(u.id),p=(0,Pe.useRef)(null),m=(0,Pe.useContext)(Pt),g=Se(u)&&!u.accessibleWhenDisabled,{rowId:v,baseElement:y,isActiveItem:b,ariaSetSize:w,ariaPosInSet:x,isTabbable:_}=Ht(n,{rowId:e=>r||(e&&(null==m?void 0:m.baseElement)&&m.baseElement===e.baseElement?m.id:void 0),baseElement:e=>(null==e?void 0:e.baseElement)||void 0,isActiveItem:e=>!!e&&e.activeId===h,ariaSetSize:e=>null!=l?l:e&&(null==m?void 0:m.ariaSetSize)&&m.baseElement===e.baseElement?m.ariaSetSize:void 0,ariaPosInSet(e){if(null!=c)return c;if(!e)return;if(!(null==m?void 0:m.ariaPosInSet))return;if(m.baseElement!==e.baseElement)return;const t=e.renderedItems.filter((e=>e.rowId===v));return m.ariaPosInSet+t.findIndex((e=>e.id===h))},isTabbable(e){if(!(null==e?void 0:e.renderedItems.length))return!0;if(e.virtualFocus)return!1;if(a)return!0;if(null===e.activeId)return!1;const t=null==n?void 0:n.item(e.activeId);return!!(null==t?void 0:t.disabled)||!(null==t?void 0:t.element)||e.activeId===h}}),E=(0,Pe.useCallback)((e=>{var t;const n=ae(oe({},e),{id:h||e.id,rowId:v,disabled:!!g,children:null==(t=e.element)?void 0:t.textContent});return s?s(n):n}),[h,v,g,s]),S=u.onFocus,C=(0,Pe.useRef)(!1),O=rt((e=>{if(null==S||S(e),e.defaultPrevented)return;if(We(e))return;if(!h)return;if(!n)return;if(function(e,t){return!qe(e)&&Ln(t,e.target)}(e,n))return;const{virtualFocus:t,baseElement:r}=n.getState();var i;(n.setActiveId(h),Ve(e.currentTarget)&&function(e,t=!1){if(De(e))e.setSelectionRange(t?e.value.length:0,e.value.length);else if(e.isContentEditable){const n=Ae(e).getSelection();null==n||n.selectAllChildren(e),t&&(null==n||n.collapseToEnd())}}(e.currentTarget),t)&&(qe(e)&&(Ve(i=e.currentTarget)||"INPUT"===i.tagName&&!Re(i)||(null==r?void 0:r.isConnected)&&(Ue()&&e.currentTarget.hasAttribute("data-autofocus")&&e.currentTarget.scrollIntoView({block:"nearest",inline:"nearest"}),C.current=!0,e.relatedTarget===r||Ln(n,e.relatedTarget)?function(e){e[jn]=!0,e.focus({preventScroll:!0})}(r):r.focus())))})),P=u.onBlurCapture,j=rt((e=>{if(null==P||P(e),e.defaultPrevented)return;const t=null==n?void 0:n.getState();(null==t?void 0:t.virtualFocus)&&C.current&&(C.current=!1,e.preventDefault(),e.stopPropagation())})),L=u.onKeyDown,k=st(i),T=st(o),I=rt((e=>{if(null==L||L(e),e.defaultPrevented)return;if(!qe(e))return;if(!n)return;const{currentTarget:t}=e,r=n.getState(),i=n.item(h),o=!!(null==i?void 0:i.rowId),a="horizontal"!==r.orientation,s="vertical"!==r.orientation,l=()=>!(!o&&!s&&r.baseElement&&De(r.baseElement)),c={ArrowUp:(o||a)&&n.up,ArrowRight:(o||s)&&n.next,ArrowDown:(o||a)&&n.down,ArrowLeft:(o||s)&&n.previous,Home:()=>{if(l())return!o||e.ctrlKey?null==n?void 0:n.first():null==n?void 0:n.previous(-1)},End:()=>{if(l())return!o||e.ctrlKey?null==n?void 0:n.last():null==n?void 0:n.next(-1)},PageUp:()=>hr(t,n,null==n?void 0:n.up,!0),PageDown:()=>hr(t,n,null==n?void 0:n.down)}[e.key];if(c){if(Ve(t)){const n=Be(t),r=s&&"ArrowLeft"===e.key,i=s&&"ArrowRight"===e.key,o=a&&"ArrowUp"===e.key,l=a&&"ArrowDown"===e.key;if(i||l){const{length:e}=function(e){if(De(e))return e.value;if(e.isContentEditable){const t=Ae(e).createRange();return t.selectNodeContents(e),t.toString()}return""}(t);if(n.end!==e)return}else if((r||o)&&0!==n.start)return}const r=c();if(k(e)||void 0!==r){if(!T(e))return;e.preventDefault(),n.move(r)}}})),A=(0,Pe.useMemo)((()=>({id:h,baseElement:y})),[h,y]);return u=lt(u,(e=>(0,f.jsx)(Ot.Provider,{value:A,children:e})),[A]),u=ae(oe({id:h,"data-active-item":b||void 0},u),{ref:it(p,u.ref),tabIndex:_?u.tabIndex:-1,onFocus:O,onBlurCapture:j,onKeyDown:I}),u=dr(u),u=lr(ae(oe({store:n},u),{getItem:E,shouldRegisterItem:!!h&&u.shouldRegisterItem})),Ce(ae(oe({},u),{"aria-setsize":w,"aria-posinset":x}))}));function mr(e){var t;return null!=(t={menu:"menuitem",listbox:"option",tree:"treeitem"}[e])?t:"option"}mt(pt((function(e){return gt("button",pr(e))})));var gr=vt((function(e){var t,n=e,{store:r,value:i,hideOnClick:o,setValueOnClick:a,selectValueOnClick:s=!0,resetValueOnSelect:l,focusOnHover:c=!1,moveOnKeyPress:u=!0,getItem:d}=n,h=se(n,["store","value","hideOnClick","setValueOnClick","selectValueOnClick","resetValueOnSelect","focusOnHover","moveOnKeyPress","getItem"]);const p=gn();Ee(r=r||p,!1);const{resetValueOnSelectState:m,multiSelectable:g,selected:v}=Ht(r,{resetValueOnSelectState:"resetValueOnSelect",multiSelectable:e=>Array.isArray(e.selectedValue),selected:e=>function(e,t){if(null!=t)return null!=e&&(Array.isArray(e)?e.includes(t):e===t)}(e.selectedValue,i)}),y=(0,Pe.useCallback)((e=>{const t=ae(oe({},e),{value:i});return d?d(t):t}),[i,d]);a=null!=a?a:!g,o=null!=o?o:null!=i&&!g;const b=h.onClick,w=st(a),x=st(s),_=st(null!=(t=null!=l?l:m)?t:g),E=st(o),S=rt((e=>{null==b||b(e),e.defaultPrevented||function(e){const t=e.currentTarget;if(!t)return!1;const n=t.tagName.toLowerCase();return!!e.altKey&&("a"===n||"button"===n&&"submit"===t.type||"input"===n&&"submit"===t.type)}(e)||function(e){const t=e.currentTarget;if(!t)return!1;const n=Ge();if(n&&!e.metaKey)return!1;if(!n&&!e.ctrlKey)return!1;const r=t.tagName.toLowerCase();return"a"===r||"button"===r&&"submit"===t.type||"input"===r&&"submit"===t.type}(e)||(null!=i&&(x(e)&&(_(e)&&(null==r||r.resetValue()),null==r||r.setSelectedValue((e=>Array.isArray(e)?e.includes(i)?e.filter((e=>e!==i)):[...e,i]:i))),w(e)&&(null==r||r.setValue(i))),E(e)&&(null==r||r.hide()))})),C=h.onKeyDown,O=rt((e=>{if(null==C||C(e),e.defaultPrevented)return;const t=null==r?void 0:r.getState().baseElement;t&&(An(t)||(1===e.key.length||"Backspace"===e.key||"Delete"===e.key)&&(queueMicrotask((()=>t.focus())),De(t)&&(null==r||r.setValue(t.value))))}));g&&null!=v&&(h=oe({"aria-selected":v},h)),h=lt(h,(e=>(0,f.jsx)(wn.Provider,{value:i,children:(0,f.jsx)(xn.Provider,{value:null!=v&&v,children:e})})),[i,v]);const P=(0,Pe.useContext)(hn);h=ae(oe({role:mr(P),children:i},h),{onClick:S,onKeyDown:O});const j=st(u);return h=pr(ae(oe({store:r},h),{getItem:y,moveOnKeyPress:e=>{if(!j(e))return!1;const t=new Event("combobox-item-move"),n=null==r?void 0:r.getState().baseElement;return null==n||n.dispatchEvent(t),!0}})),sr(oe({store:r,focusOnHover:c},h))})),vr=mt(pt((function(e){return gt("div",gr(e))})));function yr(e){return xe(e).toLowerCase()}var br=vt((function(e){var t=e,{store:n,value:r,userValue:i}=t,o=se(t,["store","value","userValue"]);const a=gn();n=n||a;const s=(0,Pe.useContext)(wn),l=null!=r?r:s,c=zt(n,(e=>null!=i?i:null==e?void 0:e.value)),u=(0,Pe.useMemo)((()=>{if(l)return c?function(e,t){if(!e)return e;if(!t)return e;const n=(r=t,Array.isArray(r)?r:void 0!==r?[r]:[]).filter(Boolean).map(yr);var r;const i=[],o=(e,t=!1)=>(0,f.jsx)("span",{"data-autocomplete-value":t?"":void 0,"data-user-value":t?void 0:"",children:e},i.length),a=function(e){return e.sort((([e],[t])=>e-t))}(function(e){return e.filter((([e,t],n,r)=>!r.some((([r,i],o)=>o!==n&&r<=e&&r+i>=e+t))))}(function(e,t){const n=[];for(const r of t){let t=0;const i=r.length;for(;-1!==e.indexOf(r,t);){const o=e.indexOf(r,t);-1!==o&&n.push([o,i]),t=o+1}}return n}(yr(e),new Set(n))));if(!a.length)return i.push(o(e,!0)),i;const[s]=a[0],l=[e.slice(0,s),...a.flatMap((([t,n],r)=>{var i;const o=e.slice(t,t+n),s=null==(i=a[r+1])?void 0:i[0];return[o,e.slice(t+n,s)]}))];return l.forEach(((e,t)=>{e&&i.push(o(e,t%2==0))})),i}(l,c):l}),[l,c]);return Ce(o=oe({children:u},o))})),wr=pt((function(e){return gt("span",br(e))})),xr=i(731),_r=i.n(xr);const Er=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})}),Sr=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"M13 5c-3.3 0-6 2.7-6 6 0 1.4.5 2.7 1.3 3.7l-3.8 3.8 1.1 1.1 3.8-3.8c1 .8 2.3 1.3 3.7 1.3 3.3 0 6-2.7 6-6S16.3 5 13 5zm0 10.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"})}),Cr=[],Or=(e,t)=>e.singleSelection?t?.value:Array.isArray(t?.value)?t.value:!Array.isArray(t?.value)&&t?.value?[t.value]:Cr;function Pr(e=""){return _r()(e.trim().toLowerCase())}const jr=(e,t,n)=>e.singleSelection?n:Array.isArray(t?.value)?t.value.includes(n)?t.value.filter((e=>e!==n)):[...t.value,n]:[n];function Lr(e,t){return`${e}-${t}`}const kr=({selected:e})=>(0,f.jsx)("span",{className:K("dataviews-filters__search-widget-listitem-multi-selection",{"is-selected":e}),children:e&&(0,f.jsx)(l.Icon,{icon:Er})}),Tr=({selected:e})=>(0,f.jsx)("span",{className:K("dataviews-filters__search-widget-listitem-single-selection",{"is-selected":e})});function Ir({view:e,filter:r,onChangeView:i}){const o=(0,n.useInstanceId)(Ir,"dataviews-filter-list-box"),[a,c]=(0,t.useState)(1===r.operators?.length?void 0:null),u=e.filters?.find((e=>e.field===r.field)),d=Or(r,u);return(0,f.jsx)(l.Composite,{virtualFocus:!0,focusLoop:!0,activeId:a,setActiveId:c,role:"listbox",className:"dataviews-filters__search-widget-listbox","aria-label":(0,s.sprintf)(/* translators: List of items for a filter. 1: Filter name. e.g.: "List of: Author". */ /* translators: List of items for a filter. 1: Filter name. e.g.: "List of: Author". */
(0,s.__)("List of: %1$s"),r.name),onFocusVisible:()=>{!a&&r.elements.length&&c(Lr(o,r.elements[0].value))},render:(0,f.jsx)(l.Composite.Typeahead,{}),children:r.elements.map((t=>(0,f.jsxs)(l.Composite.Hover,{render:(0,f.jsx)(l.Composite.Item,{id:Lr(o,t.value),render:(0,f.jsx)("div",{"aria-label":t.label,role:"option",className:"dataviews-filters__search-widget-listitem"}),onClick:()=>{var n,o;const a=u?[...(null!==(n=e.filters)&&void 0!==n?n:[]).map((e=>e.field===r.field?{...e,operator:u.operator||r.operators[0],value:jr(r,u,t.value)}:e))]:[...null!==(o=e.filters)&&void 0!==o?o:[],{field:r.field,operator:r.operators[0],value:jr(r,u,t.value)}];i({...e,page:1,filters:a})}}),children:[r.singleSelection&&(0,f.jsx)(Tr,{selected:d===t.value}),!r.singleSelection&&(0,f.jsx)(kr,{selected:d.includes(t.value)}),(0,f.jsx)("span",{children:t.label})]},t.value)))})}function Ar({view:e,filter:n,onChangeView:r}){const[i,o]=(0,t.useState)(""),a=(0,t.useDeferredValue)(i),c=e.filters?.find((e=>e.field===n.field)),u=Or(n,c),d=(0,t.useMemo)((()=>{const e=Pr(a);return n.elements.filter((t=>Pr(t.label).includes(e)))}),[n.elements,a]);return(0,f.jsxs)(En,{selectedValue:u,setSelectedValue:t=>{var i,o;const a=c?[...(null!==(i=e.filters)&&void 0!==i?i:[]).map((e=>e.field===n.field?{...e,operator:c.operator||n.operators[0],value:t}:e))]:[...null!==(o=e.filters)&&void 0!==o?o:[],{field:n.field,operator:n.operators[0],value:t}];r({...e,page:1,filters:a})},setValue:o,children:[(0,f.jsxs)("div",{className:"dataviews-filters__search-widget-filter-combobox__wrapper",children:[(0,f.jsx)(Cn,{render:(0,f.jsx)(l.VisuallyHidden,{children:(0,s.__)("Search items")}),children:(0,s.__)("Search items")}),(0,f.jsx)(Zn,{autoSelect:"always",placeholder:(0,s.__)("Search"),className:"dataviews-filters__search-widget-filter-combobox__input"}),(0,f.jsx)("div",{className:"dataviews-filters__search-widget-filter-combobox__icon",children:(0,f.jsx)(l.Icon,{icon:Sr})})]}),(0,f.jsxs)(ir,{className:"dataviews-filters__search-widget-filter-combobox-list",alwaysVisible:!0,children:[d.map((e=>(0,f.jsxs)(vr,{resetValueOnSelect:!1,value:e.value,className:"dataviews-filters__search-widget-listitem",hideOnClick:!1,setValueOnClick:!1,focusOnHover:!0,children:[n.singleSelection&&(0,f.jsx)(Tr,{selected:u===e.value}),!n.singleSelection&&(0,f.jsx)(kr,{selected:u.includes(e.value)}),(0,f.jsxs)("span",{children:[(0,f.jsx)(wr,{className:"dataviews-filters__search-widget-filter-combobox-item-value",value:e.label}),!!e.description&&(0,f.jsx)("span",{className:"dataviews-filters__search-widget-listitem-description",children:e.description})]})]},e.value))),!d.length&&(0,f.jsx)("p",{children:(0,s.__)("No results found")})]})]})}function Mr(e){const t=e.filter.elements.length>10?Ar:Ir;return(0,f.jsx)(t,{...e})}var Nr=i(252),Rr=i.n(Nr);function Fr({filter:e,view:r,onChangeView:i,fields:o}){const a=r.filters?.find((t=>t.field===e.field)),s=o.find((t=>t.id===e.field)),c=Or(e,a),u=(0,t.useMemo)((()=>{var e;return(null!==(e=r.filters)&&void 0!==e?e:[]).reduce(((e,t)=>(e[t.field]=t.value,e)),{})}),[r.filters]),d=(0,n.useEvent)((t=>{var n;if(!s||!a)return;const o=t[s.id];Rr()(o,c)||i({...r,filters:(null!==(n=r.filters)&&void 0!==n?n:[]).map((t=>t.field===e.field?{...t,operator:a.operator||e.operators[0],value:o}:t))})}));return s&&s.Edit&&a?(0,f.jsx)(l.Flex,{className:"dataviews-filters__user-input-widget",gap:2.5,direction:"column",children:(0,f.jsx)(s.Edit,{hideLabelFromVision:!0,data:u,field:s,operator:a.operator,onChange:d})}):null}const Dr="Enter",Vr=" ",Br=({activeElements:e,filterInView:n,filter:r})=>{if(void 0===e||0===e.length)return r.name;const i={Name:(0,f.jsx)("span",{className:"dataviews-filters__summary-filter-text-name"}),Value:(0,f.jsx)("span",{className:"dataviews-filters__summary-filter-text-value"})};if(n?.operator===v)return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is any: Admin, Editor". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Author is any: Admin, Editor". */
(0,s.__)("<Name>%1$s is any: </Name><Value>%2$s</Value>"),r.name,e.map((e=>e.label)).join(", ")),i);if(n?.operator===y)return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is none: Admin, Editor". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Author is none: Admin, Editor". */
(0,s.__)("<Name>%1$s is none: </Name><Value>%2$s</Value>"),r.name,e.map((e=>e.label)).join(", ")),i);if(n?.operator===b)return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is all: Admin, Editor". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Author is all: Admin, Editor". */
(0,s.__)("<Name>%1$s is all: </Name><Value>%2$s</Value>"),r.name,e.map((e=>e.label)).join(", ")),i);if(n?.operator===w)return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is not all: Admin, Editor". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Author is not all: Admin, Editor". */
(0,s.__)("<Name>%1$s is not all: </Name><Value>%2$s</Value>"),r.name,e.map((e=>e.label)).join(", ")),i);if(n?.operator===m)return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is: Admin". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Author is: Admin". */
(0,s.__)("<Name>%1$s is: </Name><Value>%2$s</Value>"),r.name,e[0].label),i);if(n?.operator===g)return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is not: Admin". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Author is not: Admin". */
(0,s.__)("<Name>%1$s is not: </Name><Value>%2$s</Value>"),r.name,e[0].label),i);if(n?.operator===x)return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Price is less than: 10". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Price is less than: 10". */
(0,s.__)("<Name>%1$s is less than: </Name><Value>%2$s</Value>"),r.name,e[0].label),i);if(n?.operator===_)return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Price is greater than: 10". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Price is greater than: 10". */
(0,s.__)("<Name>%1$s is greater than: </Name><Value>%2$s</Value>"),r.name,e[0].label),i);if(n?.operator===E)return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Price is less than or equal to: 10". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Price is less than or equal to: 10". */
(0,s.__)("<Name>%1$s is less than or equal to: </Name><Value>%2$s</Value>"),r.name,e[0].label),i);if(n?.operator===S)return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Price is greater than or equal to: 10". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Price is greater than or equal to: 10". */
(0,s.__)("<Name>%1$s is greater than or equal to: </Name><Value>%2$s</Value>"),r.name,e[0].label),i);if(n?.operator===L)return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Title contains: Mars". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Title contains: Mars". */
(0,s.__)("<Name>%1$s contains: </Name><Value>%2$s</Value>"),r.name,e[0].label),i);if(n?.operator===k)return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Description doesn't contain: photo". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Description doesn't contain: photo". */
(0,s.__)("<Name>%1$s doesn't contain: </Name><Value>%2$s</Value>"),r.name,e[0].label),i);if(n?.operator===T)return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Title starts with: Mar". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Title starts with: Mar". */
(0,s.__)("<Name>%1$s starts with: </Name><Value>%2$s</Value>"),r.name,e[0].label),i);if(n?.operator===C)return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is before: 2024-01-01". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Date is before: 2024-01-01". */
(0,s.__)("<Name>%1$s is before: </Name><Value>%2$s</Value>"),r.name,e[0].label),i);if(n?.operator===O)return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is after: 2024-01-01". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Date is after: 2024-01-01". */
(0,s.__)("<Name>%1$s is after: </Name><Value>%2$s</Value>"),r.name,e[0].label),i);if(n?.operator===P)return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is on or before: 2024-01-01". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Date is on or before: 2024-01-01". */
(0,s.__)("<Name>%1$s is on or before: </Name><Value>%2$s</Value>"),r.name,e[0].label),i);if(n?.operator===j)return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is on or after: 2024-01-01". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Date is on or after: 2024-01-01". */
(0,s.__)("<Name>%1$s is on or after: </Name><Value>%2$s</Value>"),r.name,e[0].label),i);if(n?.operator===I){const{label:n}=e[0];return(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Min value. 3: Max value. e.g.: "Item count between (inc): 10-180". */ /* translators: 1: Filter name. 2: Min value. 3: Max value. e.g.: "Item count between (inc): 10-180". */
(0,s.__)("<Name>%1$s between (inc): </Name><Value>%2$s-%3$s</Value>"),r.name,n[0],n[1]),i)}return n?.operator===A?(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is: 2024-01-01". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Date is: 2024-01-01". */
(0,s.__)("<Name>%1$s is: </Name><Value>%2$s</Value>"),r.name,e[0].label),i):n?.operator===M?(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is not: 2024-01-01". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Date is not: 2024-01-01". */
(0,s.__)("<Name>%1$s is not: </Name><Value>%2$s</Value>"),r.name,e[0].label),i):n?.operator===N?(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is in the past: 1 days". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Date is in the past: 1 days". */
(0,s.__)("<Name>%1$s is in the past: </Name><Value>%2$s</Value>"),r.name,`${e[0].value.value} ${e[0].value.unit}`),i):n?.operator===R?(0,t.createInterpolateElement)((0,s.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is over: 1 days ago". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Date is over: 1 days ago". */
(0,s.__)("<Name>%1$s is over: </Name><Value>%2$s</Value> ago"),r.name,`${e[0].value.value} ${e[0].value.unit}`),i):(0,s.sprintf)(/* translators: 1: Filter name e.g.: "Unknown status for Author". */ /* translators: 1: Filter name e.g.: "Unknown status for Author". */
(0,s.__)("Unknown status for %1$s"),r.name)};function zr({filter:e,view:t,onChangeView:n}){const r=e.operators?.map((e=>({value:e,label:V[e]?.label}))),i=t.filters?.find((t=>t.field===e.field)),o=i?.operator||e.operators[0];return r.length>1&&(0,f.jsxs)(l.__experimentalHStack,{spacing:2,justify:"flex-start",className:"dataviews-filters__summary-operators-container",children:[(0,f.jsx)(l.FlexItem,{className:"dataviews-filters__summary-operators-filter-name",children:e.name}),(0,f.jsx)(l.SelectControl,{className:"dataviews-filters__summary-operators-filter-select",label:(0,s.__)("Conditions"),value:o,options:r,onChange:r=>{var o,a;const s=r,l=i?.operator,c=i?[...(null!==(o=t.filters)&&void 0!==o?o:[]).map((t=>{if(t.field===e.field){const e=[I,N,R],n=l&&(e.includes(l)||e.includes(s));return{...t,value:n?void 0:t.value,operator:s}}return t}))]:[...null!==(a=t.filters)&&void 0!==a?a:[],{field:e.field,operator:s,value:void 0}];n({...t,page:1,filters:c})},size:"small",variant:"minimal",__nextHasNoMarginBottom:!0,hideLabelFromVision:!0})]})}function Hr({addFilterRef:e,openedFilter:n,fields:r,...i}){const o=(0,t.useRef)(null),{filter:a,view:c,onChangeView:u}=i,d=c.filters?.find((e=>e.field===a.field));let h=[];a.elements.length>0?h=a.elements.filter((e=>a.singleSelection?e.value===d?.value:d?.value?.includes(e.value))):void 0!==d?.value&&(h=[{value:d.value,label:d.value}]);const p=a.isPrimary,m=void 0!==d?.value,g=!p||m;return(0,f.jsx)(l.Dropdown,{defaultOpen:n===a.field,contentClassName:"dataviews-filters__summary-popover",popoverProps:{placement:"bottom-start",role:"dialog"},onClose:()=>{o.current?.focus()},renderToggle:({isOpen:t,onToggle:n})=>(0,f.jsxs)("div",{className:"dataviews-filters__summary-chip-container",children:[(0,f.jsx)(l.Tooltip,{text:(0,s.sprintf)(/* translators: 1: Filter name. */ /* translators: 1: Filter name. */
(0,s.__)("Filter by: %1$s"),a.name.toLowerCase()),placement:"top",children:(0,f.jsx)("div",{className:K("dataviews-filters__summary-chip",{"has-reset":g,"has-values":m}),role:"button",tabIndex:0,onClick:n,onKeyDown:e=>{[Dr,Vr].includes(e.key)&&(n(),e.preventDefault())},"aria-pressed":t,"aria-expanded":t,ref:o,children:(0,f.jsx)(Br,{activeElements:h,filterInView:d,filter:a})})}),g&&(0,f.jsx)(l.Tooltip,{text:p?(0,s.__)("Reset"):(0,s.__)("Remove"),placement:"top",children:(0,f.jsx)("button",{className:K("dataviews-filters__summary-chip-remove",{"has-values":m}),onClick:()=>{u({...c,page:1,filters:c.filters?.filter((e=>e.field!==a.field))}),p?o.current?.focus():e.current?.focus()},children:(0,f.jsx)(l.Icon,{icon:Z})})})]}),renderContent:()=>(0,f.jsxs)(l.__experimentalVStack,{spacing:0,justify:"flex-start",children:[(0,f.jsx)(zr,{...i}),i.filter.elements.length>0?(0,f.jsx)(Mr,{...i,filter:{...i.filter,elements:i.filter.elements}}):(0,f.jsx)(Fr,{...i,fields:r})]})})}const $r=window.wp.privateApis,{lock:Gr,unlock:Ur}=(0,$r.__dangerousOptInToUnstableAPIsOnlyForCoreModules)("I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.","@wordpress/dataviews"),{Menu:Wr}=Ur(l.privateApis);function qr({filters:e,view:t,onChangeView:n,setOpenedFilter:r,triggerProps:i}){const o=e.filter((e=>!e.isVisible));return(0,f.jsxs)(Wr,{children:[(0,f.jsx)(Wr.TriggerButton,{...i}),(0,f.jsx)(Wr.Popover,{children:o.map((e=>(0,f.jsx)(Wr.Item,{onClick:()=>{r(e.field),n({...t,page:1,filters:[...t.filters||[],{field:e.field,value:void 0,operator:e.operators[0]}]})},children:(0,f.jsx)(Wr.ItemLabel,{children:e.name})},e.field)))})]})}const Yr=(0,t.forwardRef)((function({filters:e,view:t,onChangeView:n,setOpenedFilter:r},i){if(!e.length||e.every((({isPrimary:e})=>e)))return null;const o=e.filter((e=>!e.isVisible));return(0,f.jsx)(qr,{triggerProps:{render:(0,f.jsx)(l.Button,{accessibleWhenDisabled:!0,size:"compact",className:"dataviews-filters-button",variant:"tertiary",disabled:!o.length,ref:i}),children:(0,s.__)("Add filter")},filters:e,view:t,onChangeView:n,setOpenedFilter:r})}));function Xr({filters:e,view:t,onChangeView:n}){const r=!t.search&&!t.filters?.some((t=>{return void 0!==t.value||(n=t.field,!e.some((e=>e.field===n&&e.isPrimary)));var n}));return(0,f.jsx)(l.Button,{disabled:r,accessibleWhenDisabled:!0,size:"compact",variant:"tertiary",className:"dataviews-filters__reset-button",onClick:()=>{n({...t,page:1,search:"",filters:[]})},children:(0,s.__)("Reset")})}function Kr(e,n){return(0,t.useMemo)((()=>{const t=[];return e.forEach((e=>{var r;if(!1===e.filterBy||!e.elements?.length&&!e.Edit)return;const i=e.filterBy.operators,o=!!e.filterBy?.isPrimary;t.push({field:e.id,name:e.label,elements:null!==(r=e.elements)&&void 0!==r?r:[],singleSelection:i.some((e=>D.includes(e))),operators:i,isVisible:o||!!n.filters?.some((t=>t.field===e.id&&F.includes(t.operator))),isPrimary:o})})),t.sort(((e,t)=>e.isPrimary&&!t.isPrimary?-1:!e.isPrimary&&t.isPrimary?1:e.name.localeCompare(t.name))),t}),[e,n])}function Zr(){const{filters:e,view:n,onChangeView:r,setOpenedFilter:i,isShowingFilter:o,setIsShowingFilter:a}=(0,t.useContext)(q),c=(0,t.useRef)(null),u=(0,t.useCallback)((e=>{r(e),a(!0)}),[r,a]),d=!!e.filter((e=>e.isVisible)).length;if(0===e.length)return null;const h={label:(0,s.__)("Add filter"),"aria-expanded":!1,isPressed:!1},p={label:(0,s._x)("Filter","verb"),"aria-expanded":o,isPressed:o,onClick:()=>{o||i(null),a(!o)}},m=(0,f.jsx)(l.Button,{ref:c,className:"dataviews-filters__visibility-toggle",size:"compact",icon:Y,...d?p:h});return(0,f.jsx)("div",{className:"dataviews-filters__container-visibility-toggle",children:d?(0,f.jsx)(Qr,{buttonRef:c,filtersCount:n.filters?.length,children:m}):(0,f.jsx)(qr,{filters:e,view:n,onChangeView:u,setOpenedFilter:i,triggerProps:{render:m}})})}function Qr({buttonRef:e,filtersCount:n,children:r}){return(0,t.useEffect)((()=>()=>{e.current?.focus()}),[e]),(0,f.jsxs)(f.Fragment,{children:[r,!!n&&(0,f.jsx)("span",{className:"dataviews-filters-toggle__count",children:n})]})}const Jr=(0,t.memo)((function({className:e}){const{fields:n,view:r,onChangeView:i,openedFilter:o,setOpenedFilter:a}=(0,t.useContext)(q),s=(0,t.useRef)(null),c=Kr(n,r),u=(0,f.jsx)(Yr,{filters:c,view:r,onChangeView:i,ref:s,setOpenedFilter:a},"add-filter"),d=c.filter((e=>e.isVisible));if(0===d.length)return null;const h=[...d.map((e=>(0,f.jsx)(Hr,{filter:e,view:r,fields:n,onChangeView:i,addFilterRef:s,openedFilter:o},e.field))),u];return h.push((0,f.jsx)(Xr,{filters:c,view:r,onChangeView:i},"reset-filters")),(0,f.jsx)(l.__experimentalHStack,{justify:"flex-start",style:{width:"fit-content"},wrap:!0,className:e,children:h})})),ei=(0,f.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)(d.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v3.5h-15V5c0-.3.2-.5.5-.5zm8 5.5h6.5v3.5H13V10zm-1.5 3.5h-7V10h7v3.5zm-7 5.5v-4h7v4.5H5c-.3 0-.5-.2-.5-.5zm14.5.5h-6V15h6.5v4c0 .3-.2.5-.5.5z"})}),ti=(0,f.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)(d.Path,{d:"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z",fillRule:"evenodd",clipRule:"evenodd"})}),ni=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"M4 8.8h8.9V7.2H4v1.6zm0 7h8.9v-1.5H4v1.5zM18 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"})}),ri=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"M11.1 15.8H20v-1.5h-8.9v1.5zm0-8.6v1.5H20V7.2h-8.9zM6 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})});function ii({selection:e,onChangeSelection:t,item:n,getItemId:r,titleField:i,disabled:o}){const a=r(n),c=!o&&e.includes(a),u=i?.getValue?.({item:n})||(0,s.__)("(no title)");return(0,f.jsx)(l.CheckboxControl,{className:"dataviews-selection-checkbox",__nextHasNoMarginBottom:!0,"aria-label":u,"aria-disabled":o,checked:c,onChange:()=>{o||t(e.includes(a)?e.filter((e=>a!==e)):[...e,a])}})}const oi=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"})}),ai=window.wp.data,{Menu:si,kebabCase:li}=Ur(l.privateApis);function ci({action:e,onClick:t,items:n}){const r="string"==typeof e.label?e.label:e.label(n);return(0,f.jsx)(l.Button,{label:r,icon:e.icon,disabled:!!e.disabled,accessibleWhenDisabled:!0,isDestructive:e.isDestructive,size:"compact",onClick:t})}function ui({action:e,onClick:t,items:n}){const r="string"==typeof e.label?e.label:e.label(n);return(0,f.jsx)(si.Item,{disabled:e.disabled,onClick:t,children:(0,f.jsx)(si.ItemLabel,{children:r})})}function di({action:e,items:t,closeModal:n}){var r;const i="string"==typeof e.label?e.label:e.label(t);return(0,f.jsx)(l.Modal,{title:e.modalHeader||i,__experimentalHideHeader:!!e.hideModalHeader,onRequestClose:n,focusOnMount:null===(r=e.modalFocusOnMount)||void 0===r||r,size:e.modalSize||"medium",overlayClassName:`dataviews-action-modal dataviews-action-modal__${li(e.id)}`,children:(0,f.jsx)(e.RenderModal,{items:t,closeModal:n})})}function fi({actions:e,item:t,registry:n,setActiveModalAction:r}){return(0,f.jsx)(si.Group,{children:e.map((e=>(0,f.jsx)(ui,{action:e,onClick:()=>{"RenderModal"in e?r(e):e.callback([t],{registry:n})},items:[t]},e.id)))})}function hi({item:e,actions:n,isCompact:r}){const i=(0,ai.useRegistry)(),{primaryActions:o,eligibleActions:a}=(0,t.useMemo)((()=>{const t=n.filter((t=>!t.isEligible||t.isEligible(e)));return{primaryActions:t.filter((e=>e.isPrimary&&!!e.icon)),eligibleActions:t}}),[n,e]);return r?(0,f.jsx)(pi,{item:e,actions:a,isSmall:!0,registry:i}):o.length===a.length?(0,f.jsx)(mi,{item:e,actions:o,registry:i}):(0,f.jsxs)(l.__experimentalHStack,{spacing:1,justify:"flex-end",className:"dataviews-item-actions",style:{flexShrink:0,width:"auto"},children:[(0,f.jsx)(mi,{item:e,actions:o,registry:i}),(0,f.jsx)(pi,{item:e,actions:a,registry:i})]})}function pi({item:e,actions:n,isSmall:r,registry:i}){const[o,a]=(0,t.useState)(null);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(si,{placement:"bottom-end",children:[(0,f.jsx)(si.TriggerButton,{render:(0,f.jsx)(l.Button,{size:r?"small":"compact",icon:oi,label:(0,s.__)("Actions"),accessibleWhenDisabled:!0,disabled:!n.length,className:"dataviews-all-actions-button"})}),(0,f.jsx)(si.Popover,{children:(0,f.jsx)(fi,{actions:n,item:e,registry:i,setActiveModalAction:a})})]}),!!o&&(0,f.jsx)(di,{action:o,items:[e],closeModal:()=>a(null)})]})}function mi({item:e,actions:n,registry:r}){const[i,o]=(0,t.useState)(null);return Array.isArray(n)&&0!==n.length?(0,f.jsxs)(f.Fragment,{children:[n.map((t=>(0,f.jsx)(ci,{action:t,onClick:()=>{"RenderModal"in t?o(t):t.callback([e],{registry:r})},items:[e]},t.id))),!!i&&(0,f.jsx)(di,{action:i,items:[e],closeModal:()=>o(null)})]}):null}function gi({action:e,items:n,ActionTriggerComponent:r}){const[i,o]=(0,t.useState)(!1),a={action:e,onClick:()=>{o(!0)},items:n};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(r,{...a}),i&&(0,f.jsx)(di,{action:e,items:n,closeModal:()=>o(!1)})]})}function vi(e,n){return(0,t.useMemo)((()=>e.some((e=>e.supportsBulk&&(!e.isEligible||e.isEligible(n))))),[e,n])}function yi(e,n){return(0,t.useMemo)((()=>n.some((t=>e.some((e=>e.supportsBulk&&(!e.isEligible||e.isEligible(t))))))),[e,n])}function bi({selection:e,onChangeSelection:n,data:r,actions:i,getItemId:o}){const a=(0,t.useMemo)((()=>r.filter((e=>i.some((t=>t.supportsBulk&&(!t.isEligible||t.isEligible(e))))))),[r,i]),c=r.filter((t=>e.includes(o(t))&&a.includes(t))),u=c.length===a.length;return(0,f.jsx)(l.CheckboxControl,{className:"dataviews-view-table-selection-checkbox",__nextHasNoMarginBottom:!0,checked:u,indeterminate:!u&&!!c.length,onChange:()=>{n(u?[]:a.map((e=>o(e))))},"aria-label":u?(0,s.__)("Deselect all"):(0,s.__)("Select all")})}function wi({action:e,onClick:t,isBusy:n,items:r}){const i="string"==typeof e.label?e.label:e.label(r);return(0,f.jsx)(l.Button,{disabled:n,accessibleWhenDisabled:!0,label:i,icon:e.icon,isDestructive:e.isDestructive,size:"compact",onClick:t,isBusy:n,tooltipPosition:"top"})}const xi=[];function _i({action:e,selectedItems:n,actionInProgress:r,setActionInProgress:i}){const o=(0,ai.useRegistry)(),a=(0,t.useMemo)((()=>n.filter((t=>!e.isEligible||e.isEligible(t)))),[e,n]);return"RenderModal"in e?(0,f.jsx)(gi,{action:e,items:a,ActionTriggerComponent:wi},e.id):(0,f.jsx)(wi,{action:e,onClick:async()=>{i(e.id),await e.callback(n,{registry:o}),i(null)},items:a,isBusy:r===e.id},e.id)}function Ei(e,t,n,r,i,o,a,c,u){const d=o.length>0?(0,s.sprintf)(/* translators: %d: number of items. */ /* translators: %d: number of items. */
(0,s._n)("%d Item selected","%d Items selected",o.length),o.length):(0,s.sprintf)(/* translators: %d: number of items. */ /* translators: %d: number of items. */
(0,s._n)("%d Item","%d Items",e.length),e.length);return(0,f.jsxs)(l.__experimentalHStack,{expanded:!1,className:"dataviews-bulk-actions-footer__container",spacing:3,children:[(0,f.jsx)(bi,{selection:r,onChangeSelection:u,data:e,actions:t,getItemId:n}),(0,f.jsx)("span",{className:"dataviews-bulk-actions-footer__item-count",children:d}),(0,f.jsxs)(l.__experimentalHStack,{className:"dataviews-bulk-actions-footer__action-buttons",expanded:!1,spacing:1,children:[i.map((e=>(0,f.jsx)(_i,{action:e,selectedItems:o,actionInProgress:a,setActionInProgress:c},e.id))),o.length>0&&(0,f.jsx)(l.Button,{icon:Z,showTooltip:!0,tooltipPosition:"top",size:"compact",label:(0,s.__)("Cancel"),disabled:!!a,accessibleWhenDisabled:!1,onClick:()=>{u(xi)}})]})]})}function Si({selection:e,actions:n,onChangeSelection:r,data:i,getItemId:o}){const[a,s]=(0,t.useState)(null),l=(0,t.useRef)(null),c=(0,t.useMemo)((()=>n.filter((e=>e.supportsBulk))),[n]),u=(0,t.useMemo)((()=>i.filter((e=>c.some((t=>!t.isEligible||t.isEligible(e)))))),[i,c]),d=(0,t.useMemo)((()=>i.filter((t=>e.includes(o(t))&&u.includes(t)))),[e,i,o,u]),f=(0,t.useMemo)((()=>n.filter((e=>e.supportsBulk&&e.icon&&d.some((t=>!e.isEligible||e.isEligible(t)))))),[n,d]);return a?(l.current||(l.current=Ei(i,n,o,e,f,d,a,s,r)),l.current):(l.current&&(l.current=null),Ei(i,n,o,e,f,d,a,s,r))}function Ci(){const{data:e,selection:n,actions:r=xi,onChangeSelection:i,getItemId:o}=(0,t.useContext)(q);return(0,f.jsx)(Si,{selection:n,onChangeSelection:i,data:e,actions:r,getItemId:o})}const Oi=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"M20 11.2H6.8l3.7-3.7-1-1L3.9 12l5.6 5.5 1-1-3.7-3.7H20z"})}),Pi=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"m14.5 6.5-1 1 3.7 3.7H4v1.6h13.2l-3.7 3.7 1 1 5.6-5.5z"})}),ji=(0,f.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)(d.Path,{d:"M20.7 12.7s0-.1-.1-.2c0-.2-.2-.4-.4-.6-.3-.5-.9-1.2-1.6-1.8-.7-.6-1.5-1.3-2.6-1.8l-.6 1.4c.9.4 1.6 1 2.1 1.5.6.6 1.1 1.2 1.4 1.6.1.2.3.4.3.5v.1l.7-.3.7-.3Zm-5.2-9.3-1.8 4c-.5-.1-1.1-.2-1.7-.2-3 0-5.2 1.4-6.6 2.7-.7.7-1.2 1.3-1.6 1.8-.2.3-.3.5-.4.6 0 0 0 .1-.1.2s0 0 .7.3l.7.3V13c0-.1.2-.3.3-.5.3-.4.7-1 1.4-1.6 1.2-1.2 3-2.3 5.5-2.3H13v.3c-.4 0-.8-.1-1.1-.1-1.9 0-3.5 1.6-3.5 3.5s.6 2.3 1.6 2.9l-2 4.4.9.4 7.6-16.2-.9-.4Zm-3 12.6c1.7-.2 3-1.7 3-3.5s-.2-1.4-.6-1.9L12.4 16Z"})}),{Menu:Li}=Ur(l.privateApis);function ki({children:e}){return t.Children.toArray(e).filter(Boolean).map(((e,n)=>(0,f.jsxs)(t.Fragment,{children:[n>0&&(0,f.jsx)(Li.Separator,{}),e]},n)))}const Ti=(0,t.forwardRef)((function({fieldId:e,view:t,fields:n,onChangeView:r,onHide:i,setOpenedFilter:o,canMove:a=!0},c){var u;const d=null!==(u=t.fields)&&void 0!==u?u:[],h=d?.indexOf(e),p=t.sort?.field===e;let m=!1,g=!1,v=!1,y=[];const b=n.find((t=>t.id===e));if(!b)return null;m=!1!==b.enableHiding,g=!1!==b.enableSorting;const w=b.header;return y=!!b.filterBy&&b.filterBy?.operators||[],v=!(t.filters?.some((t=>e===t.field))||!b.elements?.length&&!b.Edit||!1===b.filterBy||b.filterBy?.isPrimary),(0,f.jsxs)(Li,{children:[(0,f.jsxs)(Li.TriggerButton,{render:(0,f.jsx)(l.Button,{size:"compact",className:"dataviews-view-table-header-button",ref:c,variant:"tertiary"}),children:[w,t.sort&&p&&(0,f.jsx)("span",{"aria-hidden":"true",children:z[t.sort.direction]})]}),(0,f.jsx)(Li.Popover,{style:{minWidth:"240px"},children:(0,f.jsxs)(ki,{children:[g&&(0,f.jsx)(Li.Group,{children:B.map((n=>{const i=t.sort&&p&&t.sort.direction===n,o=`${e}-${n}`;return(0,f.jsx)(Li.RadioItem,{name:"view-table-sorting",value:o,checked:i,onChange:()=>{r({...t,sort:{field:e,direction:n},showLevels:!1})},children:(0,f.jsx)(Li.ItemLabel,{children:$[n]})},o)}))}),v&&(0,f.jsx)(Li.Group,{children:(0,f.jsx)(Li.Item,{prefix:(0,f.jsx)(l.Icon,{icon:Y}),onClick:()=>{o(e),r({...t,page:1,filters:[...t.filters||[],{field:e,value:void 0,operator:y[0]}]})},children:(0,f.jsx)(Li.ItemLabel,{children:(0,s.__)("Add filter")})})}),(a||m)&&b&&(0,f.jsxs)(Li.Group,{children:[a&&(0,f.jsx)(Li.Item,{prefix:(0,f.jsx)(l.Icon,{icon:Oi}),disabled:h<1,onClick:()=>{var n;r({...t,fields:[...null!==(n=d.slice(0,h-1))&&void 0!==n?n:[],e,d[h-1],...d.slice(h+1)]})},children:(0,f.jsx)(Li.ItemLabel,{children:(0,s.__)("Move left")})}),a&&(0,f.jsx)(Li.Item,{prefix:(0,f.jsx)(l.Icon,{icon:Pi}),disabled:h>=d.length-1,onClick:()=>{var n;r({...t,fields:[...null!==(n=d.slice(0,h))&&void 0!==n?n:[],d[h+1],e,...d.slice(h+2)]})},children:(0,f.jsx)(Li.ItemLabel,{children:(0,s.__)("Move right")})}),m&&b&&(0,f.jsx)(Li.Item,{prefix:(0,f.jsx)(l.Icon,{icon:ji}),onClick:()=>{i(b),r({...t,fields:d.filter((t=>t!==e))})},children:(0,f.jsx)(Li.ItemLabel,{children:(0,s.__)("Hide column")})})]})]})})]})}));function Ii({item:e,isItemClickable:t,onClickItem:n,renderItemLink:r,className:i,children:o,...a}){if(!t(e))return o;if(r)return r({item:e,className:`${i} ${i}--clickable`,...a,children:o});const s=function({item:e,isItemClickable:t,onClickItem:n,className:r}){return t(e)&&n?{className:r?`${r} ${r}--clickable`:void 0,role:"button",tabIndex:0,onClick:t=>{t.stopPropagation(),n(e)},onKeyDown:t=>{"Enter"!==t.key&&""!==t.key&&" "!==t.key||(t.stopPropagation(),n(e))}}:{className:r}}({item:e,isItemClickable:t,onClickItem:n,className:i});return(0,f.jsx)("div",{...s,...a,children:o})}const Ai=function({item:e,level:t,titleField:n,mediaField:r,descriptionField:i,onClickItem:o,renderItemLink:a,isItemClickable:s}){return(0,f.jsxs)(l.__experimentalHStack,{spacing:3,justify:"flex-start",children:[r&&(0,f.jsx)("div",{className:"dataviews-view-table__cell-content-wrapper dataviews-column-primary__media",children:(0,f.jsx)(r.render,{item:e,field:r})}),(0,f.jsxs)(l.__experimentalVStack,{spacing:0,children:[n&&(0,f.jsxs)(Ii,{item:e,isItemClickable:s,onClickItem:o,renderItemLink:a,className:"dataviews-view-table__cell-content-wrapper dataviews-title-field",children:[void 0!==t&&(0,f.jsxs)("span",{className:"dataviews-view-table__level",children:["".repeat(t),""]}),(0,f.jsx)(n.render,{item:e,field:n})]}),i&&(0,f.jsx)(i.render,{item:e,field:i})]})]})};function Mi({item:e,fields:t,column:n,align:r}){const i=t.find((e=>e.id===n));if(!i)return null;const o=K("dataviews-view-table__cell-content-wrapper",{"dataviews-view-table__cell-align-end":"end"===r,"dataviews-view-table__cell-align-center":"center"===r});return(0,f.jsx)("div",{className:o,children:(0,f.jsx)(i.render,{item:e,field:i})})}function Ni({hasBulkActions:e,item:n,level:r,actions:i,fields:o,id:a,view:s,titleField:l,mediaField:c,descriptionField:u,selection:d,getItemId:h,isItemClickable:p,onClickItem:m,renderItemLink:g,onChangeSelection:v,isActionsColumnSticky:y}){var b;const w=vi(i,n),x=w&&d.includes(a),[_,E]=(0,t.useState)(!1),{showTitle:S=!0,showMedia:C=!0,showDescription:O=!0}=s,P=(0,t.useRef)(!1),j=null!==(b=s.fields)&&void 0!==b?b:[],L=l&&S||c&&C||u&&O;return(0,f.jsxs)("tr",{className:K("dataviews-view-table__row",{"is-selected":w&&x,"is-hovered":_,"has-bulk-actions":w}),onMouseEnter:()=>{E(!0)},onMouseLeave:()=>{E(!1)},onTouchStart:()=>{P.current=!0},onClick:()=>{w&&(P.current||"Range"===document.getSelection()?.type||v(d.includes(a)?d.filter((e=>a!==e)):[a]))},children:[e&&(0,f.jsx)("td",{className:"dataviews-view-table__checkbox-column",children:(0,f.jsx)("div",{className:"dataviews-view-table__cell-content-wrapper",children:(0,f.jsx)(ii,{item:n,selection:d,onChangeSelection:v,getItemId:h,titleField:l,disabled:!w})})}),L&&(0,f.jsx)("td",{children:(0,f.jsx)(Ai,{item:n,level:r,titleField:S?l:void 0,mediaField:C?c:void 0,descriptionField:O?u:void 0,isItemClickable:p,onClickItem:m,renderItemLink:g})}),j.map((e=>{var t;const{width:r,maxWidth:i,minWidth:a,align:l}=null!==(t=s.layout?.styles?.[e])&&void 0!==t?t:{};return(0,f.jsx)("td",{style:{width:r,maxWidth:i,minWidth:a},children:(0,f.jsx)(Mi,{fields:o,item:n,column:e,align:l})},e)})),!!i?.length&&(0,f.jsx)("td",{className:K("dataviews-view-table__actions-column",{"dataviews-view-table__actions-column--sticky":!0,"dataviews-view-table__actions-column--stuck":y}),onClick:e=>e.stopPropagation(),children:(0,f.jsx)(hi,{item:n,actions:i})})]})}const Ri={xhuge:{min:3,max:6,default:5},huge:{min:2,max:4,default:4},xlarge:{min:2,max:3,default:3},large:{min:1,max:2,default:2},mobile:{min:1,max:2,default:2}},Fi={xhuge:1520,huge:1140,xlarge:780,large:480,mobile:0};function Di(){const e=(0,t.useContext)(q).containerWidth;for(const[t,n]of Object.entries(Fi))if(e>=n)return t;return"mobile"}const{Badge:Vi}=Ur(l.privateApis);function Bi({view:e,selection:t,onChangeSelection:r,onClickItem:i,isItemClickable:o,renderItemLink:a,getItemId:c,item:u,actions:d,mediaField:h,titleField:p,descriptionField:m,regularFields:g,badgeFields:v,hasBulkActions:y}){const{showTitle:b=!0,showMedia:w=!0,showDescription:x=!0}=e,_=vi(d,u),E=c(u),S=(0,n.useInstanceId)(Bi),C=t.includes(E),O=h?.render?(0,f.jsx)(h.render,{item:u,field:h}):null,P=b&&p?.render?(0,f.jsx)(p.render,{item:u,field:p}):null;let j,L;return o(u)&&i&&(P?(j={"aria-labelledby":`dataviews-view-grid__title-field-${S}`},L={id:`dataviews-view-grid__title-field-${S}`}):j={"aria-label":(0,s.__)("Navigate to item")}),(0,f.jsxs)(l.__experimentalVStack,{spacing:0,className:K("dataviews-view-grid__card",{"is-selected":_&&C}),onClickCapture:e=>{if(e.ctrlKey||e.metaKey){if(e.stopPropagation(),e.preventDefault(),!_)return;r(t.includes(E)?t.filter((e=>E!==e)):[...t,E])}},children:[w&&O&&(0,f.jsx)(Ii,{item:u,isItemClickable:o,onClickItem:i,renderItemLink:a,className:"dataviews-view-grid__media",...j,children:O}),y&&w&&O&&(0,f.jsx)(ii,{item:u,selection:t,onChangeSelection:r,getItemId:c,titleField:p,disabled:!_}),(0,f.jsxs)(l.__experimentalHStack,{justify:"space-between",className:"dataviews-view-grid__title-actions",children:[(0,f.jsx)(Ii,{item:u,isItemClickable:o,onClickItem:i,renderItemLink:a,className:"dataviews-view-grid__title-field dataviews-title-field",...L,children:P}),!!d?.length&&(0,f.jsx)(hi,{item:u,actions:d,isCompact:!0})]}),(0,f.jsxs)(l.__experimentalVStack,{spacing:1,children:[x&&m?.render&&(0,f.jsx)(m.render,{item:u,field:m}),!!v?.length&&(0,f.jsx)(l.__experimentalHStack,{className:"dataviews-view-grid__badge-fields",spacing:2,wrap:!0,alignment:"top",justify:"flex-start",children:v.map((e=>(0,f.jsx)(Vi,{className:"dataviews-view-grid__field-value",children:(0,f.jsx)(e.render,{item:u,field:e})},e.id)))}),!!g?.length&&(0,f.jsx)(l.__experimentalVStack,{className:"dataviews-view-grid__fields",spacing:1,children:g.map((e=>(0,f.jsx)(l.Flex,{className:"dataviews-view-grid__field",gap:1,justify:"flex-start",expanded:!0,style:{height:"auto"},direction:"row",children:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(l.FlexItem,{className:"dataviews-view-grid__field-name",children:e.header}),(0,f.jsx)(l.FlexItem,{className:"dataviews-view-grid__field-value",style:{maxHeight:"none"},children:(0,f.jsx)(e.render,{item:u,field:e})})]})},e.id)))})]})]},E)}const{Menu:zi}=Ur(l.privateApis);function Hi(e){return`${e}-item-wrapper`}function $i(e){return`${e}-dropdown`}function Gi({idPrefix:e,primaryAction:n,item:r}){const i=(0,ai.useRegistry)(),[o,a]=(0,t.useState)(!1),s=function(e,t){return`${e}-primary-action-${t}`}(e,n.id),c="string"==typeof n.label?n.label:n.label([r]);return"RenderModal"in n?(0,f.jsx)("div",{role:"gridcell",children:(0,f.jsx)(l.Composite.Item,{id:s,render:(0,f.jsx)(l.Button,{label:c,disabled:!!n.disabled,accessibleWhenDisabled:!0,icon:n.icon,isDestructive:n.isDestructive,size:"small",onClick:()=>a(!0)}),children:o&&(0,f.jsx)(di,{action:n,items:[r],closeModal:()=>a(!1)})})},n.id):(0,f.jsx)("div",{role:"gridcell",children:(0,f.jsx)(l.Composite.Item,{id:s,render:(0,f.jsx)(l.Button,{label:c,disabled:!!n.disabled,accessibleWhenDisabled:!0,icon:n.icon,isDestructive:n.isDestructive,size:"small",onClick:()=>{n.callback([r],{registry:i})}})})},n.id)}function Ui({view:e,actions:n,idPrefix:r,isSelected:i,item:o,titleField:a,mediaField:c,descriptionField:u,onSelect:d,otherFields:h,onDropdownTriggerKeyDown:p}){const{showTitle:m=!0,showMedia:g=!0,showDescription:v=!0}=e,y=(0,t.useRef)(null),b=`${r}-label`,w=`${r}-description`,x=(0,ai.useRegistry)(),[_,E]=(0,t.useState)(!1),[S,C]=(0,t.useState)(null),O=({type:e})=>{E("mouseenter"===e)};(0,t.useEffect)((()=>{i&&y.current?.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"})}),[i]);const{primaryAction:P,eligibleActions:j}=(0,t.useMemo)((()=>{const e=n.filter((e=>!e.isEligible||e.isEligible(o)));return{primaryAction:e.filter((e=>e.isPrimary&&!!e.icon))[0],eligibleActions:e}}),[n,o]),L=P&&1===n.length,k=g&&c?.render?(0,f.jsx)("div",{className:"dataviews-view-list__media-wrapper",children:(0,f.jsx)(c.render,{item:o,field:c})}):null,T=m&&a?.render?(0,f.jsx)(a.render,{item:o,field:a}):null,I=j?.length>0&&(0,f.jsxs)(l.__experimentalHStack,{spacing:3,className:"dataviews-view-list__item-actions",children:[P&&(0,f.jsx)(Gi,{idPrefix:r,primaryAction:P,item:o}),!L&&(0,f.jsxs)("div",{role:"gridcell",children:[(0,f.jsxs)(zi,{placement:"bottom-end",children:[(0,f.jsx)(zi.TriggerButton,{render:(0,f.jsx)(l.Composite.Item,{id:$i(r),render:(0,f.jsx)(l.Button,{size:"small",icon:oi,label:(0,s.__)("Actions"),accessibleWhenDisabled:!0,disabled:!n.length,onKeyDown:p})})}),(0,f.jsx)(zi.Popover,{children:(0,f.jsx)(fi,{actions:j,item:o,registry:x,setActiveModalAction:C})})]}),!!S&&(0,f.jsx)(di,{action:S,items:[o],closeModal:()=>C(null)})]})]});return(0,f.jsx)(l.Composite.Row,{ref:y,render:(0,f.jsx)("div",{}),role:"row",className:K({"is-selected":i,"is-hovered":_}),onMouseEnter:O,onMouseLeave:O,children:(0,f.jsxs)(l.__experimentalHStack,{className:"dataviews-view-list__item-wrapper",spacing:0,children:[(0,f.jsx)("div",{role:"gridcell",children:(0,f.jsx)(l.Composite.Item,{id:Hi(r),"aria-pressed":i,"aria-labelledby":b,"aria-describedby":w,className:"dataviews-view-list__item",onClick:()=>d(o)})}),(0,f.jsxs)(l.__experimentalHStack,{spacing:3,justify:"start",alignment:"flex-start",children:[k,(0,f.jsxs)(l.__experimentalVStack,{spacing:1,className:"dataviews-view-list__field-wrapper",children:[(0,f.jsxs)(l.__experimentalHStack,{spacing:0,children:[(0,f.jsx)("div",{className:"dataviews-title-field",id:b,children:T}),I]}),v&&u?.render&&(0,f.jsx)("div",{className:"dataviews-view-list__field",children:(0,f.jsx)(u.render,{item:o,field:u})}),(0,f.jsx)("div",{className:"dataviews-view-list__fields",id:w,children:h.map((e=>(0,f.jsxs)("div",{className:"dataviews-view-list__field",children:[(0,f.jsx)(l.VisuallyHidden,{as:"span",className:"dataviews-view-list__field-label",children:e.label}),(0,f.jsx)("span",{className:"dataviews-view-list__field-value",children:(0,f.jsx)(e.render,{item:o,field:e})})]},e.id)))})]})]})]})})}function Wi(e){return!!e}const qi=[{type:U,label:(0,s.__)("Table"),component:function({actions:e,data:r,fields:i,getItemId:o,getItemLevel:a,isLoading:c=!1,onChangeView:u,onChangeSelection:d,selection:h,setOpenedFilter:p,onClickItem:m,isItemClickable:g,renderItemLink:v,view:y,className:b}){var w;const{containerRef:x}=(0,t.useContext)(q),_=(0,t.useRef)(new Map),E=(0,t.useRef)(),[S,C]=(0,t.useState)(),O=yi(e,r);(0,t.useEffect)((()=>{E.current&&(E.current.focus(),E.current=void 0)}));const P=(0,t.useId)(),j=function({scrollContainerRef:e,enabled:r=!1}){const[i,o]=(0,t.useState)(!1),a=(0,n.useDebounce)((0,t.useCallback)((()=>{const t=e.current;var n;t&&o((n=t,(0,s.isRTL)()?Math.abs(n.scrollLeft)<=1:n.scrollLeft+n.clientWidth>=n.scrollWidth-1))}),[e,o]),200);return(0,t.useEffect)((()=>"undefined"!=typeof window&&r&&e.current?(a(),e.current.addEventListener("scroll",a),window.addEventListener("resize",a),()=>{e.current?.removeEventListener("scroll",a),window.removeEventListener("resize",a)}):()=>{}),[e,r]),i}({scrollContainerRef:x,enabled:!!e?.length});if(S)return E.current=S,void C(void 0);const L=e=>{const t=_.current.get(e.id),n=t?_.current.get(t.fallback):void 0;C(n?.node)},k=!!r?.length,T=i.find((e=>e.id===y.titleField)),I=i.find((e=>e.id===y.mediaField)),A=i.find((e=>e.id===y.descriptionField)),{showTitle:M=!0,showMedia:N=!0,showDescription:R=!0}=y,F=T&&M||I&&N||A&&R,D=null!==(w=y.fields)&&void 0!==w?w:[],V=(e,t)=>n=>{n?_.current.set(e,{node:n,fallback:D[t>0?t-1:1]}):_.current.delete(e)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("table",{className:K("dataviews-view-table",b,{[`has-${y.layout?.density}-density`]:y.layout?.density&&["compact","comfortable"].includes(y.layout.density)}),"aria-busy":c,"aria-describedby":P,children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{className:"dataviews-view-table__row",children:[O&&(0,f.jsx)("th",{className:"dataviews-view-table__checkbox-column",scope:"col",children:(0,f.jsx)(bi,{selection:h,onChangeSelection:d,data:r,actions:e,getItemId:o})}),F&&(0,f.jsx)("th",{scope:"col",children:T&&(0,f.jsx)(Ti,{ref:V(T.id,0),fieldId:T.id,view:y,fields:i,onChangeView:u,onHide:L,setOpenedFilter:p,canMove:!1})}),D.map(((e,t)=>{var n;const{width:r,maxWidth:o,minWidth:a,align:s}=null!==(n=y.layout?.styles?.[e])&&void 0!==n?n:{};return(0,f.jsx)("th",{style:{width:r,maxWidth:o,minWidth:a,textAlign:s},"aria-sort":y.sort?.direction&&y.sort?.field===e?H[y.sort.direction]:void 0,scope:"col",children:(0,f.jsx)(Ti,{ref:V(e,t),fieldId:e,view:y,fields:i,onChangeView:u,onHide:L,setOpenedFilter:p})},e)})),!!e?.length&&(0,f.jsx)("th",{className:K("dataviews-view-table__actions-column",{"dataviews-view-table__actions-column--sticky":!0,"dataviews-view-table__actions-column--stuck":!j}),children:(0,f.jsx)("span",{className:"dataviews-view-table-header",children:(0,s.__)("Actions")})})]})}),(0,f.jsx)("tbody",{children:k&&r.map(((t,n)=>(0,f.jsx)(Ni,{item:t,level:y.showLevels&&"function"==typeof a?a(t):void 0,hasBulkActions:O,actions:e,fields:i,id:o(t)||n.toString(),view:y,titleField:T,mediaField:I,descriptionField:A,selection:h,getItemId:o,onChangeSelection:d,onClickItem:m,renderItemLink:v,isItemClickable:g,isActionsColumnSticky:!j},o(t))))})]}),(0,f.jsx)("div",{className:K({"dataviews-loading":c,"dataviews-no-results":!k&&!c}),id:P,children:!k&&(0,f.jsx)("p",{children:c?(0,f.jsx)(l.Spinner,{}):(0,s.__)("No results")})})]})},icon:ei,viewConfigOptions:function(){const e=(0,t.useContext)(q),n=e.view;return(0,f.jsxs)(l.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,size:"__unstable-large",label:(0,s.__)("Density"),value:n.layout?.density||"balanced",onChange:t=>{e.onChangeView({...n,layout:{...n.layout,density:t}})},isBlock:!0,children:[(0,f.jsx)(l.__experimentalToggleGroupControlOption,{value:"comfortable",label:(0,s._x)("Comfortable","Density option for DataView layout")},"comfortable"),(0,f.jsx)(l.__experimentalToggleGroupControlOption,{value:"balanced",label:(0,s._x)("Balanced","Density option for DataView layout")},"balanced"),(0,f.jsx)(l.__experimentalToggleGroupControlOption,{value:"compact",label:(0,s._x)("Compact","Density option for DataView layout")},"compact")]})}},{type:W,label:(0,s.__)("Grid"),component:function({actions:e,data:n,fields:r,getItemId:i,isLoading:o,onChangeSelection:a,onClickItem:c,isItemClickable:u,renderItemLink:d,selection:h,view:p,className:m}){var g;const v=r.find((e=>e.id===p?.titleField)),y=r.find((e=>e.id===p?.mediaField)),b=r.find((e=>e.id===p?.descriptionField)),w=null!==(g=p.fields)&&void 0!==g?g:[],{regularFields:x,badgeFields:_}=w.reduce(((e,t)=>{const n=r.find((e=>e.id===t));return n?(e[p.layout?.badgeFields?.includes(t)?"badgeFields":"regularFields"].push(n),e):e}),{regularFields:[],badgeFields:[]}),E=!!n?.length,S=function(){const e=(0,t.useContext)(q).view,n=Di();return(0,t.useMemo)((()=>{const t=e.layout?.previewSize;let r;if(!t)return;const i=Ri[n];return t<i.min&&(r=i.min),t>i.max&&(r=i.max),r}),[n,e])}(),C=yi(e,n),O=S||p.layout?.previewSize,P=O?{gridTemplateColumns:`repeat(${O}, minmax(0, 1fr))`}:{},j=p.groupByField?r.find((e=>e.id===p.groupByField)):null,L=j?n.reduce(((e,t)=>{const n=j.getValue({item:t});return e.has(n)||e.set(n,[]),e.get(n)?.push(t),e}),new Map):null;return(0,f.jsxs)(f.Fragment,{children:[E&&j&&L&&(0,f.jsx)(l.__experimentalVStack,{spacing:4,children:Array.from(L.entries()).map((([t,n])=>(0,f.jsxs)(l.__experimentalVStack,{spacing:2,children:[(0,f.jsx)("h3",{className:"dataviews-view-grid__group-header",children:(0,s.sprintf)(
// translators: 1: The label of the field e.g. "Date". 2: The value of the field, e.g.: "May 2022".
// translators: 1: The label of the field e.g. "Date". 2: The value of the field, e.g.: "May 2022".
(0,s.__)("%1$s: %2$s"),j.label,t)}),(0,f.jsx)(l.__experimentalGrid,{gap:8,columns:2,alignment:"top",className:K("dataviews-view-grid",m),style:P,"aria-busy":o,children:n.map((t=>(0,f.jsx)(Bi,{view:p,selection:h,onChangeSelection:a,onClickItem:c,isItemClickable:u,renderItemLink:d,getItemId:i,item:t,actions:e,mediaField:y,titleField:v,descriptionField:b,regularFields:x,badgeFields:_,hasBulkActions:C},i(t))))})]},t)))}),E&&!L&&(0,f.jsx)(l.__experimentalGrid,{gap:8,columns:2,alignment:"top",className:K("dataviews-view-grid",m),style:P,"aria-busy":o,children:n.map((t=>(0,f.jsx)(Bi,{view:p,selection:h,onChangeSelection:a,onClickItem:c,isItemClickable:u,renderItemLink:d,getItemId:i,item:t,actions:e,mediaField:y,titleField:v,descriptionField:b,regularFields:x,badgeFields:_,hasBulkActions:C},i(t))))}),!E&&(0,f.jsx)("div",{className:K({"dataviews-loading":o,"dataviews-no-results":!o}),children:(0,f.jsx)("p",{children:o?(0,f.jsx)(l.Spinner,{}):(0,s.__)("No results")})})]})},icon:ti,viewConfigOptions:function(){const e=Di(),n=(0,t.useContext)(q),r=n.view,i=Ri[e],o=r.layout?.previewSize||i.default,a=(0,t.useMemo)((()=>Array.from({length:i.max-i.min+1},((e,t)=>({value:i.min+t})))),[i]);return"mobile"===e?null:(0,f.jsx)(l.RangeControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,showTooltip:!1,label:(0,s.__)("Preview size"),value:i.max+i.min-o,marks:a,min:i.min,max:i.max,withInputField:!1,onChange:(e=0)=>{n.onChangeView({...r,layout:{...r.layout,previewSize:i.max+i.min-e}})},step:1})}},{type:"list",label:(0,s.__)("List"),component:function e(r){var i;const{actions:o,data:a,fields:c,getItemId:u,isLoading:d,onChangeSelection:h,selection:p,view:m,className:g}=r,v=(0,n.useInstanceId)(e,"view-list"),y=a?.findLast((e=>p.includes(u(e)))),b=c.find((e=>e.id===m.titleField)),w=c.find((e=>e.id===m.mediaField)),x=c.find((e=>e.id===m.descriptionField)),_=(null!==(i=m?.fields)&&void 0!==i?i:[]).map((e=>c.find((t=>e===t.id)))).filter(Wi),E=e=>h([u(e)]),S=(0,t.useCallback)((e=>`${v}-${u(e)}`),[v,u]),C=(0,t.useCallback)(((e,t)=>t.startsWith(S(e))),[S]),[O,P]=(0,t.useState)(void 0);(0,t.useEffect)((()=>{y&&P(Hi(S(y)))}),[y,S]);const j=a.findIndex((e=>C(e,null!=O?O:""))),L=(0,n.usePrevious)(j),k=-1!==j,T=(0,t.useCallback)(((e,t)=>{const n=Math.min(a.length-1,Math.max(0,e));if(!a[n])return;const r=t(S(a[n]));P(r),document.getElementById(r)?.focus()}),[a,S]);(0,t.useEffect)((()=>{!k&&void 0!==L&&-1!==L&&T(L,Hi)}),[k,T,L]);const I=(0,t.useCallback)((e=>{"ArrowDown"===e.key&&(e.preventDefault(),T(j+1,$i)),"ArrowUp"===e.key&&(e.preventDefault(),T(j-1,$i))}),[T,j]),A=a?.length;return A?(0,f.jsx)(l.Composite,{id:v,render:(0,f.jsx)("div",{}),className:K("dataviews-view-list",g),role:"grid",activeId:O,setActiveId:P,children:a.map((e=>{const t=S(e);return(0,f.jsx)(Ui,{view:m,idPrefix:t,actions:o,item:e,isSelected:e===y,onSelect:E,mediaField:w,titleField:b,descriptionField:x,otherFields:_,onDropdownTriggerKeyDown:I},t)}))}):(0,f.jsx)("div",{className:K({"dataviews-loading":d,"dataviews-no-results":!A&&!d}),children:!A&&(0,f.jsx)("p",{children:d?(0,f.jsx)(l.Spinner,{}):(0,s.__)("No results")})})},icon:(0,s.isRTL)()?ni:ri}];function Yi({className:e}){const{actions:n=[],data:r,fields:i,getItemId:o,getItemLevel:a,isLoading:s,view:l,onChangeView:c,selection:u,onChangeSelection:d,setOpenedFilter:h,onClickItem:p,isItemClickable:m,renderItemLink:g}=(0,t.useContext)(q),v=qi.find((e=>e.type===l.type))?.component;return(0,f.jsx)(v,{className:e,actions:n,data:r,fields:i,getItemId:o,getItemLevel:a,isLoading:s,onChangeView:c,onChangeSelection:d,selection:u,setOpenedFilter:h,onClickItem:p,renderItemLink:g,isItemClickable:m,view:l})}const Xi=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"M6.6 6L5.4 7l4.5 5-4.5 5 1.1 1 5.5-6-5.4-6zm6 0l-1.1 1 4.5 5-4.5 5 1.1 1 5.5-6-5.5-6z"})}),Ki=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"M11.6 7l-1.1-1L5 12l5.5 6 1.1-1L7 12l4.6-5zm6 0l-1.1-1-5.5 6 5.5 6 1.1-1-4.6-5 4.6-5z"})});function Zi(){var e;const{view:n,onChangeView:r,paginationInfo:{totalItems:i=0,totalPages:o}}=(0,t.useContext)(q);if(!i||!o)return null;const a=null!==(e=n.page)&&void 0!==e?e:1,c=Array.from(Array(o)).map(((e,t)=>{const n=t+1;return{value:n.toString(),label:n.toString(),"aria-label":a===n?(0,s.sprintf)(
// translators: 1: current page number. 2: total number of pages.
// translators: 1: current page number. 2: total number of pages.
(0,s.__)("Page %1$d of %2$d"),a,o):n.toString()}}));return!!i&&1!==o&&(0,f.jsxs)(l.__experimentalHStack,{expanded:!1,className:"dataviews-pagination",justify:"end",spacing:6,children:[(0,f.jsx)(l.__experimentalHStack,{justify:"flex-start",expanded:!1,spacing:1,className:"dataviews-pagination__page-select",children:(0,t.createInterpolateElement)((0,s.sprintf)(
// translators: 1: Current page number, 2: Total number of pages.
// translators: 1: Current page number, 2: Total number of pages.
(0,s._x)("<div>Page</div>%1$s<div>of %2$d</div>","paging"),"<CurrentPage />",o),{div:(0,f.jsx)("div",{"aria-hidden":!0}),CurrentPage:(0,f.jsx)(l.SelectControl,{"aria-label":(0,s.__)("Current page"),value:a.toString(),options:c,onChange:e=>{r({...n,page:+e})},size:"small",__nextHasNoMarginBottom:!0,variant:"minimal"})})}),(0,f.jsxs)(l.__experimentalHStack,{expanded:!1,spacing:1,children:[(0,f.jsx)(l.Button,{onClick:()=>r({...n,page:a-1}),disabled:1===a,accessibleWhenDisabled:!0,label:(0,s.__)("Previous page"),icon:(0,s.isRTL)()?Xi:Ki,showTooltip:!0,size:"compact",tooltipPosition:"top"}),(0,f.jsx)(l.Button,{onClick:()=>r({...n,page:a+1}),disabled:a>=o,accessibleWhenDisabled:!0,label:(0,s.__)("Next page"),icon:(0,s.isRTL)()?Ki:Xi,showTooltip:!0,size:"compact",tooltipPosition:"top"})]})]})}const Qi=(0,t.memo)(Zi),Ji=[];function eo(){const{view:e,paginationInfo:{totalItems:n=0,totalPages:r},data:i,actions:o=Ji}=(0,t.useContext)(q),a=yi(o,i)&&[U,W].includes(e.type);return!n||!r||r<=1&&!a?null:!!n&&(0,f.jsxs)(l.__experimentalHStack,{expanded:!1,justify:"end",className:"dataviews-footer",children:[a&&(0,f.jsx)(Ci,{}),(0,f.jsx)(Qi,{})]})}const to=(0,t.memo)((function({label:e}){const{view:r,onChangeView:i}=(0,t.useContext)(q),[o,a,c]=(0,n.useDebouncedInput)(r.search);(0,t.useEffect)((()=>{var e;a(null!==(e=r.search)&&void 0!==e?e:"")}),[r.search,a]);const u=(0,t.useRef)(i),d=(0,t.useRef)(r);(0,t.useEffect)((()=>{u.current=i,d.current=r}),[i,r]),(0,t.useEffect)((()=>{c!==d.current?.search&&u.current({...d.current,page:1,search:c})}),[c]);const h=e||(0,s.__)("Search");return(0,f.jsx)(l.SearchControl,{className:"dataviews-search",__nextHasNoMarginBottom:!0,onChange:a,value:o,label:h,placeholder:h,size:"compact"})})),no=(0,f.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)(d.Path,{d:"M17 10h-1.2V7c0-2.1-1.7-3.8-3.8-3.8-2.1 0-3.8 1.7-3.8 3.8v3H7c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1h10c.6 0 1-.4 1-1v-8c0-.6-.4-1-1-1zm-2.8 0H9.8V7c0-1.2 1-2.2 2.2-2.2s2.2 1 2.2 2.2v3z"})}),ro=(0,f.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)(d.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})}),io=(0,f.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)(d.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})}),oo=(0,f.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)(d.Path,{d:"M3.99961 13C4.67043 13.3354 4.6703 13.3357 4.67017 13.3359L4.67298 13.3305C4.67621 13.3242 4.68184 13.3135 4.68988 13.2985C4.70595 13.2686 4.7316 13.2218 4.76695 13.1608C4.8377 13.0385 4.94692 12.8592 5.09541 12.6419C5.39312 12.2062 5.84436 11.624 6.45435 11.0431C7.67308 9.88241 9.49719 8.75 11.9996 8.75C14.502 8.75 16.3261 9.88241 17.5449 11.0431C18.1549 11.624 18.6061 12.2062 18.9038 12.6419C19.0523 12.8592 19.1615 13.0385 19.2323 13.1608C19.2676 13.2218 19.2933 13.2686 19.3093 13.2985C19.3174 13.3135 19.323 13.3242 19.3262 13.3305L19.3291 13.3359C19.3289 13.3357 19.3288 13.3354 19.9996 13C20.6704 12.6646 20.6703 12.6643 20.6701 12.664L20.6697 12.6632L20.6688 12.6614L20.6662 12.6563L20.6583 12.6408C20.6517 12.6282 20.6427 12.6108 20.631 12.5892C20.6078 12.5459 20.5744 12.4852 20.5306 12.4096C20.4432 12.2584 20.3141 12.0471 20.1423 11.7956C19.7994 11.2938 19.2819 10.626 18.5794 9.9569C17.1731 8.61759 14.9972 7.25 11.9996 7.25C9.00203 7.25 6.82614 8.61759 5.41987 9.9569C4.71736 10.626 4.19984 11.2938 3.85694 11.7956C3.68511 12.0471 3.55605 12.2584 3.4686 12.4096C3.42484 12.4852 3.39142 12.5459 3.36818 12.5892C3.35656 12.6108 3.34748 12.6282 3.34092 12.6408L3.33297 12.6563L3.33041 12.6614L3.32948 12.6632L3.32911 12.664C3.32894 12.6643 3.32879 12.6646 3.99961 13ZM11.9996 16C13.9326 16 15.4996 14.433 15.4996 12.5C15.4996 10.567 13.9326 9 11.9996 9C10.0666 9 8.49961 10.567 8.49961 12.5C8.49961 14.433 10.0666 16 11.9996 16Z"})}),ao=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"})}),{Menu:so}=(window.wp.warning,Ur(l.privateApis)),lo={className:"dataviews-config__popover",placement:"bottom-end",offset:9};function co(){const{view:e,onChangeView:n,defaultLayouts:r}=(0,t.useContext)(q),i=Object.keys(r);if(i.length<=1)return null;const o=qi.find((t=>e.type===t.type));return(0,f.jsxs)(so,{children:[(0,f.jsx)(so.TriggerButton,{render:(0,f.jsx)(l.Button,{size:"compact",icon:o?.icon,label:(0,s.__)("Layout")})}),(0,f.jsx)(so.Popover,{children:i.map((t=>{const i=qi.find((e=>e.type===t));return i?(0,f.jsx)(so.RadioItem,{value:t,name:"view-actions-available-view",checked:t===e.type,hideOnClick:!0,onChange:t=>{switch(t.target.value){case"list":case"grid":case"table":const i={...e};return"layout"in i&&delete i.layout,n({...i,type:t.target.value,...r[t.target.value]})}},children:(0,f.jsx)(so.ItemLabel,{children:i.label})},t):null}))})]})}function uo(){const{view:e,fields:n,onChangeView:r}=(0,t.useContext)(q),i=(0,t.useMemo)((()=>n.filter((e=>!1!==e.enableSorting)).map((e=>({label:e.label,value:e.id})))),[n]);return(0,f.jsx)(l.SelectControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,s.__)("Sort by"),value:e.sort?.field,options:i,onChange:t=>{r({...e,sort:{direction:e?.sort?.direction||"desc",field:t},showLevels:!1})}})}function fo(){const{view:e,fields:n,onChangeView:r}=(0,t.useContext)(q);if(0===n.filter((e=>!1!==e.enableSorting)).length)return null;let i=e.sort?.direction;return!i&&e.sort?.field&&(i="desc"),(0,f.jsx)(l.__experimentalToggleGroupControl,{className:"dataviews-view-config__sort-direction",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,isBlock:!0,label:(0,s.__)("Order"),value:i,onChange:t=>{"asc"!==t&&"desc"!==t||r({...e,sort:{direction:t,field:e.sort?.field||n.find((e=>!1!==e.enableSorting))?.id||""},showLevels:!1})},children:B.map((e=>(0,f.jsx)(l.__experimentalToggleGroupControlOptionIcon,{value:e,icon:G[e],label:$[e]},e)))})}const ho=[10,20,50,100];function po(){const{view:e,perPageSizes:n,onChangeView:r}=(0,t.useContext)(q),i=null!=n?n:ho;return(0,f.jsx)(l.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,isBlock:!0,label:(0,s.__)("Items per page"),value:e.perPage||10,disabled:!e?.sort?.field,onChange:t=>{const n="number"==typeof t||void 0===t?t:parseInt(t,10);r({...e,perPage:n,page:1})},children:i.map((e=>(0,f.jsx)(l.__experimentalToggleGroupControlOption,{value:e,label:e.toString()},e)))})}function mo({previewOptions:e,onChangePreviewOption:t,onMenuOpenChange:n,activeOption:r}){return(0,f.jsxs)(so,{onOpenChange:n,children:[(0,f.jsx)(so.TriggerButton,{render:(0,f.jsx)(l.Button,{className:"dataviews-field-control__field-preview-options-button",size:"compact",icon:oi,label:(0,s.__)("Preview")})}),(0,f.jsx)(so.Popover,{children:e?.map((({id:e,label:n})=>(0,f.jsx)(so.RadioItem,{value:e,checked:e===r,onChange:()=>{t?.(e),(e=>{setTimeout((()=>{const t=document.querySelector(`.dataviews-field-control__field-${e} .dataviews-field-control__field-preview-options-button`);t instanceof HTMLElement&&t.focus()}),50)})(e)},children:(0,f.jsx)(so.ItemLabel,{children:n})},e)))})]})}function go({field:e,label:n,description:r,isVisible:i,isFirst:o,isLast:a,canMove:c=!0,onToggleVisibility:u,onMoveUp:d,onMoveDown:h,previewOptions:p,onChangePreviewOption:m}){const[g,v]=(0,t.useState)(!1);return(0,f.jsx)(l.__experimentalItem,{children:(0,f.jsxs)(l.__experimentalHStack,{expanded:!0,className:K("dataviews-field-control__field",`dataviews-field-control__field-${e.id}`,{"is-interacting":g}),justify:"flex-start",children:[(0,f.jsx)("span",{className:"dataviews-field-control__icon",children:!c&&!e.enableHiding&&(0,f.jsx)(l.Icon,{icon:no})}),(0,f.jsxs)("span",{className:"dataviews-field-control__label-sub-label-container",children:[(0,f.jsx)("span",{className:"dataviews-field-control__label",children:n||e.label}),r&&(0,f.jsx)("span",{className:"dataviews-field-control__sub-label",children:r})]}),(0,f.jsxs)(l.__experimentalHStack,{justify:"flex-end",expanded:!1,className:"dataviews-field-control__actions",children:[i&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(l.Button,{disabled:o||!c,accessibleWhenDisabled:!0,size:"compact",onClick:d,icon:ro,label:o||!c?(0,s.__)("This field can't be moved up"):(0,s.sprintf)(/* translators: %s: field label */ /* translators: %s: field label */
(0,s.__)("Move %s up"),e.label)}),(0,f.jsx)(l.Button,{disabled:a||!c,accessibleWhenDisabled:!0,size:"compact",onClick:h,icon:io,label:a||!c?(0,s.__)("This field can't be moved down"):(0,s.sprintf)(/* translators: %s: field label */ /* translators: %s: field label */
(0,s.__)("Move %s down"),e.label)})]}),u&&(0,f.jsx)(l.Button,{className:"dataviews-field-control__field-visibility-button",disabled:!e.enableHiding,accessibleWhenDisabled:!0,size:"compact",onClick:()=>{u(),setTimeout((()=>{const t=document.querySelector(`.dataviews-field-control__field-${e.id} .dataviews-field-control__field-visibility-button`);t instanceof HTMLElement&&t.focus()}),50)},icon:i?ji:oo,label:i?(0,s.sprintf)(/* translators: %s: field label */ /* translators: %s: field label */
(0,s._x)("Hide %s","field"),e.label):(0,s.sprintf)(/* translators: %s: field label */ /* translators: %s: field label */
(0,s._x)("Show %s","field"),e.label)}),p&&(0,f.jsx)(mo,{previewOptions:p,onChangePreviewOption:m,onMenuOpenChange:v,activeOption:e.id})]})]})})}function vo({index:e,field:t,view:n,onChangeView:r}){var i;const o=null!==(i=n.fields)&&void 0!==i?i:[],a=void 0!==e&&o.includes(t.id);return(0,f.jsx)(go,{field:t,isVisible:a,isFirst:void 0!==e&&e<1,isLast:void 0!==e&&e===o.length-1,onToggleVisibility:()=>{r({...n,fields:a?o.filter((e=>e!==t.id)):[...o,t.id]})},onMoveUp:void 0!==e?()=>{var i;r({...n,fields:[...null!==(i=o.slice(0,e-1))&&void 0!==i?i:[],t.id,o[e-1],...o.slice(e+1)]})}:void 0,onMoveDown:void 0!==e?()=>{var i;r({...n,fields:[...null!==(i=o.slice(0,e))&&void 0!==i?i:[],o[e+1],t.id,...o.slice(e+2)]})}:void 0})}function yo(e){return!!e}function bo(){var e;const{view:n,fields:r,onChangeView:i}=(0,t.useContext)(q),o=[n?.titleField,n?.mediaField,n?.descriptionField].filter(Boolean),a=null!==(e=n.fields)&&void 0!==e?e:[],c=r.filter((e=>!a.includes(e.id)&&!o.includes(e.id)&&"media"!==e.type)),u=a.map((e=>r.find((t=>t.id===e)))).filter(yo);if(!u?.length&&!c?.length)return null;const d=r.find((e=>e.id===n.titleField)),h=r.find((e=>e.id===n.mediaField)),p=r.find((e=>e.id===n.descriptionField)),m=r.filter((e=>"media"===e.type));let g;if(m.length>1){var v;const e=yo(h)&&(null===(v=n.showMedia)||void 0===v||v);g=yo(h)&&(0,f.jsx)(go,{field:h,label:(0,s.__)("Preview"),description:h.label,isVisible:e,onToggleVisibility:()=>{i({...n,showMedia:!e})},canMove:!1,previewOptions:m.map((e=>({label:e.label,id:e.id}))),onChangePreviewOption:e=>i({...n,mediaField:e})},h.id)}const y=[{field:d,isVisibleFlag:"showTitle"},{field:h,isVisibleFlag:"showMedia",ui:g},{field:p,isVisibleFlag:"showDescription"}].filter((({field:e})=>yo(e))),b=y.filter((({field:e,isVisibleFlag:t})=>{var r;return yo(e)&&(null===(r=n[t])||void 0===r||r)})),w=y.filter((({field:e,isVisibleFlag:t})=>{var r;return yo(e)&&!(null===(r=n[t])||void 0===r||r)}));return(0,f.jsxs)(l.__experimentalVStack,{className:"dataviews-field-control",spacing:6,children:[(0,f.jsx)(l.__experimentalVStack,{className:"dataviews-view-config__properties",spacing:0,children:(b.length>0||!!u?.length)&&(0,f.jsxs)(l.__experimentalItemGroup,{isBordered:!0,isSeparated:!0,children:[b.map((({field:e,isVisibleFlag:t,ui:r})=>null!=r?r:(0,f.jsx)(go,{field:e,isVisible:!0,onToggleVisibility:()=>{i({...n,[t]:!1})},canMove:!1},e.id))),u.map(((e,t)=>(0,f.jsx)(vo,{field:e,view:n,onChangeView:i,index:t},e.id)))]})}),(!!c?.length||!!w.length)&&(0,f.jsxs)(l.__experimentalVStack,{spacing:4,children:[(0,f.jsx)(l.BaseControl.VisualLabel,{style:{margin:0},children:(0,s.__)("Hidden")}),(0,f.jsx)(l.__experimentalVStack,{className:"dataviews-view-config__properties",spacing:0,children:(0,f.jsxs)(l.__experimentalItemGroup,{isBordered:!0,isSeparated:!0,children:[w.length>0&&w.map((({field:e,isVisibleFlag:t,ui:r})=>null!=r?r:(0,f.jsx)(go,{field:e,isVisible:!1,onToggleVisibility:()=>{i({...n,[t]:!0})},canMove:!1},e.id))),c.map((e=>(0,f.jsx)(vo,{field:e,view:n,onChangeView:i},e.id)))]})})]})]})}function wo({title:e,description:t,children:n}){return(0,f.jsxs)(l.__experimentalGrid,{columns:12,className:"dataviews-settings-section",gap:4,children:[(0,f.jsxs)("div",{className:"dataviews-settings-section__sidebar",children:[(0,f.jsx)(l.__experimentalHeading,{level:2,className:"dataviews-settings-section__title",children:e}),t&&(0,f.jsx)(l.__experimentalText,{variant:"muted",className:"dataviews-settings-section__description",children:t})]}),(0,f.jsx)(l.__experimentalGrid,{columns:8,gap:4,className:"dataviews-settings-section__content",children:n})]})}function xo(){const{view:e}=(0,t.useContext)(q),r=(0,n.useInstanceId)(_o,"dataviews-view-config-dropdown"),i=qi.find((t=>t.type===e.type));return(0,f.jsx)(l.Dropdown,{expandOnMobile:!0,popoverProps:{...lo,id:r},renderToggle:({onToggle:e,isOpen:t})=>(0,f.jsx)(l.Button,{size:"compact",icon:ao,label:(0,s._x)("View options","View is used as a noun"),onClick:e,"aria-expanded":t?"true":"false","aria-controls":r}),renderContent:()=>(0,f.jsx)(l.__experimentalDropdownContentWrapper,{paddingSize:"medium",className:"dataviews-config__popover-content-wrapper",children:(0,f.jsxs)(l.__experimentalVStack,{className:"dataviews-view-config",spacing:6,children:[(0,f.jsxs)(wo,{title:(0,s.__)("Appearance"),children:[(0,f.jsxs)(l.__experimentalHStack,{expanded:!0,className:"is-divided-in-two",children:[(0,f.jsx)(uo,{}),(0,f.jsx)(fo,{})]}),!!i?.viewConfigOptions&&(0,f.jsx)(i.viewConfigOptions,{}),(0,f.jsx)(po,{})]}),(0,f.jsx)(wo,{title:(0,s.__)("Properties"),children:(0,f.jsx)(bo,{})})]})})})}function _o(){return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(co,{}),(0,f.jsx)(xo,{})]})}const Eo=(0,t.memo)(_o),So=window.wp.url;function Co({item:e,field:t}){const n=t.getValue({item:e});return t?.elements?.find((e=>e.value===n))?.label||t.getValue({item:e})}const Oo={sort:function(e,t,n){return"asc"===n?e.localeCompare(t):t.localeCompare(e)},isValid:function(e,t){if(""===e)return!1;if(!(0,So.isEmail)(e))return!1;if(t?.elements){const n=t?.elements?.map((e=>e.value));if(!n.includes(e))return!1}return!0},Edit:"email",render:({item:e,field:t})=>t.elements?Co({item:e,field:t}):t.getValue({item:e}),enableSorting:!0,filterBy:{defaultOperators:[v,y],validOperators:[m,g,L,k,T,v,y,b,w]}},Po={sort:function(e,t,n){return"asc"===n?e-t:t-e},isValid:function(e,t){if(""===e)return!1;if(!Number.isInteger(Number(e)))return!1;if(t?.elements){const n=t?.elements.map((e=>e.value));if(!n.includes(Number(e)))return!1}return!0},Edit:"integer",render:({item:e,field:t})=>t.elements?Co({item:e,field:t}):t.getValue({item:e}),enableSorting:!0,filterBy:{defaultOperators:[m,g,x,_,E,S,I],validOperators:[m,g,x,_,E,S,I,v,y,b,w]}},jo={sort:function(e,t,n){return"asc"===n?e.localeCompare(t):t.localeCompare(e)},isValid:function(e,t){if(t?.elements){const n=t?.elements?.map((e=>e.value));if(!n.includes(e))return!1}return!0},Edit:"text",render:({item:e,field:t})=>t.elements?Co({item:e,field:t}):t.getValue({item:e}),enableSorting:!0,filterBy:{defaultOperators:[v,y],validOperators:[m,g,L,k,T,v,y,b,w]}},Lo={sort:function(e,t,n){const r=new Date(e).getTime(),i=new Date(t).getTime();return"asc"===n?r-i:i-r},isValid:function(e,t){if(t?.elements){const n=t?.elements.map((e=>e.value));if(!n.includes(e))return!1}return!0},Edit:"datetime",render:({item:e,field:t})=>t.elements?Co({item:e,field:t}):t.getValue({item:e}),enableSorting:!0,filterBy:{defaultOperators:[A,M,C,O,P,j,N,R],validOperators:[A,M,C,O,P,j,N,R]}},ko=window.wp.date,To={sort:function(e,t,n){const r=new Date(e).getTime(),i=new Date(t).getTime();return"asc"===n?r-i:i-r},isValid:function(e,t){if(t?.elements){const n=t?.elements.map((e=>e.value));if(!n.includes(e))return!1}return!0},Edit:null,render:({item:e,field:t})=>{if(t.elements)return Co({item:e,field:t});const n=t.getValue({item:e});return n?(r=n,(0,ko.dateI18n)((0,ko.getSettings)().formats.date,(0,ko.getDate)(r))):"";var r},enableSorting:!0,filterBy:!1},Io={sort:function(e,t,n){const r=Boolean(e);return r===Boolean(t)?0:"asc"===n?r?1:-1:r?-1:1},isValid:function(e){return!![!0,!1,void 0].includes(e)},Edit:"boolean",render:({item:e,field:t})=>t.elements?Co({item:e,field:t}):!0===t.getValue({item:e})?(0,s.__)("True"):!1===t.getValue({item:e})?(0,s.__)("False"):null,enableSorting:!0,filterBy:{defaultOperators:[m,g],validOperators:[m,g]}},Ao={sort:function(){return 0},isValid:function(e,t){if(t?.elements){const n=t?.elements.map((e=>e.value));if(!n.includes(e))return!1}return!0},Edit:null,render:()=>null,enableSorting:!1,filterBy:!1},Mo={sort:function(e,t,n){const r=Array.isArray(e)?e:[],i=Array.isArray(t)?t:[];if(r.length!==i.length)return"asc"===n?r.length-i.length:i.length-r.length;const o=r.join(","),a=i.join(",");return"asc"===n?o.localeCompare(a):a.localeCompare(o)},isValid:function(e,t){if(!Array.isArray(e))return!1;if(!e.every((e=>"string"==typeof e)))return!1;if(t?.elements){const n=t.elements.map((e=>e.value));if(!e.every((e=>n.includes(e))))return!1}return!0},Edit:null,render:function({item:e,field:t}){return(t.getValue({item:e})||[]).join(", ")},enableSorting:!0,filterBy:{defaultOperators:[v,y],validOperators:[v,y,b,w]}},No={[N]:[{value:"days",label:(0,s.__)("Days")},{value:"weeks",label:(0,s.__)("Weeks")},{value:"months",label:(0,s.__)("Months")},{value:"years",label:(0,s.__)("Years")}],[R]:[{value:"days",label:(0,s.__)("Days ago")},{value:"weeks",label:(0,s.__)("Weeks ago")},{value:"months",label:(0,s.__)("Months ago")},{value:"years",label:(0,s.__)("Years ago")}]};function Ro({id:e,value:n,onChange:r,label:i,hideLabelFromVision:o,options:a}){const{value:c="",unit:u=a[0].value}=n,d=(0,t.useCallback)((t=>r({[e]:{value:Number(t),unit:u}})),[e,r,u]),h=(0,t.useCallback)((t=>r({[e]:{value:c,unit:t}})),[e,r,c]);return(0,f.jsx)(l.BaseControl,{id:e,__nextHasNoMarginBottom:!0,className:"dataviews-controls__datetime",label:i,hideLabelFromVision:o,children:(0,f.jsxs)(l.__experimentalHStack,{spacing:2.5,children:[(0,f.jsx)(l.__experimentalNumberControl,{__next40pxDefaultSize:!0,className:"dataviews-controls__datetime-number",spinControls:"none",min:1,step:1,value:c,onChange:d}),(0,f.jsx)(l.SelectControl,{className:"dataviews-controls__datetime-unit",__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,s.__)("Unit"),value:u,options:a,onChange:h,hideLabelFromVision:!0})]})})}function Fo({id:e,value:n,onChange:r,hideLabelFromVision:i}){const[o="",a=""]=Array.isArray(n)?n:[],c=(0,t.useCallback)((t=>r({[e]:[Number(t),a]})),[e,r,a]),u=(0,t.useCallback)((t=>r({[e]:[o,Number(t)]})),[e,r,o]);return(0,f.jsx)(l.BaseControl,{__nextHasNoMarginBottom:!0,help:(0,s.__)("The max. value must be greater than the min. value."),children:(0,f.jsxs)(l.Flex,{direction:"row",gap:4,children:[(0,f.jsx)(l.__experimentalNumberControl,{label:(0,s.__)("Min."),value:o,max:a?Number(a)-1:void 0,onChange:c,__next40pxDefaultSize:!0,hideLabelFromVision:i}),(0,f.jsx)(l.__experimentalNumberControl,{label:(0,s.__)("Max."),value:a,min:o?Number(o)+1:void 0,onChange:u,__next40pxDefaultSize:!0,hideLabelFromVision:i})]})})}const Do={boolean:function({field:e,onChange:t,data:n,hideLabelFromVision:r}){const{id:i,getValue:o,label:a}=e;return(0,f.jsx)(l.ToggleControl,{hidden:r,__nextHasNoMarginBottom:!0,label:a,checked:o({item:n}),onChange:()=>t({[i]:!o({item:n})})})},checkbox:function({field:e,onChange:t,data:n,hideLabelFromVision:r}){const{id:i,getValue:o,label:a,description:s}=e;return(0,f.jsx)(l.CheckboxControl,{__nextHasNoMarginBottom:!0,hidden:r,label:a,help:s,checked:o({item:n}),onChange:()=>t({[i]:!o({item:n})})})},datetime:function({data:e,field:n,onChange:r,hideLabelFromVision:i,operator:o}){const{id:a,label:s}=n,c=n.getValue({item:e}),u=(0,t.useCallback)((e=>r({[a]:e})),[a,r]);return o===N||o===R?(0,f.jsx)(Ro,{id:a,value:c&&"object"==typeof c?c:{},onChange:r,label:s,hideLabelFromVision:i,options:No[o]}):(0,f.jsxs)("fieldset",{className:"dataviews-controls__datetime",children:[!i&&(0,f.jsx)(l.BaseControl.VisualLabel,{as:"legend",children:s}),i&&(0,f.jsx)(l.VisuallyHidden,{as:"legend",children:s}),(0,f.jsx)(l.TimePicker,{currentTime:"string"==typeof c?c:void 0,onChange:u,hideLabelFromVision:!0})]})},email:function({data:e,field:n,onChange:r,hideLabelFromVision:i}){const{id:o,label:a,placeholder:s,description:c}=n,u=n.getValue({item:e}),d=(0,t.useCallback)((e=>r({[o]:e})),[o,r]);return(0,f.jsx)(l.TextControl,{type:"email",label:a,placeholder:s,value:null!=u?u:"",help:c,onChange:d,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,hideLabelFromVision:i})},integer:function({data:e,field:n,onChange:r,hideLabelFromVision:i,operator:o}){var a;const{id:s,label:c,description:u}=n,d=null!==(a=n.getValue({item:e}))&&void 0!==a?a:"",h=(0,t.useCallback)((e=>r({[s]:Number(e)})),[s,r]);return o===I?(0,f.jsx)(Fo,{id:s,value:d,onChange:r,hideLabelFromVision:i}):(0,f.jsx)(l.__experimentalNumberControl,{label:c,help:u,value:d,onChange:h,__next40pxDefaultSize:!0,hideLabelFromVision:i})},radio:function({data:e,field:n,onChange:r,hideLabelFromVision:i}){const{id:o,label:a}=n,s=n.getValue({item:e}),c=(0,t.useCallback)((e=>r({[o]:e})),[o,r]);return n.elements?(0,f.jsx)(l.RadioControl,{label:a,onChange:c,options:n.elements,selected:s,hideLabelFromVision:i}):null},select:function({data:e,field:n,onChange:r,hideLabelFromVision:i}){var o,a;const{id:c,label:u}=n,d=null!==(o=n.getValue({item:e}))&&void 0!==o?o:"",h=(0,t.useCallback)((e=>r({[c]:e})),[c,r]),p=[{label:(0,s.__)("Select item"),value:""},...null!==(a=n?.elements)&&void 0!==a?a:[]];return(0,f.jsx)(l.SelectControl,{label:u,value:d,help:n.description,options:p,onChange:h,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,hideLabelFromVision:i})},text:function({data:e,field:n,onChange:r,hideLabelFromVision:i}){const{id:o,label:a,placeholder:s,description:c}=n,u=n.getValue({item:e}),d=(0,t.useCallback)((e=>r({[o]:e})),[o,r]);return(0,f.jsx)(l.TextControl,{label:a,placeholder:s,value:null!=u?u:"",help:c,onChange:d,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,hideLabelFromVision:i})},toggleGroup:function({data:e,field:n,onChange:r,hideLabelFromVision:i}){const{id:o}=n,a=n.getValue({item:e}),s=(0,t.useCallback)((e=>r({[o]:e})),[o,r]);if(n.elements){const e=n.elements.find((e=>e.value===a));return(0,f.jsx)(l.__experimentalToggleGroupControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,isBlock:!0,label:n.label,help:e?.description||n.description,onChange:s,value:a,hideLabelFromVision:i,children:n.elements.map((e=>(0,f.jsx)(l.__experimentalToggleGroupControlOption,{label:e.label,value:e.value},e.value)))})}return null}};function Vo(e){if(Object.keys(Do).includes(e))return Do[e];throw"Control "+e+" not found"}const Bo=e=>e.id,zo=()=>!0,Ho=[];function $o({header:e,search:n=!0,searchLabel:r}){const{isShowingFilter:i}=(0,t.useContext)(q);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(l.__experimentalHStack,{alignment:"top",justify:"space-between",className:"dataviews__view-actions",spacing:1,children:[(0,f.jsxs)(l.__experimentalHStack,{justify:"start",expanded:!1,className:"dataviews__search",children:[n&&(0,f.jsx)(to,{label:r}),(0,f.jsx)(Zr,{})]}),(0,f.jsxs)(l.__experimentalHStack,{spacing:1,expanded:!1,style:{flexShrink:0},children:[(0,f.jsx)(Eo,{}),e]})]}),i&&(0,f.jsx)(Jr,{className:"dataviews-filters__container"}),(0,f.jsx)(Yi,{}),(0,f.jsx)(eo,{})]})}const Go=function({view:e,onChangeView:r,fields:i,search:o=!0,searchLabel:a,actions:s=Ho,data:l,getItemId:c=Bo,getItemLevel:u,isLoading:d=!1,paginationInfo:h,defaultLayouts:p,selection:v,onChangeSelection:y,onClickItem:b,renderItemLink:w,isItemClickable:x=zo,header:_,children:E,perPageSizes:S}){const C=(0,t.useRef)(null),[O,P]=(0,t.useState)(0),j=(0,n.useResizeObserver)((e=>{P(e[0].borderBoxSize[0].inlineSize)}),{box:"border-box"}),[L,k]=(0,t.useState)([]),T=void 0===v||void 0===y,A=T?L:v,[M,N]=(0,t.useState)(null),R=(0,t.useMemo)((()=>function(e){return e.map((e=>{var t,n,r,i,o,a,s,l;const c="email"===(u=e.type)?Oo:"integer"===u?Po:"text"===u?jo:"datetime"===u?Lo:"date"===u?To:"boolean"===u?Io:"media"===u?Ao:"array"===u?Mo:{sort:(e,t,n)=>"number"==typeof e&&"number"==typeof t?"asc"===n?e-t:t-e:"asc"===n?e.localeCompare(t):t.localeCompare(e),isValid:(e,t)=>{if(t?.elements){const n=t?.elements?.map((e=>e.value));if(!n.includes(e))return!1}return!0},Edit:null,render:({item:e,field:t})=>t.elements?Co({item:e,field:t}):t.getValue({item:e}),enableSorting:!0,filterBy:{defaultOperators:[m,g],validOperators:F}};var u;const d=e.getValue||(f=e.id,({item:e})=>{const t=f.split(".");let n=e;for(const e of t)n=n.hasOwnProperty(e)?n[e]:void 0;return n});var f;const h=null!==(t=e.sort)&&void 0!==t?t:function(e,t,n){return c.sort(d({item:e}),d({item:t}),n)},p=null!==(n=e.isValid)&&void 0!==n?n:function(e,t){return c.isValid(d({item:e}),t)},v=function(e,t){return"function"==typeof e.Edit?e.Edit:"string"==typeof e.Edit?Vo(e.Edit):e.elements?Vo("select"):"string"==typeof t.Edit?Vo(t.Edit):t.Edit}(e,c),y=null!==(r=e.render)&&void 0!==r?r:function({item:e,field:t}){return c.render({item:e,field:t})},b=function(e,t){if(!1===e.filterBy)return!1;if("object"==typeof e.filterBy){let n=e.filterBy.operators;n&&Array.isArray(n)||(n=t.filterBy?t.filterBy.defaultOperators:[]);let r=F;return"object"==typeof t.filterBy&&(r=t.filterBy.validOperators),n=n.filter((e=>r.includes(e))),e.elements&&n.includes(I)&&(n=n.filter((e=>e!==I))),n.some((e=>D.includes(e)))&&(n=n.filter((e=>[...D,I].includes(e)))),0!==n.length&&{isPrimary:!!e.filterBy.isPrimary,operators:n}}if(!1===t.filterBy)return!1;let n=t.filterBy.defaultOperators;return e.elements&&n.includes(I)&&(n=n.filter((e=>e!==I))),{operators:n}}(e,c);return{...e,label:e.label||e.id,header:e.header||e.label||e.id,getValue:d,render:y,sort:h,isValid:p,Edit:v,enableHiding:null===(i=e.enableHiding)||void 0===i||i,enableSorting:null===(o=null!==(a=e.enableSorting)&&void 0!==a?a:c.enableSorting)||void 0===o||o,filterBy:b,readOnly:null!==(s=null!==(l=e.readOnly)&&void 0!==l?l:c.readOnly)&&void 0!==s&&s}}))}(i)),[i]),V=(0,t.useMemo)((()=>A.filter((e=>l.some((t=>c(t)===e))))),[A,l,c]),B=Kr(R,e),[z,H]=(0,t.useState)((()=>(B||[]).some((e=>e.isPrimary))));return(0,f.jsx)(q.Provider,{value:{view:e,onChangeView:r,fields:R,actions:s,data:l,isLoading:d,paginationInfo:h,selection:V,onChangeSelection:function(e){const t="function"==typeof e?e(A):e;T&&k(t),y&&y(t)},openedFilter:M,setOpenedFilter:N,getItemId:c,getItemLevel:u,isItemClickable:x,onClickItem:b,renderItemLink:w,containerWidth:O,containerRef:C,defaultLayouts:p,filters:B,isShowingFilter:z,setIsShowingFilter:H,perPageSizes:S},children:(0,f.jsx)("div",{className:"dataviews-wrapper",ref:(0,n.useMergeRefs)([C,j]),children:null!=E?E:(0,f.jsx)($o,{header:_,search:o,searchLabel:a})})})};Go.BulkActionToolbar=Ci,Go.Filters=Jr,Go.FiltersToggle=Zr,Go.Layout=Yi,Go.LayoutSwitcher=co,Go.Pagination=Zi,Go.Search=to,Go.ViewConfig=xo;const Uo=Go;var Wo=i(270),qo=i.n(Wo);const Yo=(...e)=>e.filter(((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t)).join(" ").trim();var Xo={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ko=(0,Pe.forwardRef)((({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...s},l)=>(0,Pe.createElement)("svg",{ref:l,...Xo,width:t,height:t,stroke:e,strokeWidth:r?24*Number(n)/Number(t):n,className:Yo("lucide",i),...s},[...a.map((([e,t])=>(0,Pe.createElement)(e,t))),...Array.isArray(o)?o:[o]]))),Zo=(e,t)=>{const n=(0,Pe.forwardRef)((({className:n,...r},i)=>{return(0,Pe.createElement)(Ko,{ref:i,iconNode:t,className:Yo(`lucide-${o=e,o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,n),...r});var o}));return n.displayName=`${e}`,n},Qo=Zo("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Jo=Zo("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),ea=Zo("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var ta=i(942),na=i.n(ta),ra=i(556),ia=i.n(ra);const oa=window.wp.a11y;function aa(e){return aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aa(e)}function sa(){return sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sa.apply(null,arguments)}function la(e,t,n){return(t=function(e){var t=function(e){if("object"!=aa(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=aa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==aa(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ca=function(e){var t=e.message,n=e.status,r=e.politeness,i=e.icon,o=e.className,a=e.inline,c=e.children,u=e.hasToTop,d=void 0!==u&&u;(0,Pe.useEffect)((function(){(0,oa.speak)(t,r)}),[t,n,r]);var f=function(){return null!==i},h=na()(o,"dlx-pw-admin__notice",la(la(la({"dlx-pw-admin__notice--has-icon":f()},"dlx-pw-admin__notice-type--".concat(n),!0),"dlx-pw-admin__notice-appearance--inline",a),"dlx-pw-admin__notice-appearance--block",!a)),p=[{label:(0,s.__)("Back to Top","wp-dlx-pw-comments"),url:"#dlx-pw-admin-header",variant:"link",className:"dlx-pw-admin__notice-action dlx-pw-admin__notice-action--to-top"}];return Le().createElement("div",{className:h},Le().createElement(l.Notice,sa({isDismissible:!1,spokenMessage:t,actions:d?p:[]},e),f()&&Le().createElement("div",{className:"dlx-pw-admin__notice-icon"},function(e){return Le().createElement(e,{width:16,height:16,fill:"#6c757d"})}(i)),Le().createElement("div",{className:"dlx-pw-admin__notice-message"},Le().createElement(Le().Fragment,null,t," ",c," "))))};ca.defaultProps={message:"",status:"info",politeness:"polite",icon:null,className:"",inline:!1,hasToTop:!1},ca.propTypes={message:ia().string.isRequired,status:ia().oneOf(["info","warning","success","error"]),politeness:ia().oneOf(["assertive","polite"]),icon:ia().func,className:ia().string,inline:ia().bool,hasToTop:ia().bool};const ua=ca;function da(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fa(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fa(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const ha=function(e){var t=e.loadingMessage,n={type:e.type,message:e.message,title:e.title,isDismissable:!1,isPersistent:!1,isSuccess:!1,loadingMessage:t,politeness:"polite"},r=da((0,Pe.useState)(n),2),i=r[0],o=(r[1],da((0,Pe.useState)(!1),2)),a=o[0],c=(o[1],da((0,Pe.useState)(!1),2)),u=c[0],d=c[1];(0,Pe.useEffect)((function(){e.isVisible&&setTimeout((function(){e.onClose()}),5e3)}),[e.isVisible]);var f=function(){switch(i.type){case"success":return Le().createElement(Qo,null);case"error":case"critical":return Le().createElement(Jo,null);default:return Le().createElement(ea,null)}};return Le().createElement(Le().Fragment,null,Le().createElement(l.Snackbar,{className:na()("dlx-pw-snackbar dlx-pw-snackbar-".concat(i.type),{"dlx-pw-snackbar-loading":a}),actions:function(){var e=[];return"success"===i.type&&e.push({label:(0,s.__)("Back to Top","pattern-wrangler"),url:"#dlx-pw-admin-header",variant:"link",className:"dlx-pw-admin__notice-action dlx-pw-admin__notice-action--to-top"}),e}(),icon:f(),onDismiss:function(){d(!1),e.onClose()},explicitDismiss:i.isDismissable},a?t:i.message)," ",u&&function(){if("critical"===i.type)return Le().createElement(l.Modal,{className:na()("dlx-pw-modal dlx-pw-modal-".concat(i.type),{"dlx-pw-modal-loading":a}),bodyOpenClassName:"dlx-pw-modal-body-open",title:i.title,onRequestClose:function(){d(!1)},isDismissible:!0,shouldCloseOnClickOutside:i.isPersistent,shouldCloseOnEsc:i.isPersistent},Le().createElement(ua,{message:i.message,status:i.type,politeness:i.politeness,icon:f,inline:!1}),Le().createElement("div",{className:"dlx-pw-modal-button-group"},Le().createElement(l.Button,{className:"button button-error",variant:"secondary",onClick:function(){d(!1)}},(0,s.__)("OK","pattern-wrangler"))))}()," ")};i(912);const pa=Zo("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var ma=e=>"checkbox"===e.type,ga=e=>e instanceof Date,va=e=>null==e;const ya=e=>"object"==typeof e;var ba=e=>!va(e)&&!Array.isArray(e)&&ya(e)&&!ga(e),wa=e=>ba(e)&&e.target?ma(e.target)?e.target.checked:e.target.value:e,xa=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),_a="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function Ea(e){let t;const n=Array.isArray(e),r="undefined"!=typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(_a&&(e instanceof Blob||r)||!n&&!ba(e))return e;if(t=n?[]:{},n||(e=>{const t=e.constructor&&e.constructor.prototype;return ba(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const n in e)e.hasOwnProperty(n)&&(t[n]=Ea(e[n]));else t=e}return t}var Sa=e=>Array.isArray(e)?e.filter(Boolean):[],Ca=e=>void 0===e,Oa=(e,t,n)=>{if(!t||!ba(e))return n;const r=Sa(t.split(/[,[\].]+?/)).reduce(((e,t)=>va(e)?e:e[t]),e);return Ca(r)||r===e?Ca(e[t])?n:e[t]:r},Pa=e=>"boolean"==typeof e,ja=e=>/^\w*$/.test(e),La=e=>Sa(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ka=(e,t,n)=>{let r=-1;const i=ja(t)?[t]:La(t),o=i.length,a=o-1;for(;++r<o;){const t=i[r];let o=n;if(r!==a){const n=e[t];o=ba(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=o,e=e[t]}return e};const Ta="blur",Ia="onChange",Aa="onSubmit",Ma="all",Na="pattern",Ra="required",Fa=Pe.createContext(null),Da=()=>Pe.useContext(Fa);var Va=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(i,o,{get:()=>{const i=o;return t._proxyFormState[i]!==Ma&&(t._proxyFormState[i]=!r||Ma),n&&(n[i]=!0),e[i]}});return i},Ba=e=>ba(e)&&!Object.keys(e).length,za=(e,t,n,r)=>{n(e);const{name:i,...o}=e;return Ba(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find((e=>t[e]===(!r||Ma)))},Ha=e=>Array.isArray(e)?e:[e],$a=(e,t,n)=>!e||!t||e===t||Ha(e).some((e=>e&&(n?e===t:e.startsWith(t)||t.startsWith(e))));function Ga(e){const t=Pe.useRef(e);t.current=e,Pe.useEffect((()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}}),[e.disabled])}function Ua(e){const t=Da(),{control:n=t.control,disabled:r,name:i,exact:o}=e||{},[a,s]=Pe.useState(n._formState),l=Pe.useRef(!0),c=Pe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=Pe.useRef(i);return u.current=i,Ga({disabled:r,next:e=>l.current&&$a(u.current,e.name,o)&&za(e,c.current,n._updateFormState)&&s({...n._formState,...e}),subject:n._subjects.state}),Pe.useEffect((()=>(l.current=!0,c.current.isValid&&n._updateValid(!0),()=>{l.current=!1})),[n]),Pe.useMemo((()=>Va(a,n,c.current,!1)),[a,n])}var Wa=e=>"string"==typeof e,qa=(e,t,n,r,i)=>Wa(e)?(r&&t.watch.add(e),Oa(n,e,i)):Array.isArray(e)?e.map((e=>(r&&t.watch.add(e),Oa(n,e)))):(r&&(t.watchAll=!0),n);function Ya(e){const t=Da(),{control:n=t.control,name:r,defaultValue:i,disabled:o,exact:a}=e||{},s=Pe.useRef(r);s.current=r,Ga({disabled:o,subject:n._subjects.values,next:e=>{$a(s.current,e.name,a)&&c(Ea(qa(s.current,n._names,e.values||n._formValues,!1,i)))}});const[l,c]=Pe.useState(n._getWatch(r,i));return Pe.useEffect((()=>n._removeUnmounted())),l}const Xa=e=>e.render(function(e){const t=Da(),{name:n,disabled:r,control:i=t.control,shouldUnregister:o}=e,a=xa(i._names.array,n),s=Ya({control:i,name:n,defaultValue:Oa(i._formValues,n,Oa(i._defaultValues,n,e.defaultValue)),exact:!0}),l=Ua({control:i,name:n,exact:!0}),c=Pe.useRef(i.register(n,{...e.rules,value:s,...Pa(e.disabled)?{disabled:e.disabled}:{}})),u=Pe.useMemo((()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Oa(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!Oa(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Oa(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Oa(l.validatingFields,n)},error:{enumerable:!0,get:()=>Oa(l.errors,n)}})),[l,n]),d=Pe.useMemo((()=>({name:n,value:s,...Pa(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:e=>c.current.onChange({target:{value:wa(e),name:n},type:"change"}),onBlur:()=>c.current.onBlur({target:{value:Oa(i._formValues,n),name:n},type:Ta}),ref:e=>{const t=Oa(i._fields,n);t&&e&&(t._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})}})),[n,i._formValues,r,l.disabled,s,i._fields]);return Pe.useEffect((()=>{const e=i._options.shouldUnregister||o,t=(e,t)=>{const n=Oa(i._fields,e);n&&n._f&&(n._f.mount=t)};if(t(n,!0),e){const e=Ea(Oa(i._options.defaultValues,n));ka(i._defaultValues,n,e),Ca(Oa(i._formValues,n))&&ka(i._formValues,n,e)}return()=>{(a?e&&!i._state.action:e)?i.unregister(n):t(n,!1)}}),[n,i,a,o]),Pe.useEffect((()=>{Pa(r)&&Oa(i._fields,n)&&i._updateDisabledField({disabled:r,fields:i._fields,name:n,value:Oa(i._fields,n)._f.value})}),[r,n,i]),Pe.useMemo((()=>({field:d,formState:l,fieldState:u})),[d,l,u])}(e));var Ka=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},Za=e=>({isOnSubmit:!e||e===Aa,isOnBlur:"onBlur"===e,isOnChange:e===Ia,isOnAll:e===Ma,isOnTouch:"onTouched"===e}),Qa=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))));const Ja=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const n=Oa(e,i);if(n){const{_f:e,...o}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!r)return!0;if(e.ref&&t(e.ref,e.name)&&!r)return!0;if(Ja(o,t))break}else if(ba(o)&&Ja(o,t))break}}};var es=(e,t,n)=>{const r=Ha(Oa(e,n));return ka(r,"root",t[n]),ka(e,n,r),e},ts=e=>"file"===e.type,ns=e=>"function"==typeof e,rs=e=>{if(!_a)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},is=e=>Wa(e),os=e=>"radio"===e.type,as=e=>e instanceof RegExp;const ss={value:!1,isValid:!1},ls={value:!0,isValid:!0};var cs=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ca(e[0].attributes.value)?Ca(e[0].value)||""===e[0].value?ls:{value:e[0].value,isValid:!0}:ls:ss}return ss};const us={isValid:!1,value:null};var ds=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),us):us;function fs(e,t,n="validate"){if(is(e)||Array.isArray(e)&&e.every(is)||Pa(e)&&!e)return{type:n,message:is(e)?e:"",ref:t}}var hs=e=>ba(e)&&!as(e)?e:{value:e,message:""},ps=async(e,t,n,r,i)=>{const{ref:o,refs:a,required:s,maxLength:l,minLength:c,min:u,max:d,pattern:f,validate:h,name:p,valueAsNumber:m,mount:g,disabled:v}=e._f,y=Oa(t,p);if(!g||v)return{};const b=a?a[0]:o,w=e=>{r&&b.reportValidity&&(b.setCustomValidity(Pa(e)?"":e||""),b.reportValidity())},x={},_=os(o),E=ma(o),S=_||E,C=(m||ts(o))&&Ca(o.value)&&Ca(y)||rs(o)&&""===o.value||""===y||Array.isArray(y)&&!y.length,O=Ka.bind(null,p,n,x),P=(e,t,n,r="maxLength",i="minLength")=>{const a=e?t:n;x[p]={type:e?r:i,message:a,ref:o,...O(e?r:i,a)}};if(i?!Array.isArray(y)||!y.length:s&&(!S&&(C||va(y))||Pa(y)&&!y||E&&!cs(a).isValid||_&&!ds(a).isValid)){const{value:e,message:t}=is(s)?{value:!!s,message:s}:hs(s);if(e&&(x[p]={type:Ra,message:t,ref:b,...O(Ra,t)},!n))return w(t),x}if(!(C||va(u)&&va(d))){let e,t;const r=hs(d),i=hs(u);if(va(y)||isNaN(y)){const n=o.valueAsDate||new Date(y),a=e=>new Date((new Date).toDateString()+" "+e),s="time"==o.type,l="week"==o.type;Wa(r.value)&&y&&(e=s?a(y)>a(r.value):l?y>r.value:n>new Date(r.value)),Wa(i.value)&&y&&(t=s?a(y)<a(i.value):l?y<i.value:n<new Date(i.value))}else{const n=o.valueAsNumber||(y?+y:y);va(r.value)||(e=n>r.value),va(i.value)||(t=n<i.value)}if((e||t)&&(P(!!e,r.message,i.message,"max","min"),!n))return w(x[p].message),x}if((l||c)&&!C&&(Wa(y)||i&&Array.isArray(y))){const e=hs(l),t=hs(c),r=!va(e.value)&&y.length>+e.value,i=!va(t.value)&&y.length<+t.value;if((r||i)&&(P(r,e.message,t.message),!n))return w(x[p].message),x}if(f&&!C&&Wa(y)){const{value:e,message:t}=hs(f);if(as(e)&&!y.match(e)&&(x[p]={type:Na,message:t,ref:o,...O(Na,t)},!n))return w(t),x}if(h)if(ns(h)){const e=fs(await h(y,t),b);if(e&&(x[p]={...e,...O("validate",e.message)},!n))return w(e.message),x}else if(ba(h)){let e={};for(const r in h){if(!Ba(e)&&!n)break;const i=fs(await h[r](y,t),b,r);i&&(e={...i,...O(r,i.message)},w(i.message),n&&(x[p]=e))}if(!Ba(e)&&(x[p]={ref:b,...e},!n))return x}return w(!0),x};function ms(e,t){const n=Array.isArray(t)?t:ja(t)?[t]:La(t),r=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Ca(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,o=n[i];return r&&delete r[o],0!==i&&(ba(r)&&Ba(r)||Array.isArray(r)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ca(e[t]))return!1;return!0}(r))&&ms(e,n.slice(0,-1)),e}var gs=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}},vs=e=>va(e)||!ya(e);function ys(e,t){if(vs(e)||vs(t))return e===t;if(ga(e)&&ga(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const n=e[i];if(!r.includes(i))return!1;if("ref"!==i){const e=t[i];if(ga(n)&&ga(e)||ba(n)&&ba(e)||Array.isArray(n)&&Array.isArray(e)?!ys(n,e):n!==e)return!1}}return!0}var bs=e=>"select-multiple"===e.type,ws=e=>rs(e)&&e.isConnected,xs=e=>{for(const t in e)if(ns(e[t]))return!0;return!1};function _s(e,t={}){const n=Array.isArray(e);if(ba(e)||n)for(const n in e)Array.isArray(e[n])||ba(e[n])&&!xs(e[n])?(t[n]=Array.isArray(e[n])?[]:{},_s(e[n],t[n])):va(e[n])||(t[n]=!0);return t}function Es(e,t,n){const r=Array.isArray(e);if(ba(e)||r)for(const r in e)Array.isArray(e[r])||ba(e[r])&&!xs(e[r])?Ca(t)||vs(n[r])?n[r]=Array.isArray(e[r])?_s(e[r],[]):{..._s(e[r])}:Es(e[r],va(t)?{}:t[r],n[r]):n[r]=!ys(e[r],t[r]);return n}var Ss=(e,t)=>Es(e,t,_s(t)),Cs=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Ca(e)?e:t?""===e?NaN:e?+e:e:n&&Wa(e)?new Date(e):r?r(e):e;function Os(e){const t=e.ref;if(!(e.refs?e.refs.every((e=>e.disabled)):t.disabled))return ts(t)?t.files:os(t)?ds(e.refs).value:bs(t)?[...t.selectedOptions].map((({value:e})=>e)):ma(t)?cs(e.refs).value:Cs(Ca(t.value)?e.ref.value:t.value,e)}var Ps=e=>Ca(e)?e:as(e)?e.source:ba(e)?as(e.value)?e.value.source:e.value:e;const js="AsyncFunction";function Ls(e,t,n){const r=Oa(e,n);if(r||ja(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const r=i.join("."),o=Oa(t,r),a=Oa(e,r);if(o&&!Array.isArray(o)&&n!==r)return{name:n};if(a&&a.type)return{name:r,error:a};i.pop()}return{name:n}}const ks={mode:Aa,reValidateMode:Ia,shouldFocusError:!0};function Ts(e={}){let t,n={...ks,...e},r={submitCount:0,isDirty:!1,isLoading:ns(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},o=(ba(n.defaultValues)||ba(n.values))&&Ea(n.defaultValues||n.values)||{},a=n.shouldUnregister?{}:Ea(o),s={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:gs(),array:gs(),state:gs()},f=Za(n.mode),h=Za(n.reValidateMode),p=n.criteriaMode===Ma,m=async e=>{if(!n.disabled&&(u.isValid||e)){const e=n.resolver?Ba((await b()).errors):await w(i,!0);e!==r.isValid&&d.state.next({isValid:e})}},g=(e,t)=>{n.disabled||!u.isValidating&&!u.validatingFields||((e||Array.from(l.mount)).forEach((e=>{e&&(t?ka(r.validatingFields,e,t):ms(r.validatingFields,e))})),d.state.next({validatingFields:r.validatingFields,isValidating:!Ba(r.validatingFields)}))},v=(e,t,n,r)=>{const l=Oa(i,e);if(l){const i=Oa(a,e,Ca(n)?Oa(o,e):n);Ca(i)||r&&r.defaultChecked||t?ka(a,e,t?i:Os(l._f)):E(e,i),s.mount&&m()}},y=(e,t,a,s,l)=>{let c=!1,f=!1;const h={name:e};if(!n.disabled){const n=!!(Oa(i,e)&&Oa(i,e)._f&&Oa(i,e)._f.disabled);if(!a||s){u.isDirty&&(f=r.isDirty,r.isDirty=h.isDirty=x(),c=f!==h.isDirty);const i=n||ys(Oa(o,e),t);f=!(n||!Oa(r.dirtyFields,e)),i||n?ms(r.dirtyFields,e):ka(r.dirtyFields,e,!0),h.dirtyFields=r.dirtyFields,c=c||u.dirtyFields&&f!==!i}if(a){const t=Oa(r.touchedFields,e);t||(ka(r.touchedFields,e,a),h.touchedFields=r.touchedFields,c=c||u.touchedFields&&t!==a)}c&&l&&d.state.next(h)}return c?h:{}},b=async e=>{g(e,!0);const t=await n.resolver(a,n.context,((e,t,n,r)=>{const i={};for(const n of e){const e=Oa(t,n);e&&ka(i,n,e._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}})(e||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation));return g(e),t},w=async(e,t,i={valid:!0})=>{for(const s in e){const c=e[s];if(c){const{_f:e,...d}=c;if(e){const d=l.array.has(e.name),f=c._f&&!!(o=c._f)&&!!o.validate&&!!(ns(o.validate)&&o.validate.constructor.name===js||ba(o.validate)&&Object.values(o.validate).find((e=>e.constructor.name===js)));f&&u.validatingFields&&g([s],!0);const h=await ps(c,a,p,n.shouldUseNativeValidation&&!t,d);if(f&&u.validatingFields&&g([s]),h[e.name]&&(i.valid=!1,t))break;!t&&(Oa(h,e.name)?d?es(r.errors,h,e.name):ka(r.errors,e.name,h[e.name]):ms(r.errors,e.name))}!Ba(d)&&await w(d,t,i)}}var o;return i.valid},x=(e,t)=>!n.disabled&&(e&&t&&ka(a,e,t),!ys(L(),o)),_=(e,t,n)=>qa(e,l,{...s.mount?a:Ca(t)?o:Wa(e)?{[e]:t}:t},n,t),E=(e,t,n={})=>{const r=Oa(i,e);let o=t;if(r){const n=r._f;n&&(!n.disabled&&ka(a,e,Cs(t,n)),o=rs(n.ref)&&va(t)?"":t,bs(n.ref)?[...n.ref.options].forEach((e=>e.selected=o.includes(e.value))):n.refs?ma(n.ref)?n.refs.length>1?n.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(o)?!!o.find((t=>t===e.value)):o===e.value))):n.refs[0]&&(n.refs[0].checked=!!o):n.refs.forEach((e=>e.checked=e.value===o)):ts(n.ref)?n.ref.value="":(n.ref.value=o,n.ref.type||d.values.next({name:e,values:{...a}})))}(n.shouldDirty||n.shouldTouch)&&y(e,o,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&j(e)},S=(e,t,n)=>{for(const r in t){const o=t[r],a=`${e}.${r}`,s=Oa(i,a);(l.array.has(e)||ba(o)||s&&!s._f)&&!ga(o)?S(a,o,n):E(a,o,n)}},C=(e,t,n={})=>{const c=Oa(i,e),f=l.array.has(e),h=Ea(t);ka(a,e,h),f?(d.array.next({name:e,values:{...a}}),(u.isDirty||u.dirtyFields)&&n.shouldDirty&&d.state.next({name:e,dirtyFields:Ss(o,a),isDirty:x(e,h)})):!c||c._f||va(h)?E(e,h,n):S(e,h,n),Qa(e,l)&&d.state.next({...r}),d.values.next({name:s.mount?e:void 0,values:{...a}})},O=async e=>{s.mount=!0;const o=e.target;let v=o.name,x=!0;const _=Oa(i,v),E=e=>{x=Number.isNaN(e)||ga(e)&&isNaN(e.getTime())||ys(e,Oa(a,v,e))};if(_){let s,C;const O=o.type?Os(_._f):wa(e),P=e.type===Ta||"focusout"===e.type,L=!((S=_._f).mount&&(S.required||S.min||S.max||S.maxLength||S.minLength||S.pattern||S.validate)||n.resolver||Oa(r.errors,v)||_._f.deps)||((e,t,n,r,i)=>!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e))(P,Oa(r.touchedFields,v),r.isSubmitted,h,f),k=Qa(v,l,P);ka(a,v,O),P?(_._f.onBlur&&_._f.onBlur(e),t&&t(0)):_._f.onChange&&_._f.onChange(e);const T=y(v,O,P,!1),I=!Ba(T)||k;if(!P&&d.values.next({name:v,type:e.type,values:{...a}}),L)return u.isValid&&("onBlur"===n.mode?P&&m():m()),I&&d.state.next({name:v,...k?{}:T});if(!P&&k&&d.state.next({...r}),n.resolver){const{errors:e}=await b([v]);if(E(O),x){const t=Ls(r.errors,i,v),n=Ls(e,i,t.name||v);s=n.error,v=n.name,C=Ba(e)}}else g([v],!0),s=(await ps(_,a,p,n.shouldUseNativeValidation))[v],g([v]),E(O),x&&(s?C=!1:u.isValid&&(C=await w(i,!0)));x&&(_._f.deps&&j(_._f.deps),((e,i,o,a)=>{const s=Oa(r.errors,e),l=u.isValid&&Pa(i)&&r.isValid!==i;var f;if(n.delayError&&o?(f=()=>((e,t)=>{ka(r.errors,e,t),d.state.next({errors:r.errors})})(e,o),t=e=>{clearTimeout(c),c=setTimeout(f,e)},t(n.delayError)):(clearTimeout(c),t=null,o?ka(r.errors,e,o):ms(r.errors,e)),(o?!ys(s,o):s)||!Ba(a)||l){const t={...a,...l&&Pa(i)?{isValid:i}:{},errors:r.errors,name:e};r={...r,...t},d.state.next(t)}})(v,C,s,T))}var S},P=(e,t)=>{if(Oa(r.errors,t)&&e.focus)return e.focus(),1},j=async(e,t={})=>{let o,a;const s=Ha(e);if(n.resolver){const t=await(async e=>{const{errors:t}=await b(e);if(e)for(const n of e){const e=Oa(t,n);e?ka(r.errors,n,e):ms(r.errors,n)}else r.errors=t;return t})(Ca(e)?e:s);o=Ba(t),a=e?!s.some((e=>Oa(t,e))):o}else e?(a=(await Promise.all(s.map((async e=>{const t=Oa(i,e);return await w(t&&t._f?{[e]:t}:t)})))).every(Boolean),(a||r.isValid)&&m()):a=o=await w(i);return d.state.next({...!Wa(e)||u.isValid&&o!==r.isValid?{}:{name:e},...n.resolver||!e?{isValid:o}:{},errors:r.errors}),t.shouldFocus&&!a&&Ja(i,P,e?s:l.mount),a},L=e=>{const t={...s.mount?a:o};return Ca(e)?t:Wa(e)?Oa(t,e):e.map((e=>Oa(t,e)))},k=(e,t)=>({invalid:!!Oa((t||r).errors,e),isDirty:!!Oa((t||r).dirtyFields,e),error:Oa((t||r).errors,e),isValidating:!!Oa(r.validatingFields,e),isTouched:!!Oa((t||r).touchedFields,e)}),T=(e,t,n)=>{const o=(Oa(i,e,{_f:{}})._f||{}).ref,a=Oa(r.errors,e)||{},{ref:s,message:l,type:c,...u}=a;ka(r.errors,e,{...u,...t,ref:o}),d.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&o&&o.focus&&o.focus()},I=(e,t={})=>{for(const s of e?Ha(e):l.mount)l.mount.delete(s),l.array.delete(s),t.keepValue||(ms(i,s),ms(a,s)),!t.keepError&&ms(r.errors,s),!t.keepDirty&&ms(r.dirtyFields,s),!t.keepTouched&&ms(r.touchedFields,s),!t.keepIsValidating&&ms(r.validatingFields,s),!n.shouldUnregister&&!t.keepDefaultValue&&ms(o,s);d.values.next({values:{...a}}),d.state.next({...r,...t.keepDirty?{isDirty:x()}:{}}),!t.keepIsValid&&m()},A=({disabled:e,name:t,field:n,fields:r,value:i})=>{if(Pa(e)&&s.mount||e){const o=e?void 0:Ca(i)?Os(n?n._f:Oa(r,t)._f):i;(e||!e&&!Ca(o))&&ka(a,t,o),y(t,o,!1,!1,!0)}},M=(e,t={})=>{let r=Oa(i,e);const a=Pa(t.disabled)||Pa(n.disabled);return ka(i,e,{...r||{},_f:{...r&&r._f?r._f:{ref:{name:e}},name:e,mount:!0,...t}}),l.mount.add(e),r?A({field:r,disabled:Pa(t.disabled)?t.disabled:n.disabled,name:e,value:t.value}):v(e,!0,t.value),{...a?{disabled:t.disabled||n.disabled}:{},...n.progressive?{required:!!t.required,min:Ps(t.min),max:Ps(t.max),minLength:Ps(t.minLength),maxLength:Ps(t.maxLength),pattern:Ps(t.pattern)}:{},name:e,onChange:O,onBlur:O,ref:a=>{if(a){M(e,t),r=Oa(i,e);const n=Ca(a.value)&&a.querySelectorAll&&a.querySelectorAll("input,select,textarea")[0]||a,s=(e=>os(e)||ma(e))(n),l=r._f.refs||[];if(s?l.find((e=>e===n)):n===r._f.ref)return;ka(i,e,{_f:{...r._f,...s?{refs:[...l.filter(ws),n,...Array.isArray(Oa(o,e))?[{}]:[]],ref:{type:n.type,name:e}}:{ref:n}}}),v(e,!1,void 0,n)}else r=Oa(i,e,{}),r._f&&(r._f.mount=!1),(n.shouldUnregister||t.shouldUnregister)&&(!xa(l.array,e)||!s.action)&&l.unMount.add(e)}}},N=()=>n.shouldFocusError&&Ja(i,P,l.mount),R=(e,t)=>async o=>{let s;if(o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist()),n.disabled)return void(t&&await t({...r.errors},o));let l=Ea(a);if(d.state.next({isSubmitting:!0}),n.resolver){const{errors:e,values:t}=await b();r.errors=e,l=t}else await w(i);if(ms(r.errors,"root"),Ba(r.errors)){d.state.next({errors:{}});try{await e(l,o)}catch(e){s=e}}else t&&await t({...r.errors},o),N(),setTimeout(N);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ba(r.errors)&&!s,submitCount:r.submitCount+1,errors:r.errors}),s)throw s},F=(e,t={})=>{const c=e?Ea(e):o,f=Ea(c),h=Ba(e),p=h?o:f;if(t.keepDefaultValues||(o=c),!t.keepValues){if(t.keepDirtyValues){const e=new Set([...l.mount,...Object.keys(Ss(o,a))]);for(const t of Array.from(e))Oa(r.dirtyFields,t)?ka(p,t,Oa(a,t)):C(t,Oa(p,t))}else{if(_a&&Ca(e))for(const e of l.mount){const t=Oa(i,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(rs(e)){const t=e.closest("form");if(t){t.reset();break}}}}i={}}a=n.shouldUnregister?t.keepDefaultValues?Ea(o):{}:Ea(p),d.array.next({values:{...p}}),d.values.next({values:{...p}})}l={mount:t.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!u.isValid||!!t.keepIsValid||!!t.keepDirtyValues,s.watch=!!n.shouldUnregister,d.state.next({submitCount:t.keepSubmitCount?r.submitCount:0,isDirty:!h&&(t.keepDirty?r.isDirty:!(!t.keepDefaultValues||ys(e,o))),isSubmitted:!!t.keepIsSubmitted&&r.isSubmitted,dirtyFields:h?{}:t.keepDirtyValues?t.keepDefaultValues&&a?Ss(o,a):r.dirtyFields:t.keepDefaultValues&&e?Ss(o,e):t.keepDirty?r.dirtyFields:{},touchedFields:t.keepTouched?r.touchedFields:{},errors:t.keepErrors?r.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&r.isSubmitSuccessful,isSubmitting:!1})},D=(e,t)=>F(ns(e)?e(a):e,t);return{control:{register:M,unregister:I,getFieldState:k,handleSubmit:R,setError:T,_executeSchema:b,_getWatch:_,_getDirty:x,_updateValid:m,_removeUnmounted:()=>{for(const e of l.unMount){const t=Oa(i,e);t&&(t._f.refs?t._f.refs.every((e=>!ws(e))):!ws(t._f.ref))&&I(e)}l.unMount=new Set},_updateFieldArray:(e,t=[],l,c,f=!0,h=!0)=>{if(c&&l&&!n.disabled){if(s.action=!0,h&&Array.isArray(Oa(i,e))){const t=l(Oa(i,e),c.argA,c.argB);f&&ka(i,e,t)}if(h&&Array.isArray(Oa(r.errors,e))){const t=l(Oa(r.errors,e),c.argA,c.argB);f&&ka(r.errors,e,t),((e,t)=>{!Sa(Oa(e,t)).length&&ms(e,t)})(r.errors,e)}if(u.touchedFields&&h&&Array.isArray(Oa(r.touchedFields,e))){const t=l(Oa(r.touchedFields,e),c.argA,c.argB);f&&ka(r.touchedFields,e,t)}u.dirtyFields&&(r.dirtyFields=Ss(o,a)),d.state.next({name:e,isDirty:x(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ka(a,e,t)},_updateDisabledField:A,_getFieldArray:e=>Sa(Oa(s.mount?a:o,e,n.shouldUnregister?Oa(o,e,[]):[])),_reset:F,_resetDefaultValues:()=>ns(n.defaultValues)&&n.defaultValues().then((e=>{D(e,n.resetOptions),d.state.next({isLoading:!1})})),_updateFormState:e=>{r={...r,...e}},_disableForm:e=>{Pa(e)&&(d.state.next({disabled:e}),Ja(i,((t,n)=>{const r=Oa(i,n);r&&(t.disabled=r._f.disabled||e,Array.isArray(r._f.refs)&&r._f.refs.forEach((t=>{t.disabled=r._f.disabled||e})))}),0,!1))},_subjects:d,_proxyFormState:u,_setErrors:e=>{r.errors=e,d.state.next({errors:r.errors,isValid:!1})},get _fields(){return i},get _formValues(){return a},get _state(){return s},set _state(e){s=e},get _defaultValues(){return o},get _names(){return l},set _names(e){l=e},get _formState(){return r},set _formState(e){r=e},get _options(){return n},set _options(e){n={...n,...e}}},trigger:j,register:M,handleSubmit:R,watch:(e,t)=>ns(e)?d.values.subscribe({next:n=>e(_(void 0,t),n)}):_(e,t,!0),setValue:C,getValues:L,reset:D,resetField:(e,t={})=>{Oa(i,e)&&(Ca(t.defaultValue)?C(e,Ea(Oa(o,e))):(C(e,t.defaultValue),ka(o,e,Ea(t.defaultValue))),t.keepTouched||ms(r.touchedFields,e),t.keepDirty||(ms(r.dirtyFields,e),r.isDirty=t.defaultValue?x(e,Ea(Oa(o,e))):x()),t.keepError||(ms(r.errors,e),u.isValid&&m()),d.state.next({...r}))},clearErrors:e=>{e&&Ha(e).forEach((e=>ms(r.errors,e))),d.state.next({errors:e?r.errors:{}})},unregister:I,setError:T,setFocus:(e,t={})=>{const n=Oa(i,e),r=n&&n._f;if(r){const e=r.refs?r.refs[0]:r.ref;e.focus&&(e.focus(),t.shouldSelect&&ns(e.select)&&e.select())}},getFieldState:k}}function Is(e={}){const t=Pe.useRef(void 0),n=Pe.useRef(void 0),[r,i]=Pe.useState({isDirty:!1,isValidating:!1,isLoading:ns(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:ns(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...Ts(e),formState:r});const o=t.current.control;return o._options=e,Ga({subject:o._subjects.state,next:e=>{za(e,o._proxyFormState,o._updateFormState,!0)&&i({...o._formState})}}),Pe.useEffect((()=>o._disableForm(e.disabled)),[o,e.disabled]),Pe.useEffect((()=>{if(o._proxyFormState.isDirty){const e=o._getDirty();e!==r.isDirty&&o._subjects.state.next({isDirty:e})}}),[o,r.isDirty]),Pe.useEffect((()=>{e.values&&!ys(e.values,n.current)?(o._reset(e.values,o._options.resetOptions),n.current=e.values,i((e=>({...e})))):o._resetDefaultValues()}),[e.values,o]),Pe.useEffect((()=>{e.errors&&o._setErrors(e.errors)}),[e.errors,o]),Pe.useEffect((()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()})),Pe.useEffect((()=>{e.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})}),[e.shouldUnregister,o]),t.current.formState=Va(r,o),t.current}function As(e){return As="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},As(e)}function Ms(){Ms=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),s=new k(r||[]);return i(a,"_invoke",{value:O(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",h="suspendedYield",p="executing",m="completed",g={};function v(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(T([])));_&&_!==n&&r.call(_,a)&&(w=_);var E=b.prototype=v.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,o,a,s){var l=d(e[i],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==As(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function O(t,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=P(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=d(t,n,r);if("normal"===c.type){if(i=r.done?m:h,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=m,r.method="throw",r.arg=c.arg)}}}function P(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(As(t)+" is not iterable")}return y.prototype=b,i(E,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},S(C.prototype),c(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new C(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(E),c(E,l,"Generator"),c(E,a,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;L(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function Ns(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function Rs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Fs(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fs(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Ds=function(e){var t,n=e.categories||[],r=(e.categories||[]).map((function(e){return e.label||e.name})),i=(e.patternCategories||[]).map((function(e){return e.label||e.name})),o=Rs((0,Pe.useState)(e.copyPatternId||0),1)[0],a=Rs((0,Pe.useState)(e.syncedDefaultStatus||"synced"),1)[0],c=Rs((0,Pe.useState)(e.syncedDisabled||!1),1)[0],d=Rs((0,Pe.useState)(!1),2),f=d[0],h=d[1],p=Rs((0,Pe.useState)(e.isEditMode||!1),2),m=p[0],g=(p[1],Is({defaultValues:{patternId:e.patternId||0,patternNonce:e.patternNonce||"",patternTitle:e.patternTitle||"",patternCategories:i||[],patternSyncStatus:e.patternSyncStatus||a,patternCopyId:o}})),v=g.control,y=(g.getValues,g.handleSubmit),b=(g.reset,g.setError),w=(g.trigger,g.setValue,Ya({control:v}),Ua({control:v})),x=w.errors,_=(w.isDirty,w.dirtyFields,function(){var t,r=(t=Ms().mark((function t(r){var i,o,a,s,l;return Ms().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h(!0),i=r.patternCategories.map((function(e){return{name:e,id:(t=e,r=n.find((function(e){return(e.label||e.name).toLowerCase()===t.toLowerCase()})),r?r.id:0)};var t,r})),o=m?"/dlxplugins/pattern-wrangler/v1/patterns/update/":"/dlxplugins/pattern-wrangler/v1/patterns/create/",t.next=5,u()({path:o,method:"POST",data:{patternId:r.patternId,patternNonce:r.patternNonce,nonce:dlxEnhancedPatternsView.createNonce,patternTitle:r.patternTitle,patternCategories:i,patternSyncStatus:r.patternSyncStatus,patternCopyId:r.patternCopyId}});case 5:null!=(a=t.sent)&&a.error?b("patternTitle",{message:a.error}):(s=a.patternId,m?e.onEdit(a):(l=encodeURIComponent(window.location.href),window.location.href="".concat(dlxEnhancedPatternsView.getSiteBaseUrl,"post.php?post=").concat(s,"&action=edit&redirect_to=").concat(l))),h(!1);case 8:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(e){Ns(o,r,i,a,s,"next",e)}function s(e){Ns(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(_x){return r.apply(this,arguments)}}());return Le().createElement(Le().Fragment,null,Le().createElement(l.Modal,{title:e.title||(0,s.__)("Add Pattern","pattern-wrangler"),onRequestClose:e.onRequestClose,focusOnMount:"firstContentElement"},Le().createElement("div",{className:"dlx-pw-modal-content"},Le().createElement("form",{onSubmit:y(_)},Le().createElement("div",{className:"dlx-pw-modal-admin-row"},Le().createElement(Xa,{control:v,name:"patternTitle",rules:{required:(0,s.__)("Pattern title is required.","pattern-wrangler")},render:function(e){var t=e.field;return Le().createElement(l.TextControl,{label:(0,s.__)("Pattern Title","pattern-wrangler"),help:(0,s.__)("Enter the title of the pattern.","pattern-wrangler"),value:t.value,onChange:function(e){return t.onChange(e)},disabled:f})}})),Le().createElement("div",{className:"dlx-pw-modal-admin-row"},Le().createElement(Xa,{control:v,name:"patternCategories[]",render:function(e){var t=e.field;return Le().createElement(Le().Fragment,null,Le().createElement(l.FormTokenField,{label:(0,s.__)("Categories","pattern-wrangler"),help:(0,s.__)("Enter the categories of the pattern.","pattern-wrangler"),value:t.value,onChange:function(e){t.onChange(e)},tokenizeOnSpace:!1,allowMultiple:!0,placeholder:(0,s.__)("Add a category","pattern-wrangler"),suggestions:r,disabled:f,__experimentalShowHowTo:!1}),Le().createElement("p",{className:"description"},(0,s.__)("Separate with commas or press the Enter key.","pattern-wrangler")))}})),Le().createElement("div",{className:"dlx-pw-modal-admin-row"},Le().createElement(Xa,{control:v,name:"patternSyncStatus",render:function(e){var t=e.field;return Le().createElement(Le().Fragment,null,Le().createElement(l.__experimentalToggleGroupControl,{label:(0,s.__)("Sync Status","pattern-wrangler"),isAdaptiveWidth:!0,value:t.value,onChange:function(e){t.onChange(e)},disabled:f||c},Le().createElement(l.__experimentalToggleGroupControlOption,{value:"synced",label:(0,s.__)("Synced","pattern-wrangler"),showTooltip:!0,"aria-label":(0,s.__)("Synced","pattern-wrangler"),disabled:c}),Le().createElement(l.__experimentalToggleGroupControlOption,{value:"unsynced",label:(0,s.__)("Unsynced","pattern-wrangler"),showTooltip:!0,"aria-label":(0,s.__)("Unsynced","pattern-wrangler"),disabled:c})))}})),Le().createElement("div",{className:"dlx-pw-modal-admin-row dlx-pw-modal-admin-row-buttons"},Le().createElement(l.Button,{variant:"primary",type:"submit",disabled:f},(t=(0,s.__)("Add Pattern","pattern-wrangler"),m&&(t=(0,s.__)("Save Pattern","pattern-wrangler")),f&&(t=(0,s.__)("Saving Pattern","pattern-wrangler")),t)),Le().createElement(l.Button,{variant:"secondary",onClick:e.onRequestClose,disabled:f},(0,s.__)("Cancel","pattern-wrangler"))),(null==x?void 0:x.patternTitle)&&Le().createElement(ua,{className:"dlx-pw-admin-notice",status:"error",inline:!0,icon:function(){return Le().createElement(pa,null)}},x.patternTitle.message)))))};function Vs(e){return Vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vs(e)}function Bs(){Bs=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),s=new k(r||[]);return i(a,"_invoke",{value:O(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",h="suspendedYield",p="executing",m="completed",g={};function v(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(T([])));_&&_!==n&&r.call(_,a)&&(w=_);var E=b.prototype=v.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,o,a,s){var l=d(e[i],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==Vs(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function O(t,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=P(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=d(t,n,r);if("normal"===c.type){if(i=r.done?m:h,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=m,r.method="throw",r.arg=c.arg)}}}function P(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Vs(t)+" is not iterable")}return y.prototype=b,i(E,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},S(C.prototype),c(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new C(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(E),c(E,l,"Generator"),c(E,a,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;L(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function zs(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function Hs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const $s=function(e){var t,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Hs(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hs(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Pe.useState)(!1),2),r=n[0],i=n[1],o=Is({defaultValues:{items:e.items||[],patternNonce:e.patternNonce||"",forceDelete:!1}}),a=o.control,c=(o.getValues,o.handleSubmit),d=(o.reset,o.setError,o.trigger,o.setValue,Ya({control:a}),Ua({control:a})),f=d.errors,h=(d.isDirty,d.dirtyFields,function(){var t,n=(t=Bs().mark((function t(n){var r,o;return Bs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(!0),r=n.items.map((function(e){return{id:e.id,nonce:e.editNonce}})),t.next=5,u()({path:"/dlxplugins/pattern-wrangler/v1/patterns/pause/",method:"POST",data:{items:r}});case 5:o=t.sent,e.onPause(o,r),i(!1);case 8:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(e){zs(o,r,i,a,s,"next",e)}function s(e){zs(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(_x){return n.apply(this,arguments)}}());return Le().createElement(Le().Fragment,null,Le().createElement(l.Modal,{title:1===e.items.length?(0,s.__)("Disable Pattern","pattern-wrangler"):(0,s._n)("Disable Pattern","Disable Patterns",e.items.length,"pattern-wrangler"),onRequestClose:e.onRequestClose,focusOnMount:"firstContentElement"},Le().createElement("div",{className:"dlx-pw-modal-content"},Le().createElement("form",{onSubmit:c(h)},Le().createElement("div",{className:"dlx-pw-modal-admin-row dlx-pw-modal-admin-row-buttons"},Le().createElement(l.Button,{variant:"primary",type:"submit",disabled:r},(t=(0,s._n)("Disable Pattern","Disable Patterns",e.items.length,"pattern-wrangler"),r&&(t=(0,s._n)("Disabling Pattern","Disabling Patterns",e.items.length,"pattern-wrangler")),t)),Le().createElement(l.Button,{variant:"secondary",onClick:e.onRequestClose,disabled:r},(0,s.__)("Cancel","pattern-wrangler"))),(null==f?void 0:f.patternTitle)&&Le().createElement(ua,{className:"dlx-pw-admin-notice",status:"error",inline:!0,icon:function(){return Le().createElement(pa,null)}},f.patternTitle.message)))))};function Gs(e){return Gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gs(e)}function Us(){Us=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),s=new k(r||[]);return i(a,"_invoke",{value:O(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",h="suspendedYield",p="executing",m="completed",g={};function v(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(T([])));_&&_!==n&&r.call(_,a)&&(w=_);var E=b.prototype=v.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,o,a,s){var l=d(e[i],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==Gs(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function O(t,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=P(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=d(t,n,r);if("normal"===c.type){if(i=r.done?m:h,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=m,r.method="throw",r.arg=c.arg)}}}function P(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Gs(t)+" is not iterable")}return y.prototype=b,i(E,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},S(C.prototype),c(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new C(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(E),c(E,l,"Generator"),c(E,a,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;L(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function Ws(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function qs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Ys=function(e){var t,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qs(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qs(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Pe.useState)(!1),2),r=n[0],i=n[1],o=Is({defaultValues:{items:e.items||[],patternNonce:e.patternNonce||"",forceDelete:!1}}),a=o.control,c=(o.getValues,o.handleSubmit),d=(o.reset,o.setError,o.trigger,o.setValue,Ya({control:a}),Ua({control:a})),f=d.errors,h=(d.isDirty,d.dirtyFields,function(){var t,n=(t=Us().mark((function t(n){var r,o;return Us().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(!0),r=n.items.map((function(e){return{id:e.id,nonce:e.editNonce}})),t.next=5,u()({path:"/dlxplugins/pattern-wrangler/v1/patterns/publish/",method:"POST",data:{items:r}});case 5:o=t.sent,e.onPublish(o,r),i(!1);case 8:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(e){Ws(o,r,i,a,s,"next",e)}function s(e){Ws(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(_x){return n.apply(this,arguments)}}());return Le().createElement(Le().Fragment,null,Le().createElement(l.Modal,{title:1===e.items.length?(0,s.__)("Publish Pattern","pattern-wrangler"):(0,s._n)("Publish Pattern","Publish Patterns",e.items.length,"pattern-wrangler"),onRequestClose:e.onRequestClose,focusOnMount:"firstContentElement"},Le().createElement("div",{className:"dlx-pw-modal-content"},Le().createElement("form",{onSubmit:c(h)},Le().createElement("div",{className:"dlx-pw-modal-admin-row dlx-pw-modal-admin-row-buttons"},Le().createElement(l.Button,{variant:"primary",type:"submit",disabled:r},(t=(0,s._n)("Publish Pattern","Publish Patterns",e.items.length,"pattern-wrangler"),r&&(t=(0,s._n)("Publishing Pattern","Publishing Patterns",e.items.length,"pattern-wrangler")),t)),Le().createElement(l.Button,{variant:"secondary",onClick:e.onRequestClose,disabled:r},(0,s.__)("Cancel","pattern-wrangler"))),(null==f?void 0:f.patternTitle)&&Le().createElement(ua,{className:"dlx-pw-admin-notice",status:"error",inline:!0,icon:function(){return Le().createElement(pa,null)}},f.patternTitle.message)))))};function Xs(e){return Xs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xs(e)}function Ks(){Ks=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),s=new k(r||[]);return i(a,"_invoke",{value:O(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",h="suspendedYield",p="executing",m="completed",g={};function v(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(T([])));_&&_!==n&&r.call(_,a)&&(w=_);var E=b.prototype=v.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,o,a,s){var l=d(e[i],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==Xs(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function O(t,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=P(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=d(t,n,r);if("normal"===c.type){if(i=r.done?m:h,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=m,r.method="throw",r.arg=c.arg)}}}function P(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Xs(t)+" is not iterable")}return y.prototype=b,i(E,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},S(C.prototype),c(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new C(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(E),c(E,l,"Generator"),c(E,a,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;L(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function Zs(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function Qs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Js=function(e){var t,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Qs(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qs(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Pe.useState)(!1),2),r=n[0],i=n[1],o=Is({defaultValues:{items:e.items||[],patternNonce:e.patternNonce||"",forceDelete:!1}}),a=o.control,c=(o.getValues,o.handleSubmit),d=(o.reset,o.setError,o.trigger,o.setValue,Ya({control:a}),Ua({control:a})),f=d.errors,h=(d.isDirty,d.dirtyFields,function(){var t,n=(t=Ks().mark((function t(n){var r,o;return Ks().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(!0),r=n.items.map((function(e){return{id:e.id,nonce:e.editNonce}})),t.next=5,u()({path:"/dlxplugins/pattern-wrangler/v1/patterns/publish/",method:"POST",data:{items:r}});case 5:o=t.sent,e.onReenable(o,r),i(!1);case 8:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(e){Zs(o,r,i,a,s,"next",e)}function s(e){Zs(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(_x){return n.apply(this,arguments)}}());return Le().createElement(Le().Fragment,null,Le().createElement(l.Modal,{title:1===e.items.length?(0,s.__)("Re-enable Pattern","pattern-wrangler"):(0,s._n)("Re-enable Pattern","Re-enable Patterns",e.items.length,"pattern-wrangler"),onRequestClose:e.onRequestClose,focusOnMount:"firstContentElement"},Le().createElement("div",{className:"dlx-pw-modal-content"},Le().createElement("form",{onSubmit:c(h)},Le().createElement("div",{className:"dlx-pw-modal-admin-row dlx-pw-modal-admin-row-buttons"},Le().createElement(l.Button,{variant:"primary",type:"submit",disabled:r},(t=(0,s._n)("Re-enable Pattern","Re-enable Patterns",e.items.length,"pattern-wrangler"),r&&(t=(0,s._n)("Re-enabling Pattern","Re-enabling Patterns",e.items.length,"pattern-wrangler")),t)),Le().createElement(l.Button,{variant:"secondary",onClick:e.onRequestClose,disabled:r},(0,s.__)("Cancel","pattern-wrangler"))),(null==f?void 0:f.patternTitle)&&Le().createElement(ua,{className:"dlx-pw-admin-notice",status:"error",inline:!0,icon:function(){return Le().createElement(pa,null)}},f.patternTitle.message)))))};function el(e){return el="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(e)}function tl(){tl=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),s=new k(r||[]);return i(a,"_invoke",{value:O(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",h="suspendedYield",p="executing",m="completed",g={};function v(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(T([])));_&&_!==n&&r.call(_,a)&&(w=_);var E=b.prototype=v.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,o,a,s){var l=d(e[i],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==el(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function O(t,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=P(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=d(t,n,r);if("normal"===c.type){if(i=r.done?m:h,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=m,r.method="throw",r.arg=c.arg)}}}function P(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(el(t)+" is not iterable")}return y.prototype=b,i(E,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},S(C.prototype),c(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new C(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(E),c(E,l,"Generator"),c(E,a,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;L(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function nl(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function rl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const il=function(e){var t,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Pe.useState)(!1),2),r=n[0],i=n[1],o=Is({defaultValues:{items:e.items||[],patternNonce:e.patternNonce||"",forceDelete:!1}}),a=o.control,c=(o.getValues,o.handleSubmit),d=(o.reset,o.setError,o.trigger,o.setValue,Ya({control:a}),Ua({control:a})),f=d.errors,h=(d.isDirty,d.dirtyFields,function(){var t,n=(t=tl().mark((function t(n){var r,o;return tl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(!0),r=n.items.map((function(e){return{id:e.id,nonce:e.editNonce}})),t.next=5,u()({path:"/dlxplugins/pattern-wrangler/v1/patterns/delete/",method:"POST",data:{items:r}});case 5:o=t.sent,e.onDelete(o,r),i(!1);case 8:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(e){nl(o,r,i,a,s,"next",e)}function s(e){nl(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(_x){return n.apply(this,arguments)}}());return Le().createElement(Le().Fragment,null,Le().createElement(l.Modal,{title:1===e.items.length?(0,s.__)("Delete Pattern","pattern-wrangler"):(0,s._n)("Delete Pattern","Delete Patterns",e.items.length,"pattern-wrangler"),onRequestClose:e.onRequestClose,focusOnMount:"firstContentElement"},Le().createElement("div",{className:"dlx-pw-modal-content"},Le().createElement("form",{onSubmit:c(h)},Le().createElement("div",{className:"dlx-pw-modal-admin-row dlx-pw-modal-admin-row-buttons"},Le().createElement(l.Button,{variant:"primary",type:"submit",isDestructive:!0,disabled:r},(t=(0,s._n)("Delete Pattern","Delete Patterns",e.items.length,"pattern-wrangler"),r&&(t=(0,s._n)("Deleting Pattern","Deleting Patterns",e.items.length,"pattern-wrangler")),t)),Le().createElement(l.Button,{variant:"secondary",onClick:e.onRequestClose,disabled:r},(0,s.__)("Cancel","pattern-wrangler"))),(null==f?void 0:f.patternTitle)&&Le().createElement(ua,{className:"dlx-pw-admin-notice",status:"error",inline:!0,icon:function(){return Le().createElement(pa,null)}},f.patternTitle.message)))))};function ol(e){return ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ol(e)}function al(){al=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),s=new k(r||[]);return i(a,"_invoke",{value:O(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",h="suspendedYield",p="executing",m="completed",g={};function v(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(T([])));_&&_!==n&&r.call(_,a)&&(w=_);var E=b.prototype=v.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,o,a,s){var l=d(e[i],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==ol(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function O(t,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=P(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=d(t,n,r);if("normal"===c.type){if(i=r.done?m:h,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=m,r.method="throw",r.arg=c.arg)}}}function P(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(ol(t)+" is not iterable")}return y.prototype=b,i(E,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},S(C.prototype),c(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new C(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(E),c(E,l,"Generator"),c(E,a,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;L(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function sl(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function ll(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){sl(o,r,i,a,s,"next",e)}function s(e){sl(o,r,i,a,s,"throw",e)}a(void 0)}))}}function cl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ul(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ul(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ul(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const dl=function(e){var t=cl((0,Pe.useState)(dlxEnhancedPatternsView.isMultisite),1)[0],n=cl((0,Pe.useState)(null),2),r=n[0],i=n[1],o=cl((0,Pe.useState)(null),2),a=o[0],c=o[1],u=function(){var e=ll(al().mark((function e(t,n){var r,i;return al().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=document.createElement("button")).classList.add("dlx-pw-copy-shortcode"),r.innerHTML='<span class="dashicons dashicons-clipboard"></span>',i=function(){var e=ll(al().mark((function e(){var t,i,o;return al().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=!1,null===(t=navigator.clipboard)||void 0===t||!t.writeText){e.next=10;break}return e.prev=2,e.next=5,navigator.clipboard.writeText(n);case 5:i=!0,e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:if(!i){(o=document.createElement("textarea")).value=n,o.style.position="fixed",o.style.opacity="0",o.style.pointerEvents="none",document.body.appendChild(o),o.select();try{document.execCommand("copy"),i=!0}catch(e){}document.body.removeChild(o)}i&&(r.innerHTML='<span class="dashicons dashicons-yes"></span>',setTimeout((function(){r.innerHTML='<span class="dashicons dashicons-clipboard"></span>'}),1500));case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),r.addEventListener("click",i),t.parentElement.appendChild(r),e.abrupt("return",(function(){r.removeEventListener("click",i),r.remove()}));case 7:case"end":return e.stop()}}),e)})));return function(_x,t){return e.apply(this,arguments)}}();(0,Pe.useEffect)((function(){r&&u(r,d())}),[r]),(0,Pe.useEffect)((function(){a&&u(a,f())}),[a]);var d=function(){return t&&e.item.siteId?'[wp_block slug="'.concat(e.item.slug,'" site_id="').concat(e.item.siteId,'"]'):'[wp_block slug="'.concat(e.item.slug,'"]')},f=function(){return t&&e.item.siteId?"<?php function_exists( 'pw_wp_block' ) ? pw_wp_block( '".concat(e.item.slug,"', ").concat(e.item.siteId,", $echo = true ) : ''; ?>"):"<?php function_exists( 'pw_wp_block' ) ? pw_wp_block( '".concat(e.item.slug,"', null, $echo = true ) : ''; ?>")};return Le().createElement(Le().Fragment,null,Le().createElement(l.Modal,{title:(0,s.__)("Get Code","pattern-wrangler"),onRequestClose:e.onRequestClose,focusOnMount:"firstContentElement"},Le().createElement("div",{className:"dlx-pw-modal-content"},Le().createElement("p",{className:"description"},(0,s.__)("Use the fields below to get a shortcode or PHP function to output the pattern on your site.","pattern-wrangler")),Le().createElement("div",{className:"dlx-pw-modal-admin-row"},Le().createElement(l.TextControl,{label:(0,s.__)("Pattern Shortcode","pattern-wrangler"),value:d(),disabled:!0,ref:i,className:"dlx-pw-modal-admin-row-input"})),Le().createElement("div",{className:"dlx-pw-modal-admin-row"},Le().createElement(l.TextControl,{label:(0,s.__)("Pattern PHP Function","pattern-wrangler"),value:f(),disabled:!0,ref:c,className:"dlx-pw-modal-admin-row-input"})),Le().createElement("div",{className:"dlx-pw-modal-admin-row dlx-pw-modal-admin-row-buttons"},Le().createElement(l.Button,{variant:"secondary",onClick:e.onRequestClose},(0,s.__)("Cancel","pattern-wrangler"))))))};function fl(e){return fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(e)}function hl(e){return function(e){if(Array.isArray(e))return pl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return pl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pl(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ml(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ml(Object(n),!0).forEach((function(t){vl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ml(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vl(e,t,n){return(t=function(e){var t=function(e){if("object"!=fl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=fl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==fl(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yl(){yl=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),s=new k(r||[]);return i(a,"_invoke",{value:O(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",h="suspendedYield",p="executing",m="completed",g={};function v(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(T([])));_&&_!==n&&r.call(_,a)&&(w=_);var E=b.prototype=v.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,o,a,s){var l=d(e[i],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==fl(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function O(t,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=P(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=d(t,n,r);if("normal"===c.type){if(i=r.done?m:h,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=m,r.method="throw",r.arg=c.arg)}}}function P(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(fl(t)+" is not iterable")}return y.prototype=b,i(E,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},S(C.prototype),c(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new C(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(E),c(E,l,"Generator"),c(E,a,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;L(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function bl(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}var wl={patterns:[],categories:[],assets:[],data:{patterns:[],categories:[],assets:[]},loading:!1,error:null},xl={setPatterns:function(e){return{type:"SET_PATTERNS",patterns:e}},setPattern:function(e,t,n,r){return{type:"SET_PATTERN",patternId:e,patternTitle:t,patternCategories:n,patternCategorySlugs:r}},addPattern:function(e){return{type:"ADD_PATTERN",pattern:e}},disablePatterns:function(e){return{type:"DISABLE_PATTERNS",patternIdsAndNonces:e}},enablePatterns:function(e){return{type:"ENABLE_PATTERNS",patternIdsAndNonces:e}},setCategory:function(e,t){return{type:"SET_CATEGORY",categoryId:e,categoryTermData:t}},upsertCategory:function(e){return{type:"UPSERT_CATEGORY",categoryData:e}},setCategories:function(e){return{type:"SET_CATEGORIES",categories:e}},setAssets:function(e){return{type:"SET_ASSETS",assets:e}},setData:function(e){return{type:"SET_DATA",data:e}},setAllData:function(e,t,n,r){return{type:"SET_ALL_DATA",patterns:e,categories:t,assets:n,data:r}},setLoading:function(e){return{type:"SET_LOADING",loading:e}},setError:function(e){return{type:"SET_ERROR",error:e}},fetchData:function(){return function(){var e,t=(e=yl().mark((function e(t){var n,r;return yl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,e.prev=1,n(xl.setLoading(!0)),n(xl.setError(null)),e.next=6,u()({path:(0,So.addQueryArgs)("/dlxplugins/pattern-wrangler/v1/patterns/all/",{nonce:dlxEnhancedPatternsView.getNonce}),method:"GET"});case 6:r=e.sent,n(r?xl.setAllData(r.patterns,r.categories,r.assets,r):xl.setError("Failed to fetch data")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n(xl.setError(e.t0.message||"Network error occurred"));case 13:return e.prev=13,n(xl.setLoading(!1)),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){bl(o,r,i,a,s,"next",e)}function s(e){bl(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(_x){return t.apply(this,arguments)}}()},deletePatterns:function(e){return{type:"DELETE_PATTERNS",patternIdsAndNonces:e}}},_l=(0,ai.createReduxStore)("dlxplugins/pattern-wrangler/patterns",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ALL_DATA":return gl(gl({},e),{},{patterns:t.patterns,categories:t.categories,assets:t.assets,data:t.data,loading:!1,error:null});case"SET_PATTERNS":return gl(gl({},e),{},{patterns:t.patterns});case"SET_CATEGORIES":return gl(gl({},e),{},{categories:t.categories});case"UPSERT_CATEGORY":var n=gl(gl({},t.categoryData),e.categories);return gl(gl({},e),{},{categories:n,data:gl(gl({},e.data),{},{categories:n})});case"SET_PATTERN":var r=t.patternCategories,i=t.patternCategorySlugs,o=e.patterns.map((function(e){return e.id===t.patternId?gl(gl({},e),{title:t.patternTitle,categories:r,categorySlugs:i}):e}));return gl(gl({},e),{},{patterns:o,data:gl(gl({},e.data),{},{patterns:o})});case"ADD_PATTERN":return gl(gl({},e),{},{patterns:[].concat(hl(e.patterns),[t.pattern]),data:gl(gl({},e.data),{},{patterns:[].concat(hl(e.patterns),[t.pattern])})});case"SET_CATEGORY":var a=e.categories.map((function(e){return e.id===t.categoryId?gl(gl({},e),t.categoryTermData):e}));return gl(gl({},e),{},{categories:a,data:gl(gl({},e.data),{},{categories:a})});case"SET_DATA":return gl(gl({},e),{},{data:t.data});case"SET_ASSETS":return gl(gl({},e),{},{assets:t.assets});case"SET_LOADING":return gl(gl({},e),{},{loading:t.loading});case"SET_ERROR":return gl(gl({},e),{},{error:t.error});case"DISABLE_PATTERNS":var s=t.patternIdsAndNonces,l=[];return e.patterns.forEach((function(e){s.some((function(t){return t.id===e.id}))&&(e.isDisabled=!0),l.push(e)})),gl(gl({},e),{},{patterns:[].concat(l),data:gl(gl({},e.data),{},{patterns:[].concat(l)})});case"ENABLE_PATTERNS":var c=t.patternIdsAndNonces,u=[];return e.patterns.forEach((function(e){c.some((function(t){return t.id===e.id}))&&(e.isDisabled=!1),u.push(e)})),gl(gl({},e),{},{patterns:[].concat(u),data:gl(gl({},e.data),{},{patterns:[].concat(u)})});case"DELETE_PATTERNS":var d=t.patternIdsAndNonces,f=hl(e.patterns).filter((function(e){return!d.some((function(t){return t.id===e.id}))}));return gl(gl({},e),{},{patterns:f,data:gl(gl({},e.data),{},{patterns:f})});default:return e}},actions:xl,selectors:{getPatterns:function(e){return e.patterns},getCategories:function(e){return e.categories},getAssets:function(e){return e.assets},getData:function(e){return e.data},getLoading:function(e){return e.loading},getError:function(e){return e.error}}});(0,ai.register)(_l);const El=_l,Sl=window.wp.blocks;function Cl(e){return Cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(e)}function Ol(){Ol=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),s=new k(r||[]);return i(a,"_invoke",{value:O(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",h="suspendedYield",p="executing",m="completed",g={};function v(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(T([])));_&&_!==n&&r.call(_,a)&&(w=_);var E=b.prototype=v.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,o,a,s){var l=d(e[i],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==Cl(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function O(t,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=P(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=d(t,n,r);if("normal"===c.type){if(i=r.done?m:h,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=m,r.method="throw",r.arg=c.arg)}}}function P(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Cl(t)+" is not iterable")}return y.prototype=b,i(E,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},S(C.prototype),c(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new C(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(E),c(E,l,"Generator"),c(E,a,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;L(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function Pl(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function jl(){var e;return e=Ol().mark((function e(t){var n,r,i,o;return Ol().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:n=e.sent,e.prev=3,r=JSON.parse(n),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(3),new Error("Invalid JSON file (cannot parse)");case 10:if(r.title){e.next=12;break}throw new Error("Pattern JSON missing a title");case 12:if(i="","string"!=typeof r.content){e.next=17;break}i=r.content,e.next=22;break;case 17:if(!Array.isArray(r.blocks)){e.next=21;break}i=(0,Sl.serialize)(r.blocks),e.next=22;break;case 21:throw new Error("Pattern JSON missing content or blocks array");case 22:return o="string"==typeof r.syncStatus?r.syncStatus:"unsynced",e.abrupt("return",{title:r.title,content:i,syncStatus:o});case 24:case"end":return e.stop()}}),e,null,[[3,7]])})),jl=function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Pl(o,r,i,a,s,"next",e)}function s(e){Pl(o,r,i,a,s,"throw",e)}a(void 0)}))},jl.apply(this,arguments)}const Ll=function(_x){return jl.apply(this,arguments)};function kl(e){return kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(e)}function Tl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Il(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tl(Object(n),!0).forEach((function(t){Al(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Al(e,t,n){return(t=function(e){var t=function(e){if("object"!=kl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=kl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==kl(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ml(e){return function(e){if(Array.isArray(e))return zl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Bl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nl(){Nl=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),s=new k(r||[]);return i(a,"_invoke",{value:O(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",h="suspendedYield",p="executing",m="completed",g={};function v(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(T([])));_&&_!==n&&r.call(_,a)&&(w=_);var E=b.prototype=v.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,o,a,s){var l=d(e[i],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==kl(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function O(t,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=P(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=d(t,n,r);if("normal"===c.type){if(i=r.done?m:h,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=m,r.method="throw",r.arg=c.arg)}}}function P(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(kl(t)+" is not iterable")}return y.prototype=b,i(E,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},S(C.prototype),c(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new C(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(E),c(E,l,"Generator"),c(E,a,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;L(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function Rl(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function Fl(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Rl(o,r,i,a,s,"next",e)}function s(e){Rl(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Dl(){return Dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dl.apply(null,arguments)}function Vl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||Bl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bl(e,t){if(e){if("string"==typeof e)return zl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zl(e,t):void 0}}function zl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Hl=function(e){var r=e.src,i=e.title,o=e.item,a=(0,t.useRef)(null),s=(0,t.useRef)(null),l=Vl((0,t.useState)(!1),2),c=l[0],u=l[1],d=Vl((0,t.useState)(1),2),f=d[0],h=d[1],p=Vl((0,t.useState)(0),2),m=p[0],g=p[1],v=Vl((0,t.useState)(0),2),y=v[0],b=v[1],w=Vl((0,t.useState)(1),2),x=w[0],_=w[1];(0,t.useEffect)((function(){var e=a.current;if(e){var t=function(){u(!0),g(o.viewportWidth||e.offsetWidth)};return e.addEventListener("load",t),function(){e.removeEventListener("load",t)}}}),[r]);var E=Vl((0,n.useResizeObserver)(),2),S=E[0],C=E[1],O=C.width,P=C.height;return(0,t.useEffect)((function(){if(void 0!==O&&c&&0!==m){var e=O/(m||800),t=O/P,n=Math.max(m*t,100);b(n),h(e),_(t);var r=new CustomEvent("dlxPatternPreviewResize",{detail:{width:O}});window.dispatchEvent(r);try{window.parent.dispatchEvent(r)}catch(e){}}}),[O,c]),(0,t.useEffect)((function(){a.current&&g(a.current.offsetWidth)}),[a,y]),React.createElement("a",{href:r,className:"pattern-preview-iframe-link",target:"_blank",rel:"noopener noreferrer",onClick:function(e){e.preventDefault(),$l(o)},"aria-hidden":"true"},React.createElement("div",{className:"pattern-preview-iframe-scale-container-wrapper",ref:s,style:{transform:"scale(".concat(f,")")}},React.createElement("div",{className:"pattern-preview-iframe-scale-wrapper"},React.createElement("div",{className:"pattern-preview-iframe-scale-container"},S,React.createElement("div",{className:"pattern-preview-iframe-wrapper"},React.createElement("iframe",{ref:a,key:"preview-".concat(o.id),src:r,title:i,sandbox:"allow-same-origin allow-scripts allow-popups allow-forms",loading:"lazy",style:{position:"absolute",top:0,left:0,width:o.viewportWidth||800,aspectRatio:x,height:y+"px",maxHeight:"1200px",overflow:"visible"}}))))))},$l=function(e){var t=e.viewportWidth||1200,n=null!=e&&e.id?"".concat(ajaxurl,"?action=dlxpw_pattern_preview&pattern_id=").concat(e.id,"&viewport_width=").concat(t):"";o.Fancybox.show([{src:n,caption:e.title,type:"iframe",closeButton:!0}])},Gl={grid:{layout:{titleField:"title",mediaField:"pattern-view-json",columns:2,columnGap:"24px",rowGap:"24px",showMedia:!0,viewConfigOptions:{}}}},Ul=function(e){var n,i,o,c,d,f,h,p,m=e.data,g=Vl((0,t.useState)([]),2),v=g[0],y=g[1],b=(0,ai.useSelect)((function(e){return{patterns:e(El).getPatterns()}})).patterns,w=Vl((0,t.useState)([]),2),x=w[0],_=w[1],E=(0,ai.useSelect)((function(){return{categories:(0,ai.select)(El).getCategories()}})).categories,S=((0,ai.useSelect)((function(){return{assets:(0,ai.select)(El).getAssets()}})).assets,Vl((0,t.useState)([]),2)),C=S[0],O=S[1],P=Vl((0,t.useState)(!0),2),j=P[0],L=P[1],k=Vl((0,t.useState)({isVisible:!1,message:"",title:"",type:""}),2),T=k[0],I=k[1],A=Vl((0,t.useState)(!1),2),M=A[0],N=A[1],R=Vl((0,t.useState)(!1),2),F=R[0],D=R[1],V=Vl((0,t.useState)(0),2),B=(V[0],V[1]),z=Vl((0,t.useState)(null),2),H=z[0],$=z[1],G=Vl((0,t.useState)(null),2),U=G[0],W=G[1],q=Vl((0,t.useState)(null),2),Y=q[0],X=q[1],K=Vl((0,t.useState)(null),2),Z=K[0],Q=K[1],J=Vl((0,t.useState)(null),2),ee=J[0],te=J[1],ne=Vl((0,t.useState)(null),2),re=ne[0],ie=ne[1],oe=function(e){var t=e.isLocal,n=e.title,i="";t?i="unsynced":"synced"===e.patternType&&(i="synced");var o=JSON.stringify({__file:"wp_block",title:n,content:e.content,syncStatus:i},null,2);(0,r.downloadBlob)("".concat(n,".json"),o,"application/json")},ae=function(){var e,t,n,r,i,o;return{type:"grid",previewSize:"large",paginationInfo:{totalItems:b.length,totalPages:0},page:parseInt((0,So.getQueryArgs)(window.location.href).paged)||1,perPage:parseInt((0,So.getQueryArgs)(window.location.href).perPage)||12,defaultPerPage:12,sort:{field:(0,a.escapeAttribute)((0,So.getQueryArgs)(window.location.href).orderby||"title"),direction:(0,a.escapeAttribute)((0,So.getQueryArgs)(window.location.href).order||"asc")},titleField:"title",mediaField:"pattern-view-json",layout:Gl.grid.layout,fields:["title","pattern-view-json"],search:(0,a.escapeAttribute)((null===(e=(0,So.getQueryArgs)(window.location.href))||void 0===e?void 0:e.search)||""),filters:[{field:"patternType",value:(null===(t=(0,So.getQueryArgs)(window.location.href))||void 0===t?void 0:t.patternType)||"all"},{field:"patternStatus",value:(null===(n=(0,So.getQueryArgs)(window.location.href))||void 0===n?void 0:n.patternStatus)||"both"},{field:"patternLocalStatus",value:(null===(r=(0,So.getQueryArgs)(window.location.href))||void 0===r?void 0:r.patternLocalStatus)||"both"},{field:"patternRegisteredStatus",value:(null===(i=(0,So.getQueryArgs)(window.location.href))||void 0===i?void 0:i.patternRegisteredStatus)||"both"},{field:"patternLocalRegisteredStatus",value:(null===(o=(0,So.getQueryArgs)(window.location.href))||void 0===o?void 0:o.patternLocalRegisteredStatus)||"enabled"}]}},se=function(e){return React.createElement(React.Fragment,null,React.createElement("div",{className:"pattern-quick-links"},e.isLocal&&React.createElement(React.Fragment,null,!e.isDisabled&&React.createElement(React.Fragment,null,React.createElement(l.Button,{variant:"link",onClick:function(t){t.preventDefault(),t.stopPropagation(),$({item:e})}},(0,s.__)("Quick Edit","pattern-wrangler"))," | ",React.createElement(l.Button,{variant:"link",onClick:function(t){t.preventDefault(),t.stopPropagation(),ie({item:e})}},(0,s.__)("Get Code","pattern-wrangler"))," | "),React.createElement(l.Button,{variant:"link",onClick:function(t){t.preventDefault(),t.stopPropagation(),oe(e)}},(0,s.__)("Export Pattern","pattern-wrangler"))),!e.isLocal&&React.createElement(React.Fragment,null,React.createElement(l.Button,{variant:"link",onClick:function(t){t.preventDefault(),t.stopPropagation(),B(e.id),D({item:e})}},(0,s.__)("Copy to New Pattern","pattern-wrangler"))," | ",React.createElement(l.Button,{variant:"link",onClick:function(t){t.preventDefault(),t.stopPropagation(),oe(e)}},(0,s.__)("Export Pattern","pattern-wrangler")))))},le=Vl((0,t.useState)(ae()),2),ce=le[0],ue=le[1],de=(0,t.useMemo)((function(){return[{id:"title",label:(0,s.__)("Title","pattern-wrangler"),render:function(e){var t=e.item;if(null==t||!t.categorySlugs||0===t.categorySlugs.length)return React.createElement("div",{className:"pattern-title-categories"},React.createElement("div",{className:"pattern-title"},t.isLocal&&React.createElement(l.Button,{variant:"link",onClick:function(e){e.preventDefault();var n=encodeURIComponent(window.location.href);window.location.href="".concat(dlxEnhancedPatternsView.getSiteBaseUrl,"post.php?post=").concat(t.id,"&action=edit&redirect_to=").concat(n)}},t.title),!t.isLocal&&React.createElement("span",{className:"pattern-title"},t.title)),React.createElement("div",{className:"pattern-categories"},(0,s.__)("No categories","pattern-wrangler")),se(t));var n=(0,ai.select)(El).getCategories();return React.createElement(React.Fragment,null,React.createElement("div",{className:"pattern-title-categories"},React.createElement("div",{className:"pattern-title"},t.isLocal&&React.createElement(l.Button,{variant:"link",onClick:function(e){e.preventDefault();var n=encodeURIComponent(window.location.href);window.location.href="".concat(dlxEnhancedPatternsView.getSiteBaseUrl,"post.php?post=").concat(t.id,"&action=edit&redirect_to=").concat(n)}},t.title),!t.isLocal&&React.createElement("span",{className:"pattern-title"},t.title)),t.categorySlugs.length>0&&Object.values(n).length>0&&React.createElement("div",{className:"pattern-categories"},(0,s.__)("Categories:","pattern-wrangler")," ",t.categorySlugs.map((function(e,r){var i,o,a,s=(null==e?void 0:e.slug)||e.toString();if(!n.hasOwnProperty(s))return null;var l=(null===(i=n[s])||void 0===i?void 0:i.customLabel)||(null===(o=n[s])||void 0===o?void 0:o.label)||(null===(a=n[s])||void 0===a?void 0:a.name);return React.createElement("span",{key:"category-".concat(r),className:"pattern-category"},l," ",r<t.categorySlugs.length-1&&", ")}))),se(t)))},enableSorting:!0,enableHiding:!1,enableGlobalSearch:!0},{id:"pattern-view-json",label:(0,s.__)("Preview","pattern-wrangler"),getValue:function(e){var t=e.item,n=t.viewportWidth||1200,r=null!=t&&t.id?"".concat(ajaxurl,"?action=dlxpw_pattern_preview&pattern_id=").concat(t.id,"&viewport_width=").concat(n):"",i=(0,s.__)("Local","pattern-wrangler"),o="pattern-badge-local",a=(0,s.__)("Disabled","pattern-wrangler"),l=!0;t.isDisabled&&t.isLocal?a=(0,s.__)("Draft","pattern-wrangler"):!t.isDisabled&&t.isLocal?l=!1:t.isDisabled||t.isLocal||(l=!1),t.isLocal?"synced"===t.patternType?(i=(0,s.__)("Local Synced","pattern-wrangler"),o="pattern-badge-synced"):(i=(0,s.__)("Local Unsynced","pattern-wrangler"),o="pattern-badge-unsynced"):(i=(0,s.__)("Registered","pattern-wrangler"),o="pattern-badge-registered");var c=React.createElement(React.Fragment,null,React.createElement("div",{className:"pattern-badge-wrapper"},l&&React.createElement("span",{className:"pattern-badge ".concat("pattern-badge-disabled")},a),React.createElement("span",{className:"pattern-badge ".concat(o)},i)));return React.createElement(React.Fragment,null,c,React.createElement("div",{className:"pattern-preview-wrapper"},React.createElement(Hl,{src:r,title:"Preview: ".concat(t.title),item:t})))},enableSorting:!1,enableHiding:!1},{id:"categories",label:(0,s.__)("Categories","pattern-wrangler"),render:function(e){return e.item,null},enableSorting:!1,enableHiding:!1,enableGlobalSearch:!0,type:"array",filterBy:{operators:["isAny","isNone"]},elements:Object.values(E).map((function(e){return{label:e.label||e.name,value:e.slug}}))},{id:"assets",label:(0,s.__)("Filter Patterns by Source","pattern-wrangler"),render:function(e){return e.item,null},enableHiding:!1,enableGlobalSearch:!0,enableSorting:!1,filterBy:{operators:["is"]},elements:Object.values((0,ai.select)(El).getAssets()||[]).map((function(e){return{label:e.label,value:e.slug}}))},{elements:[{label:(0,s.__)("All Patterns","pattern-wrangler"),value:"all"},{label:(0,s.__)("Local Patterns","pattern-wrangler"),value:"local"},{label:(0,s.__)("Registered Patterns","pattern-wrangler"),value:"registered"}],enableHiding:!1,enableSorting:!1,enableGlobalSearch:!1,filterBy:{operators:["is"]},default:"all",type:"array",id:"patternType",label:(0,s.__)("Pattern Type","pattern-wrangler")},{elements:[{label:(0,s.__)("Unsynced Patterns","pattern-wrangler"),value:"unsynced"},{label:(0,s.__)("Synced Patterns","pattern-wrangler"),value:"synced"},{label:(0,s.__)("Both","pattern-wrangler"),value:"both"}],enableHiding:!1,enableSorting:!1,enableGlobalSearch:!1,filterBy:{operators:["is"]},type:"array",id:"patternStatus",label:(0,s.__)("Pattern Status","pattern-wrangler")},{elements:[{label:(0,s.__)("Paused Patterns","pattern-wrangler"),value:"paused"},{label:(0,s.__)("Unpaused Patterns","pattern-wrangler"),value:"unpaused"},{label:(0,s.__)("Both","pattern-wrangler"),value:"both"}],enableHiding:!1,enableSorting:!1,enableGlobalSearch:!1,filterBy:{operators:["is"]},type:"array",id:"patternRegisteredStatus",label:(0,s.__)("Pattern Registered Status","pattern-wrangler")},{elements:[{label:(0,s.__)("Draft Patterns","pattern-wrangler"),value:"draft"},{label:(0,s.__)("Published Patterns","pattern-wrangler"),value:"published"},{label:(0,s.__)("Both","pattern-wrangler"),value:"both"}],enableHiding:!1,enableSorting:!1,enableGlobalSearch:!1,filterBy:{operators:["is"]},type:"array",id:"patternLocalStatus",label:(0,s.__)("Pattern Local Status","pattern-wrangler")},{elements:[{label:(0,s.__)("Disabled Patterns","pattern-wrangler"),value:"disabled"},{label:(0,s.__)("Enabled Patterns","pattern-wrangler"),value:"enabled"},{label:(0,s.__)("Both","pattern-wrangler"),value:"both"}],enableHiding:!1,enableSorting:!1,enableGlobalSearch:!1,filterBy:{operators:["is"]},type:"array",id:"patternLocalRegisteredStatus",label:(0,s.__)("Pattern Local and Registered Status","pattern-wrangler")}]}),[]),fe=(0,t.useMemo)((function(){return[{id:"quick-edit",label:(0,s.__)("Quick Edit","pattern-wrangler"),icon:"edit",callback:function(e){$({item:e[0]})},isEligible:function(e){return e.isLocal&&!e.isDisabled},isPrimary:!0},{id:"get-code",label:(0,s.__)("Get Code","pattern-wrangler"),icon:"code",callback:function(e){ie({item:e[0]})},isEligible:function(e){return e.isLocal&&!e.isDisabled},isPrimary:!1,supportsBulk:!1},{id:"delete",label:(0,s.__)("Delete Pattern","pattern-wrangler"),icon:"trash",isEligible:function(e){return e.isLocal&&e.isDisabled},callback:function(e){te({items:e})},isPrimary:!1,isDestructive:!0,supportsBulk:!0},{id:"publish",label:(0,s.__)("Publish Pattern","pattern-wrangler"),icon:"yes-alt",isEligible:function(e){return e.isLocal&&e.isDisabled},callback:function(e){X({items:e})},isPrimary:!1,isDestructive:!1,supportsBulk:!0},{id:"unpause",label:(0,s.__)("Re-enable Pattern","pattern-wrangler"),icon:"controls-play",isEligible:function(e){return!e.isLocal&&e.isDisabled},callback:function(e){Q({items:e})},isPrimary:!1,isDestructive:!1,supportsBulk:!0},{id:"copy-to-local",label:(0,s.__)("Copy to New Pattern","pattern-wrangler"),icon:"edit",callback:function(e){var t=e[0];B(t.id),D({item:t})},isEligible:function(e){return!e.isLocal},isPrimary:!1,isDestructive:!1},{id:"disable-preview",label:(0,s.__)("Disable Pattern","pattern-wrangler"),icon:"controls-pause",callback:function(e){W({items:e})},isEligible:function(e){return!e.isDisabled},isDestructive:!0,supportsBulk:!0,isPrimary:!1},{id:"copy",label:(0,s.__)("Copy Pattern to Clipboard","pattern-wrangler"),icon:"edit",callback:(e=Fl(Nl().mark((function e(t){var n,r,i,o;return Nl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t[0].content.trim(),r=!1,e.prev=2,null===(i=navigator.clipboard)||void 0===i||!i.writeText){e.next=12;break}return e.prev=4,e.next=7,navigator.clipboard.writeText(n);case 7:r=!0,e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:if(!r){(o=document.createElement("textarea")).value=n,o.style.position="fixed",o.style.opacity="0",o.style.pointerEvents="none",document.body.appendChild(o),o.select();try{document.execCommand("copy"),r=!0}catch(e){}document.body.removeChild(o)}I({isVisible:!0,message:(0,s.__)("Pattern copied to clipboard","pattern-wrangler"),title:(0,s.__)("Pattern Copied","pattern-wrangler"),type:"success",onClose:function(){I({isVisible:!1})}}),e.next=18;break;case 16:e.prev=16,e.t1=e.catch(2);case 18:case"end":return e.stop()}}),e,null,[[2,16],[4,10]])}))),function(_x){return e.apply(this,arguments)}),isEligible:function(e){return!0},isPrimary:!1,isDestructive:!1},{id:"export",label:(0,s.__)("Export to JSON","pattern-wrangler"),icon:"edit",callback:function(e){var t=e[0].isLocal,n=e[0].title,i="";t?i="unsynced":"synced"===e[0].patternType&&(i="synced");var o=JSON.stringify({__file:"wp_block",title:n,content:e[0].content,syncStatus:i},null,2);(0,r.downloadBlob)("".concat(n,".json"),o,"application/json")},isEligible:function(){return!0},isPrimary:!1,isDestructive:!1}];var e}),[E,b]),he=function(e){var t,n,r=Ml(b);null!==r&&0!==r.length||(r=Ml(m.patterns));var i=null==e||null===(t=e.sort)||void 0===t?void 0:t.field,o=null==e||null===(n=e.sort)||void 0===n?void 0:n.direction;"title"===i&&("desc"===o?r.sort((function(e,t){return t.title.localeCompare(e.title)})):r.sort((function(e,t){return e.title.localeCompare(t.title)})));var a=(null==e?void 0:e.filters)||[];a.length>0&&a.forEach((function(e){switch(e.field){case"categories":if(e.value){var t=e.value.map((function(e){return(0,So.cleanForSlug)(e)}));"isAny"===e.operator?r=r.filter((function(e){return(e.categorySlugs||[]).some((function(e){var n=e.name||(0,So.cleanForSlug)(e);return t.includes(n)}))})):"isNone"===e.operator&&(r=r.filter((function(e){return!(e.categorySlugs||[]).some((function(e){var n=e.name||(0,So.cleanForSlug)(e);return t.includes(n)}))})))}break;case"assets":e.value&&"is"===e.operator&&(r=r.filter((function(t){return t.asset===e.value})));break;case"patternType":if(e.value)switch(e.value){case"all":break;case"local":r=r.filter((function(e){return e.isLocal}));break;case"registered":r=r.filter((function(e){return!e.isLocal}))}break;case"patternStatus":if(e.value){var n=a.find((function(e){return"patternType"===e.field}));if(n&&"local"===n.value&&e.value)switch(e.value){case"unsynced":r=r.filter((function(e){return!!e.syncStatus&&"unsynced"===e.syncStatus&&e.isLocal}));break;case"synced":r=r.filter((function(e){return!!e.syncStatus&&"synced"===e.syncStatus&&e.isLocal}))}}break;case"patternLocalStatus":if(e.value){var i=a.find((function(e){return"patternType"===e.field}));if(i&&"local"===i.value&&e.value)switch(e.value){case"draft":r=r.filter((function(e){return e.isDisabled&&e.isLocal}));break;case"published":r=r.filter((function(e){return!e.isDisabled&&e.isLocal}))}}break;case"patternRegisteredStatus":if(e.value){var o=a.find((function(e){return"patternType"===e.field}));if(o&&"registered"===o.value&&e.value)switch(e.value){case"paused":r=r.filter((function(e){return e.isDisabled&&!e.isLocal}));break;case"unpaused":r=r.filter((function(e){return!e.isDisabled&&!e.isLocal}))}}break;case"patternLocalRegisteredStatus":if(e.value){var s=a.find((function(e){return"patternType"===e.field}));if(s&&"all"===s.value&&e.value)switch(e.value){case"disabled":r=r.filter((function(e){return e.isDisabled}));break;case"enabled":r=r.filter((function(e){return!e.isDisabled}))}}}}));var s=(null==e?void 0:e.search)||"";return"undefined"!==s&&""!==s&&(r=r.filter((function(t){return(t.label||t.title).toLowerCase().includes((e.search||s).toLowerCase())}))),r.length},pe=function(e){var t,n,r=Ml(b);null!==r&&0!==r.length||(r=Ml(m.patterns));var i=null==e||null===(t=e.sort)||void 0===t?void 0:t.field,o=null==e||null===(n=e.sort)||void 0===n?void 0:n.direction;"title"===i&&("desc"===o?r.sort((function(e,t){return t.title.localeCompare(e.title)})):r.sort((function(e,t){return e.title.localeCompare(t.title)})));var a=(null==e?void 0:e.filters)||[];a.length>0&&a.forEach((function(e){switch(e.field){case"categories":if(e.value){var t=e.value.map((function(e){return(0,So.cleanForSlug)(e)}));"isAny"===e.operator?r=r.filter((function(e){return(e.categorySlugs||[]).some((function(e){var n=e.name||(0,So.cleanForSlug)(e);return t.includes(n)}))})):"isNone"===e.operator&&(r=r.filter((function(e){return!(e.categorySlugs||[]).some((function(e){var n=e.name||(0,So.cleanForSlug)(e);return t.includes(n)}))})))}break;case"assets":e.value&&(r=r.filter((function(t){return t.asset===e.value})));break;case"patternType":if(e.value)switch(e.value){case"all":break;case"local":r=r.filter((function(e){return e.isLocal}));break;case"registered":r=r.filter((function(e){return!e.isLocal}))}break;case"patternStatus":if(e.value){var n=a.find((function(e){return"patternType"===e.field}));if(n&&"local"===n.value&&e.value)switch(e.value){case"unsynced":r=r.filter((function(e){return!!e.syncStatus&&"unsynced"===e.syncStatus&&e.isLocal}));break;case"synced":r=r.filter((function(e){return!!e.syncStatus&&"synced"===e.syncStatus&&e.isLocal}))}}break;case"patternLocalStatus":if(e.value){var i=a.find((function(e){return"patternType"===e.field}));if(i&&"local"===i.value&&e.value)switch(e.value){case"draft":case"paused":r=r.filter((function(e){return e.isDisabled&&e.isLocal}));break;case"published":r=r.filter((function(e){return!e.isDisabled&&e.isLocal}))}}break;case"patternRegisteredStatus":if(e.value){var o=a.find((function(e){return"patternType"===e.field}));if(o&&"registered"===o.value&&e.value)switch(e.value){case"paused":r=r.filter((function(e){return e.isDisabled&&!e.isLocal}));break;case"unpaused":r=r.filter((function(e){return!e.isDisabled&&!e.isLocal}))}}break;case"patternLocalRegisteredStatus":if(e.value){var s=a.find((function(e){return"patternType"===e.field}));if(s&&"all"===s.value&&e.value)switch(e.value){case"disabled":r=r.filter((function(e){return e.isDisabled}));break;case"enabled":r=r.filter((function(e){return!e.isDisabled}))}}}}));var s=(null==e?void 0:e.search)||"";return"undefined"!==s&&""!==s&&(r=r.filter((function(t){return(t.label||t.title).toLowerCase().includes((e.search||s).toLowerCase())}))),r.slice((e.page-1)*e.perPage,e.page*e.perPage)},me=function(e){var t,n,r,i,o,a,s=(0,So.getQueryArgs)(window.location.href);s.paged=e.page||1,s.perPage=e.perPage,e.search?s.search=e.search:s.search="",null!==(t=e.sort)&&void 0!==t&&t.field&&(s.orderby=e.sort.field,s.order=e.sort.direction);var l=null===(n=e.filters)||void 0===n?void 0:n.find((function(e){return"patternType"===e.field})),c=null===(r=e.filters)||void 0===r?void 0:r.find((function(e){return"patternStatus"===e.field}));l&&(s.patternType=l.value),c&&(s.patternStatus=c.value);var u=null===(i=e.filters)||void 0===i?void 0:i.find((function(e){return"patternRegisteredStatus"===e.field})),d=null===(o=e.filters)||void 0===o?void 0:o.find((function(e){return"patternLocalStatus"===e.field})),f=null===(a=e.filters)||void 0===a?void 0:a.find((function(e){return"patternLocalRegisteredStatus"===e.field}));u&&!f&&(s.patternRegisteredStatus=u.value),d&&!f&&(s.patternLocalStatus=d.value),f&&(s.patternLocalRegisteredStatus=f.value);var h=(0,So.addQueryArgs)(window.location.pathname,s);(0,So.getQueryArgs)(window.location.href).search&&!e.search&&(h=(0,So.removeQueryArgs)(h,"search")),_(pe(e)),window.history.pushState({},"",h),s.page=s.paged,ue(Il(Il({},e),s))};return(0,t.useEffect)((function(){window.addEventListener("popstate",(function(){me(ae())}))}),[ce]),(0,t.useEffect)((function(){if(m&&m.hasOwnProperty("patterns")&&m.categories){var e=de.findIndex((function(e){return"categories"===e.id}));if(-1===e)return void L(!1);var t=[],n="",r=Object.values(m.categories).map((function(e){var r=e.label;return n===e.label&&(r="".concat(r," (").concat(e.count+1,")")),n=e.label,e.registered||t.push({id:e.id,label:e.label}),{label:r,value:e.slug}})),i=Ml(de);i[e]=Il(Il({},i[e]),{},{elements:r}),0===t.length&&(i=i.filter((function(e){return"categories"!==e.id}))),0===Object.values(m.assets||{}).length&&(i=i.filter((function(e){return"assets"!==e.id})));var o=Il(Il({},ce),{},{fields:i});if(O(t),ue(o),m.patterns&&m.patterns!==x){var a=pe(ce);_(a)}L(!1)}}),[m]),j?React.createElement(React.Fragment,null,"Loading..."):React.createElement("div",{className:"dlx-patterns-view-container-wrapper"},React.createElement("div",{className:"dlx-patterns-view-container"},React.createElement(Uo,{data:x,fields:de,actions:fe,label:(0,s.__)("Patterns","pattern-wrangler"),view:ce,onChangeView:me,paginationInfo:{totalItems:he(ce),totalPages:Math.ceil(he(ce)/ce.perPage)},perPageSizes:[12,24,48,96],selection:v,onChangeSelection:y,defaultLayouts:Gl,searchLabel:(0,s.__)("Search Patterns","pattern-wrangler")},React.createElement("div",{className:"dlx-patterns-view-container-header"},React.createElement("h1",null,(0,s.__)("Pattern Library","pattern-wrangler"))),React.createElement("div",{className:"dlx-patterns-view-quick-buttons-wrapper"},React.createElement(l.Button,{variant:"primary",className:"dlx-patterns-view-quick-button",onClick:function(){N(!0)}},(0,s.__)("Add New Pattern","pattern-wrangler")),React.createElement(l.FormFileUpload,{accept:".json",variant:"secondary",className:"dlx-patterns-view-quick-button",onChange:function(){var e=Fl(Nl().mark((function e(t){var n,r,i,o;return Nl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files[0],e.prev=1,e.next=4,Ll(n);case 4:return r=e.sent,e.next=7,u()({path:"/wp/v2/blocks",method:"POST",data:{title:r.title,content:r.content,status:"publish",meta:{wp_pattern_sync_status:r.syncStatus}}});case 7:if(null==(i=e.sent)||!i.id){e.next=13;break}return e.next=11,u()({path:"/dlxplugins/pattern-wrangler/v1/patterns/get/".concat(i.id),method:"GET"});case 11:(o=e.sent)&&(0,ai.dispatch)(El).addPattern(o);case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(1);case 17:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}()},(0,s.__)("Import Pattern From JSON File","pattern-wrangler"))),React.createElement("div",{className:"dlx-patterns-view-grid"},React.createElement("div",{className:"dlx-patterns-view-search-filters-wrapper"},React.createElement(Uo.Search,{label:(0,s.__)("Search Patterns","pattern-wrangler")}),React.createElement(Uo.FiltersToggle,null)),React.createElement("div",{className:"dlx-patterns-view-button-actions-wrapper"},React.createElement(l.__experimentalToggleGroupControl,{label:(0,s.__)("Pattern Type","pattern-wrangler"),isAdaptiveWidth:!0,hideLabelFromVision:!0,value:(null==ce||null===(n=ce.filters)||void 0===n||null===(n=n.find((function(e){return"patternType"===e.field})))||void 0===n?void 0:n.value)||"all",onChange:function(e){var t,n=Il({},ce),r=(null===(t=n.filters)||void 0===t?void 0:t.filter((function(e){return"patternType"!==e.field})))||[];n.filters=[].concat(Ml(r),[{field:"patternType",operator:"is",value:e}]),n.page=1,me(n);var i=window.location.href;switch(e){case"all":i=(0,So.removeQueryArgs)(i,"patternStatus"),i=(0,So.removeQueryArgs)(i,"patternRegisteredStatus"),i=(0,So.removeQueryArgs)(i,"patternLocalStatus"),i=(0,So.removeQueryArgs)(i,"patternLocalRegisteredStatus"),window.history.pushState({},"",i);break;case"local":i=(0,So.removeQueryArgs)(i,"patternRegisteredStatus"),i=(0,So.removeQueryArgs)(i,"patternLocalRegisteredStatus"),window.history.pushState({},"",i);break;case"registered":i=(0,So.removeQueryArgs)(i,"patternStatus"),i=(0,So.removeQueryArgs)(i,"patternLocalStatus"),i=(0,So.removeQueryArgs)(i,"patternLocalRegisteredStatus"),window.history.pushState({},"",i)}}},React.createElement(l.__experimentalToggleGroupControlOption,{value:"local",label:(0,s.__)("Local","pattern-wrangler"),showTooltip:!0,"aria-label":(0,s.__)("Show Only Local Patterns","pattern-wrangler")}),React.createElement(l.__experimentalToggleGroupControlOption,{value:"all",label:(0,s.__)("All","pattern-wrangler"),showTooltip:!0,"aria-label":(0,s.__)("Show All Patterns","pattern-wrangler")}),React.createElement(l.__experimentalToggleGroupControlOption,{value:"registered",label:(0,s.__)("Registered","pattern-wrangler"),showTooltip:!0,"aria-label":(0,s.__)("Show Only Registered Patterns","pattern-wrangler")})),"registered"===(null==ce||null===(i=ce.filters)||void 0===i||null===(i=i.find((function(e){return"patternType"===e.field})))||void 0===i?void 0:i.value)&&React.createElement(React.Fragment,null,React.createElement(l.__experimentalToggleGroupControl,{label:(0,s.__)("Registered Status","pattern-wrangler"),isAdaptiveWidth:!0,hideLabelFromVision:!0,value:(null==ce||null===(o=ce.filters)||void 0===o||null===(o=o.find((function(e){return"patternRegisteredStatus"===e.field})))||void 0===o?void 0:o.value)||"both",onChange:function(e){var t,n=Il({},ce),r=(null===(t=n.filters)||void 0===t?void 0:t.filter((function(e){return"patternRegisteredStatus"!==e.field})))||[];n.filters=[].concat(Ml(r),[{field:"patternRegisteredStatus",operator:"is",value:e}]),n.page=1,me(n)}},React.createElement(l.__experimentalToggleGroupControlOption,{value:"paused",label:(0,s.__)("Disabled","pattern-wrangler"),showTooltip:!0,"aria-label":(0,s.__)("Show Only Disabled Patterns","pattern-wrangler")}),React.createElement(l.__experimentalToggleGroupControlOption,{value:"both",label:(0,s.__)("Both","pattern-wrangler"),"aria-label":(0,s.__)("Show Both Disabled and Enabled Patterns","pattern-wrangler"),showTooltip:!0}),React.createElement(l.__experimentalToggleGroupControlOption,{value:"unpaused",label:(0,s.__)("Enabled","pattern-wrangler"),showTooltip:!0,"aria-label":(0,s.__)("Show Only Enabled Patterns","pattern-wrangler")}))),"local"===(null==ce||null===(c=ce.filters)||void 0===c||null===(c=c.find((function(e){return"patternType"===e.field})))||void 0===c?void 0:c.value)&&React.createElement(React.Fragment,null,React.createElement(l.__experimentalToggleGroupControl,{label:(0,s.__)("Pattern Status","pattern-wrangler"),isAdaptiveWidth:!0,hideLabelFromVision:!0,value:(null==ce||null===(d=ce.filters)||void 0===d||null===(d=d.find((function(e){return"patternStatus"===e.field})))||void 0===d?void 0:d.value)||"both",onChange:function(e){var t,n=Il({},ce),r=(null===(t=n.filters)||void 0===t?void 0:t.filter((function(e){return"patternStatus"!==e.field})))||[];n.filters=[].concat(Ml(r),[{field:"patternStatus",operator:"is",value:e}]),n.page=1,me(n)}},React.createElement(l.__experimentalToggleGroupControlOption,{value:"unsynced",label:(0,s.__)("Unsynced","pattern-wrangler"),showTooltip:!0,"aria-label":(0,s.__)("Show Only Unsynced Patterns","pattern-wrangler")}),React.createElement(l.__experimentalToggleGroupControlOption,{value:"both",label:(0,s.__)("Both","pattern-wrangler"),"aria-label":(0,s.__)("Show Both Synced and Unsynced Patterns","pattern-wrangler"),showTooltip:!0}),React.createElement(l.__experimentalToggleGroupControlOption,{value:"synced",label:(0,s.__)("Synced","pattern-wrangler"),showTooltip:!0,"aria-label":(0,s.__)("Show Only Synced Patterns","pattern-wrangler")})),React.createElement(l.__experimentalToggleGroupControl,{label:(0,s.__)("Published Status","pattern-wrangler"),isAdaptiveWidth:!0,hideLabelFromVision:!0,value:(null==ce||null===(f=ce.filters)||void 0===f||null===(f=f.find((function(e){return"patternLocalStatus"===e.field})))||void 0===f?void 0:f.value)||"both",onChange:function(e){var t,n=Il({},ce),r=(null===(t=n.filters)||void 0===t?void 0:t.filter((function(e){return"patternLocalStatus"!==e.field})))||[];n.filters=[].concat(Ml(r),[{field:"patternLocalStatus",operator:"is",value:e}]),n.page=1,me(n)}},React.createElement(l.__experimentalToggleGroupControlOption,{value:"draft",label:(0,s.__)("Draft","pattern-wrangler"),showTooltip:!0,"aria-label":(0,s.__)("Show Only Draft Patterns","pattern-wrangler")}),React.createElement(l.__experimentalToggleGroupControlOption,{value:"both",label:(0,s.__)("Both","pattern-wrangler"),"aria-label":(0,s.__)("Show Both Draft and Published Patterns","pattern-wrangler"),showTooltip:!0}),React.createElement(l.__experimentalToggleGroupControlOption,{value:"published",label:(0,s.__)("Published","pattern-wrangler"),showTooltip:!0,"aria-label":(0,s.__)("Show Only Published Patterns","pattern-wrangler")}))),"all"===(null==ce||null===(h=ce.filters)||void 0===h||null===(h=h.find((function(e){return"patternType"===e.field})))||void 0===h?void 0:h.value)&&React.createElement(React.Fragment,null,React.createElement(l.__experimentalToggleGroupControl,{label:(0,s.__)("Disabled Status","pattern-wrangler"),isAdaptiveWidth:!0,hideLabelFromVision:!0,value:(null==ce||null===(p=ce.filters)||void 0===p||null===(p=p.find((function(e){return"patternLocalRegisteredStatus"===e.field})))||void 0===p?void 0:p.value)||"both",onChange:function(e){var t,n=Il({},ce),r=(null===(t=n.filters)||void 0===t?void 0:t.filter((function(e){return"patternLocalRegisteredStatus"!==e.field})))||[];n.filters=[].concat(Ml(r),[{field:"patternLocalRegisteredStatus",operator:"is",value:e}]),n.page=1,me(n)}},React.createElement(l.__experimentalToggleGroupControlOption,{value:"disabled",label:(0,s.__)("Disabled","pattern-wrangler"),showTooltip:!0,"aria-label":(0,s.__)("Show Only Disabled Local and Registered Patterns","pattern-wrangler")}),React.createElement(l.__experimentalToggleGroupControlOption,{value:"both",label:(0,s.__)("Both","pattern-wrangler"),"aria-label":(0,s.__)("Show Both Disabled and Enabled Local and Registered Patterns","pattern-wrangler"),showTooltip:!0}),React.createElement(l.__experimentalToggleGroupControlOption,{value:"enabled",label:(0,s.__)("Enabled","pattern-wrangler"),showTooltip:!0,"aria-label":(0,s.__)("Show Only Enabled Local and Registered Patterns","pattern-wrangler")})))),React.createElement("div",{className:"dlx-patterns-view-layout-pagination-wrapper"},React.createElement(Uo.ViewConfig,null),React.createElement(Uo.LayoutSwitcher,null))),React.createElement("div",{className:"dlx-patterns-view-filters-wrapper"},React.createElement(Uo.Filters,null)),React.createElement("div",{className:"dlx-bulk-action-toolbar-top"},React.createElement(Uo.BulkActionToolbar,null)),React.createElement(Uo.Layout,null),React.createElement(Uo.BulkActionToolbar,null),React.createElement(Uo.Pagination,null)),T.isVisible&&React.createElement(ha,{isVisible:T.isVisible,message:T.message,title:T.title,type:T.type,onClose:function(){I({isVisible:!1})}})),M&&React.createElement(Ds,{isOpen:M,onRequestClose:function(){return N(!1)},categories:C,title:(0,s.__)("Create New Pattern","pattern-wrangler")}),F&&React.createElement(Ds,{isOpen:F,onRequestClose:function(){return D(!1)},categories:C,title:(0,s.__)("Copy Pattern to Local","pattern-wrangler"),syncedDefaultStatus:"unsynced",copyPatternId:F.item.id}),H&&React.createElement(Ds,{isOpen:H,onRequestClose:function(){return $(null)},pattern:H.item,patternTitle:H.item.title,categories:C,patternCategories:H.item.categories,title:(0,s.__)("Quick Edit Pattern","pattern-wrangler"),syncedDisabled:!0,patternId:H.item.id,patternNonce:H.item.editNonce,isEditMode:!0,onEdit:function(e){(0,ai.dispatch)(El).upsertCategory(e.categories),(0,ai.dispatch)(El).setPattern(e.patternId,e.patternTitle,e.categorySlugs,e.categorySlugs),$(null)}}),U&&React.createElement($s,{items:U.items,onPause:function(e,t){(0,ai.dispatch)(El).disablePatterns(t),W(null),I({isVisible:!0,message:(0,s.__)("Patterns disabled","pattern-wrangler"),title:(0,s.__)("Patterns Disabled","pattern-wrangler"),type:"success",onClose:function(){I({isVisible:!1})}})},onRequestClose:function(){return W(null)}}),Y&&React.createElement(Ys,{items:Y.items,onPublish:function(e,t){(0,ai.dispatch)(El).enablePatterns(t),X(null),I({isVisible:!0,message:(0,s.__)("Patterns published","pattern-wrangler"),title:(0,s.__)("Patterns Published","pattern-wrangler"),type:"success",onClose:function(){I({isVisible:!1})}})},onRequestClose:function(){return X(null)}}),Z&&React.createElement(Js,{items:Z.items,onReenable:function(e,t){(0,ai.dispatch)(El).enablePatterns(t),Q(null),I({isVisible:!0,message:(0,s.__)("Patterns re-enabled","pattern-wrangler"),title:(0,s.__)("Patterns Re-enabled","pattern-wrangler"),type:"success",onClose:function(){I({isVisible:!1})}})},onRequestClose:function(){return Q(null)}}),ee&&React.createElement(il,{items:ee.items,onDelete:function(e,t){(0,ai.dispatch)(El).deletePatterns(t),te(null)},onRequestClose:function(){return te(null)}}),re&&React.createElement(dl,{item:re.item,onRequestClose:function(){return ie(null)}}))};const Wl=function(e){var n=(0,ai.useSelect)((function(e){return{data:e(El).getData(),loading:e(El).getLoading(),error:e(El).getError()}})),r=n.data,i=n.loading,o=n.error;return(0,t.useEffect)((function(){(0,ai.dispatch)(El).fetchData()}),[]),i?React.createElement("div",{className:"dlx-patterns-view-container-wrapper"},React.createElement("div",{className:"dlx-patterns-view-container"},React.createElement("div",{className:"dataviews-wrapper"},React.createElement("div",{className:"dlx-patterns-view-container-header"},React.createElement("h1",null,(0,s.__)("Loading patterns","pattern-wrangler")),React.createElement(qo(),{size:30,color:"#3c434a"}))))):o?React.createElement("div",{className:"dlx-patterns-view-error"},React.createElement("p",null,(0,s.__)("Error loading patterns:","pattern-wrangler")," ",o),React.createElement(l.Button,{variant:"primary",onClick:function(){return(0,ai.dispatch)(El).fetchData()}},(0,s.__)("Retry","pattern-wrangler"))):React.createElement(Ul,Dl({data:r},e))};var ql=document.getElementById("dlx-pattern-wrangler-view");ql&&(0,e.createRoot)(ql).render(React.createElement(Wl,null))})()})();