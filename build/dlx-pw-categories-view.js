(()=>{var e={270(e,t,n){"use strict";var i,r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(i=function(e){return i=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},i(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=i(e),r=0;r<n.length;r++)"default"!==n[r]&&o(t,e,n[r]);return a(t,e),t}),l=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(609)),u=n(665),d=(0,n(489).createAnimation)("BeatLoader","50% {transform: scale(0.75);opacity: 0.2} 100% {transform: scale(1);opacity: 1}","beat");t.default=function(e){var t=e.loading,n=void 0===t||t,i=e.color,o=void 0===i?"#000000":i,a=e.speedMultiplier,s=void 0===a?1:a,h=e.cssOverride,f=void 0===h?{}:h,p=e.size,g=void 0===p?15:p,m=e.margin,v=void 0===m?2:m,b=l(e,["loading","color","speedMultiplier","cssOverride","size","margin"]),y=r({display:"inherit"},f),w=function(e){return{display:"inline-block",backgroundColor:o,width:(0,u.cssValue)(g),height:(0,u.cssValue)(g),margin:(0,u.cssValue)(v),borderRadius:"100%",animation:"".concat(d," ").concat(.7/s,"s ").concat(e%2?"0s":"".concat(.35/s,"s")," infinite linear"),animationFillMode:"both"}};return n?c.createElement("span",r({style:y},b),c.createElement("span",{style:w(1)}),c.createElement("span",{style:w(2)}),c.createElement("span",{style:w(3)})):null}},489(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAnimation=void 0,t.createAnimation=function(e,t,n){var i="react-spinners-".concat(e,"-").concat(n);if("undefined"==typeof window||!window.document)return i;var r=document.createElement("style");document.head.appendChild(r);var o=r.sheet,a="\n    @keyframes ".concat(i," {\n      ").concat(t,"\n    }\n  ");return o&&o.insertRule(a,0),i}},609(e){"use strict";e.exports=window.React},665(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseLengthAndUnit=i,t.cssValue=function(e){var t=i(e);return"".concat(t.value).concat(t.unit)};var n={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function i(e){if("number"==typeof e)return{value:e,unit:"px"};var t,i=(e.match(/^[0-9.]*/)||"").toString();t=i.includes(".")?parseFloat(i):parseInt(i,10);var r=(e.match(/[^0-9]*$/)||"").toString();return n[r]?{value:t,unit:r}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}},942(e,t){var n;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,o(n)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)i.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},985(e,t){!function(e){"use strict";const t=(e,t=1e4)=>(e=parseFloat(e+"")||0,Math.round((e+Number.EPSILON)*t)/t),n=function(e){if(!(e&&e instanceof Element&&e.offsetParent))return!1;const t=e.scrollHeight>e.clientHeight,n=window.getComputedStyle(e).overflowY,i=-1!==n.indexOf("hidden"),r=-1!==n.indexOf("visible");return t&&!i&&!r},i=function(e,t=void 0){return!(!e||e===document.body||t&&e===t)&&(n(e)?e:i(e.parentElement,t))},r=function(e){var t=(new DOMParser).parseFromString(e,"text/html").body;if(t.childElementCount>1){for(var n=document.createElement("div");t.firstChild;)n.appendChild(t.firstChild);return n}return t.firstChild},o=e=>`${e||""}`.split(" ").filter(e=>!!e),a=(e,t,n)=>{e&&o(t).forEach(t=>{e.classList.toggle(t,n||!1)})};class s{constructor(e){Object.defineProperty(this,"pageX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pageY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nativePointer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.nativePointer=e,this.pageX=e.pageX,this.pageY=e.pageY,this.clientX=e.clientX,this.clientY=e.clientY,this.id=self.Touch&&e instanceof Touch?e.identifier:-1,this.time=Date.now()}}const l={passive:!1};class c{constructor(e,{start:t=()=>!0,move:n=()=>{},end:i=()=>{}}){Object.defineProperty(this,"element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"moveCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"endCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"startPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.element=e,this.startCallback=t,this.moveCallback=n,this.endCallback=i;for(const e of["onPointerStart","onTouchStart","onMove","onTouchEnd","onPointerEnd","onWindowBlur"])this[e]=this[e].bind(this);this.element.addEventListener("mousedown",this.onPointerStart,l),this.element.addEventListener("touchstart",this.onTouchStart,l),this.element.addEventListener("touchmove",this.onMove,l),this.element.addEventListener("touchend",this.onTouchEnd),this.element.addEventListener("touchcancel",this.onTouchEnd)}onPointerStart(e){if(!e.buttons||0!==e.button)return;const t=new s(e);this.currentPointers.some(e=>e.id===t.id)||this.triggerPointerStart(t,e)&&(window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseup",this.onPointerEnd),window.addEventListener("blur",this.onWindowBlur))}onTouchStart(e){for(const t of Array.from(e.changedTouches||[]))this.triggerPointerStart(new s(t),e);window.addEventListener("blur",this.onWindowBlur)}onMove(e){const t=this.currentPointers.slice(),n="changedTouches"in e?Array.from(e.changedTouches||[]).map(e=>new s(e)):[new s(e)],i=[];for(const e of n){const t=this.currentPointers.findIndex(t=>t.id===e.id);t<0||(i.push(e),this.currentPointers[t]=e)}i.length&&this.moveCallback(e,this.currentPointers.slice(),t)}onPointerEnd(e){e.buttons>0&&0!==e.button||(this.triggerPointerEnd(e,new s(e)),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur))}onTouchEnd(e){for(const t of Array.from(e.changedTouches||[]))this.triggerPointerEnd(e,new s(t))}triggerPointerStart(e,t){return!!this.startCallback(t,e,this.currentPointers.slice())&&(this.currentPointers.push(e),this.startPointers.push(e),!0)}triggerPointerEnd(e,t){const n=this.currentPointers.findIndex(e=>e.id===t.id);n<0||(this.currentPointers.splice(n,1),this.startPointers.splice(n,1),this.endCallback(e,t,this.currentPointers.slice()))}onWindowBlur(){this.clear()}clear(){for(;this.currentPointers.length;){const e=this.currentPointers[this.currentPointers.length-1];this.currentPointers.splice(this.currentPointers.length-1,1),this.startPointers.splice(this.currentPointers.length-1,1),this.endCallback(new Event("touchend",{bubbles:!0,cancelable:!0,clientX:e.clientX,clientY:e.clientY}),e,this.currentPointers.slice())}}stop(){this.element.removeEventListener("mousedown",this.onPointerStart,l),this.element.removeEventListener("touchstart",this.onTouchStart,l),this.element.removeEventListener("touchmove",this.onMove,l),this.element.removeEventListener("touchend",this.onTouchEnd),this.element.removeEventListener("touchcancel",this.onTouchEnd),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur)}}function u(e,t){return t?Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2)):0}function d(e,t){return t?{clientX:(e.clientX+t.clientX)/2,clientY:(e.clientY+t.clientY)/2}:e}const h=e=>"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e),f=(e,...t)=>{const n=t.length;for(let i=0;i<n;i++){const n=t[i]||{};Object.entries(n).forEach(([t,n])=>{const i=Array.isArray(n)?[]:{};e[t]||Object.assign(e,{[t]:i}),h(n)?Object.assign(e[t],f(i,n)):Array.isArray(n)?Object.assign(e,{[t]:[...n]}):Object.assign(e,{[t]:n})})}return e},p=function(e,t){return e.split(".").reduce((e,t)=>"object"==typeof e?e[t]:void 0,t)};class g{constructor(e={}){Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.setOptions(e);for(const e of Object.getOwnPropertyNames(Object.getPrototypeOf(this)))e.startsWith("on")&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}setOptions(e){this.options=e?f({},this.constructor.defaults,e):{};for(const[e,t]of Object.entries(this.option("on")||{}))this.on(e,t)}option(e,...t){let n=p(e,this.options);return n&&"function"==typeof n&&(n=n.call(this,this,...t)),n}optionFor(e,t,n,...i){let r=p(t,e);var o;"string"!=typeof(o=r)||isNaN(o)||isNaN(parseFloat(o))||(r=parseFloat(r)),"true"===r&&(r=!0),"false"===r&&(r=!1),r&&"function"==typeof r&&(r=r.call(this,this,e,...i));let a=p(t,this.options);return a&&"function"==typeof a?r=a.call(this,this,e,...i,r):void 0===r&&(r=a),void 0===r?n:r}cn(e){const t=this.options.classes;return t&&t[e]||""}localize(e,t=[]){e=String(e).replace(/\{\{(\w+).?(\w+)?\}\}/g,(e,t,n)=>{let i="";return n?i=this.option(`${t[0]+t.toLowerCase().substring(1)}.l10n.${n}`):t&&(i=this.option(`l10n.${t}`)),i||(i=e),i});for(let n=0;n<t.length;n++)e=e.split(t[n][0]).join(t[n][1]);return e.replace(/\{\{(.*?)\}\}/g,(e,t)=>t)}on(e,t){let n=[];"string"==typeof e?n=e.split(" "):Array.isArray(e)&&(n=e),this.events||(this.events=new Map),n.forEach(e=>{let n=this.events.get(e);n||(this.events.set(e,[]),n=[]),n.includes(t)||n.push(t),this.events.set(e,n)})}off(e,t){let n=[];"string"==typeof e?n=e.split(" "):Array.isArray(e)&&(n=e),n.forEach(e=>{const n=this.events.get(e);if(Array.isArray(n)){const e=n.indexOf(t);e>-1&&n.splice(e,1)}})}emit(e,...t){[...this.events.get(e)||[]].forEach(e=>e(this,...t)),"*"!==e&&this.emit("*",e,...t)}}Object.defineProperty(g,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.36"}),Object.defineProperty(g,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{}});class m extends g{constructor(e={}){super(e),Object.defineProperty(this,"plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}})}attachPlugins(e={}){const t=new Map;for(const[n,i]of Object.entries(e)){const e=this.option(n),r=this.plugins[n];r||!1===e?r&&!1===e&&(r.detach(),delete this.plugins[n]):t.set(n,new i(this,e||{}))}for(const[e,n]of t)this.plugins[e]=n,n.attach()}detachPlugins(e){e=e||Object.keys(this.plugins);for(const t of e){const e=this.plugins[t];e&&e.detach(),delete this.plugins[t]}return this.emit("detachPlugins"),this}}var v;!function(e){e[e.Init=0]="Init",e[e.Error=1]="Error",e[e.Ready=2]="Ready",e[e.Panning=3]="Panning",e[e.Mousemove=4]="Mousemove",e[e.Destroy=5]="Destroy"}(v||(v={}));const b=["a","b","c","d","e","f"],y={PANUP:"Move up",PANDOWN:"Move down",PANLEFT:"Move left",PANRIGHT:"Move right",ZOOMIN:"Zoom in",ZOOMOUT:"Zoom out",TOGGLEZOOM:"Toggle zoom level",TOGGLE1TO1:"Toggle zoom level",ITERATEZOOM:"Toggle zoom level",ROTATECCW:"Rotate counterclockwise",ROTATECW:"Rotate clockwise",FLIPX:"Flip horizontally",FLIPY:"Flip vertically",FITX:"Fit horizontally",FITY:"Fit vertically",RESET:"Reset",TOGGLEFS:"Toggle fullscreen"},w={content:null,width:"auto",height:"auto",panMode:"drag",touch:!0,dragMinThreshold:3,lockAxis:!1,mouseMoveFactor:1,mouseMoveFriction:.12,zoom:!0,pinchToZoom:!0,panOnlyZoomed:"auto",minScale:1,maxScale:2,friction:.25,dragFriction:.35,decelFriction:.05,click:"toggleZoom",dblClick:!1,wheel:"zoom",wheelLimit:7,spinner:!0,bounds:"auto",infinite:!1,rubberband:!0,bounce:!0,maxVelocity:75,transformParent:!1,classes:{content:"f-panzoom__content",isLoading:"is-loading",canZoomIn:"can-zoom_in",canZoomOut:"can-zoom_out",isDraggable:"is-draggable",isDragging:"is-dragging",inFullscreen:"in-fullscreen",htmlHasFullscreen:"with-panzoom-in-fullscreen"},l10n:y},E='<circle cx="25" cy="25" r="20"></circle>',S='<div class="f-spinner"><svg viewBox="0 0 50 50">'+E+E+"</svg></div>",x=e=>e&&null!==e&&e instanceof Element&&"nodeType"in e,C=(e,t)=>{e&&o(t).forEach(t=>{e.classList.remove(t)})},O=(e,t)=>{e&&o(t).forEach(t=>{e.classList.add(t)})},_={a:1,b:0,c:0,d:1,e:0,f:0},T=1e4,P="mousemove",M="drag",A="content",R="auto";let k=null,j=null;class D extends m{get fits(){return this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1}get isTouchDevice(){return null===j&&(j=window.matchMedia("(hover: none)").matches),j}get isMobile(){return null===k&&(k=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)),k}get panMode(){return this.options.panMode!==P||this.isTouchDevice?M:P}get panOnlyZoomed(){const e=this.options.panOnlyZoomed;return e===R?this.isTouchDevice:e}get isInfinite(){return this.option("infinite")}get angle(){return 180*Math.atan2(this.current.b,this.current.a)/Math.PI||0}get targetAngle(){return 180*Math.atan2(this.target.b,this.target.a)/Math.PI||0}get scale(){const{a:e,b:t}=this.current;return Math.sqrt(e*e+t*t)||1}get targetScale(){const{a:e,b:t}=this.target;return Math.sqrt(e*e+t*t)||1}get minScale(){return this.option("minScale")||1}get fullScale(){const{contentRect:e}=this;return e.fullWidth/e.fitWidth||1}get maxScale(){return this.fullScale*(this.option("maxScale")||1)||1}get coverScale(){const{containerRect:e,contentRect:t}=this,n=Math.max(e.height/t.fitHeight,e.width/t.fitWidth)||1;return Math.min(this.fullScale,n)}get isScaling(){return Math.abs(this.targetScale-this.scale)>1e-5&&!this.isResting}get isContentLoading(){const e=this.content;return!!(e&&e instanceof HTMLImageElement)&&!e.complete}get isResting(){if(this.isBouncingX||this.isBouncingY)return!1;for(const e of b){const t="e"==e||"f"===e?1e-4:1e-5;if(Math.abs(this.target[e]-this.current[e])>t)return!1}return!(!this.ignoreBounds&&!this.checkBounds().inBounds)}constructor(e,t={},n={}){var i;if(super(t),Object.defineProperty(this,"pointerTracker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"resizeObserver",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"updateTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"rAF",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"isTicking",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreBounds",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isBouncingX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isBouncingY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"clicks",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"trackingPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"cwd",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"pmme",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"friction",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:v.Init}),Object.defineProperty(this,"isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"spinner",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"containerRect",{enumerable:!0,configurable:!0,writable:!0,value:{width:0,height:0,innerWidth:0,innerHeight:0}}),Object.defineProperty(this,"contentRect",{enumerable:!0,configurable:!0,writable:!0,value:{top:0,right:0,bottom:0,left:0,fullWidth:0,fullHeight:0,fitWidth:0,fitHeight:0,width:0,height:0}}),Object.defineProperty(this,"dragStart",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,top:0,left:0,time:0}}),Object.defineProperty(this,"dragOffset",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,time:0}}),Object.defineProperty(this,"current",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},_)}),Object.defineProperty(this,"target",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},_)}),Object.defineProperty(this,"velocity",{enumerable:!0,configurable:!0,writable:!0,value:{a:0,b:0,c:0,d:0,e:0,f:0}}),Object.defineProperty(this,"lockedAxis",{enumerable:!0,configurable:!0,writable:!0,value:!1}),!e)throw new Error("Container Element Not Found");this.container=e,this.initContent(),this.attachPlugins(Object.assign(Object.assign({},D.Plugins),n)),this.emit("attachPlugins"),this.emit("init");const o=this.content;if(o.addEventListener("load",this.onLoad),o.addEventListener("error",this.onError),this.isContentLoading){if(this.option("spinner")){e.classList.add(this.cn("isLoading"));const t=r(S);!e.contains(o)||o.parentElement instanceof HTMLPictureElement?this.spinner=e.appendChild(t):this.spinner=(null===(i=o.parentElement)||void 0===i?void 0:i.insertBefore(t,o))||null}this.emit("beforeLoad")}else queueMicrotask(()=>{this.enable()})}initContent(){const{container:e}=this,t=this.cn(A);let n=this.option(A)||e.querySelector(`.${t}`);if(n||(n=e.querySelector("img,picture")||e.firstElementChild,n&&O(n,t)),n instanceof HTMLPictureElement&&(n=n.querySelector("img")),!n)throw new Error("No content found");this.content=n}onLoad(){const{spinner:e,container:t,state:n}=this;e&&(e.remove(),this.spinner=null),this.option("spinner")&&t.classList.remove(this.cn("isLoading")),this.emit("afterLoad"),n===v.Init?this.enable():this.updateMetrics()}onError(){this.state!==v.Destroy&&(this.spinner&&(this.spinner.remove(),this.spinner=null),this.stop(),this.detachEvents(),this.state=v.Error,this.emit("error"))}getNextScale(e){const{fullScale:t,targetScale:n,coverScale:i,maxScale:r,minScale:o}=this;let a=o;switch(e){case"toggleMax":a=n-o<.5*(r-o)?r:o;break;case"toggleCover":a=n-o<.5*(i-o)?i:o;break;case"toggleZoom":a=n-o<.5*(t-o)?t:o;break;case"iterateZoom":let e=[1,t,r].sort((e,t)=>e-t),s=e.findIndex(e=>e>n+1e-5);a=e[s]||1}return a}attachObserver(){var e;const t=()=>{const{container:e,containerRect:t}=this;return Math.abs(t.width-e.getBoundingClientRect().width)>.1||Math.abs(t.height-e.getBoundingClientRect().height)>.1};this.resizeObserver||void 0===window.ResizeObserver||(this.resizeObserver=new ResizeObserver(()=>{this.updateTimer||(t()?(this.onResize(),this.isMobile&&(this.updateTimer=setTimeout(()=>{t()&&this.onResize(),this.updateTimer=null},500))):this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null))})),null===(e=this.resizeObserver)||void 0===e||e.observe(this.container)}detachObserver(){var e;null===(e=this.resizeObserver)||void 0===e||e.disconnect()}attachEvents(){const{container:e}=this;e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),e.addEventListener("wheel",this.onWheel,{passive:!1}),this.pointerTracker=new c(e,{start:this.onPointerDown,move:this.onPointerMove,end:this.onPointerUp}),document.addEventListener(P,this.onMouseMove)}detachEvents(){var e;const{container:t}=this;t.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),t.removeEventListener("wheel",this.onWheel,{passive:!1}),null===(e=this.pointerTracker)||void 0===e||e.stop(),this.pointerTracker=null,document.removeEventListener(P,this.onMouseMove),document.removeEventListener("keydown",this.onKeydown,!0),this.clickTimer&&(clearTimeout(this.clickTimer),this.clickTimer=null),this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null)}animate(){this.setTargetForce();const e=this.friction,t=this.option("maxVelocity");for(const n of b)e?(this.velocity[n]*=1-e,t&&!this.isScaling&&(this.velocity[n]=Math.max(Math.min(this.velocity[n],t),-1*t)),this.current[n]+=this.velocity[n]):this.current[n]=this.target[n];this.setTransform(),this.setEdgeForce(),!this.isResting||this.isDragging?this.rAF=requestAnimationFrame(()=>this.animate()):this.stop("current")}setTargetForce(){for(const e of b)"e"===e&&this.isBouncingX||"f"===e&&this.isBouncingY||(this.velocity[e]=(1/(1-this.friction)-1)*(this.target[e]-this.current[e]))}checkBounds(e=0,t=0){const{current:n}=this,i=n.e+e,r=n.f+t,o=this.getBounds(),{x:a,y:s}=o,l=a.min,c=a.max,u=s.min,d=s.max;let h=0,f=0;return l!==1/0&&i<l?h=l-i:c!==1/0&&i>c&&(h=c-i),u!==1/0&&r<u?f=u-r:d!==1/0&&r>d&&(f=d-r),Math.abs(h)<1e-4&&(h=0),Math.abs(f)<1e-4&&(f=0),Object.assign(Object.assign({},o),{xDiff:h,yDiff:f,inBounds:!h&&!f})}clampTargetBounds(){const{target:e}=this,{x:t,y:n}=this.getBounds();t.min!==1/0&&(e.e=Math.max(e.e,t.min)),t.max!==1/0&&(e.e=Math.min(e.e,t.max)),n.min!==1/0&&(e.f=Math.max(e.f,n.min)),n.max!==1/0&&(e.f=Math.min(e.f,n.max))}calculateContentDim(e=this.current){const{content:t,contentRect:n}=this,{fitWidth:i,fitHeight:r,fullWidth:o,fullHeight:a}=n;let s=o,l=a;if(this.option("zoom")||0!==this.angle){const n=!(t instanceof HTMLImageElement||"none"!==window.getComputedStyle(t).maxWidth&&"none"!==window.getComputedStyle(t).maxHeight),c=n?o:i,u=n?a:r,d=this.getMatrix(e),h=new DOMPoint(0,0).matrixTransform(d),f=new DOMPoint(0+c,0).matrixTransform(d),p=new DOMPoint(0+c,0+u).matrixTransform(d),g=new DOMPoint(0,0+u).matrixTransform(d),m=Math.abs(p.x-h.x),v=Math.abs(p.y-h.y),b=Math.abs(g.x-f.x),y=Math.abs(g.y-f.y);s=Math.max(m,b),l=Math.max(v,y)}return{contentWidth:s,contentHeight:l}}setEdgeForce(){if(this.ignoreBounds||this.isDragging||this.panMode===P||this.targetScale<this.scale)return this.isBouncingX=!1,void(this.isBouncingY=!1);const{target:e}=this,{x:t,y:n,xDiff:i,yDiff:r}=this.checkBounds(),o=this.option("maxVelocity");let a=this.velocity.e,s=this.velocity.f;0!==i?(this.isBouncingX=!0,i*a<=0?a+=.14*i:(a=.14*i,t.min!==1/0&&(this.target.e=Math.max(e.e,t.min)),t.max!==1/0&&(this.target.e=Math.min(e.e,t.max))),o&&(a=Math.max(Math.min(a,o),-1*o))):this.isBouncingX=!1,0!==r?(this.isBouncingY=!0,r*s<=0?s+=.14*r:(s=.14*r,n.min!==1/0&&(this.target.f=Math.max(e.f,n.min)),n.max!==1/0&&(this.target.f=Math.min(e.f,n.max))),o&&(s=Math.max(Math.min(s,o),-1*o))):this.isBouncingY=!1,this.isBouncingX&&(this.velocity.e=a),this.isBouncingY&&(this.velocity.f=s)}enable(){const{content:e}=this,t=new DOMMatrixReadOnly(window.getComputedStyle(e).transform);for(const e of b)this.current[e]=this.target[e]=t[e];this.updateMetrics(),this.attachObserver(),this.attachEvents(),this.state=v.Ready,this.emit("ready")}onClick(e){var t;"click"===e.type&&0===e.detail&&(this.dragOffset.x=0,this.dragOffset.y=0),this.isDragging&&(null===(t=this.pointerTracker)||void 0===t||t.clear(),this.trackingPoints=[],this.startDecelAnim());const n=e.target;if(!n||e.defaultPrevented)return;if(n.hasAttribute("disabled"))return e.preventDefault(),void e.stopPropagation();if((()=>{const e=window.getSelection();return e&&"Range"===e.type})()&&!n.closest("button"))return;const i=n.closest("[data-panzoom-action]"),r=n.closest("[data-panzoom-change]"),o=i||r,a=o&&x(o)?o.dataset:null;if(a){const t=a.panzoomChange,n=a.panzoomAction;if((t||n)&&e.preventDefault(),t){let n={};try{n=JSON.parse(t)}catch(e){console&&console.warn("The given data was not valid JSON")}return void this.applyChange(n)}if(n)return void(this[n]&&this[n]())}if(Math.abs(this.dragOffset.x)>3||Math.abs(this.dragOffset.y)>3)return e.preventDefault(),void e.stopPropagation();if(n.closest("[data-fancybox]"))return;const s=this.content.getBoundingClientRect(),l=this.dragStart;if(l.time&&!this.canZoomOut()&&(Math.abs(s.x-l.x)>2||Math.abs(s.y-l.y)>2))return;this.dragStart.time=0;const c=t=>{this.option("zoom",e)&&t&&"string"==typeof t&&/(iterateZoom)|(toggle(Zoom|Full|Cover|Max)|(zoomTo(Fit|Cover|Max)))/.test(t)&&"function"==typeof this[t]&&(e.preventDefault(),this[t]({event:e}))},u=this.option("click",e),d=this.option("dblClick",e);d?(this.clicks++,1==this.clicks&&(this.clickTimer=setTimeout(()=>{1===this.clicks?(this.emit("click",e),!e.defaultPrevented&&u&&c(u)):(this.emit("dblClick",e),e.defaultPrevented||c(d)),this.clicks=0,this.clickTimer=null},350))):(this.emit("click",e),!e.defaultPrevented&&u&&c(u))}addTrackingPoint(e){const t=this.trackingPoints.filter(e=>e.time>Date.now()-100);t.push(e),this.trackingPoints=t}onPointerDown(e,t,n){var i;if(!1===this.option("touch",e))return!1;this.pwt=0,this.dragOffset={x:0,y:0,time:0},this.trackingPoints=[];const r=this.content.getBoundingClientRect();if(this.dragStart={x:r.x,y:r.y,top:r.top,left:r.left,time:Date.now()},this.clickTimer)return!1;if(this.panMode===P&&this.targetScale>1)return e.preventDefault(),e.stopPropagation(),!1;const o=e.composedPath()[0];if(!n.length){if(["TEXTAREA","OPTION","INPUT","SELECT","VIDEO","IFRAME"].includes(o.nodeName)||o.closest("[contenteditable],[data-selectable],[data-draggable],[data-clickable],[data-panzoom-change],[data-panzoom-action]"))return!1;null===(i=window.getSelection())||void 0===i||i.removeAllRanges()}if("mousedown"===e.type)["A","BUTTON"].includes(o.nodeName)||e.preventDefault();else if(Math.abs(this.velocity.a)>.3)return!1;return this.target.e=this.current.e,this.target.f=this.current.f,this.stop(),this.isDragging||(this.isDragging=!0,this.addTrackingPoint(t),this.emit("touchStart",e)),!0}onPointerMove(e,n,r){if(!1===this.option("touch",e))return;if(!this.isDragging)return;if(n.length<2&&this.panOnlyZoomed&&t(this.targetScale)<=t(this.minScale))return;if(this.emit("touchMove",e),e.defaultPrevented)return;this.addTrackingPoint(n[0]);const{content:o}=this,a=d(r[0],r[1]),s=d(n[0],n[1]);let l=0,c=0;if(n.length>1){const e=o.getBoundingClientRect();l=a.clientX-e.left-.5*e.width,c=a.clientY-e.top-.5*e.height}const h=u(r[0],r[1]),f=u(n[0],n[1]);let p=h?f/h:1,g=s.clientX-a.clientX,m=s.clientY-a.clientY;this.dragOffset.x+=g,this.dragOffset.y+=m,this.dragOffset.time=Date.now()-this.dragStart.time;let v=t(this.targetScale)===t(this.minScale)&&this.option("lockAxis");if(v&&!this.lockedAxis)if("xy"===v||"y"===v||"touchmove"===e.type){if(Math.abs(this.dragOffset.x)<6&&Math.abs(this.dragOffset.y)<6)return void e.preventDefault();const t=Math.abs(180*Math.atan2(this.dragOffset.y,this.dragOffset.x)/Math.PI);this.lockedAxis=t>45&&t<135?"y":"x",this.dragOffset.x=0,this.dragOffset.y=0,g=0,m=0}else this.lockedAxis=v;if(i(e.target,this.content)&&(v="x",this.dragOffset.y=0),v&&"xy"!==v&&this.lockedAxis!==v&&t(this.targetScale)===t(this.minScale))return;e.cancelable&&e.preventDefault(),this.container.classList.add(this.cn("isDragging"));const b=this.checkBounds(g,m);this.option("rubberband")?("x"!==this.isInfinite&&(b.xDiff>0&&g<0||b.xDiff<0&&g>0)&&(g*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitWidth*b.xDiff))),"y"!==this.isInfinite&&(b.yDiff>0&&m<0||b.yDiff<0&&m>0)&&(m*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitHeight*b.yDiff)))):(b.xDiff&&(g=0),b.yDiff&&(m=0));const y=this.targetScale,w=this.minScale,E=this.maxScale;y<.5*w&&(p=Math.max(p,w)),y>1.5*E&&(p=Math.min(p,E)),"y"===this.lockedAxis&&t(y)===t(w)&&(g=0),"x"===this.lockedAxis&&t(y)===t(w)&&(m=0),this.applyChange({originX:l,originY:c,panX:g,panY:m,scale:p,friction:this.option("dragFriction"),ignoreBounds:!0})}onPointerUp(e,t,n){if(n.length)return this.dragOffset.x=0,this.dragOffset.y=0,void(this.trackingPoints=[]);this.container.classList.remove(this.cn("isDragging")),this.isDragging&&(this.addTrackingPoint(t),this.panOnlyZoomed&&this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1&&(this.trackingPoints=[]),i(e.target,this.content)&&"y"===this.lockedAxis&&(this.trackingPoints=[]),this.emit("touchEnd",e),this.isDragging=!1,this.lockedAxis=!1,this.state!==v.Destroy&&(e.defaultPrevented||this.startDecelAnim()))}startDecelAnim(){var e;const n=this.isScaling;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(const e of b)this.velocity[e]=0;this.target.e=this.current.e,this.target.f=this.current.f,C(this.container,"is-scaling"),C(this.container,"is-animating"),this.isTicking=!1;const{trackingPoints:i}=this,r=i[0],o=i[i.length-1];let a=0,s=0,l=0;o&&r&&(a=o.clientX-r.clientX,s=o.clientY-r.clientY,l=o.time-r.time);const c=(null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1;1!==c&&(a*=c,s*=c);let u=0,d=0,h=0,f=0,p=this.option("decelFriction");const g=this.targetScale;if(l>0){h=Math.abs(a)>3?a/(l/30):0,f=Math.abs(s)>3?s/(l/30):0;const e=this.option("maxVelocity");e&&(h=Math.max(Math.min(h,e),-1*e),f=Math.max(Math.min(f,e),-1*e))}h&&(u=h/(1/(1-p)-1)),f&&(d=f/(1/(1-p)-1)),("y"===this.option("lockAxis")||"xy"===this.option("lockAxis")&&"y"===this.lockedAxis&&t(g)===this.minScale)&&(u=h=0),("x"===this.option("lockAxis")||"xy"===this.option("lockAxis")&&"x"===this.lockedAxis&&t(g)===this.minScale)&&(d=f=0);const m=this.dragOffset.x,v=this.dragOffset.y,y=this.option("dragMinThreshold")||0;Math.abs(m)<y&&Math.abs(v)<y&&(u=d=0,h=f=0),(this.option("zoom")&&(g<this.minScale-1e-5||g>this.maxScale+1e-5)||n&&!u&&!d)&&(p=.35),this.applyChange({panX:u,panY:d,friction:p}),this.emit("decel",h,f,m,v)}onWheel(e){var t=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce(function(e,t){return Math.abs(t)>Math.abs(e)?t:e});const n=Math.max(-1,Math.min(1,t));if(this.emit("wheel",e,n),this.panMode===P)return;if(e.defaultPrevented)return;const i=this.option("wheel");"pan"===i?(e.preventDefault(),this.panOnlyZoomed&&!this.canZoomOut()||this.applyChange({panX:2*-e.deltaX,panY:2*-e.deltaY,bounce:!1})):"zoom"===i&&!1!==this.option("zoom")&&this.zoomWithWheel(e)}onMouseMove(e){this.panWithMouse(e)}onKeydown(e){"Escape"===e.key&&this.toggleFS()}onResize(){this.updateMetrics(),this.checkBounds().inBounds||this.requestTick()}setTransform(){this.emit("beforeTransform");const{current:e,target:n,content:i,contentRect:r}=this,o=Object.assign({},_);for(const i of b){const r="e"==i||"f"===i?T:1e5;o[i]=t(e[i],r),Math.abs(n[i]-e[i])<("e"==i||"f"===i?.51:.001)&&(e[i]=n[i])}let{a,b:s,c:l,d:c,e:u,f:d}=o,h=`matrix(${a}, ${s}, ${l}, ${c}, ${u}, ${d})`,f=i.parentElement instanceof HTMLPictureElement?i.parentElement:i;if(this.option("transformParent")&&(f=f.parentElement||f),f.style.transform===h)return;f.style.transform=h;const{contentWidth:p,contentHeight:g}=this.calculateContentDim();r.width=p,r.height=g,this.emit("afterTransform")}updateMetrics(e=!1){var n;if(!this||this.state===v.Destroy)return;if(this.isContentLoading)return;const i=Math.max(1,(null===(n=window.visualViewport)||void 0===n?void 0:n.scale)||1),{container:r,content:o}=this,a=o instanceof HTMLImageElement,s=r.getBoundingClientRect(),l=getComputedStyle(this.container);let c=s.width*i,u=s.height*i;const d=parseFloat(l.paddingTop)+parseFloat(l.paddingBottom),h=c-(parseFloat(l.paddingLeft)+parseFloat(l.paddingRight)),f=u-d;this.containerRect={width:c,height:u,innerWidth:h,innerHeight:f};const p=parseFloat(o.dataset.width||"")||(e=>{let t=0;return t=e instanceof HTMLImageElement?e.naturalWidth:e instanceof SVGElement?e.width.baseVal.value:Math.max(e.offsetWidth,e.scrollWidth),t||0})(o),g=parseFloat(o.dataset.height||"")||(e=>{let t=0;return t=e instanceof HTMLImageElement?e.naturalHeight:e instanceof SVGElement?e.height.baseVal.value:Math.max(e.offsetHeight,e.scrollHeight),t||0})(o);let m=this.option("width",p)||R,b=this.option("height",g)||R;const y=m===R,w=b===R;"number"!=typeof m&&(m=p),"number"!=typeof b&&(b=g),y&&(m=p*(b/g)),w&&(b=g/(p/m));let E=o.parentElement instanceof HTMLPictureElement?o.parentElement:o;this.option("transformParent")&&(E=E.parentElement||E);const S=E.getAttribute("style")||"";E.style.setProperty("transform","none","important"),a&&(E.style.width="",E.style.height=""),E.offsetHeight;const x=o.getBoundingClientRect();let C=x.width*i,O=x.height*i,_=C,T=O;C=Math.min(C,m),O=Math.min(O,b),a?({width:C,height:O}=((e,t,n,i)=>{const r=n/e,o=i/t,a=Math.min(r,o);return{width:e*=a,height:t*=a}})(m,b,C,O)):(C=Math.min(C,m),O=Math.min(O,b));let P=.5*(T-O),M=.5*(_-C);this.contentRect=Object.assign(Object.assign({},this.contentRect),{top:x.top-s.top+P,bottom:s.bottom-x.bottom+P,left:x.left-s.left+M,right:s.right-x.right+M,fitWidth:C,fitHeight:O,width:C,height:O,fullWidth:m,fullHeight:b}),E.style.cssText=S,a&&(E.style.width=`${C}px`,E.style.height=`${O}px`),this.setTransform(),!0!==e&&this.emit("refresh"),this.ignoreBounds||(t(this.targetScale)<t(this.minScale)?this.zoomTo(this.minScale,{friction:0}):this.targetScale>this.maxScale?this.zoomTo(this.maxScale,{friction:0}):this.state===v.Init||this.checkBounds().inBounds||this.requestTick()),this.updateControls()}calculateBounds(){const{contentWidth:e,contentHeight:n}=this.calculateContentDim(this.target),{targetScale:i,lockedAxis:r}=this,{fitWidth:o,fitHeight:a}=this.contentRect;let s=0,l=0,c=0,u=0;const d=this.option("infinite");if(!0===d||r&&d===r)s=-1/0,c=1/0,l=-1/0,u=1/0;else{let{containerRect:r,contentRect:d}=this,h=t(o*i,T),f=t(a*i,T),{innerWidth:p,innerHeight:g}=r;if(r.width===h&&(p=r.width),r.width===f&&(g=r.height),e>p){c=.5*(e-p),s=-1*c;let t=.5*(d.right-d.left);s+=t,c+=t}if(o>p&&e<p&&(s-=.5*(o-p),c-=.5*(o-p)),n>g){u=.5*(n-g),l=-1*u;let e=.5*(d.bottom-d.top);l+=e,u+=e}a>g&&n<g&&(s-=.5*(a-g),c-=.5*(a-g))}return{x:{min:s,max:c},y:{min:l,max:u}}}getBounds(){const e=this.option("bounds");return e!==R?e:this.calculateBounds()}updateControls(){const e=this,n=e.container,{panMode:i,contentRect:r,targetScale:o,minScale:s}=e;let l=s,c=e.option("click")||!1;c&&(l=e.getNextScale(c));let u=e.canZoomIn(),d=e.canZoomOut(),h=i===M&&!!this.option("touch"),f=d&&h;if(h&&(t(o)<t(s)&&!this.panOnlyZoomed&&(f=!0),(t(r.width,1)>t(r.fitWidth,1)||t(r.height,1)>t(r.fitHeight,1))&&(f=!0)),t(r.width*o,1)<t(r.fitWidth,1)&&(f=!1),i===P&&(f=!1),a(n,this.cn("isDraggable"),f),!this.option("zoom"))return;let p=u&&t(l)>t(o),g=!p&&!f&&d&&t(l)<t(o);a(n,this.cn("canZoomIn"),p),a(n,this.cn("canZoomOut"),g);for(const e of n.querySelectorAll("[data-panzoom-action]")){let t=!1,n=!1;switch(e.dataset.panzoomAction){case"zoomIn":u?t=!0:n=!0;break;case"zoomOut":d?t=!0:n=!0;break;case"toggleZoom":case"iterateZoom":u||d?t=!0:n=!0;const i=e.querySelector("g");i&&(i.style.display=u?"":"none")}t?(e.removeAttribute("disabled"),e.removeAttribute("tabindex")):n&&(e.setAttribute("disabled",""),e.setAttribute("tabindex","-1"))}}panTo({x:e=this.target.e,y:t=this.target.f,scale:n=this.targetScale,friction:i=this.option("friction"),angle:r=0,originX:o=0,originY:a=0,flipX:s=!1,flipY:l=!1,ignoreBounds:c=!1}){this.state!==v.Destroy&&this.applyChange({panX:e-this.target.e,panY:t-this.target.f,scale:n/this.targetScale,angle:r,originX:o,originY:a,friction:i,flipX:s,flipY:l,ignoreBounds:c})}applyChange({panX:e=0,panY:n=0,scale:i=1,angle:r=0,originX:o=-this.current.e,originY:a=-this.current.f,friction:s=this.option("friction"),flipX:l=!1,flipY:c=!1,ignoreBounds:u=!1,bounce:d=this.option("bounce")}){const h=this.state;if(h===v.Destroy)return;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.friction=s||0,this.ignoreBounds=u;const{current:f}=this,p=f.e,g=f.f,m=this.getMatrix(this.target);let y=(new DOMMatrix).translate(p,g).translate(o,a).translate(e,n);if(this.option("zoom")){if(!u){const e=this.targetScale,t=this.minScale,n=this.maxScale;e*i<t&&(i=t/e),e*i>n&&(i=n/e)}y=y.scale(i)}y=y.translate(-o,-a).translate(-p,-g).multiply(m),r&&(y=y.rotate(r)),l&&(y=y.scale(-1,1)),c&&(y=y.scale(1,-1));for(const e of b)"e"!==e&&"f"!==e&&(y[e]>this.minScale+1e-5||y[e]<this.minScale-1e-5)?this.target[e]=y[e]:this.target[e]=t(y[e],T);(this.targetScale<this.scale||Math.abs(i-1)>.1||this.panMode===P||!1===d)&&!u&&this.clampTargetBounds(),h===v.Init?this.animate():this.isResting||(this.state=v.Panning,this.requestTick())}stop(e=!1){if(this.state===v.Init||this.state===v.Destroy)return;const t=this.isTicking;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(const t of b)this.velocity[t]=0,"current"===e?this.current[t]=this.target[t]:"target"===e&&(this.target[t]=this.current[t]);this.setTransform(),C(this.container,"is-scaling"),C(this.container,"is-animating"),this.isTicking=!1,this.state=v.Ready,t&&(this.emit("endAnimation"),this.updateControls())}requestTick(){this.isTicking||(this.emit("startAnimation"),this.updateControls(),O(this.container,"is-animating"),this.isScaling&&O(this.container,"is-scaling")),this.isTicking=!0,this.rAF||(this.rAF=requestAnimationFrame(()=>this.animate()))}panWithMouse(e,n=this.option("mouseMoveFriction")){if(this.pmme=e,this.panMode!==P||!e)return;if(t(this.targetScale)<=t(this.minScale))return;this.emit("mouseMove",e);const{container:i,containerRect:r,contentRect:o}=this,a=r.width,s=r.height,l=i.getBoundingClientRect(),c=(e.clientX||0)-l.left,u=(e.clientY||0)-l.top;let{contentWidth:d,contentHeight:h}=this.calculateContentDim(this.target);const f=this.option("mouseMoveFactor");f>1&&(d!==a&&(d*=f),h!==s&&(h*=f));let p=.5*(d-a)-c/a*100/100*(d-a);p+=.5*(o.right-o.left);let g=.5*(h-s)-u/s*100/100*(h-s);g+=.5*(o.bottom-o.top),this.applyChange({panX:p-this.target.e,panY:g-this.target.f,friction:n})}zoomWithWheel(e){if(this.state===v.Destroy||this.state===v.Init)return;const n=Date.now();if(n-this.pwt<45)return void e.preventDefault();this.pwt=n;var i=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce(function(e,t){return Math.abs(t)>Math.abs(e)?t:e});const r=Math.max(-1,Math.min(1,i)),{targetScale:o,maxScale:a,minScale:s}=this;let l=o*(100+45*r)/100;t(l)<t(s)&&t(o)<=t(s)?(this.cwd+=Math.abs(r),l=s):t(l)>t(a)&&t(o)>=t(a)?(this.cwd+=Math.abs(r),l=a):(this.cwd=0,l=Math.max(Math.min(l,a),s)),this.cwd>this.option("wheelLimit")||(e.preventDefault(),t(l)!==t(o)&&this.zoomTo(l,{event:e}))}canZoomIn(){return this.option("zoom")&&(t(this.contentRect.width,1)<t(this.contentRect.fitWidth,1)||t(this.targetScale)<t(this.maxScale))}canZoomOut(){return this.option("zoom")&&t(this.targetScale)>t(this.minScale)}zoomIn(e=1.25,t){this.zoomTo(this.targetScale*e,t)}zoomOut(e=.8,t){this.zoomTo(this.targetScale*e,t)}zoomToFit(e){this.zoomTo("fit",e)}zoomToCover(e){this.zoomTo("cover",e)}zoomToFull(e){this.zoomTo("full",e)}zoomToMax(e){this.zoomTo("max",e)}toggleZoom(e){this.zoomTo(this.getNextScale("toggleZoom"),e)}toggleMax(e){this.zoomTo(this.getNextScale("toggleMax"),e)}toggleCover(e){this.zoomTo(this.getNextScale("toggleCover"),e)}iterateZoom(e){this.zoomTo("next",e)}zoomTo(e=1,{friction:t=R,originX:n=R,originY:i=R,event:r}={}){if(this.isContentLoading||this.state===v.Destroy)return;const{targetScale:o,fullScale:a,maxScale:s,coverScale:l}=this;if(this.stop(),this.panMode===P&&(r=this.pmme||r),r||n===R||i===R){const e=this.content.getBoundingClientRect(),t=this.container.getBoundingClientRect(),o=r?r.clientX:t.left+.5*t.width,a=r?r.clientY:t.top+.5*t.height;n=o-e.left-.5*e.width,i=a-e.top-.5*e.height}let c=1;"number"==typeof e?c=e:"full"===e?c=a:"cover"===e?c=l:"max"===e?c=s:"fit"===e?c=1:"next"===e&&(c=this.getNextScale("iterateZoom")),c=c/o||1,t=t===R?c>1?.15:.25:t,this.applyChange({scale:c,originX:n,originY:i,friction:t}),r&&this.panMode===P&&this.panWithMouse(r,t)}rotateCCW(){this.applyChange({angle:-90})}rotateCW(){this.applyChange({angle:90})}flipX(){this.applyChange({flipX:!0})}flipY(){this.applyChange({flipY:!0})}fitX(){this.stop("target");const{containerRect:e,contentRect:t,target:n}=this;this.applyChange({panX:.5*e.width-(t.left+.5*t.fitWidth)-n.e,panY:.5*e.height-(t.top+.5*t.fitHeight)-n.f,scale:e.width/t.fitWidth/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}fitY(){this.stop("target");const{containerRect:e,contentRect:t,target:n}=this;this.applyChange({panX:.5*e.width-(t.left+.5*t.fitWidth)-n.e,panY:.5*e.innerHeight-(t.top+.5*t.fitHeight)-n.f,scale:e.height/t.fitHeight/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}toggleFS(){const{container:e}=this,t=this.cn("inFullscreen"),n=this.cn("htmlHasFullscreen");e.classList.toggle(t);const i=e.classList.contains(t);i?(document.documentElement.classList.add(n),document.addEventListener("keydown",this.onKeydown,!0)):(document.documentElement.classList.remove(n),document.removeEventListener("keydown",this.onKeydown,!0)),this.updateMetrics(),this.emit(i?"enterFS":"exitFS")}getMatrix(e=this.current){const{a:t,b:n,c:i,d:r,e:o,f:a}=e;return new DOMMatrix([t,n,i,r,o,a])}reset(e){if(this.state!==v.Init&&this.state!==v.Destroy){this.stop("current");for(const e of b)this.target[e]=_[e];this.target.a=this.minScale,this.target.d=this.minScale,this.clampTargetBounds(),this.isResting||(this.friction=void 0===e?this.option("friction"):e,this.state=v.Panning,this.requestTick())}}destroy(){this.stop(),this.state=v.Destroy,this.detachEvents(),this.detachObserver();const{container:e,content:t}=this,n=this.option("classes")||{};for(const t of Object.values(n))e.classList.remove(t+"");t&&(t.removeEventListener("load",this.onLoad),t.removeEventListener("error",this.onError)),this.detachPlugins()}}Object.defineProperty(D,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:w}),Object.defineProperty(D,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}});const L=function(e,t){let n=!0;return(...i)=>{n&&(n=!1,e(...i),setTimeout(()=>{n=!0},t))}},F=(e,t)=>{let n=[];return e.childNodes.forEach(e=>{e.nodeType!==Node.ELEMENT_NODE||t&&!e.matches(t)||n.push(e)}),n};var I;!function(e){e[e.Init=0]="Init",e[e.Ready=1]="Ready",e[e.Destroy=2]="Destroy"}(I||(I={}));const N=e=>{if("string"==typeof e||e instanceof HTMLElement)e={html:e};else{const t=e.thumb;void 0!==t&&("string"==typeof t&&(e.thumbSrc=t),t instanceof HTMLImageElement&&(e.thumbEl=t,e.thumbElSrc=t.src,e.thumbSrc=t.src),delete e.thumb)}return Object.assign({html:"",el:null,isDom:!1,class:"",customClass:"",index:-1,dim:0,gap:0,pos:0,transition:!1},e)},z=(e={})=>Object.assign({index:-1,slides:[],dim:0,pos:-1},e);class V extends g{constructor(e,t){super(t),Object.defineProperty(this,"instance",{enumerable:!0,configurable:!0,writable:!0,value:e})}attach(){}detach(){}}class B extends V{constructor(){super(...arguments),Object.defineProperty(this,"isDynamic",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"list",{enumerable:!0,configurable:!0,writable:!0,value:null})}onRefresh(){this.refresh()}build(){let e=this.list;if(!e){e=document.createElement("ul"),O(e,this.cn("list")),e.setAttribute("role","tablist");const t=this.instance.container;t.appendChild(e),O(t,this.cn("hasDots")),this.list=e}return e}refresh(){var e;const t=this.instance.pages.length,n=Math.min(2,this.option("minCount")),i=Math.max(2e3,this.option("maxCount")),r=this.option("dynamicFrom");if(t<n||t>i)return void this.cleanup();const o="number"==typeof r&&t>5&&t>=r,s=!this.list||this.isDynamic!==o||this.list.children.length!==t;s&&this.cleanup();const l=this.build();if(a(l,this.cn("isDynamic"),!!o),s)for(let e=0;e<t;e++)l.append(this.createItem(e));let c,u=0;for(const t of[...l.children]){const n=u===this.instance.page;n&&(c=t),a(t,this.cn("isCurrent"),n),null===(e=t.children[0])||void 0===e||e.setAttribute("aria-selected",n?"true":"false");for(const e of["isBeforePrev","isPrev","isNext","isAfterNext"])C(t,this.cn(e));u++}if(c=c||l.firstChild,o&&c){const e=c.previousElementSibling,t=e&&e.previousElementSibling;O(e,this.cn("isPrev")),O(t,this.cn("isBeforePrev"));const n=c.nextElementSibling,i=n&&n.nextElementSibling;O(n,this.cn("isNext")),O(i,this.cn("isAfterNext"))}this.isDynamic=o}createItem(e=0){var t;const n=document.createElement("li");n.setAttribute("role","presentation");const i=r(this.instance.localize(this.option("dotTpl"),[["%d",e+1]]).replace(/\%i/g,e+""));return n.appendChild(i),null===(t=n.children[0])||void 0===t||t.setAttribute("role","tab"),n}cleanup(){this.list&&(this.list.remove(),this.list=null),this.isDynamic=!1,C(this.instance.container,this.cn("hasDots"))}attach(){this.instance.on(["refresh","change"],this.onRefresh)}detach(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}}Object.defineProperty(B,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{list:"f-carousel__dots",isDynamic:"is-dynamic",hasDots:"has-dots",dot:"f-carousel__dot",isBeforePrev:"is-before-prev",isPrev:"is-prev",isCurrent:"is-current",isNext:"is-next",isAfterNext:"is-after-next"},dotTpl:'<button type="button" data-carousel-page="%i" aria-label="{{GOTO}}"><span class="f-carousel__dot" aria-hidden="true"></span></button>',dynamicFrom:11,maxCount:1/0,minCount:2}});const H="disabled",q="next",$="prev";class G extends V{constructor(){super(...arguments),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"prev",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"next",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"isDom",{enumerable:!0,configurable:!0,writable:!0,value:!1})}onRefresh(){const e=this.instance,t=e.pages.length,n=e.page;if(t<2)return void this.cleanup();this.build();let i=this.prev,r=this.next;i&&r&&(i.removeAttribute(H),r.removeAttribute(H),e.isInfinite||(n<=0&&i.setAttribute(H,""),n>=t-1&&r.setAttribute(H,"")))}addBtn(e){var t;const n=this.instance,i=document.createElement("button");i.setAttribute("tabindex","0"),i.setAttribute("title",n.localize(`{{${e.toUpperCase()}}}`)),O(i,this.cn("button")+" "+this.cn(e===q?"isNext":"isPrev"));const r=n.isRTL?e===q?$:q:e;var o;return i.innerHTML=n.localize(this.option(`${r}Tpl`)),i.dataset[`carousel${o=e,o?o.match("^[a-z]")?o.charAt(0).toUpperCase()+o.substring(1):o:""}`]="true",null===(t=this.container)||void 0===t||t.appendChild(i),i}build(){const e=this.instance.container,t=this.cn("container");let{container:n,prev:i,next:r}=this;n||(n=e.querySelector("."+t),this.isDom=!!n),n||(n=document.createElement("div"),O(n,t),e.appendChild(n)),this.container=n,r||(r=n.querySelector("[data-carousel-next]")),r||(r=this.addBtn(q)),this.next=r,i||(i=n.querySelector("[data-carousel-prev]")),i||(i=this.addBtn($)),this.prev=i}cleanup(){this.isDom||(this.prev&&this.prev.remove(),this.next&&this.next.remove(),this.container&&this.container.remove()),this.prev=null,this.next=null,this.container=null,this.isDom=!1}attach(){this.instance.on(["refresh","change"],this.onRefresh)}detach(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}}Object.defineProperty(G,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{container:"f-carousel__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"},nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"/></svg>',prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"/></svg>'}});class W extends V{constructor(){super(...arguments),Object.defineProperty(this,"selectedIndex",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"target",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"nav",{enumerable:!0,configurable:!0,writable:!0,value:null})}addAsTargetFor(e){this.target=this.instance,this.nav=e,this.attachEvents()}addAsNavFor(e){this.nav=this.instance,this.target=e,this.attachEvents()}attachEvents(){const{nav:e,target:t}=this;e&&t&&(e.options.initialSlide=t.options.initialPage,e.state===I.Ready?this.onNavReady(e):e.on("ready",this.onNavReady),t.state===I.Ready?this.onTargetReady(t):t.on("ready",this.onTargetReady))}onNavReady(e){e.on("createSlide",this.onNavCreateSlide),e.on("Panzoom.click",this.onNavClick),e.on("Panzoom.touchEnd",this.onNavTouch),this.onTargetChange()}onTargetReady(e){e.on("change",this.onTargetChange),e.on("Panzoom.refresh",this.onTargetChange),this.onTargetChange()}onNavClick(e,t,n){this.onNavTouch(e,e.panzoom,n)}onNavTouch(e,t,n){var i,r;if(Math.abs(t.dragOffset.x)>3||Math.abs(t.dragOffset.y)>3)return;const o=n.target,{nav:a,target:s}=this;if(!a||!s||!o)return;const l=o.closest("[data-index]");if(n.stopPropagation(),n.preventDefault(),!l)return;const c=parseInt(l.dataset.index||"",10)||0,u=s.getPageForSlide(c),d=a.getPageForSlide(c);a.slideTo(d),s.slideTo(u,{friction:(null===(r=null===(i=this.nav)||void 0===i?void 0:i.plugins)||void 0===r?void 0:r.Sync.option("friction"))||0}),this.markSelectedSlide(c)}onNavCreateSlide(e,t){t.index===this.selectedIndex&&this.markSelectedSlide(t.index)}onTargetChange(){var e,t;const{target:n,nav:i}=this;if(!n||!i)return;if(i.state!==I.Ready||n.state!==I.Ready)return;const r=null===(t=null===(e=n.pages[n.page])||void 0===e?void 0:e.slides[0])||void 0===t?void 0:t.index,o=i.getPageForSlide(r);this.markSelectedSlide(r),i.slideTo(o,null===i.prevPage&&null===n.prevPage?{friction:0}:void 0)}markSelectedSlide(e){const t=this.nav;t&&t.state===I.Ready&&(this.selectedIndex=e,[...t.slides].map(t=>{t.el&&t.el.classList[t.index===e?"add":"remove"]("is-nav-selected")}))}attach(){const e=this;let t=e.options.target,n=e.options.nav;t?e.addAsNavFor(t):n&&e.addAsTargetFor(n)}detach(){const e=this,t=e.nav,n=e.target;t&&(t.off("ready",e.onNavReady),t.off("createSlide",e.onNavCreateSlide),t.off("Panzoom.click",e.onNavClick),t.off("Panzoom.touchEnd",e.onNavTouch)),e.nav=null,n&&(n.off("ready",e.onTargetReady),n.off("refresh",e.onTargetChange),n.off("change",e.onTargetChange)),e.target=null}}Object.defineProperty(W,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{friction:.35}});const X={Navigation:G,Dots:B,Sync:W},Y="animationend",U="isSelected",Z="slide";class K extends m{get axis(){return this.isHorizontal?"e":"f"}get isEnabled(){return this.state===I.Ready}get isInfinite(){let e=!1;const{contentDim:t,viewportDim:n,pages:i,slides:r}=this,o=r[0];return i.length>=2&&o&&t+o.dim>=n&&(e=this.option("infinite")),e}get isRTL(){return"rtl"===this.option("direction")}get isHorizontal(){return"x"===this.option("axis")}constructor(e,t={},n={}){if(super(),Object.defineProperty(this,"bp",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"lp",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"userOptions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:I.Init}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"prevPage",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"viewport",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"slides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"pages",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"panzoom",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"inTransition",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"contentDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"viewportDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),"string"==typeof e&&(e=document.querySelector(e)),!e||!x(e))throw new Error("No Element found");this.container=e,this.slideNext=L(this.slideNext.bind(this),150),this.slidePrev=L(this.slidePrev.bind(this),150),this.userOptions=t,this.userPlugins=n,queueMicrotask(()=>{this.processOptions()})}processOptions(){var e,t;const n=f({},K.defaults,this.userOptions);let i="";const r=n.breakpoints;if(r&&h(r))for(const[e,t]of Object.entries(r))window.matchMedia(e).matches&&h(t)&&(i+=e,f(n,t));i===this.bp&&this.state!==I.Init||(this.bp=i,this.state===I.Ready&&(n.initialSlide=(null===(t=null===(e=this.pages[this.page])||void 0===e?void 0:e.slides[0])||void 0===t?void 0:t.index)||0),this.state!==I.Init&&this.destroy(),super.setOptions(n),!1===this.option("enabled")?this.attachEvents():setTimeout(()=>{this.init()},0))}init(){this.state=I.Init,this.emit("init"),this.attachPlugins(Object.assign(Object.assign({},K.Plugins),this.userPlugins)),this.emit("attachPlugins"),this.initLayout(),this.initSlides(),this.updateMetrics(),this.setInitialPosition(),this.initPanzoom(),this.attachEvents(),this.state=I.Ready,this.emit("ready")}initLayout(){const{container:e}=this,t=this.option("classes");O(e,this.cn("container")),a(e,t.isLTR,!this.isRTL),a(e,t.isRTL,this.isRTL),a(e,t.isVertical,!this.isHorizontal),a(e,t.isHorizontal,this.isHorizontal);let n=this.option("viewport")||e.querySelector(`.${t.viewport}`);n||(n=document.createElement("div"),O(n,t.viewport),n.append(...F(e,`.${t.slide}`)),e.prepend(n)),n.addEventListener("scroll",this.onScroll);let i=this.option("track")||e.querySelector(`.${t.track}`);i||(i=document.createElement("div"),O(i,t.track),i.append(...Array.from(n.childNodes))),i.setAttribute("aria-live","polite"),n.contains(i)||n.prepend(i),this.viewport=n,this.track=i,this.emit("initLayout")}initSlides(){const{track:e}=this;if(!e)return;const t=[...this.slides],n=[];[...F(e,`.${this.cn(Z)}`)].forEach(e=>{if(x(e)){const t=N({el:e,isDom:!0,index:this.slides.length});n.push(t)}});for(let e of[...this.option("slides",[])||[],...t])n.push(N(e));this.slides=n;for(let e=0;e<this.slides.length;e++)this.slides[e].index=e;for(const e of n)this.emit("beforeInitSlide",e,e.index),this.emit("initSlide",e,e.index);this.emit("initSlides")}setInitialPage(){const e=this.option("initialSlide");this.page="number"==typeof e?this.getPageForSlide(e):parseInt(this.option("initialPage",0)+"",10)||0}setInitialPosition(){const{track:e,pages:t,isHorizontal:n}=this;if(!e||!t.length)return;let i=this.page;t[i]||(this.page=i=0);const r=(t[i].pos||0)*(this.isRTL&&n?1:-1),o=n?`${r}px`:"0",a=n?"0":`${r}px`;e.style.transform=`translate3d(${o}, ${a}, 0) scale(1)`,this.option("adaptiveHeight")&&this.setViewportHeight()}initPanzoom(){this.panzoom&&(this.panzoom.destroy(),this.panzoom=null);const e=this.option("Panzoom")||{};this.panzoom=new D(this.viewport,f({},{content:this.track,zoom:!1,panOnlyZoomed:!1,lockAxis:this.isHorizontal?"x":"y",infinite:this.isInfinite,click:!1,dblClick:!1,touch:e=>!(this.pages.length<2&&!e.options.infinite),bounds:()=>this.getBounds(),maxVelocity:e=>Math.abs(e.target[this.axis]-e.current[this.axis])<2*this.viewportDim?100:0},e)),this.panzoom.on("*",(e,t,...n)=>{this.emit(`Panzoom.${t}`,e,...n)}),this.panzoom.on("decel",this.onDecel),this.panzoom.on("refresh",this.onRefresh),this.panzoom.on("beforeTransform",this.onBeforeTransform),this.panzoom.on("endAnimation",this.onEndAnimation)}attachEvents(){const e=this.container;e&&(e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),e.addEventListener("slideTo",this.onSlideTo)),window.addEventListener("resize",this.onResize)}createPages(){let e=[];const{contentDim:t,viewportDim:n}=this;let i=this.option("slidesPerPage");i=("auto"===i||t<=n)&&!1!==this.option("fill")?1/0:parseFloat(i+"");let r=0,o=0,a=0;for(const t of this.slides)(!e.length||o+t.dim-n>.05||a>=i)&&(e.push(z()),r=e.length-1,o=0,a=0),e[r].slides.push(t),o+=t.dim+t.gap,a++;return e}processPages(){const e=this.pages,{contentDim:n,viewportDim:i,isInfinite:r}=this,o=this.option("center"),a=this.option("fill"),s=a&&o&&n>i&&!r;if(e.forEach((e,t)=>{var r;e.index=t,e.pos=(null===(r=e.slides[0])||void 0===r?void 0:r.pos)||0,e.dim=0;for(const[t,n]of e.slides.entries())e.dim+=n.dim,t<e.slides.length-1&&(e.dim+=n.gap);s&&e.pos+.5*e.dim<.5*i?e.pos=0:s&&e.pos+.5*e.dim>=n-.5*i?e.pos=n-i:o&&(e.pos+=-.5*(i-e.dim))}),e.forEach(e=>{a&&!r&&n>i&&(e.pos=Math.max(e.pos,0),e.pos=Math.min(e.pos,n-i)),e.pos=t(e.pos,1e3),e.dim=t(e.dim,1e3),Math.abs(e.pos)<=.1&&(e.pos=0)}),r)return e;const l=[];let c;return e.forEach(e=>{const t=Object.assign({},e);c&&t.pos===c.pos?(c.dim+=t.dim,c.slides=[...c.slides,...t.slides]):(t.index=l.length,c=t,l.push(t))}),l}getPageFromIndex(e=0){const t=this.pages.length;let n;return e=parseInt((e||0).toString())||0,n=this.isInfinite?(e%t+t)%t:Math.max(Math.min(e,t-1),0),n}getSlideMetrics(e){var n,i;const r=this.isHorizontal?"width":"height";let o=0,a=0,s=e.el;const l=!(!s||s.parentNode);if(s?o=parseFloat(s.dataset[r]||"")||0:(s=document.createElement("div"),s.style.visibility="hidden",(this.track||document.body).prepend(s)),O(s,this.cn(Z)+" "+e.class+" "+e.customClass),o)s.style[r]=`${o}px`,s.style["width"===r?"height":"width"]="";else{l&&(this.track||document.body).prepend(s),o=s.getBoundingClientRect()[r]*Math.max(1,(null===(n=window.visualViewport)||void 0===n?void 0:n.scale)||1);let e=s[this.isHorizontal?"offsetWidth":"offsetHeight"];e-1>o&&(o=e)}const c=getComputedStyle(s);return"content-box"===c.boxSizing&&(this.isHorizontal?(o+=parseFloat(c.paddingLeft)||0,o+=parseFloat(c.paddingRight)||0):(o+=parseFloat(c.paddingTop)||0,o+=parseFloat(c.paddingBottom)||0)),a=parseFloat(c[this.isHorizontal?"marginRight":"marginBottom"])||0,l?null===(i=s.parentElement)||void 0===i||i.removeChild(s):e.el||s.remove(),{dim:t(o,1e3),gap:t(a,1e3)}}getBounds(){const{isInfinite:e,isRTL:t,isHorizontal:n,pages:i}=this;let r={min:0,max:0};if(e)r={min:-1/0,max:1/0};else if(i.length){const e=i[0].pos,o=i[i.length-1].pos;r=t&&n?{min:e,max:o}:{min:-1*o,max:-1*e}}return{x:n?r:{min:0,max:0},y:n?{min:0,max:0}:r}}repositionSlides(){let e,{isHorizontal:n,isRTL:i,isInfinite:r,viewport:o,viewportDim:a,contentDim:s,page:l,pages:c,slides:u,panzoom:d}=this,h=0,f=0,p=0,g=0;d?g=-1*d.current[this.axis]:c[l]&&(g=c[l].pos||0),e=n?i?"right":"left":"top",i&&n&&(g*=-1);for(const n of u){const i=n.el;i?("top"===e?(i.style.right="",i.style.left=""):i.style.top="",n.index!==h?i.style[e]=0===f?"":`${t(f,1e3)}px`:i.style[e]="",p+=n.dim+n.gap,h++):f+=n.dim+n.gap}if(r&&p&&o){let i=getComputedStyle(o),r="padding",l=n?"Right":"Bottom",c=parseFloat(i[r+(n?"Left":"Top")]);g-=c,a+=c,a+=parseFloat(i[r+l]);for(const n of u)n.el&&(t(n.pos)<t(a)&&t(n.pos+n.dim+n.gap)<t(g)&&t(g)>t(s-a)&&(n.el.style[e]=`${t(f+p,1e3)}px`),t(n.pos+n.gap)>=t(s-a)&&t(n.pos)>t(g+a)&&t(g)<t(a)&&(n.el.style[e]=`-${t(p,1e3)}px`))}let m,v,b=[...this.inTransition];if(b.length>1&&(m=c[b[0]],v=c[b[1]]),m&&v){let n=0;for(const i of u)i.el?this.inTransition.has(i.index)&&m.slides.indexOf(i)<0&&(i.el.style[e]=`${t(n+(m.pos-v.pos),1e3)}px`):n+=i.dim+i.gap}}createSlideEl(e){const{track:t,slides:n}=this;if(!t||!e)return;if(e.el&&e.el.parentNode)return;const i=e.el||document.createElement("div");O(i,this.cn(Z)),O(i,e.class),O(i,e.customClass);const r=e.html;r&&(r instanceof HTMLElement?i.appendChild(r):i.innerHTML=e.html+"");const o=[];n.forEach((e,t)=>{e.el&&o.push(t)});const a=e.index;let s=null;o.length&&(s=n[o.reduce((e,t)=>Math.abs(t-a)<Math.abs(e-a)?t:e)]);const l=s&&s.el&&s.el.parentNode?s.index<e.index?s.el.nextSibling:s.el:null;t.insertBefore(i,t.contains(l)?l:null),e.el=i,this.emit("createSlide",e)}removeSlideEl(e,t=!1){const n=null==e?void 0:e.el;if(!n||!n.parentNode)return;const i=this.cn(U);if(n.classList.contains(i)&&(C(n,i),this.emit("unselectSlide",e)),e.isDom&&!t)return n.removeAttribute("aria-hidden"),n.removeAttribute("data-index"),void(n.style.left="");this.emit("removeSlide",e);const r=new CustomEvent(Y);n.dispatchEvent(r),e.el&&(e.el.remove(),e.el=null)}transitionTo(e=0,t=this.option("transition")){var n,i,r,o;if(!t)return!1;const a=this.page,{pages:s,panzoom:l}=this;e=parseInt((e||0).toString())||0;const c=this.getPageFromIndex(e);if(!l||!s[c]||s.length<2||Math.abs(((null===(i=null===(n=s[a])||void 0===n?void 0:n.slides[0])||void 0===i?void 0:i.dim)||0)-this.viewportDim)>1)return!1;let u=e>a?1:-1;this.isInfinite&&(0===a&&e===s.length-1&&(u=-1),a===s.length-1&&0===e&&(u=1));const d=s[c].pos*(this.isRTL?1:-1);if(a===c&&Math.abs(d-l.target[this.axis])<1)return!1;this.clearTransitions();const h=l.isResting;O(this.container,this.cn("inTransition"));const f=(null===(r=s[a])||void 0===r?void 0:r.slides[0])||null,p=(null===(o=s[c])||void 0===o?void 0:o.slides[0])||null;this.inTransition.add(p.index),this.createSlideEl(p);let g=f.el,m=p.el;h||t===Z||(t="fadeFast",g=null);const v=this.isRTL?"next":"prev",b=this.isRTL?"prev":"next";return g&&(this.inTransition.add(f.index),f.transition=t,g.addEventListener(Y,this.onAnimationEnd),g.classList.add(`f-${t}Out`,`to-${u>0?b:v}`)),m&&(p.transition=t,m.addEventListener(Y,this.onAnimationEnd),m.classList.add(`f-${t}In`,`from-${u>0?v:b}`)),l.current[this.axis]=d,l.target[this.axis]=d,l.requestTick(),this.onChange(c),!0}manageSlideVisiblity(){const e=new Set,t=new Set,n=this.getVisibleSlides(parseFloat(this.option("preload",0)+"")||0);for(const i of this.slides)n.has(i)?e.add(i):t.add(i);for(const t of this.inTransition)e.add(this.slides[t]);for(const t of e)this.createSlideEl(t),this.lazyLoadSlide(t);for(const n of t)e.has(n)||this.removeSlideEl(n);this.markSelectedSlides(),this.repositionSlides()}markSelectedSlides(){if(!this.pages[this.page]||!this.pages[this.page].slides)return;const e="aria-hidden";let t=this.cn(U);if(t)for(const n of this.slides){const i=n.el;i&&(i.dataset.index=`${n.index}`,i.classList.contains("f-thumbs__slide")?this.getVisibleSlides(0).has(n)?i.removeAttribute(e):i.setAttribute(e,"true"):this.pages[this.page].slides.includes(n)?(i.classList.contains(t)||(O(i,t),this.emit("selectSlide",n)),i.removeAttribute(e)):(i.classList.contains(t)&&(C(i,t),this.emit("unselectSlide",n)),i.setAttribute(e,"true")))}}flipInfiniteTrack(){const{axis:e,isHorizontal:t,isInfinite:n,isRTL:i,viewportDim:r,contentDim:o}=this,a=this.panzoom;if(!a||!n)return;let s=a.current[e],l=a.target[e]-s,c=0,u=.5*r;i&&t?(s<-u&&(c=-1,s+=o),s>o-u&&(c=1,s-=o)):(s>u&&(c=1,s-=o),s<-o+u&&(c=-1,s+=o)),c&&(a.current[e]=s,a.target[e]=s+l)}lazyLoadImg(e,t){const n=this,i="f-fadeIn",o="is-preloading";let a=!1,s=null;const l=()=>{a||(a=!0,s&&(s.remove(),s=null),C(t,o),t.complete&&(O(t,i),setTimeout(()=>{C(t,i)},350)),this.option("adaptiveHeight")&&e.el&&this.pages[this.page].slides.indexOf(e)>-1&&(n.updateMetrics(),n.setViewportHeight()),this.emit("load",e))};O(t,o),t.src=t.dataset.lazySrcset||t.dataset.lazySrc||"",delete t.dataset.lazySrc,delete t.dataset.lazySrcset,t.addEventListener("error",()=>{l()}),t.addEventListener("load",()=>{l()}),setTimeout(()=>{const n=t.parentNode;n&&e.el&&(t.complete?l():a||(s=r(S),n.insertBefore(s,t)))},300)}lazyLoadSlide(e){const t=e&&e.el;if(!t)return;const n=new Set;let i=Array.from(t.querySelectorAll("[data-lazy-src],[data-lazy-srcset]"));t.dataset.lazySrc&&i.push(t),i.map(e=>{e instanceof HTMLImageElement?n.add(e):e instanceof HTMLElement&&e.dataset.lazySrc&&(e.style.backgroundImage=`url('${e.dataset.lazySrc}')`,delete e.dataset.lazySrc)});for(const t of n)this.lazyLoadImg(e,t)}onAnimationEnd(e){var t;const n=e.target,i=n?parseInt(n.dataset.index||"",10)||0:-1,r=this.slides[i],o=e.animationName;if(!n||!r||!o)return;const a=!!this.inTransition.has(i)&&r.transition;a&&o.substring(0,a.length+2)===`f-${a}`&&this.inTransition.delete(i),this.inTransition.size||this.clearTransitions(),i===this.page&&(null===(t=this.panzoom)||void 0===t?void 0:t.isResting)&&this.emit("settle")}onDecel(e,t=0,n=0,i=0,r=0){if(this.option("dragFree"))return void this.setPageFromPosition();const{isRTL:o,isHorizontal:a,axis:s,pages:l}=this,c=l.length,u=Math.abs(Math.atan2(n,t)/(Math.PI/180));let d=0;if(d=u>45&&u<135?a?0:n:a?t:0,!c)return;let h=this.page,f=o&&a?1:-1;const p=e.current[s]*f;let{pageIndex:g}=this.getPageFromPosition(p);Math.abs(d)>5?(l[h].dim<document.documentElement["client"+(this.isHorizontal?"Width":"Height")]-1&&(h=g),h=o&&a?d<0?h-1:h+1:d<0?h+1:h-1):h=0===i&&0===r?h:g,this.slideTo(h,{transition:!1,friction:e.option("decelFriction")})}onClick(e){const t=e.target,n=t&&x(t)?t.dataset:null;let i,r;n&&(void 0!==n.carouselPage?(r="slideTo",i=n.carouselPage):void 0!==n.carouselNext?r="slideNext":void 0!==n.carouselPrev&&(r="slidePrev")),r?(e.preventDefault(),e.stopPropagation(),t&&!t.hasAttribute("disabled")&&this[r](i)):this.emit("click",e)}onSlideTo(e){const t=e.detail||0;this.slideTo(this.getPageForSlide(t),{friction:0})}onChange(e,t=0){const n=this.page;this.prevPage=n,this.page=e,this.option("adaptiveHeight")&&this.setViewportHeight(),e!==n&&(this.markSelectedSlides(),this.emit("change",e,n,t))}onRefresh(){let e=this.contentDim,t=this.viewportDim;this.updateMetrics(),this.contentDim===e&&this.viewportDim===t||this.slideTo(this.page,{friction:0,transition:!1})}onScroll(){var e;null===(e=this.viewport)||void 0===e||e.scroll(0,0)}onResize(){this.option("breakpoints")&&this.processOptions()}onBeforeTransform(e){this.lp!==e.current[this.axis]&&(this.flipInfiniteTrack(),this.manageSlideVisiblity()),this.lp=e.current.e}onEndAnimation(){this.inTransition.size||this.emit("settle")}reInit(e=null,t=null){this.destroy(),this.state=I.Init,this.prevPage=null,this.userOptions=e||this.userOptions,this.userPlugins=t||this.userPlugins,this.processOptions()}slideTo(e=0,{friction:t=this.option("friction"),transition:n=this.option("transition")}={}){if(this.state===I.Destroy)return;e=parseInt((e||0).toString())||0;const i=this.getPageFromIndex(e),{axis:r,isHorizontal:o,isRTL:a,pages:s,panzoom:l}=this,c=s.length,u=a&&o?1:-1;if(!l||!c)return;if(this.page!==i){const t=new Event("beforeChange",{bubbles:!0,cancelable:!0});if(this.emit("beforeChange",t,e),t.defaultPrevented)return}if(this.transitionTo(e,n))return;let d=s[i].pos;if(this.isInfinite){const t=this.contentDim,n=l.target[r]*u;2===c?d+=t*Math.floor(parseFloat(e+"")/2):d=[d,d-t,d+t].reduce(function(e,t){return Math.abs(t-n)<Math.abs(e-n)?t:e})}d*=u,Math.abs(l.target[r]-d)<1||(l.panTo({x:o?d:0,y:o?0:d,friction:t}),this.onChange(i))}slideToClosest(e){if(this.panzoom){const{pageIndex:t}=this.getPageFromPosition();this.slideTo(t,e)}}slideNext(){this.slideTo(this.page+1)}slidePrev(){this.slideTo(this.page-1)}clearTransitions(){this.inTransition.clear(),C(this.container,this.cn("inTransition"));const e=["to-prev","to-next","from-prev","from-next"];for(const t of this.slides){const n=t.el;if(n){n.removeEventListener(Y,this.onAnimationEnd),n.classList.remove(...e);const i=t.transition;i&&n.classList.remove(`f-${i}Out`,`f-${i}In`)}}this.manageSlideVisiblity()}addSlide(e,t){var n,i,r,o;const a=this.panzoom,s=(null===(n=this.pages[this.page])||void 0===n?void 0:n.pos)||0,l=(null===(i=this.pages[this.page])||void 0===i?void 0:i.dim)||0,c=this.contentDim<this.viewportDim;let u=Array.isArray(t)?t:[t];const d=[];for(const e of u)d.push(N(e));this.slides.splice(e,0,...d);for(let e=0;e<this.slides.length;e++)this.slides[e].index=e;for(const e of d)this.emit("beforeInitSlide",e,e.index);if(this.page>=e&&(this.page+=d.length),this.updateMetrics(),a){const t=(null===(r=this.pages[this.page])||void 0===r?void 0:r.pos)||0,n=(null===(o=this.pages[this.page])||void 0===o?void 0:o.dim)||0,i=this.pages.length||1,u=this.isRTL?l-n:n-l,d=this.isRTL?s-t:t-s;c&&1===i?(e<=this.page&&(a.current[this.axis]-=u,a.target[this.axis]-=u),a.panTo({[this.isHorizontal?"x":"y"]:-1*t})):d&&e<=this.page&&(a.target[this.axis]-=d,a.current[this.axis]-=d,a.requestTick())}for(const e of d)this.emit("initSlide",e,e.index)}prependSlide(e){this.addSlide(0,e)}appendSlide(e){this.addSlide(this.slides.length,e)}removeSlide(e){const t=this.slides.length;e=(e%t+t)%t;const n=this.slides[e];if(n){this.removeSlideEl(n,!0),this.slides.splice(e,1);for(let e=0;e<this.slides.length;e++)this.slides[e].index=e;this.updateMetrics(),this.slideTo(this.page,{friction:0,transition:!1}),this.emit("destroySlide",n)}}updateMetrics(){const{panzoom:e,viewport:n,track:i,slides:r,isHorizontal:o,isInfinite:a}=this;if(!i)return;const s=o?"width":"height",l=o?"offsetWidth":"offsetHeight";if(n){let e=Math.max(n[l],t(n.getBoundingClientRect()[s],1e3)),i=getComputedStyle(n),r="padding",a=o?"Right":"Bottom";e-=parseFloat(i[r+(o?"Left":"Top")])+parseFloat(i[r+a]),this.viewportDim=e}let c,u=0;for(const[e,n]of r.entries()){let i=0,o=0;!n.el&&c?(i=c.dim,o=c.gap):(({dim:i,gap:o}=this.getSlideMetrics(n)),c=n),i=t(i,1e3),o=t(o,1e3),n.dim=i,n.gap=o,n.pos=u,u+=i,(a||e<r.length-1)&&(u+=o)}u=t(u,1e3),this.contentDim=u,e&&(e.contentRect[s]=u,e.contentRect[o?"fullWidth":"fullHeight"]=u),this.pages=this.createPages(),this.pages=this.processPages(),this.state===I.Init&&this.setInitialPage(),this.page=Math.max(0,Math.min(this.page,this.pages.length-1)),this.manageSlideVisiblity(),this.emit("refresh")}getProgress(e,n=!1,i=!1){void 0===e&&(e=this.page);const r=this,o=r.panzoom,a=r.contentDim,s=r.pages[e]||0;if(!s||!o)return e>this.page?-1:1;let l=-1*o.current.e,c=t((l-s.pos)/(1*s.dim),1e3),u=c,d=c;this.isInfinite&&!0!==i&&(u=t((l-s.pos+a)/(1*s.dim),1e3),d=t((l-s.pos-a)/(1*s.dim),1e3));let h=[c,u,d].reduce(function(e,t){return Math.abs(t)<Math.abs(e)?t:e});return n?h:h>1?1:h<-1?-1:h}setViewportHeight(){const{page:e,pages:t,viewport:n,isHorizontal:i}=this;if(!n||!t[e])return;let r=0;i&&this.track&&(this.track.style.height="auto",t[e].slides.forEach(e=>{e.el&&(r=Math.max(r,e.el.offsetHeight))})),n.style.height=r?`${r}px`:""}getPageForSlide(e){for(const t of this.pages)for(const n of t.slides)if(n.index===e)return t.index;return-1}getVisibleSlides(e=0){var t;const n=new Set;let{panzoom:i,contentDim:r,viewportDim:o,pages:a,page:s}=this;if(o){r=r+(null===(t=this.slides[this.slides.length-1])||void 0===t?void 0:t.gap)||0;let l=0;l=i&&i.state!==v.Init&&i.state!==v.Destroy?-1*i.current[this.axis]:a[s]&&a[s].pos||0,this.isInfinite&&(l-=Math.floor(l/r)*r),this.isRTL&&this.isHorizontal&&(l*=-1);const c=l-o*e,u=l+o*(e+1),d=this.isInfinite?[-1,0,1]:[0];for(const e of this.slides)for(const t of d){const i=e.pos+t*r,o=i+e.dim+e.gap;i<u&&o>c&&n.add(e)}}return n}getPageFromPosition(e){const{viewportDim:t,contentDim:n,slides:i,pages:r,panzoom:o}=this,a=r.length,s=i.length,l=i[0],c=i[s-1],u=this.option("center");let d=0,h=0,f=0,p=void 0===e?-1*((null==o?void 0:o.target[this.axis])||0):e;u&&(p+=.5*t),this.isInfinite?(p<l.pos-.5*c.gap&&(p-=n,f=-1),p>c.pos+c.dim+.5*c.gap&&(p-=n,f=1)):p=Math.max(l.pos||0,Math.min(p,c.pos));let g=c,m=i.find(e=>{const t=e.pos-.5*g.gap,n=e.pos+e.dim+.5*e.gap;return g=e,p>=t&&p<n});return m||(m=c),h=this.getPageForSlide(m.index),d=h+f*a,{page:d,pageIndex:h}}setPageFromPosition(){const{pageIndex:e}=this.getPageFromPosition();this.onChange(e)}destroy(){if([I.Destroy].includes(this.state))return;this.state=I.Destroy;const{container:e,viewport:t,track:n,slides:i,panzoom:r}=this,o=this.option("classes");e.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),e.removeEventListener("slideTo",this.onSlideTo),window.removeEventListener("resize",this.onResize),r&&(r.destroy(),this.panzoom=null),i&&i.forEach(e=>{this.removeSlideEl(e)}),this.detachPlugins(),t&&(t.removeEventListener("scroll",this.onScroll),t.offsetParent&&n&&n.offsetParent&&t.replaceWith(...n.childNodes));for(const[t,n]of Object.entries(o))"container"!==t&&n&&e.classList.remove(n);this.track=null,this.viewport=null,this.page=0,this.slides=[];const a=this.events.get("ready");this.events=new Map,a&&this.events.set("ready",a)}}Object.defineProperty(K,"Panzoom",{enumerable:!0,configurable:!0,writable:!0,value:D}),Object.defineProperty(K,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{viewport:null,track:null,enabled:!0,slides:[],axis:"x",transition:"fade",preload:1,slidesPerPage:"auto",initialPage:0,friction:.12,Panzoom:{decelFriction:.12},center:!0,infinite:!0,fill:!0,dragFree:!1,adaptiveHeight:!1,direction:"ltr",classes:{container:"f-carousel",viewport:"f-carousel__viewport",track:"f-carousel__track",slide:"f-carousel__slide",isLTR:"is-ltr",isRTL:"is-rtl",isHorizontal:"is-horizontal",isVertical:"is-vertical",inTransition:"in-transition",isSelected:"is-selected"},l10n:{NEXT:"Next slide",PREV:"Previous slide",GOTO:"Go to slide #%d"}}}),Object.defineProperty(K,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:X});const Q=function(e){if(!x(e))return 0;const t=window.scrollY,n=window.innerHeight,i=t+n,r=e.getBoundingClientRect(),o=r.y+t,a=r.height,s=o+a;if(t>s||i<o)return 0;if(t<o&&i>s)return 100;if(o<t&&s>i)return 100;let l=a;o<t&&(l-=t-o),s>i&&(l-=s-i);const c=l/n*100;return Math.round(c)},J=!("undefined"==typeof window||!window.document||!window.document.createElement);let ee;const te=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden]):not(.fancybox-focus-guard)","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"]):not([disabled]):not([aria-hidden])'].join(","),ne=e=>{if(e&&J){void 0===ee&&document.createElement("div").focus({get preventScroll(){return ee=!0,!1}});try{if(ee)e.focus({preventScroll:!0});else{const t=window.scrollY||document.body.scrollTop,n=window.scrollX||document.body.scrollLeft;e.focus(),document.body.scrollTo({top:t,left:n,behavior:"auto"})}}catch(e){}}},ie=()=>{const e=document;let t,n="",i="",r="";return e.fullscreenEnabled?(n="requestFullscreen",i="exitFullscreen",r="fullscreenElement"):e.webkitFullscreenEnabled&&(n="webkitRequestFullscreen",i="webkitExitFullscreen",r="webkitFullscreenElement"),n&&(t={request:function(t=e.documentElement){return"webkitRequestFullscreen"===n?t[n](Element.ALLOW_KEYBOARD_INPUT):t[n]()},exit:function(){return e[r]&&e[i]()},isFullscreen:function(){return e[r]}}),t},re={animated:!0,autoFocus:!0,backdropClick:"close",Carousel:{classes:{container:"fancybox__carousel",viewport:"fancybox__viewport",track:"fancybox__track",slide:"fancybox__slide"}},closeButton:"auto",closeExisting:!1,commonCaption:!1,compact:()=>window.matchMedia("(max-width: 578px), (max-height: 578px)").matches,contentClick:"toggleZoom",contentDblClick:!1,defaultType:"image",defaultDisplay:"flex",dragToClose:!0,Fullscreen:{autoStart:!1},groupAll:!1,groupAttr:"data-fancybox",hideClass:"f-fadeOut",hideScrollbar:!0,idle:3500,keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"prev",ArrowDown:"next",ArrowRight:"next",ArrowLeft:"prev"},l10n:Object.assign(Object.assign({},y),{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ERROR:"Something Went Wrong, Please Try Again Later",IMAGE_ERROR:"Image Not Found",ELEMENT_NOT_FOUND:"HTML Element Not Found",AJAX_NOT_FOUND:"Error Loading AJAX : Not Found",AJAX_FORBIDDEN:"Error Loading AJAX : Forbidden",IFRAME_ERROR:"Error Loading Page",TOGGLE_ZOOM:"Toggle zoom level",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_SLIDESHOW:"Toggle slideshow",TOGGLE_FULLSCREEN:"Toggle full-screen mode",DOWNLOAD:"Download"}),parentEl:null,placeFocusBack:!0,showClass:"f-zoomInUp",startIndex:0,tpl:{closeButton:'<button data-fancybox-close class="f-button is-close-btn" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M20 20L4 4m16 0L4 20"/></svg></button>',main:'<div class="fancybox__container" role="dialog" aria-modal="true" aria-label="{{MODAL}}" tabindex="-1">\n    <div class="fancybox__backdrop"></div>\n    <div class="fancybox__carousel"></div>\n    <div class="fancybox__footer"></div>\n  </div>'},trapFocus:!0,wheel:"zoom"};var oe,ae;!function(e){e[e.Init=0]="Init",e[e.Ready=1]="Ready",e[e.Closing=2]="Closing",e[e.CustomClosing=3]="CustomClosing",e[e.Destroy=4]="Destroy"}(oe||(oe={})),function(e){e[e.Loading=0]="Loading",e[e.Opening=1]="Opening",e[e.Ready=2]="Ready",e[e.Closing=3]="Closing"}(ae||(ae={}));let se="",le=!1,ce=!1,ue=null;const de=()=>{let e="",t="";const n=Ct.getInstance();if(n){const i=n.carousel,r=n.getSlide();if(i&&r){let o=r.slug||void 0,a=r.triggerEl||void 0;t=o||n.option("slug")||"",!t&&a&&a.dataset&&(t=a.dataset.fancybox||""),t&&"true"!==t&&(e="#"+t+(!o&&i.slides.length>1?"-"+(r.index+1):""))}}return{hash:e,slug:t,index:1}},he=()=>{const e=new URL(document.URL).hash,t=e.slice(1).split("-"),n=t[t.length-1],i=n&&/^\+?\d+$/.test(n)&&parseInt(t.pop()||"1",10)||1;return{hash:e,slug:t.join("-"),index:i}},fe=()=>{const{slug:e,index:t}=he();if(!e)return;let n=document.querySelector(`[data-slug="${e}"]`);if(n&&n.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),Ct.getInstance())return;const i=document.querySelectorAll(`[data-fancybox="${e}"]`);i.length&&(n=i[t-1],n&&n.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})))},pe=()=>{if(!1===Ct.defaults.Hash)return;const e=Ct.getInstance();if(!1===(null==e?void 0:e.options.Hash))return;const{slug:t,index:n}=he(),{slug:i}=de();e&&(t===i?e.jumpTo(n-1):(le=!0,e.close())),fe()},ge=()=>{ue&&clearTimeout(ue),queueMicrotask(()=>{pe()})},me=()=>{window.addEventListener("hashchange",ge,!1),setTimeout(()=>{pe()},500)};J&&(/complete|interactive|loaded/.test(document.readyState)?me():document.addEventListener("DOMContentLoaded",me));const ve="is-zooming-in";class be extends V{onCreateSlide(e,t,n){const i=this.instance.optionFor(n,"src")||"";n.el&&"image"===n.type&&"string"==typeof i&&this.setImage(n,i)}onRemoveSlide(e,t,n){n.panzoom&&n.panzoom.destroy(),n.panzoom=void 0,n.imageEl=void 0}onChange(e,t,n,i){C(this.instance.container,ve);for(const e of t.slides){const t=e.panzoom;t&&e.index!==n&&t.reset(.35)}}onClose(){var e;const t=this.instance,n=t.container,i=t.getSlide();if(!n||!n.parentElement||!i)return;const{el:r,contentEl:o,panzoom:a,thumbElSrc:s}=i;if(!r||!s||!o||!a||a.isContentLoading||a.state===v.Init||a.state===v.Destroy)return;a.updateMetrics();let l=this.getZoomInfo(i);if(!l)return;this.instance.state=oe.CustomClosing,n.classList.remove(ve),n.classList.add("is-zooming-out"),o.style.backgroundImage=`url('${s}')`;const c=n.getBoundingClientRect();1===((null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1)&&Object.assign(n.style,{position:"absolute",top:`${n.offsetTop+window.scrollY}px`,left:`${n.offsetLeft+window.scrollX}px`,bottom:"auto",right:"auto",width:`${c.width}px`,height:`${c.height}px`,overflow:"hidden"});const{x:u,y:d,scale:h,opacity:f}=l;if(f){const e=((e,t)=>{const n=t-e;return t=>1+((t-e)/n*-1||0)})(a.scale,h);a.on("afterTransform",()=>{o.style.opacity=e(a.scale)+""})}a.on("endAnimation",()=>{t.destroy()}),a.target.a=h,a.target.b=0,a.target.c=0,a.target.d=h,a.panTo({x:u,y:d,scale:h,friction:f?.2:.33,ignoreBounds:!0}),a.isResting&&t.destroy()}setImage(e,t){const n=this.instance;e.src=t,this.process(e,t).then(t=>{const{contentEl:i,imageEl:r,thumbElSrc:o,el:a}=e;if(n.isClosing()||!i||!r)return;i.offsetHeight;const s=!!n.isOpeningSlide(e)&&this.getZoomInfo(e);if(this.option("protected")&&a){a.addEventListener("contextmenu",e=>{e.preventDefault()});const e=document.createElement("div");O(e,"fancybox-protected"),i.appendChild(e)}if(o&&s){const r=t.contentRect,a=Math.max(r.fullWidth,r.fullHeight);let c=null;!s.opacity&&a>1200&&(c=document.createElement("img"),O(c,"fancybox-ghost"),c.src=o,i.appendChild(c));const u=()=>{c&&(O(c,"f-fadeFastOut"),setTimeout(()=>{c&&(c.remove(),c=null)},200))};(l=o,new Promise((e,t)=>{const n=new Image;n.onload=e,n.onerror=t,n.src=l})).then(()=>{n.hideLoading(e),e.state=ae.Opening,this.instance.emit("reveal",e),this.zoomIn(e).then(()=>{u(),this.instance.done(e)},()=>{}),c&&setTimeout(()=>{u()},a>2500?800:200)},()=>{n.hideLoading(e),n.revealContent(e)})}else{const i=this.optionFor(e,"initialSize"),r=this.optionFor(e,"zoom"),o={event:n.prevMouseMoveEvent||n.options.event,friction:r?.12:0};let a=n.optionFor(e,"showClass")||void 0,s=!0;n.isOpeningSlide(e)&&("full"===i?t.zoomToFull(o):"cover"===i?t.zoomToCover(o):"max"===i?t.zoomToMax(o):s=!1,t.stop("current")),s&&a&&(a=t.isDragging?"f-fadeIn":""),n.hideLoading(e),n.revealContent(e,a)}var l},()=>{n.setError(e,"{{IMAGE_ERROR}}")})}process(e,t){return new Promise((n,i)=>{var o;const a=this.instance,s=e.el;a.clearContent(e),a.showLoading(e);let l=this.optionFor(e,"content");if("string"==typeof l&&(l=r(l)),!l||!x(l)){if(l=document.createElement("img"),l instanceof HTMLImageElement){let n="",i=e.caption;n="string"==typeof i&&i?i.replace(/<[^>]+>/gi,"").substring(0,1e3):`Image ${e.index+1} of ${(null===(o=a.carousel)||void 0===o?void 0:o.pages.length)||1}`,l.src=t||"",l.alt=n,l.draggable=!1,e.srcset&&l.setAttribute("srcset",e.srcset),this.instance.isOpeningSlide(e)&&(l.fetchPriority="high")}e.sizes&&l.setAttribute("sizes",e.sizes)}O(l,"fancybox-image"),e.imageEl=l,a.setContent(e,l,!1),e.panzoom=new D(s,f({transformParent:!0},this.option("Panzoom")||{},{content:l,width:(t,n)=>a.optionFor(e,"width","auto",n)||"auto",height:(t,n)=>a.optionFor(e,"height","auto",n)||"auto",wheel:()=>{const e=a.option("wheel");return("zoom"===e||"pan"==e)&&e},click:(t,n)=>{var i,r;if(a.isCompact||a.isClosing())return!1;if(e.index!==(null===(i=a.getSlide())||void 0===i?void 0:i.index))return!1;if(n){const e=n.composedPath()[0];if(["A","BUTTON","TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].includes(e.nodeName))return!1}let o=!n||n.target&&(null===(r=e.contentEl)||void 0===r?void 0:r.contains(n.target));return a.option(o?"contentClick":"backdropClick")||!1},dblClick:()=>a.isCompact?"toggleZoom":a.option("contentDblClick")||!1,spinner:!1,panOnlyZoomed:!0,wheelLimit:1/0,on:{ready:e=>{n(e)},error:()=>{i()},destroy:()=>{i()}}}))})}zoomIn(e){return new Promise((t,n)=>{const i=this.instance,r=i.container,{panzoom:o,contentEl:a,el:s}=e;o&&o.updateMetrics();const l=this.getZoomInfo(e);if(!(l&&s&&a&&o&&r))return void n();const{x:c,y:u,scale:d,opacity:h}=l,f=()=>{e.state!==ae.Closing&&(h&&(a.style.opacity=Math.max(Math.min(1,1-(1-o.scale)/(1-d)),0)+""),o.scale>=1&&o.scale>o.targetScale-.1&&t(o))},p=e=>{(e.scale<.99||e.scale>1.01)&&!e.isDragging||(C(r,ve),a.style.opacity="",e.off("endAnimation",p),e.off("touchStart",p),e.off("afterTransform",f),t(e))};o.on("endAnimation",p),o.on("touchStart",p),o.on("afterTransform",f),o.on(["error","destroy"],()=>{n()}),o.panTo({x:c,y:u,scale:d,friction:0,ignoreBounds:!0}),o.stop("current");const g={event:"mousemove"===o.panMode?i.prevMouseMoveEvent||i.options.event:void 0},m=this.optionFor(e,"initialSize");O(r,ve),i.hideLoading(e),"full"===m?o.zoomToFull(g):"cover"===m?o.zoomToCover(g):"max"===m?o.zoomToMax(g):o.reset(.172)})}getZoomInfo(e){const{el:t,imageEl:n,thumbEl:i,panzoom:r}=e,o=this.instance,a=o.container;if(!t||!n||!i||!r||Q(i)<3||!this.optionFor(e,"zoom")||!a||o.state===oe.Destroy)return!1;if("0"===getComputedStyle(a).getPropertyValue("--f-images-zoom"))return!1;const s=window.visualViewport||null;if(1!==(s?s.scale:1))return!1;let{top:l,left:c,width:u,height:d}=i.getBoundingClientRect(),{top:h,left:f,fitWidth:p,fitHeight:g}=r.contentRect;if(!(u&&d&&p&&g))return!1;const m=r.container.getBoundingClientRect();f+=m.left,h+=m.top;const v=-1*(f+.5*p-(c+.5*u)),b=-1*(h+.5*g-(l+.5*d)),y=u/p;let w=this.option("zoomOpacity")||!1;return"auto"===w&&(w=Math.abs(u/d-p/g)>.1),{x:v,y:b,scale:y,opacity:w}}attach(){const e=this,t=e.instance;t.on("Carousel.change",e.onChange),t.on("Carousel.createSlide",e.onCreateSlide),t.on("Carousel.removeSlide",e.onRemoveSlide),t.on("close",e.onClose)}detach(){const e=this,t=e.instance;t.off("Carousel.change",e.onChange),t.off("Carousel.createSlide",e.onCreateSlide),t.off("Carousel.removeSlide",e.onRemoveSlide),t.off("close",e.onClose)}}Object.defineProperty(be,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{initialSize:"fit",Panzoom:{maxScale:1},protected:!1,zoom:!0,zoomOpacity:"auto"}}),"function"==typeof SuppressedError&&SuppressedError;const ye="html",we="image",Ee="map",Se="youtube",xe="vimeo",Ce="html5video",Oe=(e,t={})=>{const n=new URL(e),i=new URLSearchParams(n.search),r=new URLSearchParams;for(const[e,n]of[...i,...Object.entries(t)]){let t=n+"";if("t"===e){let e=t.match(/((\d*)m)?(\d*)s?/);e&&r.set("start",60*parseInt(e[2]||"0")+parseInt(e[3]||"0")+"")}else r.set(e,t)}let o=r+"",a=e.match(/#t=((.*)?\d+s)/);return a&&(o+=`#t=${a[1]}`),o},_e=["image","html","ajax","inline","clone","iframe","map","pdf","html5video","youtube","vimeo"];class Te extends V{onBeforeInitSlide(e,t,n){this.processType(n)}onCreateSlide(e,t,n){this.setContent(n)}onClearContent(e,t){t.xhr&&(t.xhr.abort(),t.xhr=null);const n=t.iframeEl;n&&(n.onload=n.onerror=null,n.src="//about:blank",t.iframeEl=null);const i=t.contentEl,r=t.placeholderEl;if("inline"===t.type&&i&&r)i.classList.remove("fancybox__content"),"none"!==getComputedStyle(i).getPropertyValue("display")&&(i.style.display="none"),setTimeout(()=>{r&&(i&&r.parentNode&&r.parentNode.insertBefore(i,r),r.remove())},0),t.contentEl=void 0,t.placeholderEl=void 0;else for(;t.el&&t.el.firstChild;)t.el.removeChild(t.el.firstChild)}onSelectSlide(e,t,n){n.state===ae.Ready&&this.playVideo()}onUnselectSlide(e,t,n){var i,r;if(n.type===Ce){try{null===(r=null===(i=n.el)||void 0===i?void 0:i.querySelector("video"))||void 0===r||r.pause()}catch(e){}return}let o;n.type===xe?o={method:"pause",value:"true"}:n.type===Se&&(o={event:"command",func:"pauseVideo"}),o&&n.iframeEl&&n.iframeEl.contentWindow&&n.iframeEl.contentWindow.postMessage(JSON.stringify(o),"*"),n.poller&&clearTimeout(n.poller)}onDone(e,t){e.isCurrentSlide(t)&&!e.isClosing()&&this.playVideo()}onRefresh(e,t){t.slides.forEach(e=>{e.el&&(this.resizeIframe(e),this.setAspectRatio(e))})}onMessage(e){try{let t=JSON.parse(e.data);if("https://player.vimeo.com"===e.origin){if("ready"===t.event)for(let t of Array.from(document.getElementsByClassName("fancybox__iframe")))t instanceof HTMLIFrameElement&&t.contentWindow===e.source&&(t.dataset.ready="true")}else if(e.origin.match(/^https:\/\/(www.)?youtube(-nocookie)?.com$/)&&"onReady"===t.event){const e=document.getElementById(t.id);e&&(e.dataset.ready="true")}}catch(e){}}loadAjaxContent(e){const t=this.instance.optionFor(e,"src")||"";this.instance.showLoading(e);const n=this.instance,i=new XMLHttpRequest;n.showLoading(e),i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&n.state===oe.Ready&&(n.hideLoading(e),200===i.status?n.setContent(e,i.responseText):n.setError(e,404===i.status?"{{AJAX_NOT_FOUND}}":"{{AJAX_FORBIDDEN}}"))};const r=e.ajax||null;i.open(r?"POST":"GET",t+""),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.send(r),e.xhr=i}setInlineContent(e){let t=null;if(x(e.src))t=e.src;else if("string"==typeof e.src){const n=e.src.split("#",2).pop();t=n?document.getElementById(n):null}if(t){if("clone"===e.type||t.closest(".fancybox__slide")){t=t.cloneNode(!0);const n=t.dataset.animationName;n&&(t.classList.remove(n),delete t.dataset.animationName);let i=t.getAttribute("id");i=i?`${i}--clone`:`clone-${this.instance.id}-${e.index}`,t.setAttribute("id",i)}else if(t.parentNode){const n=document.createElement("div");n.classList.add("fancybox-placeholder"),t.parentNode.insertBefore(n,t),e.placeholderEl=n}this.instance.setContent(e,t)}else this.instance.setError(e,"{{ELEMENT_NOT_FOUND}}")}setIframeContent(e){const{src:t,el:n}=e;if(!t||"string"!=typeof t||!n)return;n.classList.add("is-loading");const i=this.instance,r=document.createElement("iframe");r.className="fancybox__iframe",r.setAttribute("id",`fancybox__iframe_${i.id}_${e.index}`);for(const[t,n]of Object.entries(this.optionFor(e,"iframeAttr")||{}))r.setAttribute(t,n);r.onerror=()=>{i.setError(e,"{{IFRAME_ERROR}}")},e.iframeEl=r;const o=this.optionFor(e,"preload");if("iframe"!==e.type||!1===o)return r.setAttribute("src",e.src+""),i.setContent(e,r,!1),this.resizeIframe(e),void i.revealContent(e);i.showLoading(e),r.onload=()=>{if(!r.src.length)return;const t="true"!==r.dataset.ready;r.dataset.ready="true",this.resizeIframe(e),t?i.revealContent(e):i.hideLoading(e)},r.setAttribute("src",t),i.setContent(e,r,!1)}resizeIframe(e){const{type:t,iframeEl:n}=e;if(t===Se||t===xe)return;const i=null==n?void 0:n.parentElement;if(!n||!i)return;let r=e.autoSize;void 0===r&&(r=this.optionFor(e,"autoSize"));let o=e.width||0,a=e.height||0;o&&a&&(r=!1);const s=i&&i.style;if(!1!==e.preload&&!1!==r&&s)try{const e=window.getComputedStyle(i),t=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),r=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),l=n.contentWindow;if(l){const e=l.document,n=e.getElementsByTagName(ye)[0],i=e.body;s.width="",i.style.overflow="hidden",o=o||n.scrollWidth+t,s.width=`${o}px`,i.style.overflow="",s.flex="0 0 auto",s.height=`${i.scrollHeight}px`,a=n.scrollHeight+r}}catch(e){}if(o||a){const e={flex:"0 1 auto",width:"",height:""};o&&"auto"!==o&&(e.width=`${o}px`),a&&"auto"!==a&&(e.height=`${a}px`),Object.assign(s,e)}}playVideo(){const e=this.instance.getSlide();if(!e)return;const{el:t}=e;if(!t||!t.offsetParent)return;if(!this.optionFor(e,"videoAutoplay"))return;if(e.type===Ce)try{const e=t.querySelector("video");if(e){const t=e.play();void 0!==t&&t.then(()=>{}).catch(t=>{e.muted=!0,e.play()})}}catch(e){}if(e.type!==Se&&e.type!==xe)return;const n=()=>{if(e.iframeEl&&e.iframeEl.contentWindow){let t;if("true"===e.iframeEl.dataset.ready)return t=e.type===Se?{event:"command",func:"playVideo"}:{method:"play",value:"true"},t&&e.iframeEl.contentWindow.postMessage(JSON.stringify(t),"*"),void(e.poller=void 0);e.type===Se&&(t={event:"listening",id:e.iframeEl.getAttribute("id")},e.iframeEl.contentWindow.postMessage(JSON.stringify(t),"*"))}e.poller=setTimeout(n,250)};n()}processType(e){if(e.html)return e.type=ye,e.src=e.html,void(e.html="");const t=this.instance.optionFor(e,"src","");if(!t||"string"!=typeof t)return;let n=e.type,i=null;if(i=t.match(/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|shorts\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i)){const r=this.optionFor(e,Se),{nocookie:o}=r,a=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(r,["nocookie"]),s=`www.youtube${o?"-nocookie":""}.com`,l=Oe(t,a),c=encodeURIComponent(i[2]);e.videoId=c,e.src=`https://${s}/embed/${c}?${l}`,e.thumbSrc=e.thumbSrc||`https://i.ytimg.com/vi/${c}/mqdefault.jpg`,n=Se}else if(i=t.match(/^.+vimeo.com\/(?:\/)?([\d]+)((\/|\?h=)([a-z0-9]+))?(.*)?/)){const r=Oe(t,this.optionFor(e,xe)),o=encodeURIComponent(i[1]),a=i[4]||"";e.videoId=o,e.src=`https://player.vimeo.com/video/${o}?${a?`h=${a}${r?"&":""}`:""}${r}`,n=xe}if(!n&&e.triggerEl){const t=e.triggerEl.dataset.type;_e.includes(t)&&(n=t)}n||"string"==typeof t&&("#"===t.charAt(0)?n="inline":(i=t.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(n=Ce,e.videoFormat=e.videoFormat||"video/"+("ogv"===i[1]?"ogg":i[1])):t.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?n=we:t.match(/\.(pdf)((\?|#).*)?$/i)&&(n="pdf")),(i=t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i))?(e.src=`https://maps.google.${i[1]}/?ll=${(i[2]?i[2]+"&z="+Math.floor(parseFloat(i[3]))+(i[4]?i[4].replace(/^\//,"&"):""):i[4]+"").replace(/\?/,"&")}&output=${i[4]&&i[4].indexOf("layer=c")>0?"svembed":"embed"}`,n=Ee):(i=t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i))&&(e.src=`https://maps.google.${i[1]}/maps?q=${i[2].replace("query=","q=").replace("api=1","")}&output=embed`,n=Ee),n=n||this.instance.option("defaultType"),e.type=n,n===we&&(e.thumbSrc=e.thumbSrc||e.src)}setContent(e){const t=this.instance.optionFor(e,"src")||"";if(e&&e.type&&t){switch(e.type){case ye:this.instance.setContent(e,t);break;case Ce:const n=this.option("videoTpl");n&&this.instance.setContent(e,n.replace(/\{\{src\}\}/gi,t+"").replace(/\{\{format\}\}/gi,this.optionFor(e,"videoFormat")||"").replace(/\{\{poster\}\}/gi,e.poster||e.thumbSrc||""));break;case"inline":case"clone":this.setInlineContent(e);break;case"ajax":this.loadAjaxContent(e);break;case"pdf":case Ee:case Se:case xe:e.preload=!1;case"iframe":this.setIframeContent(e)}this.setAspectRatio(e)}}setAspectRatio(e){const t=e.contentEl;if(!(e.el&&t&&e.type&&[Se,xe,Ce].includes(e.type)))return;let n,i=e.width||"auto",r=e.height||"auto";if("auto"===i||"auto"===r){n=this.optionFor(e,"videoRatio");const t=(n+"").match(/(\d+)\s*\/\s?(\d+)/);n=t&&t.length>2?parseFloat(t[1])/parseFloat(t[2]):parseFloat(n+"")}else i&&r&&(n=i/r);if(!n)return;t.style.aspectRatio="",t.style.width="",t.style.height="",t.offsetHeight;const o=t.getBoundingClientRect(),a=o.width||1,s=o.height||1;t.style.aspectRatio=n+"",n<a/s?(r="auto"===r?s:Math.min(s,r),t.style.width="auto",t.style.height=`${r}px`):(i="auto"===i?a:Math.min(a,i),t.style.width=`${i}px`,t.style.height="auto")}attach(){const e=this,t=e.instance;t.on("Carousel.beforeInitSlide",e.onBeforeInitSlide),t.on("Carousel.createSlide",e.onCreateSlide),t.on("Carousel.selectSlide",e.onSelectSlide),t.on("Carousel.unselectSlide",e.onUnselectSlide),t.on("Carousel.Panzoom.refresh",e.onRefresh),t.on("done",e.onDone),t.on("clearContent",e.onClearContent),window.addEventListener("message",e.onMessage)}detach(){const e=this,t=e.instance;t.off("Carousel.beforeInitSlide",e.onBeforeInitSlide),t.off("Carousel.createSlide",e.onCreateSlide),t.off("Carousel.selectSlide",e.onSelectSlide),t.off("Carousel.unselectSlide",e.onUnselectSlide),t.off("Carousel.Panzoom.refresh",e.onRefresh),t.off("done",e.onDone),t.off("clearContent",e.onClearContent),window.removeEventListener("message",e.onMessage)}}Object.defineProperty(Te,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{ajax:null,autoSize:!0,iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto"},preload:!0,videoAutoplay:!0,videoRatio:16/9,videoTpl:'<video class="fancybox__html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">\n  <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos.</video>',videoFormat:"",vimeo:{byline:1,color:"00adef",controls:1,dnt:1,muted:0},youtube:{controls:1,enablejsapi:1,nocookie:1,rel:0,fs:1}}});const Pe="play",Me="pause",Ae="ready";class Re extends V{constructor(){super(...arguments),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:Ae}),Object.defineProperty(this,"inHover",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"progressBar",{enumerable:!0,configurable:!0,writable:!0,value:null})}get isActive(){return this.state!==Ae}onReady(e){this.option("autoStart")&&(e.isInfinite||e.page<e.pages.length-1)&&this.start()}onChange(){this.removeProgressBar(),this.pause()}onSettle(){this.resume()}onVisibilityChange(){"visible"===document.visibilityState?this.resume():this.pause()}onMouseEnter(){this.inHover=!0,this.pause()}onMouseLeave(){var e;this.inHover=!1,(null===(e=this.instance.panzoom)||void 0===e?void 0:e.isResting)&&this.resume()}onTimerEnd(){const e=this.instance;"play"===this.state&&(e.isInfinite||e.page!==e.pages.length-1?e.slideNext():e.slideTo(0))}removeProgressBar(){this.progressBar&&(this.progressBar.remove(),this.progressBar=null)}createProgressBar(){var e;if(!this.option("showProgress"))return null;this.removeProgressBar();const t=this.instance,n=(null===(e=t.pages[t.page])||void 0===e?void 0:e.slides)||[];let i=this.option("progressParentEl");if(i||(i=(1===n.length?n[0].el:null)||t.viewport),!i)return null;const r=document.createElement("div");return O(r,"f-progress"),i.prepend(r),this.progressBar=r,r.offsetHeight,r}set(){const e=this,t=e.instance;if(t.pages.length<2)return;if(e.timer)return;const n=e.option("timeout");e.state=Pe,O(t.container,"has-autoplay");let i=e.createProgressBar();i&&(i.style.transitionDuration=`${n}ms`,i.style.transform="scaleX(1)"),e.timer=setTimeout(()=>{e.timer=null,e.inHover||e.onTimerEnd()},n),e.emit("set")}clear(){const e=this;e.timer&&(clearTimeout(e.timer),e.timer=null),e.removeProgressBar()}start(){const e=this;if(e.set(),e.state!==Ae){if(e.option("pauseOnHover")){const t=e.instance.container;t.addEventListener("mouseenter",e.onMouseEnter,!1),t.addEventListener("mouseleave",e.onMouseLeave,!1)}document.addEventListener("visibilitychange",e.onVisibilityChange,!1),e.emit("start")}}stop(){const e=this,t=e.state,n=e.instance.container;e.clear(),e.state=Ae,n.removeEventListener("mouseenter",e.onMouseEnter,!1),n.removeEventListener("mouseleave",e.onMouseLeave,!1),document.removeEventListener("visibilitychange",e.onVisibilityChange,!1),C(n,"has-autoplay"),t!==Ae&&e.emit("stop")}pause(){const e=this;e.state===Pe&&(e.state=Me,e.clear(),e.emit(Me))}resume(){const e=this,t=e.instance;if(t.isInfinite||t.page!==t.pages.length-1)if(e.state!==Pe){if(e.state===Me&&!e.inHover){const t=new Event("resume",{bubbles:!0,cancelable:!0});e.emit("resume",t),t.defaultPrevented||e.set()}}else e.set();else e.stop()}toggle(){this.state===Pe||this.state===Me?this.stop():this.start()}attach(){const e=this,t=e.instance;t.on("ready",e.onReady),t.on("Panzoom.startAnimation",e.onChange),t.on("Panzoom.endAnimation",e.onSettle),t.on("Panzoom.touchMove",e.onChange)}detach(){const e=this,t=e.instance;t.off("ready",e.onReady),t.off("Panzoom.startAnimation",e.onChange),t.off("Panzoom.endAnimation",e.onSettle),t.off("Panzoom.touchMove",e.onChange),e.stop()}}Object.defineProperty(Re,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{autoStart:!0,pauseOnHover:!0,progressParentEl:null,showProgress:!0,timeout:3e3}});class ke extends V{constructor(){super(...arguments),Object.defineProperty(this,"ref",{enumerable:!0,configurable:!0,writable:!0,value:null})}onPrepare(e){const t=e.carousel;if(!t)return;const n=e.container;n&&(t.options.Autoplay=f({autoStart:!1},this.option("Autoplay")||{},{pauseOnHover:!1,timeout:this.option("timeout"),progressParentEl:()=>this.option("progressParentEl")||null,on:{start:()=>{e.emit("startSlideshow")},set:t=>{var i;n.classList.add("has-slideshow"),(null===(i=e.getSlide())||void 0===i?void 0:i.state)!==ae.Ready&&t.pause()},stop:()=>{n.classList.remove("has-slideshow"),e.isCompact||e.endIdle(),e.emit("endSlideshow")},resume:(t,n)=>{var i,r,o;!n||!n.cancelable||(null===(i=e.getSlide())||void 0===i?void 0:i.state)===ae.Ready&&(null===(o=null===(r=e.carousel)||void 0===r?void 0:r.panzoom)||void 0===o?void 0:o.isResting)||n.preventDefault()}}}),t.attachPlugins({Autoplay:Re}),this.ref=t.plugins.Autoplay)}onReady(e){const t=e.carousel,n=this.ref;n&&t&&this.option("playOnStart")&&(t.isInfinite||t.page<t.pages.length-1)&&n.start()}onDone(e,t){const n=this.ref,i=e.carousel;if(!n||!i)return;const r=t.panzoom;r&&r.on("startAnimation",()=>{e.isCurrentSlide(t)&&n.stop()}),e.isCurrentSlide(t)&&n.resume()}onKeydown(e,t){var n;const i=this.ref;i&&t===this.option("key")&&"BUTTON"!==(null===(n=document.activeElement)||void 0===n?void 0:n.nodeName)&&i.toggle()}attach(){const e=this,t=e.instance;t.on("Carousel.init",e.onPrepare),t.on("Carousel.ready",e.onReady),t.on("done",e.onDone),t.on("keydown",e.onKeydown)}detach(){const e=this,t=e.instance;t.off("Carousel.init",e.onPrepare),t.off("Carousel.ready",e.onReady),t.off("done",e.onDone),t.off("keydown",e.onKeydown)}}Object.defineProperty(ke,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{key:" ",playOnStart:!1,progressParentEl:e=>{var t;return(null===(t=e.instance.container)||void 0===t?void 0:t.querySelector(".fancybox__toolbar [data-fancybox-toggle-slideshow]"))||e.instance.container},timeout:3e3}});const je={classes:{container:"f-thumbs f-carousel__thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide",isResting:"is-resting",isSelected:"is-selected",isLoading:"is-loading",hasThumbs:"has-thumbs"},minCount:2,parentEl:null,thumbTpl:'<button class="f-thumbs__slide__button" tabindex="0" type="button" aria-label="{{GOTO}}" data-carousel-index="%i"><img class="f-thumbs__slide__img" data-lazy-src="{{%s}}" alt="" /></button>',type:"modern"};var De;!function(e){e[e.Init=0]="Init",e[e.Ready=1]="Ready",e[e.Hidden=2]="Hidden"}(De||(De={}));const Le="isResting",Fe="thumbWidth",Ie="thumbHeight",Ne="thumbClipWidth";let ze=class extends V{constructor(){super(...arguments),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:"modern"}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"thumbWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbClipWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbExtraGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:De.Init})}get isModern(){return"modern"===this.type}onInitSlide(e,t){const n=t.el?t.el.dataset:void 0;n&&(t.thumbSrc=n.thumbSrc||t.thumbSrc||"",t[Ne]=parseFloat(n[Ne]||"")||t[Ne]||0,t[Ie]=parseFloat(n.thumbHeight||"")||t[Ie]||0),this.addSlide(t)}onInitSlides(){this.build()}onChange(){var e;if(!this.isModern)return;const t=this.container,n=this.instance,i=n.panzoom,r=this.carousel,o=r?r.panzoom:null,s=n.page;if(i&&r&&o){if(i.isDragging){C(t,this.cn(Le));let i=(null===(e=r.pages[s])||void 0===e?void 0:e.pos)||0;i+=n.getProgress(s)*(this[Ne]+this.thumbGap);let a=o.getBounds();-1*i>a.x.min&&-1*i<a.x.max&&o.panTo({x:-1*i,friction:.12})}else a(t,this.cn(Le),i.isResting);this.shiftModern()}}onRefresh(){this.updateProps();for(const e of this.instance.slides||[])this.resizeModernSlide(e);this.shiftModern()}isDisabled(){const e=this.option("minCount")||0;if(e){const t=this.instance;let n=0;for(const e of t.slides||[])e.thumbSrc&&n++;if(n<e)return!0}const t=this.option("type");return["modern","classic"].indexOf(t)<0}getThumb(e){const t=this.option("thumbTpl")||"";return{html:this.instance.localize(t,[["%i",e.index],["%d",e.index+1],["%s",e.thumbSrc||"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"]])}}addSlide(e){const t=this.carousel;t&&t.addSlide(e.index,this.getThumb(e))}getSlides(){const e=[];for(const t of this.instance.slides||[])e.push(this.getThumb(t));return e}resizeModernSlide(e){this.isModern&&(e[Fe]=e[Ne]&&e[Ie]?Math.round(this[Ie]*(e[Ne]/e[Ie])):this[Fe])}updateProps(){const e=this.container;if(!e)return;const t=t=>parseFloat(getComputedStyle(e).getPropertyValue("--f-thumb-"+t))||0;this.thumbGap=t("gap"),this.thumbExtraGap=t("extra-gap"),this[Fe]=t("width")||40,this[Ne]=t("clip-width")||40,this[Ie]=t("height")||40}build(){const e=this;if(e.state!==De.Init)return;if(e.isDisabled())return void e.emit("disabled");const t=e.instance,n=t.container,i=e.getSlides(),r=e.option("type");e.type=r;const o=e.option("parentEl"),a=e.cn("container"),s=e.cn("track");let l=null==o?void 0:o.querySelector("."+a);l||(l=document.createElement("div"),O(l,a),o?o.appendChild(l):n.after(l)),O(l,`is-${r}`),O(n,e.cn("hasThumbs")),e.container=l,e.updateProps();let c=l.querySelector("."+s);c||(c=document.createElement("div"),O(c,e.cn("track")),l.appendChild(c)),e.track=c;const u=f({},{track:c,infinite:!1,center:!0,fill:"classic"===r,dragFree:!0,slidesPerPage:1,transition:!1,preload:.25,friction:.12,Panzoom:{maxVelocity:0},Dots:!1,Navigation:!1,classes:{container:"f-thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide"}},e.option("Carousel")||{},{Sync:{target:t},slides:i}),d=new t.constructor(l,u);d.on("createSlide",(t,n)=>{e.setProps(n.index),e.emit("createSlide",n,n.el)}),d.on("ready",()=>{e.shiftModern(),e.emit("ready")}),d.on("refresh",()=>{e.shiftModern()}),d.on("Panzoom.click",(t,n,i)=>{e.onClick(i)}),e.carousel=d,e.state=De.Ready}onClick(e){e.preventDefault(),e.stopPropagation();const t=this.instance,{pages:n,page:i}=t,r=e=>{if(e){const t=e.closest("[data-carousel-index]");if(t)return[parseInt(t.dataset.carouselIndex||"",10)||0,t]}return[-1,void 0]},o=(e,t)=>{const n=document.elementFromPoint(e,t);return n?r(n):[-1,void 0]};let[a,s]=r(e.target);if(a>-1)return;const l=this[Ne],c=e.clientX,u=e.clientY;let[d,h]=o(c-l,u),[f,p]=o(c+l,u);h&&p?(a=Math.abs(c-h.getBoundingClientRect().right)<Math.abs(c-p.getBoundingClientRect().left)?d:f,a===i&&(a=a===d?f:d)):h?a=d:p&&(a=f),a>-1&&n[a]&&t.slideTo(a)}getShift(e){var t;const n=this,{instance:i}=n,r=n.carousel;if(!i||!r)return 0;const o=n[Fe],a=n[Ne],s=n.thumbGap,l=n.thumbExtraGap;if(!(null===(t=r.slides[e])||void 0===t?void 0:t.el))return 0;const c=.5*(o-a),u=i.pages.length-1;let d=i.getProgress(0),h=i.getProgress(u),f=i.getProgress(e,!1,!0),p=0,g=c+l+s;const m=d<0&&d>-1,v=h>0&&h<1;return 0===e?(p=g*Math.abs(d),v&&1===d&&(p-=g*Math.abs(h))):e===u?(p=g*Math.abs(h)*-1,m&&-1===h&&(p+=g*Math.abs(d))):m||v?(p=-1*g,p+=g*Math.abs(d),p+=g*(1-Math.abs(h))):p=g*f,p}setProps(e){var n;const i=this;if(!i.isModern)return;const{instance:r}=i,o=i.carousel;if(r&&o){const a=null===(n=o.slides[e])||void 0===n?void 0:n.el;if(a&&a.childNodes.length){let n=t(1-Math.abs(r.getProgress(e))),o=t(i.getShift(e));a.style.setProperty("--progress",n?n+"":""),a.style.setProperty("--shift",o+"")}}}shiftModern(){const e=this;if(!e.isModern)return;const{instance:t,track:n}=e,i=t.panzoom,r=e.carousel;if(!(t&&n&&i&&r))return;if(i.state===v.Init||i.state===v.Destroy)return;for(const n of t.slides)e.setProps(n.index);let o=(e[Ne]+e.thumbGap)*(r.slides.length||0);n.style.setProperty("--width",o+"")}cleanup(){const e=this;e.carousel&&e.carousel.destroy(),e.carousel=null,e.container&&e.container.remove(),e.container=null,e.track&&e.track.remove(),e.track=null,e.state=De.Init,C(e.instance.container,e.cn("hasThumbs"))}attach(){const e=this,t=e.instance;t.on("initSlide",e.onInitSlide),t.state===I.Init?t.on("initSlides",e.onInitSlides):e.onInitSlides(),t.on(["change","Panzoom.afterTransform"],e.onChange),t.on("Panzoom.refresh",e.onRefresh)}detach(){const e=this,t=e.instance;t.off("initSlide",e.onInitSlide),t.off("initSlides",e.onInitSlides),t.off(["change","Panzoom.afterTransform"],e.onChange),t.off("Panzoom.refresh",e.onRefresh),e.cleanup()}};Object.defineProperty(ze,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:je});const Ve=Object.assign(Object.assign({},je),{key:"t",showOnStart:!0,parentEl:null}),Be="is-masked",He="aria-hidden";class qe extends V{constructor(){super(...arguments),Object.defineProperty(this,"ref",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hidden",{enumerable:!0,configurable:!0,writable:!0,value:!1})}get isEnabled(){const e=this.ref;return e&&!e.isDisabled()}get isHidden(){return this.hidden}onClick(e,t){t.stopPropagation()}onCreateSlide(e,t){var n,i,r;const o=(null===(r=null===(i=null===(n=this.instance)||void 0===n?void 0:n.carousel)||void 0===i?void 0:i.slides[t.index])||void 0===r?void 0:r.type)||"",a=t.el;if(a&&o){let e=`for-${o}`;["video","youtube","vimeo","html5video"].includes(o)&&(e+=" for-video"),O(a,e)}}onInit(){var e;const t=this,n=t.instance,i=n.carousel;if(t.ref||!i)return;const r=t.option("parentEl")||n.footer||n.container;if(!r)return;const o=f({},t.options,{parentEl:r,classes:{container:"f-thumbs fancybox__thumbs"},Carousel:{Sync:{friction:n.option("Carousel.friction")||0}},on:{ready:e=>{const n=e.container;n&&this.hidden&&(t.refresh(),n.style.transition="none",t.hide(),n.offsetHeight,queueMicrotask(()=>{n.style.transition="",t.show()}))}}});o.Carousel=o.Carousel||{},o.Carousel.on=f((null===(e=t.options.Carousel)||void 0===e?void 0:e.on)||{},{click:this.onClick,createSlide:this.onCreateSlide}),i.options.Thumbs=o,i.attachPlugins({Thumbs:ze}),t.ref=i.plugins.Thumbs,t.option("showOnStart")||(t.ref.state=De.Hidden,t.hidden=!0)}onResize(){var e;const t=null===(e=this.ref)||void 0===e?void 0:e.container;t&&(t.style.maxHeight="")}onKeydown(e,t){const n=this.option("key");n&&n===t&&this.toggle()}toggle(){const e=this.ref;if(e&&!e.isDisabled())return e.state===De.Hidden?(e.state=De.Init,void e.build()):void(this.hidden?this.show():this.hide())}show(){const e=this.ref;if(!e||e.isDisabled())return;const t=e.container;t&&(this.refresh(),t.offsetHeight,t.removeAttribute(He),t.classList.remove(Be),this.hidden=!1)}hide(){const e=this.ref,t=e&&e.container;t&&(this.refresh(),t.offsetHeight,t.classList.add(Be),t.setAttribute(He,"true")),this.hidden=!0}refresh(){const e=this.ref;if(!e||!e.state)return;const t=e.container,n=(null==t?void 0:t.firstChild)||null;t&&n&&n.childNodes.length&&(t.style.maxHeight=`${n.getBoundingClientRect().height}px`)}attach(){const e=this,t=e.instance;t.state===oe.Init?t.on("Carousel.init",e.onInit):e.onInit(),t.on("resize",e.onResize),t.on("keydown",e.onKeydown)}detach(){var e;const t=this,n=t.instance;n.off("Carousel.init",t.onInit),n.off("resize",t.onResize),n.off("keydown",t.onKeydown),null===(e=n.carousel)||void 0===e||e.detachPlugins(["Thumbs"]),t.ref=null}}Object.defineProperty(qe,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Ve});const $e={panLeft:{icon:'<svg><path d="M5 12h14M5 12l6 6M5 12l6-6"/></svg>',change:{panX:-100}},panRight:{icon:'<svg><path d="M5 12h14M13 18l6-6M13 6l6 6"/></svg>',change:{panX:100}},panUp:{icon:'<svg><path d="M12 5v14M18 11l-6-6M6 11l6-6"/></svg>',change:{panY:-100}},panDown:{icon:'<svg><path d="M12 5v14M18 13l-6 6M6 13l6 6"/></svg>',change:{panY:100}},zoomIn:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M11 8v6M8 11h6"/></svg>',action:"zoomIn"},zoomOut:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"zoomOut"},toggle1to1:{icon:'<svg><path d="M3.51 3.07c5.74.02 11.48-.02 17.22.02 1.37.1 2.34 1.64 2.18 3.13 0 4.08.02 8.16 0 12.23-.1 1.54-1.47 2.64-2.79 2.46-5.61-.01-11.24.02-16.86-.01-1.36-.12-2.33-1.65-2.17-3.14 0-4.07-.02-8.16 0-12.23.1-1.36 1.22-2.48 2.42-2.46Z"/><path d="M5.65 8.54h1.49v6.92m8.94-6.92h1.49v6.92M11.5 9.4v.02m0 5.18v0"/></svg>',action:"toggleZoom"},toggleZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"toggleZoom"},iterateZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"iterateZoom"},rotateCCW:{icon:'<svg><path d="M15 4.55a8 8 0 0 0-6 14.9M9 15v5H4M18.37 7.16v.01M13 19.94v.01M16.84 18.37v.01M19.37 15.1v.01M19.94 11v.01"/></svg>',action:"rotateCCW"},rotateCW:{icon:'<svg><path d="M9 4.55a8 8 0 0 1 6 14.9M15 15v5h5M5.63 7.16v.01M4.06 11v.01M4.63 15.1v.01M7.16 18.37v.01M11 19.94v.01"/></svg>',action:"rotateCW"},flipX:{icon:'<svg style="stroke-width: 1.3"><path d="M12 3v18M16 7v10h5L16 7M8 7v10H3L8 7"/></svg>',action:"flipX"},flipY:{icon:'<svg style="stroke-width: 1.3"><path d="M3 12h18M7 16h10L7 21v-5M7 8h10L7 3v5"/></svg>',action:"flipY"},fitX:{icon:'<svg><path d="M4 12V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v6M10 18H3M21 18h-7M6 15l-3 3 3 3M18 15l3 3-3 3"/></svg>',action:"fitX"},fitY:{icon:'<svg><path d="M12 20H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h6M18 14v7M18 3v7M15 18l3 3 3-3M15 6l3-3 3 3"/></svg>',action:"fitY"},reset:{icon:'<svg><path d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"/></svg>',action:"reset"},toggleFS:{icon:'<svg><g><path d="M14.5 9.5 21 3m0 0h-6m6 0v6M3 21l6.5-6.5M3 21v-6m0 6h6"/></g><g><path d="m14 10 7-7m-7 7h6m-6 0V4M3 21l7-7m0 0v6m0-6H4"/></g></svg>',action:"toggleFS"}};var Ge;!function(e){e[e.Init=0]="Init",e[e.Ready=1]="Ready",e[e.Disabled=2]="Disabled"}(Ge||(Ge={}));const We={tabindex:"-1",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Xe="has-toolbar",Ye="fancybox__toolbar";class Ue extends V{constructor(){super(...arguments),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:Ge.Init}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null})}onReady(e){var t;if(!e.carousel)return;let n=this.option("display"),i=this.option("absolute"),r=this.option("enabled");if("auto"===r){const e=this.instance.carousel;let t=0;if(e)for(const n of e.slides)(n.panzoom||"image"===n.type)&&t++;t||(r=!1)}r||(n=void 0);let o=0;const a={left:[],middle:[],right:[]};if(n)for(const e of["left","middle","right"])for(const i of n[e]){const n=this.createEl(i);n&&(null===(t=a[e])||void 0===t||t.push(n),o++)}let s=null;if(o&&(s=this.createContainer()),s){for(const[e,t]of Object.entries(a)){const n=document.createElement("div");O(n,Ye+"__column is-"+e);for(const e of t)n.appendChild(e);"auto"!==i||"middle"!==e||t.length||(i=!0),s.appendChild(n)}!0===i&&O(s,"is-absolute"),this.state=Ge.Ready,this.onRefresh()}else this.state=Ge.Disabled}onClick(e){var t,n;const i=this.instance,r=i.getSlide(),o=null==r?void 0:r.panzoom,a=e.target,s=a&&x(a)?a.dataset:null;if(!s)return;if(void 0!==s.fancyboxToggleThumbs)return e.preventDefault(),e.stopPropagation(),void(null===(t=i.plugins.Thumbs)||void 0===t||t.toggle());if(void 0!==s.fancyboxToggleFullscreen)return e.preventDefault(),e.stopPropagation(),void this.instance.toggleFullscreen();if(void 0!==s.fancyboxToggleSlideshow){e.preventDefault(),e.stopPropagation();const t=null===(n=i.carousel)||void 0===n?void 0:n.plugins.Autoplay;let r=t.isActive;return o&&"mousemove"===o.panMode&&!r&&o.reset(),void(r?t.stop():t.start())}const l=s.panzoomAction,c=s.panzoomChange;if((c||l)&&(e.preventDefault(),e.stopPropagation()),c){let t={};try{t=JSON.parse(c)}catch(e){}o&&o.applyChange(t)}else l&&o&&o[l]&&o[l]()}onChange(){this.onRefresh()}onRefresh(){if(this.instance.isClosing())return;const e=this.container;if(!e)return;const t=this.instance.getSlide();if(!t||t.state!==ae.Ready)return;const n=t&&!t.error&&t.panzoom;for(const t of e.querySelectorAll("[data-panzoom-action]"))n?(t.removeAttribute("disabled"),t.removeAttribute("tabindex")):(t.setAttribute("disabled",""),t.setAttribute("tabindex","-1"));let i=n&&n.canZoomIn(),r=n&&n.canZoomOut();for(const t of e.querySelectorAll('[data-panzoom-action="zoomIn"]'))i?(t.removeAttribute("disabled"),t.removeAttribute("tabindex")):(t.setAttribute("disabled",""),t.setAttribute("tabindex","-1"));for(const t of e.querySelectorAll('[data-panzoom-action="zoomOut"]'))r?(t.removeAttribute("disabled"),t.removeAttribute("tabindex")):(t.setAttribute("disabled",""),t.setAttribute("tabindex","-1"));for(const t of e.querySelectorAll('[data-panzoom-action="toggleZoom"],[data-panzoom-action="iterateZoom"]')){r||i?(t.removeAttribute("disabled"),t.removeAttribute("tabindex")):(t.setAttribute("disabled",""),t.setAttribute("tabindex","-1"));const e=t.querySelector("g");e&&(e.style.display=i?"":"none")}}onDone(e,t){var n;null===(n=t.panzoom)||void 0===n||n.on("afterTransform",()=>{this.instance.isCurrentSlide(t)&&this.onRefresh()}),this.instance.isCurrentSlide(t)&&this.onRefresh()}createContainer(){const e=this.instance.container;if(!e)return null;const t=this.option("parentEl")||e;let n=t.querySelector("."+Ye);return n||(n=document.createElement("div"),O(n,Ye),t.prepend(n)),n.addEventListener("click",this.onClick,{passive:!1,capture:!0}),e&&O(e,Xe),this.container=n,n}createEl(e){const t=this.instance,n=t.carousel;if(!n)return null;if("toggleFS"===e)return null;if("fullscreen"===e&&!ie())return null;let i=null;const o=n.slides.length||0;let a=0,s=0;for(const e of n.slides)(e.panzoom||"image"===e.type)&&a++,("image"===e.type||e.downloadSrc)&&s++;if(o<2&&["infobar","prev","next"].includes(e))return i;if(void 0!==$e[e]&&!a)return null;if("download"===e&&!s)return null;if("thumbs"===e){const e=t.plugins.Thumbs;if(!e||!e.isEnabled)return null}if("slideshow"===e&&(!n.plugins.Autoplay||o<2))return null;if(void 0!==$e[e]){const t=$e[e];i=document.createElement("button"),i.setAttribute("title",this.instance.localize(`{{${e.toUpperCase()}}}`)),O(i,"f-button"),t.action&&(i.dataset.panzoomAction=t.action),t.change&&(i.dataset.panzoomChange=JSON.stringify(t.change)),i.appendChild(r(this.instance.localize(t.icon)))}else{const t=(this.option("items")||[])[e];t&&(i=r(this.instance.localize(t.tpl)),"function"==typeof t.click&&i.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),"function"==typeof t.click&&t.click.call(this,this,e)}))}const l=null==i?void 0:i.querySelector("svg");if(l)for(const[e,t]of Object.entries(We))l.getAttribute(e)||l.setAttribute(e,String(t));return i}removeContainer(){const e=this.container;e&&e.remove(),this.container=null,this.state=Ge.Disabled;const t=this.instance.container;t&&C(t,Xe)}attach(){const e=this,t=e.instance;t.on("Carousel.initSlides",e.onReady),t.on("done",e.onDone),t.on(["reveal","Carousel.change"],e.onChange),e.onReady(e.instance)}detach(){const e=this,t=e.instance;t.off("Carousel.initSlides",e.onReady),t.off("done",e.onDone),t.off(["reveal","Carousel.change"],e.onChange),e.removeContainer()}}Object.defineProperty(Ue,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{absolute:"auto",display:{left:["infobar"],middle:[],right:["iterateZoom","slideshow","fullscreen","thumbs","close"]},enabled:"auto",items:{infobar:{tpl:'<div class="fancybox__infobar" tabindex="-1"><span data-fancybox-current-index></span>/<span data-fancybox-count></span></div>'},download:{tpl:'<a class="f-button" title="{{DOWNLOAD}}" data-fancybox-download href="javasript:;"><svg><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 11l5 5 5-5M12 4v12"/></svg></a>'},prev:{tpl:'<button class="f-button" title="{{PREV}}" data-fancybox-prev><svg><path d="m15 6-6 6 6 6"/></svg></button>'},next:{tpl:'<button class="f-button" title="{{NEXT}}" data-fancybox-next><svg><path d="m9 6 6 6-6 6"/></svg></button>'},slideshow:{tpl:'<button class="f-button" title="{{TOGGLE_SLIDESHOW}}" data-fancybox-toggle-slideshow><svg><g><path d="M8 4v16l13 -8z"></path></g><g><path d="M8 4v15M17 4v15"/></g></svg></button>'},fullscreen:{tpl:'<button class="f-button" title="{{TOGGLE_FULLSCREEN}}" data-fancybox-toggle-fullscreen><svg><g><path d="M4 8V6a2 2 0 0 1 2-2h2M4 16v2a2 2 0 0 0 2 2h2M16 4h2a2 2 0 0 1 2 2v2M16 20h2a2 2 0 0 0 2-2v-2"/></g><g><path d="M15 19v-2a2 2 0 0 1 2-2h2M15 5v2a2 2 0 0 0 2 2h2M5 15h2a2 2 0 0 1 2 2v2M5 9h2a2 2 0 0 0 2-2V5"/></g></svg></button>'},thumbs:{tpl:'<button class="f-button" title="{{TOGGLE_THUMBS}}" data-fancybox-toggle-thumbs><svg><circle cx="5.5" cy="5.5" r="1"/><circle cx="12" cy="5.5" r="1"/><circle cx="18.5" cy="5.5" r="1"/><circle cx="5.5" cy="12" r="1"/><circle cx="12" cy="12" r="1"/><circle cx="18.5" cy="12" r="1"/><circle cx="5.5" cy="18.5" r="1"/><circle cx="12" cy="18.5" r="1"/><circle cx="18.5" cy="18.5" r="1"/></svg></button>'},close:{tpl:'<button class="f-button" title="{{CLOSE}}" data-fancybox-close><svg><path d="m19.5 4.5-15 15M4.5 4.5l15 15"/></svg></button>'}},parentEl:null}});const Ze={Hash:class extends V{onReady(){le=!1}onChange(e){ue&&clearTimeout(ue);const{hash:t}=de(),{hash:n}=he(),i=e.isOpeningSlide(e.getSlide());i&&(se=n===t?"":n),t&&t!==n&&(ue=setTimeout(()=>{try{if(e.state===oe.Ready){let e="replaceState";i&&!ce&&(e="pushState",ce=!0),window.history[e]({},document.title,window.location.pathname+window.location.search+t)}}catch(e){}},300))}onClose(e){if(ue&&clearTimeout(ue),!le&&ce)return ce=!1,le=!1,void window.history.back();if(!le)try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+(se||""))}catch(e){}}attach(){const e=this.instance;e.on("ready",this.onReady),e.on(["Carousel.ready","Carousel.change"],this.onChange),e.on("close",this.onClose)}detach(){const e=this.instance;e.off("ready",this.onReady),e.off(["Carousel.ready","Carousel.change"],this.onChange),e.off("close",this.onClose)}static parseURL(){return he()}static startFromUrl(){fe()}static destroy(){window.removeEventListener("hashchange",ge,!1)}},Html:Te,Images:be,Slideshow:ke,Thumbs:qe,Toolbar:Ue},Ke="with-fancybox",Qe="hide-scrollbar",Je="--fancybox-scrollbar-compensate",et="--fancybox-body-margin",tt="aria-hidden",nt="is-using-tab",it="is-animated",rt="is-compact",ot="is-loading",at="is-opening",st="has-caption",lt="disabled",ct="tabindex",ut="download",dt="href",ht="src",ft=e=>"string"==typeof e,pt=function(){var e=window.getSelection();return!!e&&"Range"===e.type};let gt,mt=null,vt=null,bt=0,yt=0,wt=0,Et=0;const St=new Map;let xt=0;class Ct extends m{get isIdle(){return this.idle}get isCompact(){return this.option("compact")}constructor(e=[],t={},n={}){super(t),Object.defineProperty(this,"userSlides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"idle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"idleTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"ignoreFocusChange",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"startedFs",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:oe.Init}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"footer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"lastFocus",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"prevMouseMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),gt||(gt=ie()),this.id=t.id||++xt,St.set(this.id,this),this.userSlides=e,this.userPlugins=n,queueMicrotask(()=>{this.init()})}init(){if(this.state===oe.Destroy)return;this.state=oe.Init,this.attachPlugins(Object.assign(Object.assign({},Ct.Plugins),this.userPlugins)),this.emit("init"),this.emit("attachPlugins"),!0===this.option("hideScrollbar")&&(()=>{if(!J)return;const e=document,t=e.body,n=e.documentElement;if(t.classList.contains(Qe))return;let i=window.innerWidth-n.getBoundingClientRect().width;const r=parseFloat(window.getComputedStyle(t).marginRight);i<0&&(i=0),n.style.setProperty(Je,`${i}px`),r&&t.style.setProperty(et,`${r}px`),t.classList.add(Qe)})(),this.initLayout(),this.scale();const e=()=>{this.initCarousel(this.userSlides),this.state=oe.Ready,this.attachEvents(),this.emit("ready"),setTimeout(()=>{this.container&&this.container.setAttribute(tt,"false")},16)};this.option("Fullscreen.autoStart")&&gt&&!gt.isFullscreen()?gt.request().then(()=>{this.startedFs=!0,e()}).catch(()=>e()):e()}initLayout(){var e,t;const n=this.option("parentEl")||document.body,i=r(this.localize(this.option("tpl.main")||""));if(i){if(i.setAttribute("id",`fancybox-${this.id}`),i.setAttribute("aria-label",this.localize("{{MODAL}}")),i.classList.toggle(rt,this.isCompact),O(i,this.option("mainClass")||""),O(i,at),this.container=i,this.footer=i.querySelector(".fancybox__footer"),n.appendChild(i),O(document.documentElement,Ke),mt&&vt||(mt=document.createElement("span"),O(mt,"fancybox-focus-guard"),mt.setAttribute(ct,"0"),mt.setAttribute(tt,"true"),mt.setAttribute("aria-label","Focus guard"),vt=mt.cloneNode(),null===(e=i.parentElement)||void 0===e||e.insertBefore(mt,i),null===(t=i.parentElement)||void 0===t||t.append(vt)),i.addEventListener("mousedown",e=>{bt=e.pageX,yt=e.pageY,C(i,nt)}),this.option("closeExisting"))for(const e of St.values())e.id!==this.id&&e.close();else this.option("animated")&&(O(i,it),setTimeout(()=>{this.isClosing()||C(i,it)},350));this.emit("initLayout")}}initCarousel(e){const t=this.container;if(!t)return;const i=t.querySelector(".fancybox__carousel");if(!i)return;const r=this.carousel=new K(i,f({},{slides:e,transition:"fade",Panzoom:{lockAxis:this.option("dragToClose")?"xy":"x",infinite:!!this.option("dragToClose")&&"y"},Dots:!1,Navigation:{classes:{container:"fancybox__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"}},initialPage:this.option("startIndex"),l10n:this.option("l10n")},this.option("Carousel")||{}));r.on("*",(e,t,...n)=>{this.emit(`Carousel.${t}`,e,...n)}),r.on(["ready","change"],()=>{this.manageCaption()}),this.on("Carousel.removeSlide",(e,t,n)=>{this.clearContent(n),n.state=void 0}),r.on("Panzoom.touchStart",()=>{var e,t;this.isCompact||this.endIdle(),(null===(e=document.activeElement)||void 0===e?void 0:e.closest(".f-thumbs"))&&(null===(t=this.container)||void 0===t||t.focus())}),r.on("settle",()=>{this.idleTimer||this.isCompact||!this.option("idle")||this.setIdle(),this.option("autoFocus")&&!this.isClosing&&this.checkFocus()}),this.option("dragToClose")&&(r.on("Panzoom.afterTransform",(e,t)=>{const i=this.getSlide();if(i&&n(i.el))return;const r=this.container;if(r){const e=Math.abs(t.current.f),n=e<1?"":Math.max(.5,Math.min(1,1-e/t.contentRect.fitHeight*1.5));r.style.setProperty("--fancybox-ts",n?"0s":""),r.style.setProperty("--fancybox-opacity",n+"")}}),r.on("Panzoom.touchEnd",(e,t,i)=>{var r;const o=this.getSlide();if(o&&n(o.el))return;if(t.isMobile&&document.activeElement&&-1!==["TEXTAREA","INPUT"].indexOf(null===(r=document.activeElement)||void 0===r?void 0:r.nodeName))return;const a=Math.abs(t.dragOffset.y);"y"===t.lockedAxis&&(a>=200||a>=50&&t.dragOffset.time<300)&&(i&&i.cancelable&&i.preventDefault(),this.close(i,"f-throwOut"+(t.current.f<0?"Up":"Down")))})),r.on("change",e=>{var t;let n=null===(t=this.getSlide())||void 0===t?void 0:t.triggerEl;if(n){const t=new CustomEvent("slideTo",{bubbles:!0,cancelable:!0,detail:e.page});n.dispatchEvent(t)}}),r.on(["refresh","change"],e=>{const t=this.container;if(!t)return;for(const n of t.querySelectorAll("[data-fancybox-current-index]"))n.innerHTML=e.page+1;for(const n of t.querySelectorAll("[data-fancybox-count]"))n.innerHTML=e.pages.length;if(!e.isInfinite){for(const n of t.querySelectorAll("[data-fancybox-next]"))e.page<e.pages.length-1?(n.removeAttribute(lt),n.removeAttribute(ct)):(n.setAttribute(lt,""),n.setAttribute(ct,"-1"));for(const n of t.querySelectorAll("[data-fancybox-prev]"))e.page>0?(n.removeAttribute(lt),n.removeAttribute(ct)):(n.setAttribute(lt,""),n.setAttribute(ct,"-1"))}const n=this.getSlide();if(!n)return;let i=n.downloadSrc||"";i||"image"!==n.type||n.error||!ft(n[ht])||(i=n[ht]);for(const e of t.querySelectorAll("[data-fancybox-download]")){const t=n.downloadFilename;i?(e.removeAttribute(lt),e.removeAttribute(ct),e.setAttribute(dt,i),e.setAttribute(ut,t||i),e.setAttribute("target","_blank")):(e.setAttribute(lt,""),e.setAttribute(ct,"-1"),e.removeAttribute(dt),e.removeAttribute(ut))}}),this.emit("initCarousel")}attachEvents(){const e=this,t=e.container;if(!t)return;t.addEventListener("click",e.onClick,{passive:!1,capture:!1}),t.addEventListener("wheel",e.onWheel,{passive:!1,capture:!1}),document.addEventListener("keydown",e.onKeydown,{passive:!1,capture:!0}),document.addEventListener("visibilitychange",e.onVisibilityChange,!1),document.addEventListener("mousemove",e.onMousemove),e.option("trapFocus")&&document.addEventListener("focus",e.onFocus,!0),window.addEventListener("resize",e.onResize);const n=window.visualViewport;n&&(n.addEventListener("scroll",e.onResize),n.addEventListener("resize",e.onResize))}detachEvents(){const e=this,t=e.container;if(!t)return;document.removeEventListener("keydown",e.onKeydown,{passive:!1,capture:!0}),t.removeEventListener("wheel",e.onWheel,{passive:!1,capture:!1}),t.removeEventListener("click",e.onClick,{passive:!1,capture:!1}),document.removeEventListener("mousemove",e.onMousemove),window.removeEventListener("resize",e.onResize);const n=window.visualViewport;n&&(n.removeEventListener("resize",e.onResize),n.removeEventListener("scroll",e.onResize)),document.removeEventListener("visibilitychange",e.onVisibilityChange,!1),document.removeEventListener("focus",e.onFocus,!0)}scale(){const e=this.container;if(!e)return;const t=window.visualViewport,n=Math.max(1,(null==t?void 0:t.scale)||1);let i="",r="",o="";if(t&&n>1){let e=`${t.offsetLeft}px`,a=`${t.offsetTop}px`;i=t.width*n+"px",r=t.height*n+"px",o=`translate3d(${e}, ${a}, 0) scale(${1/n})`}e.style.transform=o,e.style.width=i,e.style.height=r}onClick(e){var t;const{container:n,isCompact:i}=this;if(!n||this.isClosing())return;!i&&this.option("idle")&&this.resetIdle();const r=e.composedPath()[0];if(r.closest(".fancybox-spinner")||r.closest("[data-fancybox-close]"))return e.preventDefault(),void this.close(e);if(r.closest("[data-fancybox-prev]"))return e.preventDefault(),void this.prev();if(r.closest("[data-fancybox-next]"))return e.preventDefault(),void this.next();if("click"===e.type&&0===e.detail)return;if(Math.abs(e.pageX-bt)>30||Math.abs(e.pageY-yt)>30)return;const o=document.activeElement;if(pt()&&o&&n.contains(o))return;if(i&&"image"===(null===(t=this.getSlide())||void 0===t?void 0:t.type))return void(this.clickTimer?(clearTimeout(this.clickTimer),this.clickTimer=null):this.clickTimer=setTimeout(()=>{this.toggleIdle(),this.clickTimer=null},350));if(this.emit("click",e),e.defaultPrevented)return;let a=!1;if(r.closest(".fancybox__content")){if(o){if(o.closest("[contenteditable]"))return;r.matches(te)||o.blur()}if(pt())return;a=this.option("contentClick")}else r.closest(".fancybox__carousel")&&!r.matches(te)&&(a=this.option("backdropClick"));"close"===a?(e.preventDefault(),this.close(e)):"next"===a?(e.preventDefault(),this.next()):"prev"===a&&(e.preventDefault(),this.prev())}onWheel(e){const t=e.target;let n=this.option("wheel",e);t.closest(".fancybox__thumbs")&&(n="slide");const r="slide"===n,o=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce(function(e,t){return Math.abs(t)>Math.abs(e)?t:e}),a=Math.max(-1,Math.min(1,o)),s=Date.now();this.pwt&&s-this.pwt<300?r&&e.preventDefault():(this.pwt=s,this.emit("wheel",e,a),e.defaultPrevented||("close"===n?(e.preventDefault(),this.close(e)):"slide"===n&&(i(t)||(e.preventDefault(),this[a>0?"prev":"next"]()))))}onScroll(){window.scrollTo(wt,Et)}onKeydown(e){if(!this.isTopmost())return;this.isCompact||!this.option("idle")||this.isClosing()||this.resetIdle();const t=e.key,n=this.option("keyboard");if(!n)return;const i=e.composedPath()[0],r=document.activeElement&&document.activeElement.classList,o=r&&r.contains("f-button")||i.dataset.carouselPage||i.dataset.carouselIndex;if("Escape"!==t&&!o&&x(i)&&(i.isContentEditable||-1!==["TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].indexOf(i.nodeName)))return;if("Tab"===e.key?O(this.container,nt):C(this.container,nt),e.ctrlKey||e.altKey||e.shiftKey)return;this.emit("keydown",t,e);const a=n[t];a&&"function"==typeof this[a]&&(e.preventDefault(),this[a]())}onResize(){const e=this.container;if(!e)return;const t=this.isCompact;e.classList.toggle(rt,t),this.manageCaption(this.getSlide()),this.isCompact?this.clearIdle():this.endIdle(),this.scale(),this.emit("resize")}onFocus(e){this.isTopmost()&&this.checkFocus(e)}onMousemove(e){this.prevMouseMoveEvent=e,!this.isCompact&&this.option("idle")&&this.resetIdle()}onVisibilityChange(){"visible"===document.visibilityState?this.checkFocus():this.endIdle()}manageCloseBtn(e){const t=this.optionFor(e,"closeButton")||!1;if("auto"===t){const e=this.plugins.Toolbar;if(e&&e.state===Ge.Ready)return}if(!t)return;if(!e.contentEl||e.closeBtnEl)return;const n=this.option("tpl.closeButton");if(n){const t=r(this.localize(n));e.closeBtnEl=e.contentEl.appendChild(t),e.el&&O(e.el,"has-close-btn")}}manageCaption(e=void 0){var t,n;const i="fancybox__caption",r=this.container;if(!r)return;C(r,st);const o=this.isCompact||this.option("commonCaption"),a=!o;if(this.caption&&this.stop(this.caption),a&&this.caption&&(this.caption.remove(),this.caption=null),o&&!this.caption)for(const e of(null===(t=this.carousel)||void 0===t?void 0:t.slides)||[])e.captionEl&&(e.captionEl.remove(),e.captionEl=void 0,C(e.el,st),null===(n=e.el)||void 0===n||n.removeAttribute("aria-labelledby"));if(e||(e=this.getSlide()),!e||o&&!this.isCurrentSlide(e))return;const s=e.el;let l=this.optionFor(e,"caption","");if(!l)return void(o&&this.caption&&this.animate(this.caption,"f-fadeOut",()=>{this.caption&&(this.caption.innerHTML="")}));let c=null;if(a){if(c=e.captionEl||null,s&&!c){const t=i+`_${this.id}_${e.index}`;c=document.createElement("div"),O(c,i),c.setAttribute("id",t),e.captionEl=s.appendChild(c),O(s,st),s.setAttribute("aria-labelledby",t)}}else c=this.caption,c||(c=r.querySelector("."+i)),c||(c=document.createElement("div"),c.dataset.fancyboxCaption="",O(c,i),(this.footer||r).prepend(c)),O(r,st),this.caption=c;c&&(c.innerHTML="",ft(l)||"number"==typeof l?c.innerHTML=l+"":l instanceof HTMLElement&&c.appendChild(l))}checkFocus(e){this.focus(e)}focus(e){var t;if(this.ignoreFocusChange)return;const n=document.activeElement||null,i=(null==e?void 0:e.target)||null,r=this.container,o=null===(t=this.carousel)||void 0===t?void 0:t.viewport;if(!r||!o)return;if(!e&&n&&r.contains(n))return;const a=this.getSlide(),s=a&&a.state===ae.Ready?a.el:null;if(!s||s.contains(n)||r===n)return;e&&e.cancelable&&e.preventDefault(),this.ignoreFocusChange=!0;const l=Array.from(r.querySelectorAll(te));let c=[],u=null;for(let e of l){const t=!e.offsetParent||!!e.closest('[aria-hidden="true"]'),n=s&&s.contains(e),i=!o.contains(e);if(e===r||(n||i)&&!t){c.push(e);const t=e.dataset.origTabindex;void 0!==t&&t&&(e.tabIndex=parseFloat(t)),e.removeAttribute("data-orig-tabindex"),!e.hasAttribute("autoFocus")&&u||(u=e)}else{const t=void 0===e.dataset.origTabindex?e.getAttribute("tabindex")||"":e.dataset.origTabindex;t&&(e.dataset.origTabindex=t),e.tabIndex=-1}}let d=null;e?(!i||c.indexOf(i)<0)&&(d=u||r,c.length&&(n===vt?d=c[0]:this.lastFocus!==r&&n!==mt||(d=c[c.length-1]))):d=a&&"image"===a.type?r:u||r,d&&ne(d),this.lastFocus=document.activeElement,this.ignoreFocusChange=!1}next(){const e=this.carousel;e&&e.pages.length>1&&e.slideNext()}prev(){const e=this.carousel;e&&e.pages.length>1&&e.slidePrev()}jumpTo(...e){this.carousel&&this.carousel.slideTo(...e)}isTopmost(){var e;return(null===(e=Ct.getInstance())||void 0===e?void 0:e.id)==this.id}animate(e=null,t="",n){if(!e||!t)return void(n&&n());this.stop(e);const i=r=>{r.target===e&&e.dataset.animationName&&(e.removeEventListener("animationend",i),delete e.dataset.animationName,n&&n(),C(e,t))};e.dataset.animationName=t,e.addEventListener("animationend",i),O(e,t)}stop(e){e&&e.dispatchEvent(new CustomEvent("animationend",{bubbles:!1,cancelable:!0,currentTarget:e}))}setContent(e,t="",n=!0){if(this.isClosing())return;const i=e.el;if(!i)return;let o=null;if(x(t)?o=t:(o=r(t+""),x(o)||(o=document.createElement("div"),o.innerHTML=t+"")),["img","picture","iframe","video","audio"].includes(o.nodeName.toLowerCase())){const e=document.createElement("div");e.appendChild(o),o=e}x(o)&&e.filter&&!e.error&&(o=o.querySelector(e.filter)),o&&x(o)?(O(o,"fancybox__content"),e.id&&o.setAttribute("id",e.id),i.classList.add(`has-${e.error?"error":e.type||"unknown"}`),i.prepend(o),"none"===o.style.display&&(o.style.display=""),"none"===getComputedStyle(o).getPropertyValue("display")&&(o.style.display=e.display||this.option("defaultDisplay")||"flex"),e.contentEl=o,n&&this.revealContent(e),this.manageCloseBtn(e),this.manageCaption(e)):this.setError(e,"{{ELEMENT_NOT_FOUND}}")}revealContent(e,t){const n=e.el,i=e.contentEl;n&&i&&(this.emit("reveal",e),this.hideLoading(e),e.state=ae.Opening,(t=this.isOpeningSlide(e)?void 0===t?this.optionFor(e,"showClass"):t:"f-fadeIn")?this.animate(i,t,()=>{this.done(e)}):this.done(e))}done(e){this.isClosing()||(e.state=ae.Ready,this.emit("done",e),O(e.el,"is-done"),this.isCurrentSlide(e)&&this.option("autoFocus")&&queueMicrotask(()=>{var t;null===(t=e.panzoom)||void 0===t||t.updateControls(),this.option("autoFocus")&&this.focus()}),this.isOpeningSlide(e)&&(C(this.container,at),!this.isCompact&&this.option("idle")&&this.setIdle()))}isCurrentSlide(e){const t=this.getSlide();return!(!e||!t)&&t.index===e.index}isOpeningSlide(e){var t,n;return null===(null===(t=this.carousel)||void 0===t?void 0:t.prevPage)&&e&&e.index===(null===(n=this.getSlide())||void 0===n?void 0:n.index)}showLoading(e){e.state=ae.Loading;const t=e.el;t&&(O(t,ot),this.emit("loading",e),e.spinnerEl||setTimeout(()=>{if(!this.isClosing()&&!e.spinnerEl&&e.state===ae.Loading){let n=r(S);O(n,"fancybox-spinner"),e.spinnerEl=n,t.prepend(n),this.animate(n,"f-fadeIn")}},250))}hideLoading(e){const t=e.el;if(!t)return;const n=e.spinnerEl;this.isClosing()?null==n||n.remove():(C(t,ot),n&&this.animate(n,"f-fadeOut",()=>{n.remove()}),e.state===ae.Loading&&(this.emit("loaded",e),e.state=ae.Ready))}setError(e,t){if(this.isClosing())return;const n=new Event("error",{bubbles:!0,cancelable:!0});if(this.emit("error",n,e),n.defaultPrevented)return;e.error=t,this.hideLoading(e),this.clearContent(e);const i=document.createElement("div");i.classList.add("fancybox-error"),i.innerHTML=this.localize(t||"<p>{{ERROR}}</p>"),this.setContent(e,i)}clearContent(e){if(void 0===e.state)return;this.emit("clearContent",e),e.contentEl&&(e.contentEl.remove(),e.contentEl=void 0);const t=e.el;t&&(C(t,"has-error"),C(t,"has-unknown"),C(t,`has-${e.type||"unknown"}`)),e.closeBtnEl&&e.closeBtnEl.remove(),e.closeBtnEl=void 0,e.captionEl&&e.captionEl.remove(),e.captionEl=void 0,e.spinnerEl&&e.spinnerEl.remove(),e.spinnerEl=void 0}getSlide(){var e;const t=this.carousel;return(null===(e=null==t?void 0:t.pages[null==t?void 0:t.page])||void 0===e?void 0:e.slides[0])||void 0}close(e,t){if(this.isClosing())return;const n=new Event("shouldClose",{bubbles:!0,cancelable:!0});if(this.emit("shouldClose",n,e),n.defaultPrevented)return;e&&e.cancelable&&(e.preventDefault(),e.stopPropagation());const i=()=>{this.proceedClose(e,t)};this.startedFs&&gt&&gt.isFullscreen()?Promise.resolve(gt.exit()).then(()=>i()):i()}clearIdle(){this.idleTimer&&clearTimeout(this.idleTimer),this.idleTimer=null}setIdle(e=!1){const t=()=>{this.clearIdle(),this.idle=!0,O(this.container,"is-idle"),this.emit("setIdle")};if(this.clearIdle(),!this.isClosing())if(e)t();else{const e=this.option("idle");e&&(this.idleTimer=setTimeout(t,e))}}endIdle(){this.clearIdle(),this.idle&&!this.isClosing()&&(this.idle=!1,C(this.container,"is-idle"),this.emit("endIdle"))}resetIdle(){this.endIdle(),this.setIdle()}toggleIdle(){this.idle?this.endIdle():this.setIdle(!0)}toggleFullscreen(){gt&&(gt.isFullscreen()?gt.exit():gt.request().then(()=>{this.startedFs=!0}))}isClosing(){return[oe.Closing,oe.CustomClosing,oe.Destroy].includes(this.state)}proceedClose(e,t){var n,i;this.state=oe.Closing,this.clearIdle(),this.detachEvents();const r=this.container,o=this.carousel,a=this.getSlide(),s=a&&this.option("placeFocusBack")?a.triggerEl||this.option("triggerEl"):null;if(s&&(Q(s)?ne(s):s.focus()),r&&(C(r,at),O(r,"is-closing"),r.setAttribute(tt,"true"),this.option("animated")&&O(r,it),r.style.pointerEvents="none"),o){o.clearTransitions(),null===(n=o.panzoom)||void 0===n||n.destroy(),null===(i=o.plugins.Navigation)||void 0===i||i.detach();for(const e of o.slides){e.state=ae.Closing,this.hideLoading(e);const t=e.contentEl;t&&this.stop(t);const n=null==e?void 0:e.panzoom;n&&(n.stop(),n.detachEvents(),n.detachObserver()),this.isCurrentSlide(e)||o.emit("removeSlide",e)}}wt=window.scrollX,Et=window.scrollY,window.addEventListener("scroll",this.onScroll),this.emit("close",e),this.state!==oe.CustomClosing?(void 0===t&&a&&(t=this.optionFor(a,"hideClass")),t&&a?(this.animate(a.contentEl,t,()=>{o&&o.emit("removeSlide",a)}),setTimeout(()=>{this.destroy()},500)):this.destroy()):setTimeout(()=>{this.destroy()},500)}destroy(){var e;if(this.state===oe.Destroy)return;window.removeEventListener("scroll",this.onScroll),this.state=oe.Destroy,null===(e=this.carousel)||void 0===e||e.destroy();const t=this.container;t&&t.remove(),St.delete(this.id);const n=Ct.getInstance();n?n.focus():(mt&&(mt.remove(),mt=null),vt&&(vt.remove(),vt=null),C(document.documentElement,Ke),(()=>{if(!J)return;const e=document,t=e.body;t.classList.remove(Qe),t.style.setProperty(et,""),e.documentElement.style.setProperty(Je,"")})(),this.emit("destroy"))}static bind(e,t,n){if(!J)return;let i,r="",o={};if(void 0===e?i=document.body:ft(e)?(i=document.body,r=e,"object"==typeof t&&(o=t||{})):(i=e,ft(t)&&(r=t),"object"==typeof n&&(o=n||{})),!i||!x(i))return;r=r||"[data-fancybox]";const a=Ct.openers.get(i)||new Map;a.set(r,o),Ct.openers.set(i,a),1===a.size&&i.addEventListener("click",Ct.fromEvent)}static unbind(e,t){let n,i="";if(ft(e)?(n=document.body,i=e):(n=e,ft(t)&&(i=t)),!n)return;const r=Ct.openers.get(n);r&&i&&r.delete(i),i&&r||(Ct.openers.delete(n),n.removeEventListener("click",Ct.fromEvent))}static destroy(){let e;for(;e=Ct.getInstance();)e.destroy();for(const e of Ct.openers.keys())e.removeEventListener("click",Ct.fromEvent);Ct.openers=new Map}static fromEvent(e){if(e.defaultPrevented)return;if(e.button&&0!==e.button)return;if(e.ctrlKey||e.metaKey||e.shiftKey)return;let t=e.composedPath()[0];const n=t.closest("[data-fancybox-trigger]");if(n){const e=n.dataset.fancyboxTrigger||"",i=document.querySelectorAll(`[data-fancybox="${e}"]`),r=parseInt(n.dataset.fancyboxIndex||"",10)||0;t=i[r]||t}if(!(t&&t instanceof Element))return;let i,r,o,a;if([...Ct.openers].reverse().find(([e,n])=>!(!e.contains(t)||![...n].reverse().find(([n,s])=>{let l=t.closest(n);return!!l&&(i=e,r=n,o=l,a=s,!0)}))),!i||!r||!o)return;a=a||{},e.preventDefault(),t=o;let s=[],l=f({},re,a);l.event=e,l.triggerEl=t,l.delegate=n;const c=l.groupAll,u=l.groupAttr,d=u&&t?t.getAttribute(`${u}`):"";if((!t||d||c)&&(s=[].slice.call(i.querySelectorAll(r))),t&&!c&&(s=d?s.filter(e=>e.getAttribute(`${u}`)===d):[t]),!s.length)return;const h=Ct.getInstance();return h&&h.options.triggerEl&&s.indexOf(h.options.triggerEl)>-1?void 0:(t&&(l.startIndex=s.indexOf(t)),Ct.fromNodes(s,l))}static fromSelector(e,t,n){let i=null,r="",o={};if(ft(e)?(i=document.body,r=e,"object"==typeof t&&(o=t||{})):e instanceof HTMLElement&&ft(t)&&(i=e,r=t,"object"==typeof n&&(o=n||{})),!i||!r)return!1;const a=Ct.openers.get(i);return!!a&&(o=f({},a.get(r)||{},o),!!o&&Ct.fromNodes(Array.from(i.querySelectorAll(r)),o))}static fromNodes(e,t){t=f({},re,t||{});const n=[];for(const i of e){const e=i.dataset||{},r=e[ht]||i.getAttribute(dt)||i.getAttribute("currentSrc")||i.getAttribute(ht)||void 0;let o;const a=t.delegate;let s;a&&n.length===t.startIndex&&(o=a instanceof HTMLImageElement?a:a.querySelector("img:not([aria-hidden])")),o||(o=i instanceof HTMLImageElement?i:i.querySelector("img:not([aria-hidden])")),o&&(s=o.currentSrc||o[ht]||void 0,!s&&o.dataset&&(s=o.dataset.lazySrc||o.dataset[ht]||void 0));const l={src:r,triggerEl:i,thumbEl:o,thumbElSrc:s,thumbSrc:s};for(const t in e){let n=e[t]+"";n="false"!==n&&("true"===n||n),l[t]=n}n.push(l)}return new Ct(n,t)}static getInstance(e){return e?St.get(e):Array.from(St.values()).reverse().find(e=>!e.isClosing()&&e)||null}static getSlide(){var e;return(null===(e=Ct.getInstance())||void 0===e?void 0:e.getSlide())||null}static show(e=[],t={}){return new Ct(e,t)}static next(){const e=Ct.getInstance();e&&e.next()}static prev(){const e=Ct.getInstance();e&&e.prev()}static close(e=!0,...t){if(e)for(const e of St.values())e.close(...t);else{const e=Ct.getInstance();e&&e.close(...t)}}}Object.defineProperty(Ct,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.36"}),Object.defineProperty(Ct,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:re}),Object.defineProperty(Ct,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:Ze}),Object.defineProperty(Ct,"openers",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),e.Carousel=K,e.Fancybox=Ct,e.Panzoom=D}(t)}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.ReactDOM,t=window.wp.element;window.wp.compose,window.wp.blob,n(985),window.wp.escapeHtml;const i=window.wp.i18n,r=window.wp.components,o=window.wp.apiFetch;var a=n.n(o);const s=window.wp.url,l=window.wp.data;var c=n(270),u=n.n(c),d=n(609),h=n.n(d),f=e=>"checkbox"===e.type,p=e=>e instanceof Date,g=e=>null==e;const m=e=>"object"==typeof e;var v=e=>!g(e)&&!Array.isArray(e)&&m(e)&&!p(e),b=e=>v(e)&&e.target?f(e.target)?e.target.checked:e.target.value:e,y=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),w="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function E(e){if(e instanceof Date)return new Date(e);const t="undefined"!=typeof FileList&&e instanceof FileList;if(w&&(e instanceof Blob||t))return e;const n=Array.isArray(e);if(!(n||v(e)&&(e=>{const t=e.constructor&&e.constructor.prototype;return v(t)&&t.hasOwnProperty("isPrototypeOf")})(e)))return e;const i=n?[]:Object.create(Object.getPrototypeOf(e));for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=E(e[t]));return i}var S=e=>/^\w*$/.test(e),x=e=>void 0===e,C=e=>Array.isArray(e)?e.filter(Boolean):[],O=e=>C(e.replace(/["|']|\]/g,"").split(/\.|\[/)),_=(e,t,n)=>{if(!t||!v(e))return n;const i=(S(t)?[t]:O(t)).reduce((e,t)=>g(e)?e:e[t],e);return x(i)||i===e?x(e[t])?n:e[t]:i},T=e=>"boolean"==typeof e,P=e=>"function"==typeof e,M=(e,t,n)=>{let i=-1;const r=S(t)?[t]:O(t),o=r.length,a=o-1;for(;++i<o;){const t=r[i];let o=n;if(i!==a){const n=e[t];o=v(n)||Array.isArray(n)?n:isNaN(+r[i+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=o,e=e[t]}};const A="blur",R="onChange",k="onSubmit",j="all",D="pattern",L="required",F=d.createContext(null);F.displayName="HookFormControlContext";const I=()=>d.useContext(F);var N=(e,t,n,i=!0)=>{const r={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(r,o,{get:()=>{const r=o;return t._proxyFormState[r]!==j&&(t._proxyFormState[r]=!i||j),n&&(n[r]=!0),e[r]}});return r};const z="undefined"!=typeof window?d.useLayoutEffect:d.useEffect;function V(e){const t=I(),{control:n=t,disabled:i,name:r,exact:o}=e||{},[a,s]=d.useState(n._formState),l=d.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return z(()=>n._subscribe({name:r,formState:l.current,exact:o,callback:e=>{!i&&s({...n._formState,...e})}}),[r,i,o]),d.useEffect(()=>{l.current.isValid&&n._setValid(!0)},[n]),d.useMemo(()=>N(a,n,l.current,!1),[a,n])}var B=e=>"string"==typeof e,H=(e,t,n,i,r)=>B(e)?(i&&t.watch.add(e),_(n,e,r)):Array.isArray(e)?e.map(e=>(i&&t.watch.add(e),_(n,e))):(i&&(t.watchAll=!0),n),q=e=>g(e)||!m(e);function $(e,t,n=new WeakSet){if(q(e)||q(t))return Object.is(e,t);if(p(e)&&p(t))return Object.is(e.getTime(),t.getTime());const i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const o of i){const i=e[o];if(!r.includes(o))return!1;if("ref"!==o){const e=t[o];if(p(i)&&p(e)||v(i)&&v(e)||Array.isArray(i)&&Array.isArray(e)?!$(i,e,n):!Object.is(i,e))return!1}}return!0}function G(e){const t=I(),{control:n=t,name:i,defaultValue:r,disabled:o,exact:a,compute:s}=e||{},l=d.useRef(r),c=d.useRef(s),u=d.useRef(void 0),h=d.useRef(n),f=d.useRef(i);c.current=s;const[p,g]=d.useState(()=>{const e=n._getWatch(i,l.current);return c.current?c.current(e):e}),m=d.useCallback(e=>{const t=H(i,n._names,e||n._formValues,!1,l.current);return c.current?c.current(t):t},[n._formValues,n._names,i]),v=d.useCallback(e=>{if(!o){const t=H(i,n._names,e||n._formValues,!1,l.current);if(c.current){const e=c.current(t);$(e,u.current)||(g(e),u.current=e)}else g(t)}},[n._formValues,n._names,o,i]);z(()=>(h.current===n&&$(f.current,i)||(h.current=n,f.current=i,v()),n._subscribe({name:i,formState:{values:!0},exact:a,callback:e=>{v(e.values)}})),[n,a,i,v]),d.useEffect(()=>n._removeUnmounted());const b=h.current!==n,y=f.current,w=d.useMemo(()=>{if(o)return null;const e=!b&&!$(y,i);return b||e?m():null},[o,b,i,y,m]);return null!==w?w:p}const W=e=>e.render(function(e){const t=I(),{name:n,disabled:i,control:r=t,shouldUnregister:o,defaultValue:a,exact:s=!0}=e,l=y(r._names.array,n),c=d.useMemo(()=>_(r._formValues,n,_(r._defaultValues,n,a)),[r,n,a]),u=G({control:r,name:n,defaultValue:c,exact:s}),h=V({control:r,name:n,exact:s}),f=d.useRef(e),p=d.useRef(void 0),g=d.useRef(r.register(n,{...e.rules,value:u,...T(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const m=d.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!_(h.errors,n)},isDirty:{enumerable:!0,get:()=>!!_(h.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!_(h.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!_(h.validatingFields,n)},error:{enumerable:!0,get:()=>_(h.errors,n)}}),[h,n]),v=d.useCallback(e=>g.current.onChange({target:{value:b(e),name:n},type:"change"}),[n]),w=d.useCallback(()=>g.current.onBlur({target:{value:_(r._formValues,n),name:n},type:A}),[n,r._formValues]),S=d.useCallback(e=>{const t=_(r._fields,n);t&&t._f&&e&&(t._f.ref={focus:()=>P(e.focus)&&e.focus(),select:()=>P(e.select)&&e.select(),setCustomValidity:t=>P(e.setCustomValidity)&&e.setCustomValidity(t),reportValidity:()=>P(e.reportValidity)&&e.reportValidity()})},[r._fields,n]),C=d.useMemo(()=>({name:n,value:u,...T(i)||h.disabled?{disabled:h.disabled||i}:{},onChange:v,onBlur:w,ref:S}),[n,i,h.disabled,v,w,S,u]);return d.useEffect(()=>{const e=r._options.shouldUnregister||o,t=p.current;t&&t!==n&&!l&&r.unregister(t),r.register(n,{...f.current.rules,...T(f.current.disabled)?{disabled:f.current.disabled}:{}});const i=(e,t)=>{const n=_(r._fields,e);n&&n._f&&(n._f.mount=t)};if(i(n,!0),e){const e=E(_(r._options.defaultValues,n,f.current.defaultValue));M(r._defaultValues,n,e),x(_(r._formValues,n))&&M(r._formValues,n,e)}return!l&&r.register(n),p.current=n,()=>{(l?e&&!r._state.action:e)?r.unregister(n):i(n,!1)}},[n,r,l,o]),d.useEffect(()=>{r._setDisabledField({disabled:i,name:n})},[i,n,r]),d.useMemo(()=>({field:C,formState:h,fieldState:m}),[C,h,m])}(e)),X=d.createContext(null);X.displayName="HookFormContext";const Y=()=>d.useContext(X),U=e=>{const{children:t,watch:n,getValues:i,getFieldState:r,setError:o,clearErrors:a,setValue:s,trigger:l,formState:c,resetField:u,reset:h,handleSubmit:f,unregister:p,control:g,register:m,setFocus:v,subscribe:b}=e;return d.createElement(X.Provider,{value:d.useMemo(()=>({watch:n,getValues:i,getFieldState:r,setError:o,clearErrors:a,setValue:s,trigger:l,formState:c,resetField:u,reset:h,handleSubmit:f,unregister:p,control:g,register:m,setFocus:v,subscribe:b}),[a,g,c,r,i,f,m,h,u,o,v,s,b,l,p,n])},d.createElement(F.Provider,{value:g},t))};var Z=(e,t,n,i,r)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[i]:r||!0}}:{},K=e=>Array.isArray(e)?e:[e],Q=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}};function J(e,t){const n={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i],o=t[i];if(r&&v(r)&&o){const e=J(r,o);v(e)&&(n[i]=e)}else e[i]&&(n[i]=o)}return n}var ee=e=>v(e)&&!Object.keys(e).length,te=e=>"file"===e.type,ne=e=>{if(!w)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},ie=e=>"select-multiple"===e.type,re=e=>"radio"===e.type,oe=e=>ne(e)&&e.isConnected;function ae(e,t){const n=Array.isArray(t)?t:S(t)?[t]:O(t),i=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let i=0;for(;i<n;)e=x(e)?i++:e[t[i++]];return e}(e,n),r=n.length-1,o=n[r];return i&&delete i[o],0!==r&&(v(i)&&ee(i)||Array.isArray(i)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!x(e[t]))return!1;return!0}(i))&&ae(e,n.slice(0,-1)),e}function se(e){return Array.isArray(e)||v(e)&&!(e=>{for(const t in e)if(P(e[t]))return!0;return!1})(e)}function le(e,t={}){for(const n in e){const i=e[n];se(i)?(t[n]=Array.isArray(i)?[]:{},le(i,t[n])):x(i)||(t[n]=!0)}return t}function ce(e,t,n){n||(n=le(t));for(const i in e){const r=e[i];if(se(r))x(t)||q(n[i])?n[i]=le(r,Array.isArray(r)?[]:{}):ce(r,g(t)?{}:t[i],n[i]);else{const e=t[i];n[i]=!$(r,e)}}return n}const ue={value:!1,isValid:!1},de={value:!0,isValid:!0};var he=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!x(e[0].attributes.value)?x(e[0].value)||""===e[0].value?de:{value:e[0].value,isValid:!0}:de:ue}return ue},fe=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:i})=>x(e)?e:t?""===e?NaN:e?+e:e:n&&B(e)?new Date(e):i?i(e):e;const pe={isValid:!1,value:null};var ge=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,pe):pe;function me(e){const t=e.ref;return te(t)?t.files:re(t)?ge(e.refs).value:ie(t)?[...t.selectedOptions].map(({value:e})=>e):f(t)?he(e.refs).value:fe(x(t.value)?e.ref.value:t.value,e)}var ve=e=>e instanceof RegExp,be=e=>x(e)?e:ve(e)?e.source:v(e)?ve(e.value)?e.value.source:e.value:e,ye=e=>({isOnSubmit:!e||e===k,isOnBlur:"onBlur"===e,isOnChange:e===R,isOnAll:e===j,isOnTouch:"onTouched"===e});const we="AsyncFunction";var Ee=e=>!!e&&!!e.validate&&!!(P(e.validate)&&e.validate.constructor.name===we||v(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===we)),Se=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const xe=(e,t,n,i)=>{for(const r of n||Object.keys(e)){const n=_(e,r);if(n){const{_f:e,...o}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],r)&&!i)return!0;if(e.ref&&t(e.ref,e.name)&&!i)return!0;if(xe(o,t))break}else if(v(o)&&xe(o,t))break}}};function Ce(e,t,n){const i=_(e,n);if(i||S(n))return{error:i,name:n};const r=n.split(".");for(;r.length;){const i=r.join("."),o=_(t,i),a=_(e,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};if(a&&a.root&&a.root.type)return{name:`${i}.root`,error:a.root};r.pop()}return{name:n}}var Oe=(e,t,n)=>{const i=K(_(e,n));return M(i,"root",t[n]),M(e,n,i),e};function _e(e,t,n="validate"){if(B(e)||Array.isArray(e)&&e.every(B)||T(e)&&!e)return{type:n,message:B(e)?e:"",ref:t}}var Te=e=>v(e)&&!ve(e)?e:{value:e,message:""},Pe=async(e,t,n,i,r,o)=>{const{ref:a,refs:s,required:l,maxLength:c,minLength:u,min:d,max:h,pattern:p,validate:m,name:b,valueAsNumber:y,mount:w}=e._f,E=_(n,b);if(!w||t.has(b))return{};const S=s?s[0]:a,C=e=>{r&&S.reportValidity&&(S.setCustomValidity(T(e)?"":e||""),S.reportValidity())},O={},M=re(a),A=f(a),R=M||A,k=(y||te(a))&&x(a.value)&&x(E)||ne(a)&&""===a.value||""===E||Array.isArray(E)&&!E.length,j=Z.bind(null,b,i,O),F=(e,t,n,i="maxLength",r="minLength")=>{const o=e?t:n;O[b]={type:e?i:r,message:o,ref:a,...j(e?i:r,o)}};if(o?!Array.isArray(E)||!E.length:l&&(!R&&(k||g(E))||T(E)&&!E||A&&!he(s).isValid||M&&!ge(s).isValid)){const{value:e,message:t}=B(l)?{value:!!l,message:l}:Te(l);if(e&&(O[b]={type:L,message:t,ref:S,...j(L,t)},!i))return C(t),O}if(!(k||g(d)&&g(h))){let e,t;const n=Te(h),r=Te(d);if(g(E)||isNaN(E)){const i=a.valueAsDate||new Date(E),o=e=>new Date((new Date).toDateString()+" "+e),s="time"==a.type,l="week"==a.type;B(n.value)&&E&&(e=s?o(E)>o(n.value):l?E>n.value:i>new Date(n.value)),B(r.value)&&E&&(t=s?o(E)<o(r.value):l?E<r.value:i<new Date(r.value))}else{const i=a.valueAsNumber||(E?+E:E);g(n.value)||(e=i>n.value),g(r.value)||(t=i<r.value)}if((e||t)&&(F(!!e,n.message,r.message,"max","min"),!i))return C(O[b].message),O}if((c||u)&&!k&&(B(E)||o&&Array.isArray(E))){const e=Te(c),t=Te(u),n=!g(e.value)&&E.length>+e.value,r=!g(t.value)&&E.length<+t.value;if((n||r)&&(F(n,e.message,t.message),!i))return C(O[b].message),O}if(p&&!k&&B(E)){const{value:e,message:t}=Te(p);if(ve(e)&&!E.match(e)&&(O[b]={type:D,message:t,ref:a,...j(D,t)},!i))return C(t),O}if(m)if(P(m)){const e=_e(await m(E,n),S);if(e&&(O[b]={...e,...j("validate",e.message)},!i))return C(e.message),O}else if(v(m)){let e={};for(const t in m){if(!ee(e)&&!i)break;const r=_e(await m[t](E,n),S,t);r&&(e={...r,...j(t,r.message)},C(r.message),i&&(O[b]=e))}if(!ee(e)&&(O[b]={ref:S,...e},!i))return O}return C(!0),O};const Me={mode:k,reValidateMode:R,shouldFocusError:!0};function Ae(e={}){let t,n={...Me,...e},i={submitCount:0,isDirty:!1,isReady:!1,isLoading:P(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},r={},o=(v(n.defaultValues)||v(n.values))&&E(n.defaultValues||n.values)||{},a=n.shouldUnregister?{}:E(o),s={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={...u};let h={...d};const m={array:Q(),state:Q()},S=n.criteriaMode===j,O=async e=>{if(!s.keepIsValid&&!n.disabled&&(d.isValid||h.isValid||e)){let e;n.resolver?(e=ee((await L()).errors),R()):e=await F(r,!0),e!==i.isValid&&m.state.next({isValid:e})}},R=(e,t)=>{!n.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((e||Array.from(l.mount)).forEach(e=>{e&&(t?M(i.validatingFields,e,t):ae(i.validatingFields,e))}),m.state.next({validatingFields:i.validatingFields,isValidating:!ee(i.validatingFields)}))},k=(e,t,n,i)=>{const l=_(r,e);if(l){const r=_(a,e,x(n)?_(o,e):n);x(r)||i&&i.defaultChecked||t?M(a,e,t?r:me(l._f)):z(e,r),s.mount&&!s.action&&O()}},D=(e,t,r,a,s)=>{let l=!1,c=!1;const u={name:e};if(!n.disabled){if(!r||a){(d.isDirty||h.isDirty)&&(c=i.isDirty,i.isDirty=u.isDirty=I(),l=c!==u.isDirty);const n=$(_(o,e),t);c=!!_(i.dirtyFields,e),n?ae(i.dirtyFields,e):M(i.dirtyFields,e,!0),u.dirtyFields=i.dirtyFields,l=l||(d.dirtyFields||h.dirtyFields)&&c!==!n}if(r){const t=_(i.touchedFields,e);t||(M(i.touchedFields,e,r),u.touchedFields=i.touchedFields,l=l||(d.touchedFields||h.touchedFields)&&t!==r)}l&&s&&m.state.next(u)}return l?u:{}},L=async e=>{R(e,!0);const t=await n.resolver(a,n.context,((e,t,n,i)=>{const r={};for(const n of e){const e=_(t,n);e&&M(r,n,e._f)}return{criteriaMode:n,names:[...e],fields:r,shouldUseNativeValidation:i}})(e||l.mount,r,n.criteriaMode,n.shouldUseNativeValidation));return t},F=async(t,r,o={valid:!0})=>{for(const s in t){const c=t[s];if(c){const{_f:t,...s}=c;if(t){const s=l.array.has(t.name),u=c._f&&Ee(c._f);u&&d.validatingFields&&R([t.name],!0);const h=await Pe(c,l.disabled,a,S,n.shouldUseNativeValidation&&!r,s);if(u&&d.validatingFields&&R([t.name]),h[t.name]&&(o.valid=!1,r||e.shouldUseNativeValidation))break;!r&&(_(h,t.name)?s?Oe(i.errors,h,t.name):M(i.errors,t.name,h[t.name]):ae(i.errors,t.name))}!ee(s)&&await F(s,r,o)}}return o.valid},I=(e,t)=>!n.disabled&&(e&&t&&M(a,e,t),!$(Y(),o)),N=(e,t,n)=>H(e,l,{...s.mount?a:x(t)?o:B(e)?{[e]:t}:t},n,t),z=(e,t,n={})=>{const i=_(r,e);let o=t;if(i){const n=i._f;n&&(!n.disabled&&M(a,e,fe(t,n)),o=ne(n.ref)&&g(t)?"":t,ie(n.ref)?[...n.ref.options].forEach(e=>e.selected=o.includes(e.value)):n.refs?f(n.ref)?n.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(o)?e.checked=!!o.find(t=>t===e.value):e.checked=o===e.value||!!o)}):n.refs.forEach(e=>e.checked=e.value===o):te(n.ref)?n.ref.value="":(n.ref.value=o,n.ref.type||m.state.next({name:e,values:E(a)})))}(n.shouldDirty||n.shouldTouch)&&D(e,o,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&X(e)},V=(e,t,n)=>{for(const i in t){if(!t.hasOwnProperty(i))return;const o=t[i],a=e+"."+i,s=_(r,a);(l.array.has(e)||v(o)||s&&!s._f)&&!p(o)?V(a,o,n):z(a,o,n)}},q=(e,t,n={})=>{const c=_(r,e),u=l.array.has(e),f=E(t);M(a,e,f),u?(m.array.next({name:e,values:E(a)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&n.shouldDirty&&m.state.next({name:e,dirtyFields:ce(o,a),isDirty:I(e,f)})):!c||c._f||g(f)?z(e,f,n):V(e,f,n),Se(e,l)?m.state.next({...i,name:e,values:E(a)}):m.state.next({name:s.mount?e:void 0,values:E(a)})},G=async e=>{s.mount=!0;const o=e.target;let u=o.name,f=!0;const g=_(r,u),v=e=>{f=Number.isNaN(e)||p(e)&&isNaN(e.getTime())||$(e,_(a,u,e))},y=ye(n.mode),w=ye(n.reValidateMode);if(g){let s,p;const C=o.type?me(g._f):b(e),P=e.type===A||"focusout"===e.type,k=!((x=g._f).mount&&(x.required||x.min||x.max||x.maxLength||x.minLength||x.pattern||x.validate)||n.resolver||_(i.errors,u)||g._f.deps)||((e,t,n,i,r)=>!r.isOnAll&&(!n&&r.isOnTouch?!(t||e):(n?i.isOnBlur:r.isOnBlur)?!e:!(n?i.isOnChange:r.isOnChange)||e))(P,_(i.touchedFields,u),i.isSubmitted,w,y),j=Se(u,l,P);M(a,u,C),P?o&&o.readOnly||(g._f.onBlur&&g._f.onBlur(e),t&&t(0)):g._f.onChange&&g._f.onChange(e);const I=D(u,C,P),N=!ee(I)||j;if(!P&&m.state.next({name:u,type:e.type,values:E(a)}),k)return(d.isValid||h.isValid)&&("onBlur"===n.mode?P&&O():P||O()),N&&m.state.next({name:u,...j?{}:I});if(!P&&j&&m.state.next({...i}),n.resolver){const{errors:e}=await L([u]);if(R([u]),v(C),f){const t=Ce(i.errors,r,u),n=Ce(e,r,t.name||u);s=n.error,u=n.name,p=ee(e)}}else R([u],!0),s=(await Pe(g,l.disabled,a,S,n.shouldUseNativeValidation))[u],R([u]),v(C),f&&(s?p=!1:(d.isValid||h.isValid)&&(p=await F(r,!0)));f&&(g._f.deps&&(!Array.isArray(g._f.deps)||g._f.deps.length>0)&&X(g._f.deps),((e,r,o,a)=>{const s=_(i.errors,e),l=(d.isValid||h.isValid)&&T(r)&&i.isValid!==r;var u;if(n.delayError&&o?(u=()=>((e,t)=>{M(i.errors,e,t),m.state.next({errors:i.errors})})(e,o),t=e=>{clearTimeout(c),c=setTimeout(u,e)},t(n.delayError)):(clearTimeout(c),t=null,o?M(i.errors,e,o):ae(i.errors,e)),(o?!$(s,o):s)||!ee(a)||l){const t={...a,...l&&T(r)?{isValid:r}:{},errors:i.errors,name:e};i={...i,...t},m.state.next(t)}})(u,p,s,I))}var x},W=(e,t)=>{if(_(i.errors,t)&&e.focus)return e.focus(),1},X=async(e,t={})=>{let o,a;const s=K(e);if(n.resolver){const t=await(async e=>{const{errors:t}=await L(e);if(R(e),e)for(const n of e){const e=_(t,n);e?M(i.errors,n,e):ae(i.errors,n)}else i.errors=t;return t})(x(e)?e:s);o=ee(t),a=e?!s.some(e=>_(t,e)):o}else e?(a=(await Promise.all(s.map(async e=>{const t=_(r,e);return await F(t&&t._f?{[e]:t}:t)}))).every(Boolean),(a||i.isValid)&&O()):a=o=await F(r);return m.state.next({...!B(e)||(d.isValid||h.isValid)&&o!==i.isValid?{}:{name:e},...n.resolver||!e?{isValid:o}:{},errors:i.errors}),t.shouldFocus&&!a&&xe(r,W,e?s:l.mount),a},Y=(e,t)=>{let n={...s.mount?a:o};return t&&(n=J(t.dirtyFields?i.dirtyFields:i.touchedFields,n)),x(e)?n:B(e)?_(n,e):e.map(e=>_(n,e))},U=(e,t)=>({invalid:!!_((t||i).errors,e),isDirty:!!_((t||i).dirtyFields,e),error:_((t||i).errors,e),isValidating:!!_(i.validatingFields,e),isTouched:!!_((t||i).touchedFields,e)}),Z=(e,t,n)=>{const o=(_(r,e,{_f:{}})._f||{}).ref,a=_(i.errors,e)||{},{ref:s,message:l,type:c,...u}=a;M(i.errors,e,{...u,...t,ref:o}),m.state.next({name:e,errors:i.errors,isValid:!1}),n&&n.shouldFocus&&o&&o.focus&&o.focus()},se=e=>m.state.subscribe({next:t=>{var n,r,s;n=e.name,r=t.name,s=e.exact,n&&r&&n!==r&&!K(n).some(e=>e&&(s?e===r:e.startsWith(r)||r.startsWith(e)))||!((e,t,n,i)=>{n(e);const{name:r,...o}=e;return ee(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(e=>t[e]===(!i||j))})(t,e.formState||d,we,e.reRenderRoot)||e.callback({values:{...a},...i,...t,defaultValues:o})}}).unsubscribe,le=(e,t={})=>{for(const s of e?K(e):l.mount)l.mount.delete(s),l.array.delete(s),t.keepValue||(ae(r,s),ae(a,s)),!t.keepError&&ae(i.errors,s),!t.keepDirty&&ae(i.dirtyFields,s),!t.keepTouched&&ae(i.touchedFields,s),!t.keepIsValidating&&ae(i.validatingFields,s),!n.shouldUnregister&&!t.keepDefaultValue&&ae(o,s);m.state.next({values:E(a)}),m.state.next({...i,...t.keepDirty?{isDirty:I()}:{}}),!t.keepIsValid&&O()},ue=({disabled:e,name:t})=>{if(T(e)&&s.mount||e||l.disabled.has(t)){const n=l.disabled.has(t)!==!!e;e?l.disabled.add(t):l.disabled.delete(t),n&&s.mount&&!s.action&&O()}},de=(e,t={})=>{let i=_(r,e);const a=T(t.disabled)||T(n.disabled);return M(r,e,{...i||{},_f:{...i&&i._f?i._f:{ref:{name:e}},name:e,mount:!0,...t}}),l.mount.add(e),i?ue({disabled:T(t.disabled)?t.disabled:n.disabled,name:e}):k(e,!0,t.value),{...a?{disabled:t.disabled||n.disabled}:{},...n.progressive?{required:!!t.required,min:be(t.min),max:be(t.max),minLength:be(t.minLength),maxLength:be(t.maxLength),pattern:be(t.pattern)}:{},name:e,onChange:G,onBlur:G,ref:a=>{if(a){de(e,t),i=_(r,e);const n=x(a.value)&&a.querySelectorAll&&a.querySelectorAll("input,select,textarea")[0]||a,s=(e=>re(e)||f(e))(n),l=i._f.refs||[];if(s?l.find(e=>e===n):n===i._f.ref)return;M(r,e,{_f:{...i._f,...s?{refs:[...l.filter(oe),n,...Array.isArray(_(o,e))?[{}]:[]],ref:{type:n.type,name:e}}:{ref:n}}}),k(e,!1,void 0,n)}else i=_(r,e,{}),i._f&&(i._f.mount=!1),(n.shouldUnregister||t.shouldUnregister)&&(!y(l.array,e)||!s.action)&&l.unMount.add(e)}}},he=()=>n.shouldFocusError&&xe(r,W,l.mount),pe=(e,t)=>async o=>{let s;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let c=E(a);if(m.state.next({isSubmitting:!0}),n.resolver){const{errors:e,values:t}=await L();R(),i.errors=e,c=E(t)}else await F(r);if(l.disabled.size)for(const e of l.disabled)ae(c,e);if(ae(i.errors,"root"),ee(i.errors)){m.state.next({errors:{}});try{await e(c,o)}catch(e){s=e}}else t&&await t({...i.errors},o),he(),setTimeout(he);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ee(i.errors)&&!s,submitCount:i.submitCount+1,errors:i.errors}),s)throw s},ge=(e,t={})=>{const c=e?E(e):o,u=E(c),h=ee(e),f=h?o:u;if(t.keepDefaultValues||(o=c),!t.keepValues){if(t.keepDirtyValues){const e=new Set([...l.mount,...Object.keys(ce(o,a))]);for(const t of Array.from(e)){const e=_(i.dirtyFields,t),n=_(a,t),r=_(f,t);e&&!x(n)?M(f,t,n):e||x(r)||q(t,r)}}else{if(w&&x(e))for(const e of l.mount){const t=_(r,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(ne(e)){const t=e.closest("form");if(t){t.reset();break}}}}if(t.keepFieldsRef)for(const e of l.mount)q(e,_(f,e));else r={}}a=n.shouldUnregister?t.keepDefaultValues?E(o):{}:E(f),m.array.next({values:{...f}}),m.state.next({values:{...f}})}l={mount:t.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!t.keepIsValid||!!t.keepDirtyValues||!n.shouldUnregister&&!ee(f),s.watch=!!n.shouldUnregister,s.keepIsValid=!!t.keepIsValid,s.action=!1,t.keepErrors||(i.errors={}),m.state.next({submitCount:t.keepSubmitCount?i.submitCount:0,isDirty:!h&&(t.keepDirty?i.isDirty:!(!t.keepDefaultValues||$(e,o))),isSubmitted:!!t.keepIsSubmitted&&i.isSubmitted,dirtyFields:h?{}:t.keepDirtyValues?t.keepDefaultValues&&a?ce(o,a):i.dirtyFields:t.keepDefaultValues&&e?ce(o,e):t.keepDirty?i.dirtyFields:{},touchedFields:t.keepTouched?i.touchedFields:{},errors:t.keepErrors?i.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&i.isSubmitSuccessful,isSubmitting:!1,defaultValues:o})},ve=(e,t)=>ge(P(e)?e(a):e,{...n.resetOptions,...t}),we=e=>{i={...i,...e}},_e={control:{register:de,unregister:le,getFieldState:U,handleSubmit:pe,setError:Z,_subscribe:se,_runSchema:L,_updateIsValidating:R,_focusError:he,_getWatch:N,_getDirty:I,_setValid:O,_setFieldArray:(e,t=[],l,c,u=!0,f=!0)=>{if(c&&l&&!n.disabled){if(s.action=!0,f&&Array.isArray(_(r,e))){const t=l(_(r,e),c.argA,c.argB);u&&M(r,e,t)}if(f&&Array.isArray(_(i.errors,e))){const t=l(_(i.errors,e),c.argA,c.argB);u&&M(i.errors,e,t),((e,t)=>{!C(_(e,t)).length&&ae(e,t)})(i.errors,e)}if((d.touchedFields||h.touchedFields)&&f&&Array.isArray(_(i.touchedFields,e))){const t=l(_(i.touchedFields,e),c.argA,c.argB);u&&M(i.touchedFields,e,t)}(d.dirtyFields||h.dirtyFields)&&(i.dirtyFields=ce(o,a)),m.state.next({name:e,isDirty:I(e,t),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else M(a,e,t)},_setDisabledField:ue,_setErrors:e=>{i.errors=e,m.state.next({errors:i.errors,isValid:!1})},_getFieldArray:e=>C(_(s.mount?a:o,e,n.shouldUnregister?_(o,e,[]):[])),_reset:ge,_resetDefaultValues:()=>P(n.defaultValues)&&n.defaultValues().then(e=>{ve(e,n.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of l.unMount){const t=_(r,e);t&&(t._f.refs?t._f.refs.every(e=>!oe(e)):!oe(t._f.ref))&&le(e)}l.unMount=new Set},_disableForm:e=>{T(e)&&(m.state.next({disabled:e}),xe(r,(t,n)=>{const i=_(r,n);i&&(t.disabled=i._f.disabled||e,Array.isArray(i._f.refs)&&i._f.refs.forEach(t=>{t.disabled=i._f.disabled||e}))},0,!1))},_subjects:m,_proxyFormState:d,get _fields(){return r},get _formValues(){return a},get _state(){return s},set _state(e){s=e},get _defaultValues(){return o},get _names(){return l},set _names(e){l=e},get _formState(){return i},get _options(){return n},set _options(e){n={...n,...e}}},subscribe:e=>(s.mount=!0,h={...h,...e.formState},se({...e,formState:{...u,...e.formState}})),trigger:X,register:de,handleSubmit:pe,watch:(e,t)=>P(e)?m.state.subscribe({next:n=>"values"in n&&e(N(void 0,t),n)}):N(e,t,!0),setValue:q,getValues:Y,reset:ve,resetField:(e,t={})=>{_(r,e)&&(x(t.defaultValue)?q(e,E(_(o,e))):(q(e,t.defaultValue),M(o,e,E(t.defaultValue))),t.keepTouched||ae(i.touchedFields,e),t.keepDirty||(ae(i.dirtyFields,e),i.isDirty=t.defaultValue?I(e,E(_(o,e))):I()),t.keepError||(ae(i.errors,e),d.isValid&&O()),m.state.next({...i}))},clearErrors:e=>{e&&K(e).forEach(e=>ae(i.errors,e)),m.state.next({errors:e?i.errors:{}})},unregister:le,setError:Z,setFocus:(e,t={})=>{const n=_(r,e),i=n&&n._f;if(i){const e=i.refs?i.refs[0]:i.ref;e.focus&&setTimeout(()=>{e.focus(),t.shouldSelect&&P(e.select)&&e.select()})}},getFieldState:U};return{..._e,formControl:_e}}function Re(e={}){const t=d.useRef(void 0),n=d.useRef(void 0),[i,r]=d.useState({isDirty:!1,isValidating:!1,isLoading:P(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:P(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:i},e.defaultValues&&!P(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:n,...r}=Ae(e);t.current={...r,formState:i}}const o=t.current.control;return o._options=e,z(()=>{const e=o._subscribe({formState:o._proxyFormState,callback:()=>r({...o._formState}),reRenderRoot:!0});return r(e=>({...e,isReady:!0})),o._formState.isReady=!0,e},[o]),d.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),d.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),d.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),d.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),d.useEffect(()=>{if(o._proxyFormState.isDirty){const e=o._getDirty();e!==i.isDirty&&o._subjects.state.next({isDirty:e})}},[o,i.isDirty]),d.useEffect(()=>{var t;e.values&&!$(e.values,n.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),(null===(t=o._options.resetOptions)||void 0===t?void 0:t.keepIsValid)||o._setValid(),n.current=e.values,r(e=>({...e}))):o._resetDefaultValues()},[o,e.values]),d.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=d.useMemo(()=>N(i,o),[o,i]),t.current}const ke=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim();var je={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const De=(0,d.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:o,iconNode:a,...s},l)=>(0,d.createElement)("svg",{ref:l,...je,width:t,height:t,stroke:e,strokeWidth:i?24*Number(n)/Number(t):n,className:ke("lucide",r),...s},[...a.map(([e,t])=>(0,d.createElement)(e,t)),...Array.isArray(o)?o:[o]])),Le=(e,t)=>{const n=(0,d.forwardRef)(({className:n,...i},r)=>{return(0,d.createElement)(De,{ref:r,iconNode:t,className:ke(`lucide-${o=e,o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,n),...i});var o});return n.displayName=`${e}`,n},Fe=Le("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Ie=Le("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Ne=Le("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var ze=n(942),Ve=n.n(ze);const Be=window.wp.a11y;function He(e){return He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},He(e)}function qe(){return qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},qe.apply(null,arguments)}function $e(e,t,n){return(t=function(e){var t=function(e){if("object"!=He(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=He(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==He(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ge=function(e){var t=e.message,n=void 0===t?"":t,o=e.status,a=void 0===o?"info":o,s=e.politeness,l=void 0===s?"polite":s,c=e.icon,u=void 0===c?null:c,f=e.className,p=void 0===f?"":f,g=e.inline,m=void 0!==g&&g,v=e.children,b=void 0===v?null:v,y=e.hasToTop,w=void 0!==y&&y,E=e.dismissible,S=void 0!==E&&E,x=e.onRemove,C=void 0===x?function(){}:x;(0,d.useEffect)(function(){(0,Be.speak)(n,l)},[n,a,l]);var O=function(){return null!==u},_=Ve()(p,"dlx-pw-admin__notice",$e($e($e({"dlx-pw-admin__notice--has-icon":O()},"dlx-pw-admin__notice-type--".concat(a),!0),"dlx-pw-admin__notice-appearance--inline",m),"dlx-pw-admin__notice-appearance--block",!m)),T=[{label:(0,i.__)("Back to Top","wp-dlx-pw-comments"),url:"#dlx-pw-admin-header",variant:"link",className:"dlx-pw-admin__notice-action dlx-pw-admin__notice-action--to-top"}];return h().createElement("div",{className:_},h().createElement(r.Notice,qe({isDismissible:S,spokenMessage:n,actions:w?T:[]},e,{onRemove:function(){S&&C()}}),O()&&h().createElement("div",{className:"dlx-pw-admin__notice-icon"},function(e){return h().createElement(e,{width:16,height:16,fill:"#6c757d"})}(u)),h().createElement("div",{className:"dlx-pw-admin__notice-message"},h().createElement(h().Fragment,null,n," ",b," "))))};function We(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}const Ye=function(e){var t=e.loadingMessage,n=(0,d.useMemo)(function(){return{type:e.type,message:e.message,title:e.title,isDismissable:!1,isPersistent:!1,isSuccess:!1,loadingMessage:t,politeness:"polite"}},[e]),o=We((0,d.useState)(n),2),a=o[0],s=o[1],l=We((0,d.useState)(!1),2),c=l[0],u=(l[1],We((0,d.useState)(!1),2)),f=u[0],p=u[1];(0,d.useEffect)(function(){e.isVisible&&setTimeout(function(){e.onClose()},5e3)},[e.isVisible]),(0,d.useEffect)(function(){s(n)},[e]);var g=function(){switch(a.type){case"success":return h().createElement(Fe,null);case"error":case"critical":return h().createElement(Ie,null);default:return h().createElement(Ne,null)}};return h().createElement(h().Fragment,null,h().createElement(r.Snackbar,{className:Ve()("dlx-pw-snackbar dlx-pw-snackbar-".concat(a.type),{"dlx-pw-snackbar-loading":c}),actions:function(){var e=[];return"success"===a.type&&e.push({label:(0,i.__)("Back to Top","pattern-wrangler"),url:"#dlx-pw-admin-header",variant:"link",className:"dlx-pw-admin__notice-action dlx-pw-admin__notice-action--to-top"}),e}(),icon:g(),onDismiss:function(){p(!1),e.onClose()},explicitDismiss:a.isDismissable},c?t:a.message)," ",f&&function(){if("critical"===a.type)return h().createElement(r.Modal,{className:Ve()("dlx-pw-modal dlx-pw-modal-".concat(a.type),{"dlx-pw-modal-loading":c}),bodyOpenClassName:"dlx-pw-modal-body-open",title:a.title,onRequestClose:function(){p(!1)},isDismissible:!0,shouldCloseOnClickOutside:a.isPersistent,shouldCloseOnEsc:a.isPersistent},h().createElement(Ge,{message:a.message,status:a.type,politeness:a.politeness,icon:g,inline:!1}),h().createElement("div",{className:"dlx-pw-modal-button-group"},h().createElement(r.Button,{className:"button button-error",variant:"secondary",onClick:function(){p(!1)}},(0,i.__)("OK","pattern-wrangler"))))}()," ")};function Ue(e){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ue(e)}function Ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ke(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ke(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach(function(t){et(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function et(e,t,n){return(t=function(e){var t=function(e){if("object"!=Ue(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ue(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tt(){var e,t,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(n,i,r,o){var l=i&&i.prototype instanceof s?i:s,c=Object.create(l.prototype);return nt(c,"_invoke",function(n,i,r){var o,s,l,c=0,u=r||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,s=0,l=e,h.n=n,a}};function f(n,i){for(s=n,l=i,t=0;!d&&c&&!r&&t<u.length;t++){var r,o=u[t],f=h.p,p=o[2];n>3?(r=p===i)&&(l=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=f&&((r=n<2&&f<o[1])?(s=0,h.v=i,h.n=o[1]):f<p&&(r=n<3||o[0]>i||i>p)&&(o[4]=n,o[5]=i,h.n=p,s=0))}if(r||n>1)return a;throw d=!0,i}return function(r,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!d;){o||(s?s<3?(s>1&&(h.n=-1),f(s,l)):h.n=l:h.v=l);try{if(c=2,o){if(s||(r="next"),t=o[r]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),s=1);o=e}else if((t=(d=h.n<0)?l:n.call(i,h))!==a)break}catch(t){o=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,r,o),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][i]?t(t([][i]())):(nt(t={},i,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,nt(e,r,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,nt(d,"constructor",c),nt(c,"constructor",l),l.displayName="GeneratorFunction",nt(c,r,"GeneratorFunction"),nt(d),nt(d,r,"Generator"),nt(d,i,function(){return this}),nt(d,"toString",function(){return"[object Generator]"}),(tt=function(){return{w:o,m:h}})()}function nt(e,t,n,i){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}nt=function(e,t,n,i){function o(t,n){nt(e,t,function(e){return this._invoke(t,n,e)})}t?r?r(e,t,{value:n,enumerable:!i,configurable:!i,writable:!i}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},nt(e,t,n,i)}function it(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}var rt={categories:[],loading:!0,error:null,doNotShowAgain:dlxEnhancedCategoriesView.doNotShowAgain||!1},ot={setCategories:function(e){return{type:"SET_CATEGORIES",categories:e}},setLoading:function(e){return{type:"SET_LOADING",loading:e}},setError:function(e){return{type:"SET_ERROR",error:e}},setDoNotShowAgain:function(e){return{type:"SET_DO_NOT_SHOW_AGAIN",doNotShowAgain:e}},fetchData:function(){return function(){var e,t=(e=tt().m(function e(t){var n,i,r;return tt().w(function(e){for(;;)switch(e.p=e.n){case 0:return n=t.dispatch,e.p=1,n(ot.setLoading(!0)),n(ot.setError(null)),e.n=2,a()({path:(0,s.addQueryArgs)("/dlxplugins/pattern-wrangler/v1/categories/all/",{nonce:dlxEnhancedCategoriesView.getNonce}),method:"GET"});case 2:i=e.v,n(i?ot.setCategories(i.categories):ot.setError("Failed to fetch data")),e.n=4;break;case 3:e.p=3,r=e.v,n(ot.setError(r.message||"Network error occurred"));case 4:return e.p=4,n(ot.setLoading(!1)),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}),function(){var t=this,n=arguments;return new Promise(function(i,r){var o=e.apply(t,n);function a(e){it(o,i,r,a,s,"next",e)}function s(e){it(o,i,r,a,s,"throw",e)}a(void 0)})});return function(_x){return t.apply(this,arguments)}}()},addCategory:function(e){return{type:"ADD_CATEGORY",category:e}},updateCategory:function(e){return{type:"UPDATE_CATEGORY",category:e}},updateRegisteredCategory:function(e){return{type:"UPDATE_REGISTERED_CATEGORY",category:e}}},at=(0,l.createReduxStore)("dlxplugins/pattern-wrangler/categories",{reducer:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,i=arguments.length>1?arguments[1]:void 0;switch(i.type){case"SET_CATEGORIES":return Je(Je({},n),{},{categories:i.categories});case"SET_LOADING":return Je(Je({},n),{},{loading:i.loading});case"SET_ERROR":return Je(Je({},n),{},{error:i.error});case"SET_DO_NOT_SHOW_AGAIN":return Je(Je({},n),{},{doNotShowAgain:i.doNotShowAgain});case"ADD_CATEGORY":var r=Je({},n.categories);r[i.category.slug]=i.category;var o=Object.fromEntries(Object.entries(r).sort(function(e,t){var n=Ze(e,2)[1],i=Ze(t,2)[1];return n.label.localeCompare(i.label)}));return Je(Je({},n),{},{categories:o});case"UPDATE_CATEGORY":var a=Je({},n.categories);delete a[null===(e=Object.values(a).find(function(e){return e.id===i.category.id}))||void 0===e?void 0:e.slug],a[i.category.slug]=i.category;var l=Object.fromEntries(Object.entries(a).sort(function(e,t){var n=Ze(e,2)[1],i=Ze(t,2)[1];return n.label.localeCompare(i.label)}));return Je(Je({},n),{},{categories:l});case"UPDATE_REGISTERED_CATEGORY":var c=Je({},n.categories),u=null===(t=Object.values(c).find(function(e){return e.slug===i.category.slug&&e.registered}))||void 0===t?void 0:t.slug;delete c[u=(0,s.cleanForSlug)("registered-"+u)],c[u]=i.category;var d=Object.fromEntries(Object.entries(c).sort(function(e,t){var n=Ze(e,2)[1],i=Ze(t,2)[1];return n.label.localeCompare(i.label)}));return Je(Je({},n),{},{categories:d});default:return n}},actions:ot,selectors:{getCategories:function(e){return e.categories},getRegisteredCategories:function(e){return e.registeredCategories},getLocalCategories:function(e){return e.localCategories},getLoading:function(e){return e.loading},getError:function(e){return e.error},getDoNotShowAgain:function(e){return e.doNotShowAgain}}});(0,l.register)(at);const st=at,lt=Le("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),ct=Le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),ut=Le("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),dt=Le("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),ht=Le("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ft=function(e){var t,n=e.category,o=Y(),a=o.control,s=o.getValues;return G({control:a}),React.createElement("div",{className:Ve()("dlx-patterns-view-category-card",{"is-registered":n.registered,"is-local":!n.registered,"is-enabled":n.enabled,"is-disabled":!n.enabled,"is-selected":s("categoriesSelected[".concat(n.slug,"]"))||!1,"is-deleted":n.deleted})},React.createElement("div",{className:"dlx-patterns-view-category-card__checkbox"},React.createElement(W,{key:n.slug,control:a,name:"categoriesSelected[".concat(n.slug,"]"),render:function(e){var t=e.field;return React.createElement(r.CheckboxControl,{checked:s("categoriesSelected[".concat(n.slug,"]"))||!1,onChange:t.onChange,"aria-label":(0,i.__)("Select category","pattern-wrangler")+" "+n.label})}})),React.createElement("div",{className:"dlx-patterns-view-category-card__header"},n.enabled?null:React.createElement("div",{className:"dlx-patterns-view-category-card__enabled-status"},React.createElement(Ie,{className:"dlx-patterns-view-category-card__enabled-status-icon"}),(0,i.__)("Disabled","pattern-wrangler")),!n.enabled&&n.mappedTo?React.createElement("div",{className:"dlx-patterns-view-category-card__mapped-status"},React.createElement(lt,{className:"dlx-patterns-view-category-card__enabled-status-icon"}),(0,i.__)("Mapped","pattern-wrangler")):null,React.createElement("div",{className:"dlx-patterns-view-category-card__type"},(t=(0,i.__)("Registered","pattern-wrangler"),n.registered||(t=(0,i.__)("Local","pattern-wrangler")),0===n.count?t+=" ("+(0,i.__)("Empty","pattern-wrangler")+")":t+=" ("+n.count+" "+(0,i._n)("Pattern","Patterns",n.count,"pattern-wrangler")+")",t))),React.createElement("div",{className:"dlx-patterns-view-category-card__content"},React.createElement("div",{className:"dlx-patterns-view-category-card__label"},(!n.enabled||0===n.count)&&React.createElement("span",{className:"dlx-patterns-view-category-card__label-text"},n.customLabel||n.label),n.enabled&&n.count>0&&React.createElement("a",{href:"".concat(dlxEnhancedCategoriesView.getSiteBaseUrl,"admin.php?page=pattern-wrangler-view&patternStatus=both&patternLocalRegisteredStatus=both&categories=").concat(n.slug)},n.customLabel||n.label)),React.createElement("div",{className:"dlx-patterns-view-category-card__slug"},n.slug)),React.createElement("div",{className:"dlx-patterns-view-category-card__actions"},!n.registered&&React.createElement(r.Button,{variant:"tertiary",isDestructive:!0,icon:React.createElement(ct,null),className:"dlx-patterns-view-category-card__action-button invisible-until-hover",onClick:function(){e.onDeleteCategory([n])}},(0,i.__)("Delete Category","pattern-wrangler")),n.registered&&n.enabled&&React.createElement(r.Button,{variant:"tertiary",isDestructive:!0,icon:React.createElement(ut,null),className:"dlx-patterns-view-category-card__action-button invisible-until-hover",onClick:function(){e.onPauseCategory([n])}},(0,i.__)("Disable Category","pattern-wrangler")),n.enabled&&!n.registered&&React.createElement(r.Button,{variant:"secondary",icon:React.createElement(dt,null),className:"dlx-patterns-view-category-card__action-button",onClick:function(){e.onEditCategory(n)}},(0,i.__)("Edit Category","pattern-wrangler")),n.enabled&&n.registered&&React.createElement(r.Button,{variant:"secondary",icon:React.createElement(dt,null),className:"dlx-patterns-view-category-card__action-button",onClick:function(){e.onEditRegisteredCategory(n)}},(0,i.__)("Edit Label","pattern-wrangler")),!n.enabled&&n.mappedTo&&React.createElement(r.Button,{variant:"tertiary",className:"dlx-patterns-view-category-card__action-button",label:(0,i.__)("Manage how this registered category maps to local categories","pattern-wrangler"),showTooltip:!0,icon:React.createElement(lt,null),onClick:function(){e.onEditMapping([n])}},(0,i.__)("Edit Mapping","pattern-wrangler")),!n.enabled&&!n.mappedTo&&React.createElement(r.Button,{variant:"tertiary",className:"dlx-patterns-view-category-card__action-button",label:(0,i.__)("Map this disabled category to a local category","pattern-wrangler"),showTooltip:!0,icon:React.createElement(lt,null),onClick:function(){e.onEditMapping([n])}},(0,i.__)("Map","pattern-wrangler")),!n.enabled&&n.registered&&React.createElement(r.Button,{variant:"secondary",icon:React.createElement(ht,null),className:"dlx-patterns-view-category-card__action-button action-button-green",label:(0,i.__)("Re-Enable Category","pattern-wrangler"),showTooltip:!0,onClick:function(){e.onEnableCategory([n])}},(0,i.__)("Re-Enable","pattern-wrangler"))))};function pt(){var e,t,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(n,i,r,o){var l=i&&i.prototype instanceof s?i:s,c=Object.create(l.prototype);return gt(c,"_invoke",function(n,i,r){var o,s,l,c=0,u=r||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,s=0,l=e,h.n=n,a}};function f(n,i){for(s=n,l=i,t=0;!d&&c&&!r&&t<u.length;t++){var r,o=u[t],f=h.p,p=o[2];n>3?(r=p===i)&&(l=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=f&&((r=n<2&&f<o[1])?(s=0,h.v=i,h.n=o[1]):f<p&&(r=n<3||o[0]>i||i>p)&&(o[4]=n,o[5]=i,h.n=p,s=0))}if(r||n>1)return a;throw d=!0,i}return function(r,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!d;){o||(s?s<3?(s>1&&(h.n=-1),f(s,l)):h.n=l:h.v=l);try{if(c=2,o){if(s||(r="next"),t=o[r]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),s=1);o=e}else if((t=(d=h.n<0)?l:n.call(i,h))!==a)break}catch(t){o=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,r,o),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][i]?t(t([][i]())):(gt(t={},i,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,gt(e,r,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,gt(d,"constructor",c),gt(c,"constructor",l),l.displayName="GeneratorFunction",gt(c,r,"GeneratorFunction"),gt(d),gt(d,r,"Generator"),gt(d,i,function(){return this}),gt(d,"toString",function(){return"[object Generator]"}),(pt=function(){return{w:o,m:h}})()}function gt(e,t,n,i){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}gt=function(e,t,n,i){function o(t,n){gt(e,t,function(e){return this._invoke(t,n,e)})}t?r?r(e,t,{value:n,enumerable:!i,configurable:!i,writable:!i}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},gt(e,t,n,i)}function mt(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function vt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return bt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}const yt=function(e){var t,n=vt((0,d.useState)(!1),2),o=n[0],l=n[1],c=vt((0,d.useState)(e.isEditMode||!1),2),u=c[0],f=(c[1],Re({defaultValues:{termId:e.termId||0,termNonce:e.termNonce||"",termTitle:e.termTitle||"",termSlug:e.termSlug||(0,s.cleanForSlug)(e.termTitle||"")}})),p=f.control,g=f.handleSubmit,m=f.setError,v=f.setValue,b=f.getValues,y=(G({control:p}),V({control:p})),w=y.errors,E=(y.isDirty,y.dirtyFields,function(){var t,n=(t=pt().m(function t(n){var i,r;return pt().w(function(t){for(;;)switch(t.n){case 0:return l(!0),i=u?"/dlxplugins/pattern-wrangler/v1/categories/update/":"/dlxplugins/pattern-wrangler/v1/categories/create/",t.n=1,a()({path:i,method:"POST",data:{termId:n.termId,termNonce:n.termNonce,termTitle:n.termTitle,termSlug:n.termSlug,nonce:dlxEnhancedCategoriesView.createNonce}});case 1:if(null==(r=t.v)||!r.error){t.n=2;break}return m("termTitle",{message:r.error}),l(!1),t.a(2);case 2:u?e.onEdit(r.category):e.onCreate(r.category),l(!1),e.onRequestClose();case 3:return t.a(2)}},t)}),function(){var e=this,n=arguments;return new Promise(function(i,r){var o=t.apply(e,n);function a(e){mt(o,i,r,a,s,"next",e)}function s(e){mt(o,i,r,a,s,"throw",e)}a(void 0)})});return function(_x){return n.apply(this,arguments)}}()),S=Object.values(w).length>0;return h().createElement(h().Fragment,null,h().createElement(r.Modal,{title:u?(0,i.__)("Edit Category","pattern-wrangler"):(0,i.__)("Add Category","pattern-wrangler"),onRequestClose:e.onRequestClose,focusOnMount:"firstContentElement"},h().createElement("div",{className:"dlx-pw-modal-content"},h().createElement("form",{onSubmit:g(E)},h().createElement("div",{className:"dlx-pw-modal-admin-row dlx-admin__row"},h().createElement(W,{control:p,name:"termTitle",rules:{required:(0,i.__)("Category title is required.","pattern-wrangler")},render:function(e){var t=e.field;return h().createElement(r.TextControl,{label:(0,i.__)("Category Title","pattern-wrangler"),help:(0,i.__)("Enter the title of the category.","pattern-wrangler"),className:Ve()({"is-required":!0,"is-error":null==w?void 0:w.termTitle,"has-error":null==w?void 0:w.termTitle}),value:t.value,onChange:function(e){return t.onChange(e)},onBlur:function(){if(""===b("termSlug")){var e=(0,s.cleanForSlug)(t.value);v("termSlug",e)}},disabled:o})}})),h().createElement("div",{className:"dlx-pw-modal-admin-row dlx-admin__row"},h().createElement(W,{control:p,name:"termSlug",rules:{required:(0,i.__)("Category slug is required.","pattern-wrangler")},render:function(e){var t=e.field;return h().createElement(r.TextControl,{label:(0,i.__)("Category Slug","pattern-wrangler"),help:(0,i.__)("Enter the slug of the category.","pattern-wrangler"),value:t.value,onChange:function(e){return t.onChange(e)},onBlur:function(){var e=(0,s.cleanForSlug)(t.value);e!==t.value&&v("termSlug",e)},disabled:o,className:Ve()({"is-required":!0,"is-error":null==w?void 0:w.termSlug,"has-error":null==w?void 0:w.termSlug})})}})),h().createElement("div",{className:"dlx-pw-modal-admin-row dlx-pw-modal-admin-row-buttons"},h().createElement(r.Button,{variant:"primary",type:"submit",disabled:o||S},(t=(0,i.__)("Add Category","pattern-wrangler"),u&&(t=(0,i.__)("Save Category","pattern-wrangler")),o&&(t=(0,i.__)("Saving Category","pattern-wrangler")),t)),h().createElement(r.Button,{variant:"secondary",onClick:e.onRequestClose,disabled:o},(0,i.__)("Cancel","pattern-wrangler"))),S&&h().createElement(Ge,{className:"dlx-pw-admin-notice",status:"error",inline:!1},Object.values(w).map(function(e){return h().createElement("p",{key:e.message},e.message)}))))))},wt=Le("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function Et(){var e,t,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(n,i,r,o){var l=i&&i.prototype instanceof s?i:s,c=Object.create(l.prototype);return St(c,"_invoke",function(n,i,r){var o,s,l,c=0,u=r||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,s=0,l=e,h.n=n,a}};function f(n,i){for(s=n,l=i,t=0;!d&&c&&!r&&t<u.length;t++){var r,o=u[t],f=h.p,p=o[2];n>3?(r=p===i)&&(l=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=f&&((r=n<2&&f<o[1])?(s=0,h.v=i,h.n=o[1]):f<p&&(r=n<3||o[0]>i||i>p)&&(o[4]=n,o[5]=i,h.n=p,s=0))}if(r||n>1)return a;throw d=!0,i}return function(r,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!d;){o||(s?s<3?(s>1&&(h.n=-1),f(s,l)):h.n=l:h.v=l);try{if(c=2,o){if(s||(r="next"),t=o[r]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),s=1);o=e}else if((t=(d=h.n<0)?l:n.call(i,h))!==a)break}catch(t){o=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,r,o),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][i]?t(t([][i]())):(St(t={},i,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,St(e,r,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,St(d,"constructor",c),St(c,"constructor",l),l.displayName="GeneratorFunction",St(c,r,"GeneratorFunction"),St(d),St(d,r,"Generator"),St(d,i,function(){return this}),St(d,"toString",function(){return"[object Generator]"}),(Et=function(){return{w:o,m:h}})()}function St(e,t,n,i){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}St=function(e,t,n,i){function o(t,n){St(e,t,function(e){return this._invoke(t,n,e)})}t?r?r(e,t,{value:n,enumerable:!i,configurable:!i,writable:!i}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},St(e,t,n,i)}function xt(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function Ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ot(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ot(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}const _t=function(e){var t,n=Ct((0,d.useState)(!1),2),o=n[0],s=n[1],l=Ct((0,d.useState)(e.doNotShowAgain||!1),2),c=l[0],u=l[1],f=Re({defaultValues:{items:e.items||[],forceDelete:!1}}),p=f.control,g=f.handleSubmit,m=G({control:p}),v=V({control:p}).errors,b=function(){var t,n=(t=Et().m(function t(n){var i,r;return Et().w(function(t){for(;;)switch(t.n){case 0:return s(!0),i=n.items.map(function(e){return{id:e.id,nonce:e.editNonce}}),t.n=1,a()({path:"/dlxplugins/pattern-wrangler/v1/categories/delete/",method:"POST",data:{items:i}});case 1:r=t.v,e.onDelete(r,i),s(!1);case 2:return t.a(2)}},t)}),function(){var e=this,n=arguments;return new Promise(function(i,r){var o=t.apply(e,n);function a(e){xt(o,i,r,a,s,"next",e)}function s(e){xt(o,i,r,a,s,"throw",e)}a(void 0)})});return function(_x){return n.apply(this,arguments)}}();return(0,d.useEffect)(function(){e.doNotShowAgain&&b(m)},[]),e.doNotShowAgain?null:h().createElement(h().Fragment,null,h().createElement(r.Modal,{title:1===e.items.length?(0,i.__)("Delete Category","pattern-wrangler"):(0,i._n)("Delete Category","Delete Categories",e.items.length,"pattern-wrangler"),onRequestClose:e.onRequestClose,focusOnMount:"firstContentElement"},h().createElement("div",{className:"dlx-pw-modal-content"},h().createElement("form",{onSubmit:g(b)},h().createElement("div",{className:"dlx-pw-modal-admin-row"},h().createElement("p",{className:"description"},e.items.length>1?(0,i.__)("Are you sure you want to delete these categories? This action cannot be undone.","pattern-wrangler"):(0,i.__)("Are you sure you want to delete this category? This action cannot be undone.","pattern-wrangler"))),h().createElement("div",{className:"dlx-pw-modal-admin-row"},h().createElement(r.CheckboxControl,{label:(0,i.__)("Do not show this confirmation again.","pattern-wrangler"),checked:c,onChange:function(e){return u(e)},disabled:o})),h().createElement("div",{className:"dlx-pw-modal-admin-row dlx-pw-modal-admin-row-buttons"},h().createElement(r.Button,{variant:"primary",type:"submit",isDestructive:!0,disabled:o},(t=(0,i._n)("Delete Category","Delete Categories",e.items.length,"pattern-wrangler"),o&&(t=(0,i._n)("Deleting Category","Deleting Categories",e.items.length,"pattern-wrangler")),t)),h().createElement(r.Button,{variant:"secondary",onClick:e.onRequestClose,disabled:o},(0,i.__)("Cancel","pattern-wrangler"))),(null==v?void 0:v.categoryTitle)&&h().createElement(Ge,{className:"dlx-pw-admin-notice",status:"error",inline:!0,icon:function(){return h().createElement(wt,null)}},v.categoryTitle.message)))))};function Tt(){var e,t,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(n,i,r,o){var l=i&&i.prototype instanceof s?i:s,c=Object.create(l.prototype);return Pt(c,"_invoke",function(n,i,r){var o,s,l,c=0,u=r||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,s=0,l=e,h.n=n,a}};function f(n,i){for(s=n,l=i,t=0;!d&&c&&!r&&t<u.length;t++){var r,o=u[t],f=h.p,p=o[2];n>3?(r=p===i)&&(l=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=f&&((r=n<2&&f<o[1])?(s=0,h.v=i,h.n=o[1]):f<p&&(r=n<3||o[0]>i||i>p)&&(o[4]=n,o[5]=i,h.n=p,s=0))}if(r||n>1)return a;throw d=!0,i}return function(r,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!d;){o||(s?s<3?(s>1&&(h.n=-1),f(s,l)):h.n=l:h.v=l);try{if(c=2,o){if(s||(r="next"),t=o[r]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),s=1);o=e}else if((t=(d=h.n<0)?l:n.call(i,h))!==a)break}catch(t){o=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,r,o),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][i]?t(t([][i]())):(Pt(t={},i,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Pt(e,r,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,Pt(d,"constructor",c),Pt(c,"constructor",l),l.displayName="GeneratorFunction",Pt(c,r,"GeneratorFunction"),Pt(d),Pt(d,r,"Generator"),Pt(d,i,function(){return this}),Pt(d,"toString",function(){return"[object Generator]"}),(Tt=function(){return{w:o,m:h}})()}function Pt(e,t,n,i){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}Pt=function(e,t,n,i){function o(t,n){Pt(e,t,function(e){return this._invoke(t,n,e)})}t?r?r(e,t,{value:n,enumerable:!i,configurable:!i,writable:!i}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},Pt(e,t,n,i)}function Mt(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}const Rt=function(e){var t,n,o,s=(n=(0,d.useState)(!1),o=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(n,o)||function(e,t){if(e){if("string"==typeof e)return At(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?At(e,t):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=s[0],c=s[1],u=Re({defaultValues:{termNonce:e.termNonce||"",termTitle:e.termTitle||"",termSlug:e.termSlug||""}}),f=u.control,p=u.handleSubmit,g=u.setError,m=(u.setValue,u.getValues,G({control:f}),V({control:f})),v=m.errors,b=(m.isDirty,m.dirtyFields,function(){var t,n=(t=Tt().m(function t(n){var i;return Tt().w(function(t){for(;;)switch(t.n){case 0:return c(!0),t.n=1,a()({path:"/dlxplugins/pattern-wrangler/v1/categories/edit-registered/",method:"POST",data:{termNonce:n.termNonce,termTitle:n.termTitle,termSlug:n.termSlug}});case 1:if(null==(i=t.v)||!i.error){t.n=2;break}return g("termTitle",{message:i.error}),c(!1),t.a(2);case 2:e.onEditRegisteredCategory(i.category),c(!1),e.onRequestClose();case 3:return t.a(2)}},t)}),function(){var e=this,n=arguments;return new Promise(function(i,r){var o=t.apply(e,n);function a(e){Mt(o,i,r,a,s,"next",e)}function s(e){Mt(o,i,r,a,s,"throw",e)}a(void 0)})});return function(_x){return n.apply(this,arguments)}}()),y=Object.values(v).length>0;return h().createElement(h().Fragment,null,h().createElement(r.Modal,{title:(0,i.__)("Edit Category","pattern-wrangler"),onRequestClose:e.onRequestClose,focusOnMount:"firstContentElement"},h().createElement("div",{className:"dlx-pw-modal-content"},h().createElement("form",{onSubmit:p(b)},h().createElement("div",{className:"dlx-pw-modal-admin-row dlx-admin__row"},h().createElement(W,{control:f,name:"termTitle",rules:{required:(0,i.__)("Category title is required.","pattern-wrangler")},render:function(e){var t=e.field;return h().createElement(r.TextControl,{label:(0,i.__)("Category Title","pattern-wrangler"),help:(0,i.__)("Enter the title of the category.","pattern-wrangler"),className:Ve()({"is-required":!0,"is-error":null==v?void 0:v.termTitle,"has-error":null==v?void 0:v.termTitle}),value:t.value,onChange:function(e){return t.onChange(e)},disabled:l})}})),h().createElement("div",{className:"dlx-pw-modal-admin-row dlx-pw-modal-admin-row-buttons"},h().createElement(r.Button,{variant:"primary",type:"submit",disabled:l||y},(t=(0,i.__)("Edit Category","pattern-wrangler"),l&&(t=(0,i.__)("Saving Category","pattern-wrangler")),t)),h().createElement(r.Button,{variant:"secondary",onClick:e.onRequestClose,disabled:l},(0,i.__)("Cancel","pattern-wrangler"))),y&&h().createElement(Ge,{className:"dlx-pw-admin-notice",status:"error",inline:!1},Object.values(v).map(function(e){return h().createElement("p",{key:e.message},e.message)}))))))},kt=function(e){var t=e.categories,n=e.actions,o=Y(),a=o.getValues,s=o.setValue,l=o.control,c=(G({control:l}),t.filter(function(e){return a("categoriesSelected[".concat(e.slug,"]"))}).length),u=t.filter(function(e){return a("categoriesSelected[".concat(e.slug,"]"))});return React.createElement("div",{className:Ve()("dlx-patterns-view-category-bulk-actions dataviews-bulk-actions-footer__container",{"is-selected":a("bulkActionSelected")})},React.createElement(W,{control:l,name:"bulkActionSelected",render:function(e){var n=e.field;return React.createElement(React.Fragment,null,React.createElement(r.CheckboxControl,{checked:n.value,onChange:function(e){t.forEach(function(t){s("categoriesSelected[".concat(t.slug,"]"),e)}),n.onChange(e)},label:(0,i.sprintf)(/* translators: %d: number of categories selected */ /* translators: %d: number of categories selected */
(0,i._n)("%d Category","%d Categories",c>0?c:t.length,"pattern-wrangler"),c>0?c:t.length),indeterminate:c>0&&c<t.length}))}}),c>0&&React.createElement(React.Fragment,null,React.createElement(React.Fragment,null,React.createElement("div",{className:"dlx-patterns-view-category-bulk-actions__action-buttons"},n.map(function(e){return u.some(function(t){return e.isEligible(t)})?React.createElement(r.Button,{key:e.id,action:e,icon:e.icon,label:e.getLabel(u),isDestructive:e.isDestructive,onClick:function(){return e.callback(u)}}):null}),c>0&&React.createElement(r.Button,{variant:"tertiary",icon:"no-alt",label:(0,i.__)("Cancel","pattern-wrangler"),onClick:function(){s("categoriesSelected",{}),s("bulkActionSelected",!1)}})))))};function jt(){var e,t,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(n,i,r,o){var l=i&&i.prototype instanceof s?i:s,c=Object.create(l.prototype);return Dt(c,"_invoke",function(n,i,r){var o,s,l,c=0,u=r||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,s=0,l=e,h.n=n,a}};function f(n,i){for(s=n,l=i,t=0;!d&&c&&!r&&t<u.length;t++){var r,o=u[t],f=h.p,p=o[2];n>3?(r=p===i)&&(l=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=f&&((r=n<2&&f<o[1])?(s=0,h.v=i,h.n=o[1]):f<p&&(r=n<3||o[0]>i||i>p)&&(o[4]=n,o[5]=i,h.n=p,s=0))}if(r||n>1)return a;throw d=!0,i}return function(r,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!d;){o||(s?s<3?(s>1&&(h.n=-1),f(s,l)):h.n=l:h.v=l);try{if(c=2,o){if(s||(r="next"),t=o[r]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),s=1);o=e}else if((t=(d=h.n<0)?l:n.call(i,h))!==a)break}catch(t){o=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,r,o),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][i]?t(t([][i]())):(Dt(t={},i,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Dt(e,r,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,Dt(d,"constructor",c),Dt(c,"constructor",l),l.displayName="GeneratorFunction",Dt(c,r,"GeneratorFunction"),Dt(d),Dt(d,r,"Generator"),Dt(d,i,function(){return this}),Dt(d,"toString",function(){return"[object Generator]"}),(jt=function(){return{w:o,m:h}})()}function Dt(e,t,n,i){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}Dt=function(e,t,n,i){function o(t,n){Dt(e,t,function(e){return this._invoke(t,n,e)})}t?r?r(e,t,{value:n,enumerable:!i,configurable:!i,writable:!i}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},Dt(e,t,n,i)}function Lt(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}const It=function(e){var t,n,o,s,c=(o=(0,d.useState)(!1),s=2,function(e){if(Array.isArray(e))return e}(o)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(o,s)||function(e,t){if(e){if("string"==typeof e)return Ft(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ft(e,t):void 0}}(o,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0],f=c[1],p=Re({defaultValues:{items:e.items||[],mappingEnabled:e.mappingEnabled||!1,mappedTo:e.mappedTo||"none"}}),g=p.control,m=p.handleSubmit,v=G({control:g}),b=V({control:g}).errors,y=(0,l.useSelect)(function(e){var t=e(st).getCategories();return Object.values(t).filter(function(e){return!e.registered})}),w=function(){var t,n=(t=jt().m(function t(n){var i,r;return jt().w(function(t){for(;;)switch(t.n){case 0:return f(!0),i=n.items.map(function(e){return{slug:e.slug,nonce:e.editNonce}}),t.n=1,a()({path:"/dlxplugins/pattern-wrangler/v1/categories/disable/",method:"POST",data:{items:i,mappingEnabled:n.mappingEnabled,mappedTo:n.mappedTo}});case 1:r=t.v,e.onPauseCategory(r,i),f(!1);case 2:return t.a(2)}},t)}),function(){var e=this,n=arguments;return new Promise(function(i,r){var o=t.apply(e,n);function a(e){Lt(o,i,r,a,s,"next",e)}function s(e){Lt(o,i,r,a,s,"throw",e)}a(void 0)})});return function(_x){return n.apply(this,arguments)}}();return h().createElement(h().Fragment,null,h().createElement(r.Modal,{title:1===e.items.length?(0,i.__)("Disable Category","pattern-wrangler"):(0,i._n)("Disable Category","Disable Categories",e.items.length,"pattern-wrangler"),onRequestClose:e.onRequestClose,focusOnMount:"firstContentElement"},h().createElement("div",{className:"dlx-pw-modal-content"},h().createElement("form",{onSubmit:m(w)},h().createElement("div",{className:"dlx-pw-modal-admin-row"},h().createElement("p",null,(0,i.__)("Are you sure you want to disable this category? You can always re-enable it later.","pattern-wrangler"))),h().createElement("div",{className:"dlx-pw-modal-admin-row"},h().createElement(W,{control:g,name:"mappingEnabled",render:function(t){var n=t.field;return h().createElement(h().Fragment,null,h().createElement(r.ToggleControl,{label:(0,i._n)("Map this disabled category","Map these disabled categories",e.items.length,"pattern-wrangler"),checked:n.value,onChange:function(e){return n.onChange(e)},disabled:u,help:(0,i.__)("This is useful if you have a similar local category to move registered patterns to.","pattern-wrangler")}))}})),v.mappingEnabled&&h().createElement(h().Fragment,null,h().createElement("div",{className:"dlx-pw-modal-admin-row"},h().createElement(W,{control:g,name:"mappedTo",render:function(e){var t,n=e.field;return h().createElement(r.SelectControl,{label:(0,i.__)("Map to Local Category","pattern-wrangler"),value:n.value,onChange:function(e){return n.onChange(e)},options:(t=[],t.push({label:(0,i.__)("Select a category","pattern-wrangler"),value:"none"}),y.forEach(function(e){t.push({label:e.label,value:e.id})}),t)})}}))),h().createElement("div",{className:"dlx-pw-modal-admin-row dlx-pw-modal-admin-row-buttons"},h().createElement(r.Button,{variant:"primary",isDestructive:!0,type:"submit",disabled:u},(n=(0,i._n)("Disable Category","Disable Categories",e.items.length,"pattern-wrangler"),u&&(n=(0,i._n)("Disabling Category","Disabling Categories",e.items.length,"pattern-wrangler")),n)),h().createElement(r.Button,{variant:"secondary",onClick:e.onRequestClose,disabled:u},(0,i.__)("Cancel","pattern-wrangler"))),(null==b?void 0:b.mappedTo)&&h().createElement(Ge,{className:"dlx-pw-admin-notice",status:"error",inline:!0,icon:function(){return h().createElement(wt,null)}},null==b||null===(t=b.mappedTo)||void 0===t?void 0:t.message)))))};function Nt(){var e,t,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(n,i,r,o){var l=i&&i.prototype instanceof s?i:s,c=Object.create(l.prototype);return zt(c,"_invoke",function(n,i,r){var o,s,l,c=0,u=r||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,s=0,l=e,h.n=n,a}};function f(n,i){for(s=n,l=i,t=0;!d&&c&&!r&&t<u.length;t++){var r,o=u[t],f=h.p,p=o[2];n>3?(r=p===i)&&(l=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=f&&((r=n<2&&f<o[1])?(s=0,h.v=i,h.n=o[1]):f<p&&(r=n<3||o[0]>i||i>p)&&(o[4]=n,o[5]=i,h.n=p,s=0))}if(r||n>1)return a;throw d=!0,i}return function(r,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!d;){o||(s?s<3?(s>1&&(h.n=-1),f(s,l)):h.n=l:h.v=l);try{if(c=2,o){if(s||(r="next"),t=o[r]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),s=1);o=e}else if((t=(d=h.n<0)?l:n.call(i,h))!==a)break}catch(t){o=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,r,o),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][i]?t(t([][i]())):(zt(t={},i,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,zt(e,r,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,zt(d,"constructor",c),zt(c,"constructor",l),l.displayName="GeneratorFunction",zt(c,r,"GeneratorFunction"),zt(d),zt(d,r,"Generator"),zt(d,i,function(){return this}),zt(d,"toString",function(){return"[object Generator]"}),(Nt=function(){return{w:o,m:h}})()}function zt(e,t,n,i){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}zt=function(e,t,n,i){function o(t,n){zt(e,t,function(e){return this._invoke(t,n,e)})}t?r?r(e,t,{value:n,enumerable:!i,configurable:!i,writable:!i}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},zt(e,t,n,i)}function Vt(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function Bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}const Ht=function(e){var t,n,o,s,c=(o=(0,d.useState)(!1),s=2,function(e){if(Array.isArray(e))return e}(o)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(o,s)||function(e,t){if(e){if("string"==typeof e)return Bt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bt(e,t):void 0}}(o,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0],f=c[1],p=(0,l.useSelect)(function(e){var t=e(st).getCategories();return Object.values(t).filter(function(e){return!e.registered})}),g=(0,d.useMemo)(function(){var t="none";if(e.items.length>0){var n,i=e.items.map(function(e){return e.mappedTo}).filter(function(e){return"none"!==e}).reduce(function(e,t){return e[t]?e[t]++:e[t]=1,e},{}),r=Object.keys(i).sort(function(e,t){return i[t]-i[e]});t=r[0]||"none";var o=null===(n=p.find(function(e){return e.slug===t}))||void 0===n?void 0:n.id;t=o||"none"}return t},[]),m=Re({defaultValues:{items:e.items||[],mappingEnabled:!0,mappedTo:g||"none"}}),v=m.control,b=m.handleSubmit,y=m.getValues,w=G({control:v}),E=V({control:v}).errors,S=function(){var t,n=(t=Nt().m(function t(n){var i,r;return Nt().w(function(t){for(;;)switch(t.n){case 0:return f(!0),i=n.items.map(function(e){return{slug:e.slug,nonce:e.editNonce}}),t.n=1,a()({path:"/dlxplugins/pattern-wrangler/v1/categories/map/",method:"POST",data:{items:i,mappingEnabled:n.mappingEnabled,mappedTo:n.mappedTo}});case 1:r=t.v,e.onMapCategory(r,i),f(!1);case 2:return t.a(2)}},t)}),function(){var e=this,n=arguments;return new Promise(function(i,r){var o=t.apply(e,n);function a(e){Vt(o,i,r,a,s,"next",e)}function s(e){Vt(o,i,r,a,s,"throw",e)}a(void 0)})});return function(_x){return n.apply(this,arguments)}}();return h().createElement(h().Fragment,null,h().createElement(r.Modal,{title:1===e.items.length?(0,i.__)("Map Category","pattern-wrangler"):(0,i._n)("Map Category","Map Categories",e.items.length,"pattern-wrangler"),onRequestClose:e.onRequestClose,focusOnMount:"firstContentElement"},h().createElement("div",{className:"dlx-pw-modal-content"},h().createElement("form",{onSubmit:b(S)},h().createElement("div",{className:"dlx-pw-modal-admin-row"},h().createElement("p",null,(0,i._n)("Choose a local category to map this disabled category to.","Choose a local category to map these disabled categories to.",e.items.length,"pattern-wrangler"))),"none"!==g&&h().createElement("div",{className:"dlx-pw-modal-admin-row"},h().createElement(W,{control:v,name:"mappingEnabled",render:function(t){var n=t.field;return h().createElement(h().Fragment,null,h().createElement(r.ToggleControl,{label:(0,i._n)("Map this disabled category to a local category.","Map these disabled categories to a local category.",e.items.length,"pattern-wrangler"),checked:n.value,onChange:function(e){return n.onChange(e)},disabled:u,help:(0,i.__)("This is useful if you have a similar local category to move registered patterns categories to.","pattern-wrangler")}))}})),w.mappingEnabled&&h().createElement(h().Fragment,null,h().createElement("div",{className:"dlx-pw-modal-admin-row"},h().createElement(W,{control:v,name:"mappedTo",render:function(e){var t,n=e.field;return h().createElement(r.SelectControl,{label:(0,i.__)("Map to Local Category","pattern-wrangler"),value:n.value,onChange:function(e){return n.onChange(e)},options:(t=[],t.push({label:(0,i.__)("Select a category","pattern-wrangler"),value:"none"}),p.forEach(function(e){t.push({label:e.label,value:e.id})}),t)})}}))),h().createElement("div",{className:"dlx-pw-modal-admin-row dlx-pw-modal-admin-row-buttons"},h().createElement(r.Button,{variant:"primary",isDestructive:!1,type:"submit",disabled:u||"none"===y("mappedTo")&&y("mappingEnabled")},(n=(0,i._n)("Map Category","Map Categories",e.items.length,"pattern-wrangler"),u&&(n=(0,i._n)("Mapping Category","Mapping Categories",e.items.length,"pattern-wrangler")),n)),h().createElement(r.Button,{variant:"secondary",onClick:e.onRequestClose,disabled:u},(0,i.__)("Cancel","pattern-wrangler"))),(null==E?void 0:E.mappedTo)&&h().createElement(Ge,{className:"dlx-pw-admin-notice",status:"error",inline:!0,icon:function(){return h().createElement(wt,null)}},null==E||null===(t=E.mappedTo)||void 0===t?void 0:t.message)))))};function qt(e){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qt(e)}function $t(e){return function(e){if(Array.isArray(e))return en(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Jt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach(function(t){Xt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Xt(e,t,n){return(t=function(e){var t=function(e){if("object"!=qt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=qt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==qt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yt(){var e,t,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(n,i,r,o){var l=i&&i.prototype instanceof s?i:s,c=Object.create(l.prototype);return Ut(c,"_invoke",function(n,i,r){var o,s,l,c=0,u=r||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,s=0,l=e,h.n=n,a}};function f(n,i){for(s=n,l=i,t=0;!d&&c&&!r&&t<u.length;t++){var r,o=u[t],f=h.p,p=o[2];n>3?(r=p===i)&&(l=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=f&&((r=n<2&&f<o[1])?(s=0,h.v=i,h.n=o[1]):f<p&&(r=n<3||o[0]>i||i>p)&&(o[4]=n,o[5]=i,h.n=p,s=0))}if(r||n>1)return a;throw d=!0,i}return function(r,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!d;){o||(s?s<3?(s>1&&(h.n=-1),f(s,l)):h.n=l:h.v=l);try{if(c=2,o){if(s||(r="next"),t=o[r]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),s=1);o=e}else if((t=(d=h.n<0)?l:n.call(i,h))!==a)break}catch(t){o=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,r,o),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][i]?t(t([][i]())):(Ut(t={},i,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Ut(e,r,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,Ut(d,"constructor",c),Ut(c,"constructor",l),l.displayName="GeneratorFunction",Ut(c,r,"GeneratorFunction"),Ut(d),Ut(d,r,"Generator"),Ut(d,i,function(){return this}),Ut(d,"toString",function(){return"[object Generator]"}),(Yt=function(){return{w:o,m:h}})()}function Ut(e,t,n,i){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}Ut=function(e,t,n,i){function o(t,n){Ut(e,t,function(e){return this._invoke(t,n,e)})}t?r?r(e,t,{value:n,enumerable:!i,configurable:!i,writable:!i}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},Ut(e,t,n,i)}function Zt(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function Kt(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var o=e.apply(t,n);function a(e){Zt(o,i,r,a,s,"next",e)}function s(e){Zt(o,i,r,a,s,"throw",e)}a(void 0)})}}function Qt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(e,t)||Jt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jt(e,t){if(e){if("string"==typeof e)return en(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?en(e,t):void 0}}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function tn(){return tn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},tn.apply(null,arguments)}var nn=function(e){var n,o,c,u,d,h=e.categories,f=((0,l.useSelect)(function(e){return{doNotShowAgain:e(st).getDoNotShowAgain()}}).doNotShowAgain,Qt((0,t.useState)(!1),2)),p=f[0],g=f[1],m=Qt((0,t.useState)(!1),2),v=m[0],b=m[1],y=Qt((0,t.useState)(!1),2),w=y[0],E=y[1],S=Qt((0,t.useState)(!1),2),x=S[0],C=S[1],O=Qt((0,t.useState)(!1),2),_=O[0],T=O[1],P=Qt((0,t.useState)(!1),2),M=P[0],A=P[1],R=Qt((0,t.useState)(null),2),k=R[0],j=R[1],D=Qt((0,t.useState)([]),2),L=D[0],F=D[1],I=Qt((0,t.useState)(new Set),2),N=I[0],z=I[1],V=Qt((0,t.useState)(null),2),B=V[0],H=V[1],q=Qt((0,t.useState)({isVisible:!1,message:"",title:"",type:""}),2),$=q[0],G=q[1],W=function(){var e=Kt(Yt().m(function e(t){var n;return Yt().w(function(e){for(;;)switch(e.n){case 0:return G({isVisible:!0,message:(0,i.sprintf)(/* translators: %d: number of categories */ /* translators: %d: number of categories */
(0,i._n)("Enabling %d category","Enabling %d categories",t.length,"pattern-wrangler"),t.length),title:(0,i.sprintf)(/* translators: %d: number of categories */ /* translators: %d: number of categories */
(0,i._n)("Enabling %d Category","Enabling %d Categories",t.length,"pattern-wrangler"),t.length),type:"loading"}),e.n=1,a()({path:"/dlxplugins/pattern-wrangler/v1/categories/enable/",method:"POST",data:{items:t}});case 1:n=e.v,(0,l.dispatch)(st).setCategories(n.categories),Z("categoriesSelected",[]),Z("bulkActionSelected",!1),G({isVisible:!0,message:(0,i.sprintf)(/* translators: %d: number of categories */ /* translators: %d: number of categories */
(0,i._n)("%d category enabled successfully.","%d Categories enabled successfully.",t.length,"pattern-wrangler"),t.length),title:(0,i.sprintf)(/* translators: %d: number of categories */ /* translators: %d: number of categories */
(0,i._n)("%d Category Enabled","%d Categories Enabled",t.length,"pattern-wrangler"),t.length),type:"success"});case 2:return e.a(2)}},e)}));return function(_x){return e.apply(this,arguments)}}(),X=function(e){var t,n,i,r,o,a={},l=null===(t=e.filters)||void 0===t?void 0:t.find(function(e){return"categoryType"===e.field});l&&(a.categoryType=l.value);var c=null===(n=e.filters)||void 0===n?void 0:n.find(function(e){return"categoryRegisteredStatus"===e.field}),u=null===(i=e.filters)||void 0===i?void 0:i.find(function(e){return"categoryLocalStatus"===e.field}),d=null===(r=e.filters)||void 0===r?void 0:r.find(function(e){return"categoryLocalRegisteredStatus"===e.field});c&&"registered"===a.categoryType&&(a.categoryRegisteredStatus=c.value),"registered"!==a.categoryType||c||(a.categoryRegisteredStatus="enabled"),u&&"local"===a.categoryType&&(a.categoryLocalStatus=u.value),d&&"both"===a.categoryType&&(a.categoryLocalRegisteredStatus=d.value),"both"!==a.categoryType||d||(a.categoryLocalRegisteredStatus="enabled");var f=(0,s.getQueryArgs)(window.location.href);f.page&&delete f.page;var p=window.location.href;Object.keys(f).forEach(function(e){p=(0,s.removeQueryArgs)(p,e)});var g=(0,s.addQueryArgs)(p,a);(0,s.getQueryArgs)(window.location.href).search&&!e.search&&(g=(0,s.removeQueryArgs)(g,"search")),0===(null===(o=e.filters)||void 0===o?void 0:o.length)&&(e.filters=[].concat($t(e.filters),[{field:"categoryType",operator:"is",value:"all"},{field:"categoryLocalRegisteredStatus",operator:"is",value:"enabled"}])),F(function(e){var t=Wt({},h),n=(null==e?void 0:e.filters)||[];return n.length>0&&n.forEach(function(e){switch(e.field){case"categoryType":if(e.value)switch(e.value){case"both":break;case"local":t=Object.values(t).filter(function(e){return!e.registered});break;case"registered":t=Object.values(t).filter(function(e){return e.registered})}break;case"categoryRegisteredStatus":case"categoryLocalRegisteredStatus":if(e.value)switch(e.value){case"enabled":t=Object.values(t).filter(function(e){return e.enabled});break;case"disabled":t=Object.values(t).filter(function(e){return!e.enabled})}}}),Object.values(t)}(Wt(Wt({},e),a))),window.history.pushState({},"",g),j(Wt(Wt({},e),a))},Y=Re({defaultValues:{categoriesSelected:[],bulkActionSelected:!1},mode:"onBlur",reValidateMode:"onChange",shouldUnregister:!1,resetOptions:{keepDirtyValues:!1,keepErrors:!1}}),Z=Y.setValue,K=(0,t.useMemo)(function(){return[{id:"delete-category",getLabel:function(e){return e=e.filter(function(e){return!e.registered}),(0,i.sprintf)(/* translators: %d: number of categories */ /* translators: %d: number of categories */
(0,i._n)("Delete %d Category","Delete %d Categories",e.length,"pattern-wrangler"),e.length)},icon:"trash",callback:function(e){e=e.filter(function(e){return!e.registered}),b({isOpen:!0,items:e})},isEligible:function(e){return!e.registered},isDestructive:!0},{id:"enable-categories",getLabel:function(e){return e=e.filter(function(e){return e.registered&&!e.enabled}),(0,i.sprintf)(/* translators: %d: number of categories */ /* translators: %d: number of categories */
(0,i._n)("Enable %d Category","Enable %d Categories",e.length,"pattern-wrangler"),e.length)},icon:"visibility",callback:(e=Kt(Yt().m(function e(t){return Yt().w(function(e){for(;;)switch(e.n){case 0:t=t.filter(function(e){return e.registered&&!e.enabled}),W(t),Z("categoriesSelected",[]);case 1:return e.a(2)}},e)})),function(t){return e.apply(this,arguments)}),isEligible:function(e){return e.registered&&!e.enabled},isDestructive:!1},{id:"disable-categories",getLabel:function(e){return e=e.filter(function(e){return e.registered&&e.enabled}),(0,i.sprintf)(/* translators: %d: number of categories */ /* translators: %d: number of categories */
(0,i._n)("Disable %d Category","Disable %d Categories",e.length,"pattern-wrangler"),e.length)},icon:"controls-pause",callback:function(e){e=e.filter(function(e){return e.registered&&e.enabled}),T({isOpen:!0,items:e})},isEligible:function(e){return e.registered&&e.enabled},isDestructive:!0},{id:"map-categories",getLabel:function(e){return e=e.filter(function(e){return e.registered&&!e.enabled}),(0,i.sprintf)(/* translators: %d: number of categories */ /* translators: %d: number of categories */
(0,i._n)("Map %d Category","Map %d Categories",e.length,"pattern-wrangler"),e.length)},icon:"tag",callback:function(e){e=e.filter(function(e){return e.registered&&!e.enabled}),A({isOpen:!0,items:e})},isEligible:function(e){return e.registered&&!e.enabled},isDestructive:!1}];var e},[]);(0,t.useEffect)(function(){if(null===k){var e=[];return(0,s.getQueryArg)(window.location.href,"categoryType")?e.push({field:"categoryType",operator:"is",value:(0,s.getQueryArg)(window.location.href,"categoryType")}):e.push({field:"categoryType",operator:"is",value:"both"}),(0,s.getQueryArg)(window.location.href,"categoryRegisteredStatus")&&e.push({field:"categoryRegisteredStatus",operator:"is",value:(0,s.getQueryArg)(window.location.href,"categoryRegisteredStatus")}),(0,s.getQueryArg)(window.location.href,"categoryLocalRegisteredStatus")?e.push({field:"categoryLocalRegisteredStatus",operator:"is",value:(0,s.getQueryArg)(window.location.href,"categoryLocalRegisteredStatus")}):(0,s.getQueryArg)(window.location.href,"categoryLocalRegisteredStatus")||(0,s.getQueryArg)(window.location.href,"categoryType")||e.push({field:"categoryLocalRegisteredStatus",operator:"is",value:"enabled"}),j({filters:e}),void(e.length>0&&X({filters:e}))}X(k)},[h]),(0,t.useEffect)(function(){0!==N.size&&B&&requestAnimationFrame(function(){var e=document.querySelectorAll(".dlx-patterns-view-category-card.is-deleted");if(b(!1),0!==e.length){var t=0,n=e.length,r=function(e){"opacity"===e.propertyName&&(t++,e.target.removeEventListener("transitionend",r),t===n&&((0,l.dispatch)(st).setCategories(B.categories),z(new Set),H(null),G({isVisible:!0,message:(0,i.sprintf)(/* translators: %d: number of categories */ /* translators: %d: number of categories */
(0,i._n)("%d category deleted successfully.","%d Categories deleted successfully.",B.termIdsDeleted.length,"pattern-wrangler"),B.termIdsDeleted.length),title:(0,i.sprintf)(/* translators: %d: number of categories */ /* translators: %d: number of categories */
(0,i._n)("%d Category Deleted","%d Categories Deleted",B.termIdsDeleted.length,"pattern-wrangler"),B.termIdsDeleted.length),type:"success"})))};return e.forEach(function(e){e.addEventListener("transitionend",r)}),function(){e.forEach(function(e){e.removeEventListener("transitionend",r)})}}})},[N,B]);var Q=(0,t.useMemo)(function(){return L.map(function(e){var t=Wt(Wt({},e),{},{deleted:N.has(e.id)||e.deleted});return React.createElement(ft,{key:e.slug,category:t,onDeleteCategory:function(e){b({isOpen:!0,items:e})},onEditCategory:function(e){E({isOpen:!0,category:e})},onEditRegisteredCategory:function(e){C({isOpen:!0,category:e})},onPauseCategory:function(e){T({isOpen:!0,items:e})},onEnableCategory:function(e){W(e)},onEditMapping:function(e){A({isOpen:!0,items:e})}})})},[L,h,N]),J=function(){return React.createElement(React.Fragment,null,React.createElement("div",{className:"dlx-patterns-view-button-actions-wrapper dlx-bulk-action-toolbar-top"},React.createElement(kt,{categories:L,actions:K})))};return React.createElement("div",{className:"dlx-patterns-view-container-wrapper"},React.createElement("div",{className:"dlx-patterns-view-container"},React.createElement("div",{className:"dlx-patterns-view-container-header"},React.createElement("h1",null,(0,i.__)("Pattern Categories","pattern-wrangler"))),React.createElement("div",{className:"dlx-patterns-view-quick-buttons-wrapper"},React.createElement(r.Button,{variant:"primary",className:"dlx-patterns-view-quick-button",onClick:function(){g({isOpen:!0,termId:0})}},(0,i.__)("Add New Category","pattern-wrangler"))),React.createElement("div",{className:"dlx-patterns-view-categories"},React.createElement(U,Y,React.createElement("div",{className:"dlx-patterns-view-button-actions-wrapper"},React.createElement(r.__experimentalToggleGroupControl,{label:(0,i.__)("Category Type","pattern-wrangler"),isAdaptiveWidth:!0,hideLabelFromVision:!0,value:(null==k||null===(n=k.filters)||void 0===n||null===(n=n.find(function(e){return"categoryType"===e.field}))||void 0===n?void 0:n.value)||"both",onChange:function(e){var t,n,i,r,o=Wt({},k),a=(null===(t=o.filters)||void 0===t?void 0:t.filter(function(e){return"categoryType"!==e.field}))||[];switch(o.filters=[].concat($t(a),[{field:"categoryType",operator:"is",value:e}]),e){case"both":o.filters=(null===(n=o.filters)||void 0===n?void 0:n.filter(function(e){return"categoryRegisteredStatus"!==e.field}))||[],o.filters.push({field:"categoryLocalRegisteredStatus",operator:"is",value:"enabled"});break;case"local":o.filters=(null===(i=o.filters)||void 0===i?void 0:i.filter(function(e){return"categoryRegisteredStatus"!==e.field&&"categoryLocalRegisteredStatus"!==e.field}))||[];break;case"registered":o.filters=(null===(r=o.filters)||void 0===r?void 0:r.filter(function(e){return"categoryLocalRegisteredStatus"!==e.field&&"categoryRegisteredStatus"!==e.field}))||[],o.filters.push({field:"categoryRegisteredStatus",operator:"is",value:"enabled"})}X(o)}},React.createElement(r.__experimentalToggleGroupControlOption,{value:"local",label:(0,i.__)("Local","pattern-wrangler"),showTooltip:!0,"aria-label":(0,i.__)("Show Only Local Categories","pattern-wrangler")}),React.createElement(r.__experimentalToggleGroupControlOption,{value:"both",label:(0,i.__)("Both","pattern-wrangler"),showTooltip:!0,"aria-label":(0,i.__)("Show All Categories","pattern-wrangler")}),React.createElement(r.__experimentalToggleGroupControlOption,{value:"registered",label:(0,i.__)("Registered","pattern-wrangler"),showTooltip:!0,"aria-label":(0,i.__)("Show Only Registered Categories","pattern-wrangler")})),"registered"===(null==k||null===(o=k.filters)||void 0===o||null===(o=o.find(function(e){return"categoryType"===e.field}))||void 0===o?void 0:o.value)&&React.createElement(React.Fragment,null,React.createElement(r.__experimentalToggleGroupControl,{label:(0,i.__)("Category Registered Status","pattern-wrangler"),isAdaptiveWidth:!0,hideLabelFromVision:!0,value:(null==k||null===(c=k.filters)||void 0===c||null===(c=c.find(function(e){return"categoryRegisteredStatus"===e.field}))||void 0===c?void 0:c.value)||"enabled",onChange:function(e){var t,n=Wt({},k),i=(null===(t=n.filters)||void 0===t?void 0:t.filter(function(e){return"categoryRegisteredStatus"!==e.field}))||[];n.filters=[].concat($t(i),[{field:"categoryRegisteredStatus",operator:"is",value:e}]),n.page=1,X(n)}},React.createElement(r.__experimentalToggleGroupControlOption,{value:"disabled",label:(0,i.__)("Disabled","pattern-wrangler"),showTooltip:!0,"aria-label":(0,i.__)("Show Only Disabled Categories","pattern-wrangler")}),React.createElement(r.__experimentalToggleGroupControlOption,{value:"both",label:(0,i.__)("Both","pattern-wrangler"),"aria-label":(0,i.__)("Show Both Disabled and Enabled Categories","pattern-wrangler"),showTooltip:!0}),React.createElement(r.__experimentalToggleGroupControlOption,{value:"enabled",label:(0,i.__)("Enabled","pattern-wrangler"),showTooltip:!0,"aria-label":(0,i.__)("Show Only Enabled Categories","pattern-wrangler")}))),"both"===(null==k||null===(u=k.filters)||void 0===u||null===(u=u.find(function(e){return"categoryType"===e.field}))||void 0===u?void 0:u.value)&&React.createElement(React.Fragment,null,React.createElement(r.__experimentalToggleGroupControl,{label:(0,i.__)("Category Status","pattern-wrangler"),isAdaptiveWidth:!0,hideLabelFromVision:!0,value:(null==k||null===(d=k.filters)||void 0===d||null===(d=d.find(function(e){return"categoryLocalRegisteredStatus"===e.field}))||void 0===d?void 0:d.value)||"enabled",onChange:function(e){var t,n=Wt({},k),i=(null===(t=n.filters)||void 0===t?void 0:t.filter(function(e){return"categoryLocalRegisteredStatus"!==e.field}))||[];n.filters=[].concat($t(i),[{field:"categoryLocalRegisteredStatus",operator:"is",value:e}]),n.page=1,X(n)}},React.createElement(r.__experimentalToggleGroupControlOption,{value:"disabled",label:(0,i.__)("Disabled","pattern-wrangler"),showTooltip:!0,"aria-label":(0,i.__)("Show Only Disabled Categories","pattern-wrangler")}),React.createElement(r.__experimentalToggleGroupControlOption,{value:"both",label:(0,i.__)("Both","pattern-wrangler"),"aria-label":(0,i.__)("Show Both Disabled and Enabled Categories","pattern-wrangler"),showTooltip:!0}),React.createElement(r.__experimentalToggleGroupControlOption,{value:"enabled",label:(0,i.__)("Enabled","pattern-wrangler"),showTooltip:!0,"aria-label":(0,i.__)("Show Only Enabled Categories","pattern-wrangler")})))),J(),React.createElement("div",{className:"dlx-patterns-view-categories-list"},Q),J())),$.isVisible&&React.createElement(Ye,{isVisible:$.isVisible,message:$.message,title:$.title,type:$.type,onClose:function(){G(Wt(Wt({},$),{},{isVisible:!1}))}}),p.isOpen&&React.createElement(yt,{isOpen:p.isOpen,onRequestClose:function(){return g(!1)},termId:p.termId,onCreate:function(e){(0,l.dispatch)(st).addCategory(e),g(!1),G({isVisible:!0,message:(0,i.__)("Category created successfully.","pattern-wrangler"),title:(0,i.__)("Category Created","pattern-wrangler"),type:"success"})}}),v.isOpen&&React.createElement(_t,{isOpen:v.isOpen,onRequestClose:function(){return b(!1)},items:v.items,onDelete:function(e,t){var n=new Set(t.map(function(e){return e.id}));H(e),z(n),Z("categoriesSelected",[]),Z("bulkActionSelected",!1)}}),w.isOpen&&React.createElement(yt,{isOpen:w.isOpen,onRequestClose:function(){return E(!1)},termId:w.category.id,termTitle:w.category.label,termSlug:w.category.slug,termNonce:w.category.editNonce,isEditMode:!0,onEdit:function(e){(0,l.dispatch)(st).updateCategory(e),E(!1),G({isVisible:!0,message:(0,i.__)("Category edited successfully.","pattern-wrangler"),title:(0,i.__)("Category Edited","pattern-wrangler"),type:"success"})}}),x.isOpen&&React.createElement(Rt,{isOpen:x.isOpen,onRequestClose:function(){return C(!1)},termTitle:x.category.customLabel||x.category.label,termSlug:x.category.slug,termNonce:x.category.editNonce,onEditRegisteredCategory:function(e){(0,l.dispatch)(st).updateRegisteredCategory(e),C(!1),G({isVisible:!0,message:(0,i.__)("Category edited successfully.","pattern-wrangler"),title:(0,i.__)("Category Edited","pattern-wrangler"),type:"success"})}}),_.isOpen&&React.createElement(It,{isOpen:_.isOpen,onRequestClose:function(){return T(!1)},items:_.items,onPauseCategory:function(e,t){T(!1),(0,l.dispatch)(st).setCategories(e.categories),Z("categoriesSelected",[]),Z("bulkActionSelected",!1),G({isVisible:!0,message:(0,i.sprintf)(/* translators: %d: number of categories */ /* translators: %d: number of categories */
(0,i._n)("%d category disabled successfully.","%d Categories disabled successfully.",t.length,"pattern-wrangler"),t.length),title:(0,i.sprintf)(/* translators: %d: number of categories */ /* translators: %d: number of categories */
(0,i._n)("%d Category Disabled","%d Categories Disabled",t.length,"pattern-wrangler"),t.length),type:"success"})}}),M.isOpen&&React.createElement(Ht,{isOpen:M.isOpen,onRequestClose:function(){return A(!1)},items:M.items,onMapCategory:function(e,t){A(!1),(0,l.dispatch)(st).setCategories(e.categories),G({isVisible:!0,message:(0,i.sprintf)(/* translators: %d: number of categories */ /* translators: %d: number of categories */
(0,i._n)("%d category mapped successfully.","%d Categories mapped successfully.",t.length,"pattern-wrangler"),t.length),title:(0,i.sprintf)(/* translators: %d: number of categories */ /* translators: %d: number of categories */
(0,i._n)("%d Category Mapped","%d Categories Mapped",t.length,"pattern-wrangler"),t.length),type:"success"}),Z("categoriesSelected",[]),Z("bulkActionSelected",!1)}})))};const rn=function(e){var n=(0,l.useSelect)(function(e){return{categories:e(st).getCategories(),loading:e(st).getLoading(),error:e(st).getError()}}),o=n.categories,a=n.loading,s=n.error;return(0,t.useEffect)(function(){(0,l.dispatch)(st).fetchData()},[]),a?React.createElement("div",{className:"dlx-patterns-view-container-wrapper"},React.createElement("div",{className:"dlx-patterns-view-container"},React.createElement("div",{className:"dataviews-wrapper"},React.createElement("div",{className:"dlx-patterns-view-container-header"},React.createElement("h1",null,(0,i.__)("Loading categories","pattern-wrangler")),React.createElement(u(),{size:30,color:"#3c434a"}))))):s?React.createElement("div",{className:"dlx-patterns-view-error"},React.createElement("p",null,(0,i.__)("Error loading categories:","pattern-wrangler")," ",s),React.createElement(r.Button,{variant:"primary",onClick:function(){return(0,l.dispatch)(st).fetchData()}},(0,i.__)("Retry","pattern-wrangler"))):React.createElement(nn,tn({categories:o},e))};var on=document.getElementById("dlx-pattern-wrangler-categories-view");on&&(0,e.createRoot)(on).render(React.createElement(rn,null))})()})();