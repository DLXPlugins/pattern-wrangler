"use strict";(globalThis.webpackChunkpattern_wrangler=globalThis.webpackChunkpattern_wrangler||[]).push([[435],{435:(e,t,r)=>{r.r(t),r.d(t,{default:()=>ge});var n=r(87),a=r(491),o=r(924),i=r(985),l=r(877),c=r(723),u=r(427),s=r(247),p=r(832),f=r(143),d=r(609),h=r.n(d);h().Component;var g=r(804),y=r(946),m=r(104),v=r(942),w=r.n(v),b=r(556),E=r.n(b),_=r(195);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x.apply(null,arguments)}function P(e,t,r){return(t=function(e){var t=function(e){if("object"!=S(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==S(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O=function(e){var t=e.message,r=e.status,n=e.politeness,a=e.icon,o=e.className,i=e.inline,l=e.children,s=e.hasToTop,p=void 0!==s&&s;(0,d.useEffect)((function(){(0,_.speak)(t,n)}),[t,r,n]);var f,g=function(){return null!==a},y=w()(o,"dlx-pw-admin__notice",P(P(P({"dlx-pw-admin__notice--has-icon":g()},"dlx-pw-admin__notice-type--".concat(r),!0),"dlx-pw-admin__notice-appearance--inline",i),"dlx-pw-admin__notice-appearance--block",!i)),m=[{label:(0,c.__)("Back to Top","wp-dlx-pw-comments"),url:"#dlx-pw-admin-header",variant:"link",className:"dlx-pw-admin__notice-action dlx-pw-admin__notice-action--to-top"}];return h().createElement("div",{className:y},h().createElement(u.Notice,x({isDismissible:!1,spokenMessage:t,actions:p?m:[]},e),g()&&h().createElement("div",{className:"dlx-pw-admin__notice-icon"},(f=a,h().createElement(f,{width:16,height:16,fill:"#6c757d"}))),h().createElement("div",{className:"dlx-pw-admin__notice-message"},h().createElement(h().Fragment,null,t," ",l," "))))};O.defaultProps={message:"",status:"info",politeness:"polite",icon:null,className:"",inline:!1,hasToTop:!1},O.propTypes={message:E().string.isRequired,status:E().oneOf(["info","warning","success","error"]),politeness:E().oneOf(["assertive","polite"]),icon:E().func,className:E().string,inline:E().bool,hasToTop:E().bool};const L=O;function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const C=function(e){var t=e.loadingMessage,r={type:e.type,message:e.message,title:e.title,isDismissable:!1,isPersistent:!1,isSuccess:!1,loadingMessage:t,politeness:"polite"},n=T((0,d.useState)(r),2),a=n[0],o=(n[1],T((0,d.useState)(!1),2)),i=o[0],l=(o[1],T((0,d.useState)(!1),2)),s=l[0],p=l[1];(0,d.useEffect)((function(){e.isVisible&&setTimeout((function(){e.onClose()}),5e3)}),[e.isVisible]);var f=function(){switch(a.type){case"success":return h().createElement(g.A,null);case"error":case"critical":return h().createElement(y.A,null);default:return h().createElement(m.A,null)}};return h().createElement(h().Fragment,null,h().createElement(u.Snackbar,{className:w()("dlx-pw-snackbar dlx-pw-snackbar-".concat(a.type),{"dlx-pw-snackbar-loading":i}),actions:function(){var e=[];return"success"===a.type&&e.push({label:(0,c.__)("Back to Top","pattern-wrangler"),url:"#dlx-pw-admin-header",variant:"link",className:"dlx-pw-admin__notice-action dlx-pw-admin__notice-action--to-top"}),e}(),icon:f(),onDismiss:function(){p(!1),e.onClose()},explicitDismiss:a.isDismissable},i?t:a.message)," ",s&&function(){if("critical"===a.type)return h().createElement(u.Modal,{className:w()("dlx-pw-modal dlx-pw-modal-".concat(a.type),{"dlx-pw-modal-loading":i}),bodyOpenClassName:"dlx-pw-modal-body-open",title:a.title,onRequestClose:function(){p(!1)},isDismissible:!0,shouldCloseOnClickOutside:a.isPersistent,shouldCloseOnEsc:a.isPersistent},h().createElement(L,{message:a.message,status:a.type,politeness:a.politeness,icon:f,inline:!1}),h().createElement("div",{className:"dlx-pw-modal-button-group"},h().createElement(u.Button,{className:"button button-error",variant:"secondary",onClick:function(){p(!1)}},(0,c.__)("OK","pattern-wrangler"))))}()," ")};var N=r(455),j=r.n(N),A=(r(912),r(418)),k=r(785);function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function I(){I=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new C(n||[]);return a(i,"_invoke",{value:O(e,r,l)}),i}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var f="suspendedStart",d="suspendedYield",h="executing",g="completed",y={};function m(){}function v(){}function w(){}var b={};u(b,i,(function(){return this}));var E=Object.getPrototypeOf,_=E&&E(E(N([])));_&&_!==r&&n.call(_,i)&&(b=_);var S=w.prototype=m.prototype=Object.create(b);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function r(a,o,i,l){var c=p(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==D(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function O(t,r,n){var a=f;return function(o,i){if(a===h)throw Error("Generator is already running");if(a===g){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var l=n.delegate;if(l){var c=L(l,n);if(c){if(c===y)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=h;var u=p(t,r,n);if("normal"===u.type){if(a=n.done?g:d,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=g,n.method="throw",n.arg=u.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=p(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(D(t)+" is not iterable")}return v.prototype=w,a(S,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:v,configurable:!0}),v.displayName=u(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},x(P.prototype),u(P.prototype,l,(function(){return this})),t.AsyncIterator=P,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new P(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(S),u(S,c,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return l.type="throw",l.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),R(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;R(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function G(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return B(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?B(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const V=function(e){var t,r=e.categories||[],n=(e.categories||[]).map((function(e){return e.label||e.name})),a=(e.patternCategories||[]).map((function(e){return e.label||e.name})),o=F((0,d.useState)(e.copyPatternId||0),1)[0],i=F((0,d.useState)(e.syncedDefaultStatus||"synced"),1)[0],l=F((0,d.useState)(e.syncedDisabled||!1),1)[0],s=F((0,d.useState)(!1),2),p=s[0],f=s[1],g=F((0,d.useState)(e.isEditMode||!1),2),y=g[0],m=(g[1],(0,k.mN)({defaultValues:{patternId:e.patternId||0,patternNonce:e.patternNonce||"",patternTitle:e.patternTitle||"",patternCategories:a||[],patternSyncStatus:e.patternSyncStatus||i,patternCopyId:o}})),v=m.control,w=(m.getValues,m.handleSubmit),b=(m.reset,m.setError),E=(m.trigger,m.setValue,(0,k.FH)({control:v}),(0,k.lN)({control:v})),_=E.errors,S=(E.isDirty,E.dirtyFields,function(){var t,n=(t=I().mark((function t(n){var a,o,i,l,c;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f(!0),a=n.patternCategories.map((function(e){return{name:e,id:(t=e,n=r.find((function(e){return(e.label||e.name).toLowerCase()===t.toLowerCase()})),n?n.id:0)};var t,n})),o=y?"/dlxplugins/pattern-wrangler/v1/patterns/update/":"/dlxplugins/pattern-wrangler/v1/patterns/create/",t.next=5,j()({path:o,method:"POST",data:{patternId:n.patternId,patternNonce:n.patternNonce,nonce:dlxEnhancedPatternsView.createNonce,patternTitle:n.patternTitle,patternCategories:a,patternSyncStatus:n.patternSyncStatus,patternCopyId:n.patternCopyId}});case 5:null!=(i=t.sent)&&i.error?b("patternTitle",{message:i.error}):(l=i.patternId,y?e.onEdit(i):(c=encodeURIComponent(window.location.href),window.location.href="".concat(dlxEnhancedPatternsView.getSiteBaseUrl,"post.php?post=").concat(l,"&action=edit&redirect_to=").concat(c))),f(!1);case 8:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(e){G(o,n,a,i,l,"next",e)}function l(e){G(o,n,a,i,l,"throw",e)}i(void 0)}))});return function(_x){return n.apply(this,arguments)}}());return h().createElement(h().Fragment,null,h().createElement(u.Modal,{title:e.title||(0,c.__)("Add Pattern","pattern-wrangler"),onRequestClose:e.onRequestClose,focusOnMount:"firstContentElement"},h().createElement("div",{className:"dlx-pw-modal-content"},h().createElement("form",{onSubmit:w(S)},h().createElement("div",{className:"dlx-pw-modal-admin-row"},h().createElement(k.xI,{control:v,name:"patternTitle",rules:{required:(0,c.__)("Pattern title is required.","pattern-wrangler")},render:function(e){var t=e.field;return h().createElement(u.TextControl,{label:(0,c.__)("Pattern Title","pattern-wrangler"),help:(0,c.__)("Enter the title of the pattern.","pattern-wrangler"),value:t.value,onChange:function(e){return t.onChange(e)},disabled:p})}})),h().createElement("div",{className:"dlx-pw-modal-admin-row"},h().createElement(k.xI,{control:v,name:"patternCategories[]",render:function(e){var t=e.field;return h().createElement(u.FormTokenField,{label:(0,c.__)("Categories","pattern-wrangler"),help:(0,c.__)("Enter the categories of the pattern.","pattern-wrangler"),value:t.value,onChange:function(e){t.onChange(e)},tokenizeOnSpace:!1,allowMultiple:!0,placeholder:(0,c.__)("Add a category","pattern-wrangler"),suggestions:n,disabled:p})}})),h().createElement("div",{className:"dlx-pw-modal-admin-row"},h().createElement(k.xI,{control:v,name:"patternSyncStatus",render:function(e){var t=e.field;return h().createElement(h().Fragment,null,h().createElement(u.__experimentalToggleGroupControl,{label:(0,c.__)("Sync Status","pattern-wrangler"),isAdaptiveWidth:!0,value:t.value,onChange:function(e){t.onChange(e)},disabled:p||l},h().createElement(u.__experimentalToggleGroupControlOption,{value:"synced",label:(0,c.__)("Synced","pattern-wrangler"),showTooltip:!0,"aria-label":(0,c.__)("Synced","pattern-wrangler"),disabled:l}),h().createElement(u.__experimentalToggleGroupControlOption,{value:"unsynced",label:(0,c.__)("Unsynced","pattern-wrangler"),showTooltip:!0,"aria-label":(0,c.__)("Unsynced","pattern-wrangler"),disabled:l})))}})),h().createElement("div",{className:"dlx-pw-modal-admin-row dlx-pw-modal-admin-row-buttons"},h().createElement(u.Button,{variant:"primary",type:"submit",disabled:p},(t=(0,c.__)("Add Pattern","pattern-wrangler"),y&&(t=(0,c.__)("Save Pattern","pattern-wrangler")),p&&(t=(0,c.__)("Saving Pattern…","pattern-wrangler")),t)),h().createElement(u.Button,{variant:"secondary",onClick:e.onRequestClose,disabled:p},(0,c.__)("Cancel","pattern-wrangler"))),(null==_?void 0:_.patternTitle)&&h().createElement(L,{className:"dlx-pw-admin-notice",status:"error",inline:!0,icon:function(){return h().createElement(A.A,null)}},_.patternTitle.message)))))};function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function U(){U=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new C(n||[]);return a(i,"_invoke",{value:O(e,r,l)}),i}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var f="suspendedStart",d="suspendedYield",h="executing",g="completed",y={};function m(){}function v(){}function w(){}var b={};u(b,i,(function(){return this}));var E=Object.getPrototypeOf,_=E&&E(E(N([])));_&&_!==r&&n.call(_,i)&&(b=_);var S=w.prototype=m.prototype=Object.create(b);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function r(a,o,i,l){var c=p(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==M(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function O(t,r,n){var a=f;return function(o,i){if(a===h)throw Error("Generator is already running");if(a===g){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var l=n.delegate;if(l){var c=L(l,n);if(c){if(c===y)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=h;var u=p(t,r,n);if("normal"===u.type){if(a=n.done?g:d,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=g,n.method="throw",n.arg=u.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=p(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(M(t)+" is not iterable")}return v.prototype=w,a(S,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:v,configurable:!0}),v.displayName=u(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},x(P.prototype),u(P.prototype,l,(function(){return this})),t.AsyncIterator=P,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new P(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(S),u(S,c,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return l.type="throw",l.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),R(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;R(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function q(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Y=function(e){var t,r,n,a=(r=(0,d.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(r,n)||function(e,t){if(e){if("string"==typeof e)return Q(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Q(e,t):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=a[0],i=a[1],l=(0,k.mN)({defaultValues:{items:e.items||[],patternNonce:e.patternNonce||"",forceDelete:!1}}),s=l.control,p=(l.getValues,l.handleSubmit),f=(l.reset,l.setError,l.trigger,l.setValue,(0,k.FH)({control:s}),(0,k.lN)({control:s})),g=f.errors,y=(f.isDirty,f.dirtyFields,function(){var t,r=(t=U().mark((function t(r){var n,a;return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(!0),n=r.items.map((function(e){return{id:e.id,nonce:e.editNonce}})),t.next=5,j()({path:"/dlxplugins/pattern-wrangler/v1/patterns/pause/",method:"POST",data:{items:n}});case 5:a=t.sent,e.onPause(a,n),i(!1);case 8:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(e){q(o,n,a,i,l,"next",e)}function l(e){q(o,n,a,i,l,"throw",e)}i(void 0)}))});return function(_x){return r.apply(this,arguments)}}());return h().createElement(h().Fragment,null,h().createElement(u.Modal,{title:1===e.items.length?(0,c.__)("Disable Pattern","pattern-wrangler"):(0,c._n)("Disable Pattern","Disable Patterns",e.items.length,"pattern-wrangler"),onRequestClose:e.onRequestClose,focusOnMount:"firstContentElement"},h().createElement("div",{className:"dlx-pw-modal-content"},h().createElement("form",{onSubmit:p(y)},h().createElement("div",{className:"dlx-pw-modal-admin-row dlx-pw-modal-admin-row-buttons"},h().createElement(u.Button,{variant:"primary",type:"submit",disabled:o},(t=(0,c._n)("Disable Pattern","Disable Patterns",e.items.length,"pattern-wrangler"),o&&(t=(0,c._n)("Disabling Pattern…","Disabling Patterns…",e.items.length,"pattern-wrangler")),t)),h().createElement(u.Button,{variant:"secondary",onClick:e.onRequestClose,disabled:o},(0,c.__)("Cancel","pattern-wrangler"))),(null==g?void 0:g.patternTitle)&&h().createElement(L,{className:"dlx-pw-admin-notice",status:"error",inline:!0,icon:function(){return h().createElement(A.A,null)}},g.patternTitle.message)))))};function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){$(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $(e,t,r){return(t=function(e){var t=function(e){if("object"!=W(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==W(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J(){J=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new C(n||[]);return a(i,"_invoke",{value:O(e,r,l)}),i}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var f="suspendedStart",d="suspendedYield",h="executing",g="completed",y={};function m(){}function v(){}function w(){}var b={};u(b,i,(function(){return this}));var E=Object.getPrototypeOf,_=E&&E(E(N([])));_&&_!==r&&n.call(_,i)&&(b=_);var S=w.prototype=m.prototype=Object.create(b);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function r(a,o,i,l){var c=p(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==W(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function O(t,r,n){var a=f;return function(o,i){if(a===h)throw Error("Generator is already running");if(a===g){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var l=n.delegate;if(l){var c=L(l,n);if(c){if(c===y)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=h;var u=p(t,r,n);if("normal"===u.type){if(a=n.done?g:d,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=g,n.method="throw",n.arg=u.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=p(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(W(t)+" is not iterable")}return v.prototype=w,a(S,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:v,configurable:!0}),v.displayName=u(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},x(P.prototype),u(P.prototype,l,(function(){return this})),t.AsyncIterator=P,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new P(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(S),u(S,c,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return l.type="throw",l.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),R(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;R(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function K(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}var X={patterns:[],categories:null,data:null,loading:!1,error:null},Z={setPatterns:function(e){return{type:"SET_PATTERNS",patterns:e}},setPattern:function(e,t,r,n){return{type:"SET_PATTERN",patternId:e,patternTitle:t,patternCategories:r,patternCategorySlugs:n}},setCategory:function(e,t){return{type:"SET_CATEGORY",categoryId:e,categoryTermData:t}},upsertCategory:function(e){return{type:"UPSERT_CATEGORY",categoryData:e}},setCategories:function(e){return{type:"SET_CATEGORIES",categories:e}},setData:function(e){return{type:"SET_DATA",data:e}},setAllData:function(e,t,r){return{type:"SET_ALL_DATA",patterns:e,categories:t,data:r}},setLoading:function(e){return{type:"SET_LOADING",loading:e}},setError:function(e){return{type:"SET_ERROR",error:e}},fetchData:function(){return function(){var e,t=(e=J().mark((function e(t){var r,n;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,e.prev=1,r(Z.setLoading(!0)),r(Z.setError(null)),e.next=6,j()({path:(0,p.addQueryArgs)("/dlxplugins/pattern-wrangler/v1/patterns/all/",{nonce:dlxEnhancedPatternsView.getNonce}),method:"GET"});case 6:n=e.sent,r(n?Z.setAllData(n.patterns,n.categories,n):Z.setError("Failed to fetch data")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),r(Z.setError(e.t0.message||"Network error occurred"));case 13:return e.prev=13,r(Z.setLoading(!1)),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){K(o,n,a,i,l,"next",e)}function l(e){K(o,n,a,i,l,"throw",e)}i(void 0)}))});return function(_x){return t.apply(this,arguments)}}()}},ee=(0,f.createReduxStore)("dlxplugins/pattern-wrangler/patterns",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ALL_DATA":return z(z({},e),{},{patterns:t.patterns,categories:t.categories,data:t.data,loading:!1,error:null});case"SET_PATTERNS":return z(z({},e),{},{patterns:t.patterns});case"SET_CATEGORIES":return z(z({},e),{},{categories:t.categories});case"UPSERT_CATEGORY":var r=z(z({},t.categoryData),e.categories);return console.log("updatedCategories",r),z(z({},e),{},{categories:r,data:z(z({},e.data),{},{categories:r})});case"SET_PATTERN":var n=t.patternCategories,a=t.patternCategorySlugs,o=e.patterns.map((function(e){return e.id===t.patternId?z(z({},e),{title:t.patternTitle,categories:n,categorySlugs:a}):e}));return z(z({},e),{},{patterns:o,data:z(z({},e.data),{},{patterns:o})});case"SET_CATEGORY":var i=e.categories.map((function(e){return e.id===t.categoryId?z(z({},e),t.categoryTermData):e}));return z(z({},e),{},{categories:i,data:z(z({},e.data),{},{categories:i})});case"SET_DATA":return z(z({},e),{},{data:t.data});case"SET_LOADING":return z(z({},e),{},{loading:t.loading});case"SET_ERROR":return z(z({},e),{},{error:t.error});default:return e}},actions:Z,selectors:{getPatterns:function(e){return e.patterns},getCategories:function(e){return e.categories},getData:function(e){return e.data},getLoading:function(e){return e.loading},getError:function(e){return e.error}}});(0,f.register)(ee);const te=ee;function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oe(e){return function(e){if(Array.isArray(e))return se(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ue(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t,r){return(t=function(e){var t=function(e){if("object"!=re(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=re(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==re(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},le.apply(null,arguments)}function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||ue(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){if(e){if("string"==typeof e)return se(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?se(e,t):void 0}}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var pe=function(e){var t=e.src,r=e.title,o=e.item,i=(0,n.useRef)(null),l=(0,n.useRef)(null),c=ce((0,n.useState)(!1),2),u=c[0],s=c[1],p=ce((0,n.useState)(1),2),f=p[0],d=p[1],h=ce((0,n.useState)(0),2),g=h[0],y=h[1],m=ce((0,n.useState)(0),2),v=m[0],w=m[1],b=ce((0,n.useState)(1),2),E=b[0],_=b[1];(0,n.useEffect)((function(){var e=i.current;if(e){var t=function(){s(!0),y(o.viewportWidth||e.offsetWidth)};return e.addEventListener("load",t),function(){e.removeEventListener("load",t)}}}),[t]);var S=ce((0,a.useResizeObserver)(),2),x=S[0],P=S[1],O=P.width,L=P.height;return(0,n.useEffect)((function(){if(void 0!==O&&u&&0!==g){var e=O/(g||800),t=O/L,r=Math.max(g*t,100);w(r),d(e),_(t);var n=new CustomEvent("dlxPatternPreviewResize",{detail:{width:O}});window.dispatchEvent(n);try{window.parent.dispatchEvent(n)}catch(e){}}}),[O,u]),(0,n.useEffect)((function(){i.current&&y(i.current.offsetWidth)}),[i,v]),React.createElement("a",{href:t,className:"pattern-preview-iframe-link",target:"_blank",rel:"noopener noreferrer",onClick:function(e){e.preventDefault(),fe(o)},"aria-hidden":"true"},React.createElement("div",{className:"pattern-preview-iframe-scale-container-wrapper",ref:l,style:{transform:"scale(".concat(f,")")}},React.createElement("div",{className:"pattern-preview-iframe-scale-wrapper"},React.createElement("div",{className:"pattern-preview-iframe-scale-container"},x,React.createElement("div",{className:"pattern-preview-iframe-wrapper"},React.createElement("iframe",{ref:i,key:"preview-".concat(o.id),src:t,title:r,sandbox:"allow-same-origin allow-scripts allow-popups allow-forms",loading:"lazy",style:{position:"absolute",top:0,left:0,width:o.viewportWidth||800,aspectRatio:E,height:v+"px",maxHeight:"1200px",overflow:"visible"}}))))))},fe=function(e){var t=e.viewportWidth||1200,r=null!=e&&e.id?"".concat(ajaxurl,"/?action=dlxpw_pattern_preview&pattern_id=").concat(e.id,"&viewport_width=").concat(t):"";i.Fancybox.show([{src:r,caption:e.title,type:"iframe",closeButton:!0}])},de={grid:{layout:{titleField:"title",mediaField:"pattern-view-json",columns:2,columnGap:"24px",rowGap:"24px",showMedia:!0,viewConfigOptions:{}}}},he=function(e){var t,r,a,i=e.data,d=ce((0,n.useState)([]),2),h=d[0],g=d[1],y=(0,f.useSelect)((function(e){return{patterns:e(te).getPatterns()}})).patterns,m=ce((0,n.useState)([]),2),v=m[0],w=m[1],b=(0,f.useSelect)((function(e){return{categories:e(te).getCategories()}})).categories,E=ce((0,n.useState)([]),2),_=E[0],S=E[1],x=ce((0,n.useState)(!0),2),P=x[0],O=x[1],L=ce((0,n.useState)({isVisible:!1,message:"",title:"",type:""}),2),T=L[0],R=L[1],N=ce((0,n.useState)(!1),2),j=N[0],A=N[1],k=ce((0,n.useState)(!1),2),D=k[0],I=k[1],G=ce((0,n.useState)(0),2),F=G[0],B=G[1],M=ce((0,n.useState)(null),2),U=M[0],q=M[1],Q=ce((0,n.useState)(null),2),W=Q[0],H=Q[1],z=function(){var e,t,r;return{type:"grid",previewSize:"large",paginationInfo:{totalItems:y.length,totalPages:0},page:parseInt((0,p.getQueryArgs)(window.location.href).paged)||1,perPage:parseInt((0,p.getQueryArgs)(window.location.href).perPage)||12,defaultPerPage:12,sort:{field:(0,l.escapeAttribute)((0,p.getQueryArgs)(window.location.href).orderby||"title"),direction:(0,l.escapeAttribute)((0,p.getQueryArgs)(window.location.href).order||"asc")},titleField:"title",mediaField:"pattern-view-json",layout:de.grid.layout,fields:["title","pattern-view-json"],search:(0,l.escapeAttribute)((null===(e=(0,p.getQueryArgs)(window.location.href))||void 0===e?void 0:e.search)||""),filters:[{field:"patternType",value:(null===(t=(0,p.getQueryArgs)(window.location.href))||void 0===t?void 0:t.patternType)||"all"},{field:"patternStatus",value:(null===(r=(0,p.getQueryArgs)(window.location.href))||void 0===r?void 0:r.patternStatus)||"both"}]}},$=ce((0,n.useState)(z()),2),J=$[0],K=$[1],X=(0,n.useMemo)((function(){return[{id:"title",label:(0,c.__)("Title","pattern-wrangler"),render:function(e){var t=e.item;return null!=t&&t.categorySlugs&&0!==t.categorySlugs.length?React.createElement("div",{className:"pattern-title-categories"},React.createElement("div",{className:"pattern-title"},t.isLocal&&React.createElement(u.Button,{variant:"link",onClick:function(e){e.preventDefault();var r=encodeURIComponent(window.location.href);window.location.href="".concat(dlxEnhancedPatternsView.getSiteBaseUrl,"post.php?post=").concat(t.id,"&action=edit&redirect_to=").concat(r)}},t.title),!t.isLocal&&React.createElement("span",{className:"pattern-title"},t.title)),t.categorySlugs.length>0&&Object.values(b).length>0&&React.createElement("div",{className:"pattern-categories"},t.categorySlugs.map((function(e,r){var n,a,o=(null==e?void 0:e.slug)||e.toString();if(!b.hasOwnProperty(o))return null;var i=(null===(n=b[o])||void 0===n?void 0:n.label)||(null===(a=b[o])||void 0===a?void 0:a.name);return React.createElement("span",{key:"category-".concat(r),className:"pattern-category"},i," ",r<t.categorySlugs.length-1&&", ")})))):React.createElement("div",{className:"pattern-title-categories"},React.createElement("div",{className:"pattern-title"},t.isLocal&&React.createElement(u.Button,{variant:"link",onClick:function(e){e.preventDefault();var r=encodeURIComponent(window.location.href);window.location.href="".concat(dlxEnhancedPatternsView.getSiteBaseUrl,"post.php?post=").concat(t.id,"&action=edit&redirect_to=").concat(r)}},t.title),!t.isLocal&&React.createElement("span",{className:"pattern-title"},t.title)),React.createElement("div",{className:"pattern-categories"},(0,c.__)("No categories","pattern-wrangler")))},enableSorting:!0,enableHiding:!1,enableGlobalSearch:!0},{id:"pattern-view-json",label:(0,c.__)("Preview","pattern-wrangler"),getValue:function(e){var t=e.item,r=t.viewportWidth||1200,n=null!=t&&t.id?"".concat(ajaxurl,"/?action=dlxpw_pattern_preview&pattern_id=").concat(t.id,"&viewport_width=").concat(r):"",a=(0,c.__)("Local","pattern-wrangler"),o="pattern-badge-local";t.isLocal?"synced"===t.patternType?(a=(0,c.__)("Local Synced","pattern-wrangler"),o="pattern-badge-synced"):(a=(0,c.__)("Local Unsynced","pattern-wrangler"),o="pattern-badge-unsynced"):(a=(0,c.__)("Registered","pattern-wrangler"),o="pattern-badge-registered");var i=React.createElement(React.Fragment,null,React.createElement("div",{className:"pattern-badge-wrapper"},React.createElement("span",{className:"pattern-badge ".concat(o)},a)));return React.createElement(React.Fragment,null,i,React.createElement("div",{className:"pattern-preview-wrapper"},React.createElement(pe,{src:n,title:"Preview: ".concat(t.title),item:t})))},enableSorting:!1,enableHiding:!1},{id:"categories",label:(0,c.__)("Categories","pattern-wrangler"),render:function(e){return e.item,null},enableSorting:!1,enableHiding:!1,enableGlobalSearch:!0,type:"array",filterBy:{operators:["isAny","isNone"]},elements:Object.values(b).map((function(e){return{label:e.label||e.name,value:e.slug}}))},{elements:[{label:(0,c.__)("All Patterns","pattern-wrangler"),value:"all"},{label:(0,c.__)("Local Patterns","pattern-wrangler"),value:"local"},{label:(0,c.__)("Registered Patterns","pattern-wrangler"),value:"registered"}],enableHiding:!1,enableSorting:!1,enableGlobalSearch:!1,filterBy:{operators:["is"]},default:"all",type:"array",id:"patternType",label:(0,c.__)("Pattern Type","pattern-wrangler")},{elements:[{label:(0,c.__)("Unsynced Patterns","pattern-wrangler"),value:"unsynced"},{label:(0,c.__)("Synced Patterns","pattern-wrangler"),value:"synced"},{label:(0,c.__)("Both","pattern-wrangler"),value:"both"}],enableHiding:!1,enableSorting:!1,enableGlobalSearch:!1,filterBy:{operators:["is"]},type:"array",id:"patternStatus",label:(0,c.__)("Pattern Status","pattern-wrangler")}]}),[b,y]),Z=(0,n.useMemo)((function(){return[{id:"quick-edit",label:(0,c.__)("Quick Edit","pattern-wrangler"),icon:"edit",callback:function(e){q({item:e[0]})},isEligible:function(e){return e.isLocal},isPrimary:!0},{id:"delete",label:(0,c.__)("Delete Pattern","pattern-wrangler"),icon:"trash",isEligible:function(e){return e.isLocal&&e.isDisabled},callback:function(){},isPrimary:!1,isDestructive:!0,supportsBulk:!0},{id:"copy-to-local",label:(0,c.__)("Copy to Local Pattern","pattern-wrangler"),icon:"edit",callback:function(e){var t=e[0];I(!0),B(t.id)},isEligible:function(e){return!e.isLocal},isPrimary:!1,isDestructive:!1},{id:"disable-preview",label:(0,c.__)("Disable Pattern","pattern-wrangler"),icon:"controls-pause",callback:function(e){H({items:e})},isEligible:function(e){return!e.isDisabled},isDestructive:!0,supportsBulk:!0,isPrimary:!1},{id:"copy",label:(0,c.__)("Copy Pattern","pattern-wrangler"),icon:"edit",callback:function(e){var t=e[0].content.trim();try{var r=new Blob([t],{type:"text/html"}),n=[new ClipboardItem(ie({},r.type,r))];navigator.clipboard.write(n),R({isVisible:!0,message:(0,c.__)("Pattern copied to clipboard","pattern-wrangler"),title:(0,c.__)("Pattern Copied","pattern-wrangler"),type:"success",onClose:function(){R({isVisible:!1})}})}catch(e){}},isEligible:function(e){return!0},isPrimary:!1,isDestructive:!1},{id:"export",label:(0,c.__)("Export to JSON","pattern-wrangler"),icon:"edit",callback:function(e){var t=e[0].isLocal,r=e[0].title,n="";t?n="unsynced":"synced"===e[0].patternType&&(n="synced");var a=JSON.stringify({__file:"wp_block",title:r,content:e[0].content,syncStatus:n},null,2);(0,o.downloadBlob)("".concat(r,".json"),a,"application/json")},isEligible:function(){return!0},isPrimary:!1,isDestructive:!1}]}),[b,y]),ee=function(e){var t,r,n=oe(y);null!==n&&0!==n.length||(n=oe(i.patterns));var a=null==e||null===(t=e.sort)||void 0===t?void 0:t.field,o=null==e||null===(r=e.sort)||void 0===r?void 0:r.direction;"title"===a&&("desc"===o?n.sort((function(e,t){return t.title.localeCompare(e.title)})):n.sort((function(e,t){return e.title.localeCompare(t.title)})));var l=(null==e?void 0:e.filters)||[];l.length>0&&l.forEach((function(e){switch(e.field){case"categories":if(e.value){var t=e.value.map((function(e){return(0,p.cleanForSlug)(e)}));"isAny"===e.operator?n=n.filter((function(e){return(e.categorySlugs||[]).some((function(e){var r=e.name||(0,p.cleanForSlug)(e);return t.includes(r)}))})):"isNone"===e.operator&&(n=n.filter((function(e){return!(e.categorySlugs||[]).some((function(e){var r=e.name||(0,p.cleanForSlug)(e);return t.includes(r)}))})))}break;case"patternType":if(e.value)switch(e.value){case"all":break;case"local":n=n.filter((function(e){return e.isLocal}));break;case"registered":n=n.filter((function(e){return!e.isLocal}))}break;case"patternStatus":if(e.value){var r=l.find((function(e){return"patternType"===e.field}));if(r&&"local"===r.value&&e.value)switch(e.value){case"unsynced":n=n.filter((function(e){return!!e.syncStatus&&"unsynced"===e.syncStatus&&e.isLocal}));break;case"synced":n=n.filter((function(e){return!!e.syncStatus&&"synced"===e.syncStatus&&e.isLocal}))}}}}));var c=(null==e?void 0:e.search)||"";return"undefined"!==c&&""!==c&&(n=n.filter((function(t){return(t.label||t.title).toLowerCase().includes((e.search||c).toLowerCase())}))),n.length},re=function(e){var t,r,n=oe(y);null!==n&&0!==n.length||(n=oe(i.patterns));var a=null==e||null===(t=e.sort)||void 0===t?void 0:t.field,o=null==e||null===(r=e.sort)||void 0===r?void 0:r.direction;"title"===a&&("desc"===o?n.sort((function(e,t){return t.title.localeCompare(e.title)})):n.sort((function(e,t){return e.title.localeCompare(t.title)})));var l=(null==e?void 0:e.filters)||[];l.length>0&&l.forEach((function(e){switch(e.field){case"categories":if(e.value){var t=e.value.map((function(e){return(0,p.cleanForSlug)(e)}));"isAny"===e.operator?n=n.filter((function(e){return(e.categorySlugs||[]).some((function(e){var r=e.name||(0,p.cleanForSlug)(e);return t.includes(r)}))})):"isNone"===e.operator&&(n=n.filter((function(e){return!(e.categorySlugs||[]).some((function(e){var r=e.name||(0,p.cleanForSlug)(e);return t.includes(r)}))})))}break;case"patternType":if(e.value)switch(e.value){case"all":break;case"local":n=n.filter((function(e){return e.isLocal}));break;case"registered":n=n.filter((function(e){return!e.isLocal}))}break;case"patternStatus":if(e.value){var r=l.find((function(e){return"patternType"===e.field}));if(r&&"local"===r.value&&e.value)switch(e.value){case"unsynced":n=n.filter((function(e){return!!e.syncStatus&&"unsynced"===e.syncStatus&&e.isLocal}));break;case"synced":n=n.filter((function(e){return!!e.syncStatus&&"synced"===e.syncStatus&&e.isLocal}))}}}}));var c=(null==e?void 0:e.search)||"";return"undefined"!==c&&""!==c&&(n=n.filter((function(t){return(t.label||t.title).toLowerCase().includes((e.search||c).toLowerCase())}))),n.slice((e.page-1)*e.perPage,e.page*e.perPage)},ne=function(e){var t,r,n,a=(0,p.getQueryArgs)(window.location.href);a.paged=e.page||1,a.perPage=e.perPage,e.search&&(a.search=e.search),null!==(t=e.sort)&&void 0!==t&&t.field&&(a.orderby=e.sort.field,a.order=e.sort.direction);var o=null===(r=e.filters)||void 0===r?void 0:r.find((function(e){return"patternType"===e.field})),i=null===(n=e.filters)||void 0===n?void 0:n.find((function(e){return"patternStatus"===e.field}));o&&(a.patternType=o.value),i&&(a.patternStatus=i.value);var l=(0,p.addQueryArgs)(window.location.pathname,a);(0,p.getQueryArgs)(window.location.href).search&&!e.search&&(l=(0,p.removeQueryArgs)(l,"search")),w(re(e)),window.history.pushState({},"",l),a.page=a.paged,K(ae(ae({},e),a))};return(0,n.useEffect)((function(){window.addEventListener("popstate",(function(){ne(z())}))}),[J]),(0,n.useEffect)((function(){if(i&&i.hasOwnProperty("patterns")&&i.categories){var e=X.findIndex((function(e){return"categories"===e.id})),t=[],r="";X[e].elements=Object.values(i.categories).map((function(e){var n=e.label;return r===e.label&&(n="".concat(n," (").concat(e.count+1,")")),r=e.label,e.registered||t.push({id:e.id,label:e.label}),{label:n,value:e.slug}}));var n=ae(ae({},J),{},{fields:oe(X)});if(S(t),K(n),i.patterns&&i.patterns!==v){var a=re(J);w(a)}O(!1)}}),[i]),P?React.createElement(React.Fragment,null,"Loading..."):React.createElement("div",{className:"dlx-patterns-view-container-wrapper"},React.createElement("div",{className:"dlx-patterns-view-container"},React.createElement(s.A,{data:v,fields:X,actions:Z,label:(0,c.__)("Patterns","pattern-wrangler"),view:J,onChangeView:ne,paginationInfo:{totalItems:ee(J),totalPages:Math.ceil(ee(J)/J.perPage)},perPageSizes:[12,24,48,96],selection:h,onChangeSelection:g,defaultLayouts:de,searchLabel:(0,c.__)("Search Patterns","pattern-wrangler")},React.createElement("div",{className:"dlx-patterns-view-container-header"},React.createElement("h1",null,(0,c.__)("Pattern Library","pattern-wrangler"))),React.createElement("div",{className:"dlx-patterns-view-quick-buttons-wrapper"},React.createElement(u.Button,{variant:"primary",className:"dlx-patterns-view-quick-button",onClick:function(){A(!0)}},(0,c.__)("Add New Pattern","pattern-wrangler")),React.createElement(u.Button,{variant:"secondary",className:"dlx-patterns-view-quick-button"},(0,c.__)("Import Pattern From JSON File","pattern-wrangler"))),React.createElement("div",{className:"dlx-patterns-view-grid"},React.createElement("div",{className:"dlx-patterns-view-search-filters-wrapper"},React.createElement(s.A.Search,null),React.createElement(s.A.FiltersToggle,null)),React.createElement("div",{className:"dlx-patterns-view-button-actions-wrapper"},React.createElement(u.__experimentalToggleGroupControl,{label:(0,c.__)("Pattern Type","pattern-wrangler"),isAdaptiveWidth:!0,hideLabelFromVision:!0,value:(null==J||null===(t=J.filters)||void 0===t||null===(t=t.find((function(e){return"patternType"===e.field})))||void 0===t?void 0:t.value)||"all",onChange:function(e){var t,r=ae({},J),n=(null===(t=r.filters)||void 0===t?void 0:t.filter((function(e){return"patternType"!==e.field})))||[];r.filters=[].concat(oe(n),[{field:"patternType",operator:"is",value:e}]),r.page=1,ne(r)}},React.createElement(u.__experimentalToggleGroupControlOption,{value:"local",label:(0,c.__)("Local","pattern-wrangler"),showTooltip:!0,"aria-label":(0,c.__)("Show Only Local Patterns","pattern-wrangler")}),React.createElement(u.__experimentalToggleGroupControlOption,{value:"all",label:(0,c.__)("All","pattern-wrangler"),showTooltip:!0,"aria-label":(0,c.__)("Show All Patterns","pattern-wrangler")}),React.createElement(u.__experimentalToggleGroupControlOption,{value:"registered",label:(0,c.__)("Registered","pattern-wrangler"),showTooltip:!0,"aria-label":(0,c.__)("Show Only Registered Patterns","pattern-wrangler")})),"local"===(null==J||null===(r=J.filters)||void 0===r||null===(r=r.find((function(e){return"patternType"===e.field})))||void 0===r?void 0:r.value)&&React.createElement(React.Fragment,null,React.createElement(u.__experimentalToggleGroupControl,{label:(0,c.__)("Pattern Status","pattern-wrangler"),isAdaptiveWidth:!0,hideLabelFromVision:!0,value:(null==J||null===(a=J.filters)||void 0===a||null===(a=a.find((function(e){return"patternStatus"===e.field})))||void 0===a?void 0:a.value)||"both",onChange:function(e){var t,r=ae({},J),n=(null===(t=r.filters)||void 0===t?void 0:t.filter((function(e){return"patternStatus"!==e.field})))||[];r.filters=[].concat(oe(n),[{field:"patternStatus",operator:"is",value:e}]),r.page=1,ne(r)}},React.createElement(u.__experimentalToggleGroupControlOption,{value:"unsynced",label:(0,c.__)("Unsynced","pattern-wrangler"),showTooltip:!0,"aria-label":(0,c.__)("Show Only Unsynced Patterns","pattern-wrangler")}),React.createElement(u.__experimentalToggleGroupControlOption,{value:"both",label:(0,c.__)("Both","pattern-wrangler"),"aria-label":(0,c.__)("Show Both Synced and Unsynced Patterns","pattern-wrangler"),showTooltip:!0}),React.createElement(u.__experimentalToggleGroupControlOption,{value:"synced",label:(0,c.__)("Synced","pattern-wrangler"),showTooltip:!0,"aria-label":(0,c.__)("Show Only Synced Patterns","pattern-wrangler")})))),React.createElement("div",{className:"dlx-patterns-view-layout-pagination-wrapper"},React.createElement(s.A.ViewConfig,null),React.createElement(s.A.LayoutSwitcher,null))),React.createElement("div",{className:"dlx-patterns-view-filters-wrapper"},React.createElement(s.A.Filters,null)),React.createElement(s.A.Layout,null),React.createElement(s.A.BulkActionToolbar,null),React.createElement(s.A.Pagination,null)),T.isVisible&&React.createElement(C,{isVisible:T.isVisible,message:T.message,title:T.title,type:T.type,onClose:function(){R({isVisible:!1})}})),j&&React.createElement(V,{isOpen:j,onRequestClose:function(){return A(!1)},categories:_,title:(0,c.__)("Create New Pattern","pattern-wrangler")}),D&&React.createElement(V,{isOpen:D,onRequestClose:function(){return I(!1)},categories:_,title:(0,c.__)("Copy Pattern to Local","pattern-wrangler"),syncedDefaultStatus:"unsynced",copyPatternId:F}),U&&React.createElement(V,{isOpen:U,onRequestClose:function(){return q(null)},pattern:U.item,patternTitle:U.item.title,categories:_,patternCategories:U.item.categories,title:(0,c.__)("Quick Edit Pattern","pattern-wrangler"),syncedDisabled:!0,patternId:U.item.id,patternNonce:U.item.editNonce,isEditMode:!0,onEdit:function(e){(0,f.dispatch)(te).upsertCategory(e.categories),(0,f.dispatch)(te).setPattern(e.patternId,e.patternTitle,e.categorySlugs,e.categorySlugs),q(null)}}),W&&React.createElement(Y,{items:W.items,onPause:function(e){H(null),console.log(e)},onRequestClose:function(){return H(null)}}))};const ge=function(e){var t=(0,f.useSelect)((function(e){return{data:e(te).getData(),loading:e(te).getLoading(),error:e(te).getError()}})),r=t.data,a=t.loading,o=t.error;return(0,n.useEffect)((function(){(0,f.dispatch)(te).fetchData()}),[]),a?React.createElement("div",{className:"dlx-patterns-view-loading"},React.createElement("p",null,(0,c.__)("Loading patterns…","pattern-wrangler"))):o?React.createElement("div",{className:"dlx-patterns-view-error"},React.createElement("p",null,(0,c.__)("Error loading patterns:","pattern-wrangler")," ",o),React.createElement(u.Button,{variant:"primary",onClick:function(){return(0,f.dispatch)(te).fetchData()}},(0,c.__)("Retry","pattern-wrangler"))):r&&r.patterns&&0!==r.patterns.length?React.createElement(he,le({data:r},e)):React.createElement("div",{className:"dlx-patterns-view-empty"},React.createElement("p",null,(0,c.__)("No patterns found.","pattern-wrangler")))}}}]);