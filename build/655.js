(globalThis.webpackChunkpattern_wrangler=globalThis.webpackChunkpattern_wrangler||[]).push([[655],{985:function(e,t){!function(e){"use strict";const t=(e,t=1e4)=>(e=parseFloat(e+"")||0,Math.round((e+Number.EPSILON)*t)/t),n=function(e){if(!(e&&e instanceof Element&&e.offsetParent))return!1;const t=e.scrollHeight>e.clientHeight,n=window.getComputedStyle(e).overflowY,i=-1!==n.indexOf("hidden"),r=-1!==n.indexOf("visible");return t&&!i&&!r},i=function(e,t=void 0){return!(!e||e===document.body||t&&e===t)&&(n(e)?e:i(e.parentElement,t))},r=function(e){var t=(new DOMParser).parseFromString(e,"text/html").body;if(t.childElementCount>1){for(var n=document.createElement("div");t.firstChild;)n.appendChild(t.firstChild);return n}return t.firstChild},s=e=>`${e||""}`.split(" ").filter((e=>!!e)),o=(e,t,n)=>{e&&s(t).forEach((t=>{e.classList.toggle(t,n||!1)}))};class a{constructor(e){Object.defineProperty(this,"pageX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pageY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nativePointer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.nativePointer=e,this.pageX=e.pageX,this.pageY=e.pageY,this.clientX=e.clientX,this.clientY=e.clientY,this.id=self.Touch&&e instanceof Touch?e.identifier:-1,this.time=Date.now()}}const l={passive:!1};class c{constructor(e,{start:t=()=>!0,move:n=()=>{},end:i=()=>{}}){Object.defineProperty(this,"element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"moveCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"endCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"startPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.element=e,this.startCallback=t,this.moveCallback=n,this.endCallback=i;for(const e of["onPointerStart","onTouchStart","onMove","onTouchEnd","onPointerEnd","onWindowBlur"])this[e]=this[e].bind(this);this.element.addEventListener("mousedown",this.onPointerStart,l),this.element.addEventListener("touchstart",this.onTouchStart,l),this.element.addEventListener("touchmove",this.onMove,l),this.element.addEventListener("touchend",this.onTouchEnd),this.element.addEventListener("touchcancel",this.onTouchEnd)}onPointerStart(e){if(!e.buttons||0!==e.button)return;const t=new a(e);this.currentPointers.some((e=>e.id===t.id))||this.triggerPointerStart(t,e)&&(window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseup",this.onPointerEnd),window.addEventListener("blur",this.onWindowBlur))}onTouchStart(e){for(const t of Array.from(e.changedTouches||[]))this.triggerPointerStart(new a(t),e);window.addEventListener("blur",this.onWindowBlur)}onMove(e){const t=this.currentPointers.slice(),n="changedTouches"in e?Array.from(e.changedTouches||[]).map((e=>new a(e))):[new a(e)],i=[];for(const e of n){const t=this.currentPointers.findIndex((t=>t.id===e.id));t<0||(i.push(e),this.currentPointers[t]=e)}i.length&&this.moveCallback(e,this.currentPointers.slice(),t)}onPointerEnd(e){e.buttons>0&&0!==e.button||(this.triggerPointerEnd(e,new a(e)),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur))}onTouchEnd(e){for(const t of Array.from(e.changedTouches||[]))this.triggerPointerEnd(e,new a(t))}triggerPointerStart(e,t){return!!this.startCallback(t,e,this.currentPointers.slice())&&(this.currentPointers.push(e),this.startPointers.push(e),!0)}triggerPointerEnd(e,t){const n=this.currentPointers.findIndex((e=>e.id===t.id));n<0||(this.currentPointers.splice(n,1),this.startPointers.splice(n,1),this.endCallback(e,t,this.currentPointers.slice()))}onWindowBlur(){this.clear()}clear(){for(;this.currentPointers.length;){const e=this.currentPointers[this.currentPointers.length-1];this.currentPointers.splice(this.currentPointers.length-1,1),this.startPointers.splice(this.currentPointers.length-1,1),this.endCallback(new Event("touchend",{bubbles:!0,cancelable:!0,clientX:e.clientX,clientY:e.clientY}),e,this.currentPointers.slice())}}stop(){this.element.removeEventListener("mousedown",this.onPointerStart,l),this.element.removeEventListener("touchstart",this.onTouchStart,l),this.element.removeEventListener("touchmove",this.onMove,l),this.element.removeEventListener("touchend",this.onTouchEnd),this.element.removeEventListener("touchcancel",this.onTouchEnd),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur)}}function u(e,t){return t?Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2)):0}function d(e,t){return t?{clientX:(e.clientX+t.clientX)/2,clientY:(e.clientY+t.clientY)/2}:e}const f=e=>"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e),h=(e,...t)=>{const n=t.length;for(let i=0;i<n;i++){const n=t[i]||{};Object.entries(n).forEach((([t,n])=>{const i=Array.isArray(n)?[]:{};e[t]||Object.assign(e,{[t]:i}),f(n)?Object.assign(e[t],h(i,n)):Array.isArray(n)?Object.assign(e,{[t]:[...n]}):Object.assign(e,{[t]:n})}))}return e},m=function(e,t){return e.split(".").reduce(((e,t)=>"object"==typeof e?e[t]:void 0),t)};class p{constructor(e={}){Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.setOptions(e);for(const e of Object.getOwnPropertyNames(Object.getPrototypeOf(this)))e.startsWith("on")&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}setOptions(e){this.options=e?h({},this.constructor.defaults,e):{};for(const[e,t]of Object.entries(this.option("on")||{}))this.on(e,t)}option(e,...t){let n=m(e,this.options);return n&&"function"==typeof n&&(n=n.call(this,this,...t)),n}optionFor(e,t,n,...i){let r=m(t,e);var s;"string"!=typeof(s=r)||isNaN(s)||isNaN(parseFloat(s))||(r=parseFloat(r)),"true"===r&&(r=!0),"false"===r&&(r=!1),r&&"function"==typeof r&&(r=r.call(this,this,e,...i));let o=m(t,this.options);return o&&"function"==typeof o?r=o.call(this,this,e,...i,r):void 0===r&&(r=o),void 0===r?n:r}cn(e){const t=this.options.classes;return t&&t[e]||""}localize(e,t=[]){e=String(e).replace(/\{\{(\w+).?(\w+)?\}\}/g,((e,t,n)=>{let i="";return n?i=this.option(`${t[0]+t.toLowerCase().substring(1)}.l10n.${n}`):t&&(i=this.option(`l10n.${t}`)),i||(i=e),i}));for(let n=0;n<t.length;n++)e=e.split(t[n][0]).join(t[n][1]);return e.replace(/\{\{(.*?)\}\}/g,((e,t)=>t))}on(e,t){let n=[];"string"==typeof e?n=e.split(" "):Array.isArray(e)&&(n=e),this.events||(this.events=new Map),n.forEach((e=>{let n=this.events.get(e);n||(this.events.set(e,[]),n=[]),n.includes(t)||n.push(t),this.events.set(e,n)}))}off(e,t){let n=[];"string"==typeof e?n=e.split(" "):Array.isArray(e)&&(n=e),n.forEach((e=>{const n=this.events.get(e);if(Array.isArray(n)){const e=n.indexOf(t);e>-1&&n.splice(e,1)}}))}emit(e,...t){[...this.events.get(e)||[]].forEach((e=>e(this,...t))),"*"!==e&&this.emit("*",e,...t)}}Object.defineProperty(p,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.36"}),Object.defineProperty(p,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{}});class g extends p{constructor(e={}){super(e),Object.defineProperty(this,"plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}})}attachPlugins(e={}){const t=new Map;for(const[n,i]of Object.entries(e)){const e=this.option(n),r=this.plugins[n];r||!1===e?r&&!1===e&&(r.detach(),delete this.plugins[n]):t.set(n,new i(this,e||{}))}for(const[e,n]of t)this.plugins[e]=n,n.attach()}detachPlugins(e){e=e||Object.keys(this.plugins);for(const t of e){const e=this.plugins[t];e&&e.detach(),delete this.plugins[t]}return this.emit("detachPlugins"),this}}var v;!function(e){e[e.Init=0]="Init",e[e.Error=1]="Error",e[e.Ready=2]="Ready",e[e.Panning=3]="Panning",e[e.Mousemove=4]="Mousemove",e[e.Destroy=5]="Destroy"}(v||(v={}));const b=["a","b","c","d","e","f"],y={PANUP:"Move up",PANDOWN:"Move down",PANLEFT:"Move left",PANRIGHT:"Move right",ZOOMIN:"Zoom in",ZOOMOUT:"Zoom out",TOGGLEZOOM:"Toggle zoom level",TOGGLE1TO1:"Toggle zoom level",ITERATEZOOM:"Toggle zoom level",ROTATECCW:"Rotate counterclockwise",ROTATECW:"Rotate clockwise",FLIPX:"Flip horizontally",FLIPY:"Flip vertically",FITX:"Fit horizontally",FITY:"Fit vertically",RESET:"Reset",TOGGLEFS:"Toggle fullscreen"},w={content:null,width:"auto",height:"auto",panMode:"drag",touch:!0,dragMinThreshold:3,lockAxis:!1,mouseMoveFactor:1,mouseMoveFriction:.12,zoom:!0,pinchToZoom:!0,panOnlyZoomed:"auto",minScale:1,maxScale:2,friction:.25,dragFriction:.35,decelFriction:.05,click:"toggleZoom",dblClick:!1,wheel:"zoom",wheelLimit:7,spinner:!0,bounds:"auto",infinite:!1,rubberband:!0,bounce:!0,maxVelocity:75,transformParent:!1,classes:{content:"f-panzoom__content",isLoading:"is-loading",canZoomIn:"can-zoom_in",canZoomOut:"can-zoom_out",isDraggable:"is-draggable",isDragging:"is-dragging",inFullscreen:"in-fullscreen",htmlHasFullscreen:"with-panzoom-in-fullscreen"},l10n:y},x='<circle cx="25" cy="25" r="20"></circle>',_='<div class="f-spinner"><svg viewBox="0 0 50 50">'+x+x+"</svg></div>",S=e=>e&&null!==e&&e instanceof Element&&"nodeType"in e,C=(e,t)=>{e&&s(t).forEach((t=>{e.classList.remove(t)}))},E=(e,t)=>{e&&s(t).forEach((t=>{e.classList.add(t)}))},j={a:1,b:0,c:0,d:1,e:0,f:0},I=1e4,O="mousemove",k="drag",P="content",A="auto";let M=null,T=null;class L extends g{get fits(){return this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1}get isTouchDevice(){return null===T&&(T=window.matchMedia("(hover: none)").matches),T}get isMobile(){return null===M&&(M=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)),M}get panMode(){return this.options.panMode!==O||this.isTouchDevice?k:O}get panOnlyZoomed(){const e=this.options.panOnlyZoomed;return e===A?this.isTouchDevice:e}get isInfinite(){return this.option("infinite")}get angle(){return 180*Math.atan2(this.current.b,this.current.a)/Math.PI||0}get targetAngle(){return 180*Math.atan2(this.target.b,this.target.a)/Math.PI||0}get scale(){const{a:e,b:t}=this.current;return Math.sqrt(e*e+t*t)||1}get targetScale(){const{a:e,b:t}=this.target;return Math.sqrt(e*e+t*t)||1}get minScale(){return this.option("minScale")||1}get fullScale(){const{contentRect:e}=this;return e.fullWidth/e.fitWidth||1}get maxScale(){return this.fullScale*(this.option("maxScale")||1)||1}get coverScale(){const{containerRect:e,contentRect:t}=this,n=Math.max(e.height/t.fitHeight,e.width/t.fitWidth)||1;return Math.min(this.fullScale,n)}get isScaling(){return Math.abs(this.targetScale-this.scale)>1e-5&&!this.isResting}get isContentLoading(){const e=this.content;return!!(e&&e instanceof HTMLImageElement)&&!e.complete}get isResting(){if(this.isBouncingX||this.isBouncingY)return!1;for(const e of b){const t="e"==e||"f"===e?1e-4:1e-5;if(Math.abs(this.target[e]-this.current[e])>t)return!1}return!(!this.ignoreBounds&&!this.checkBounds().inBounds)}constructor(e,t={},n={}){var i;if(super(t),Object.defineProperty(this,"pointerTracker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"resizeObserver",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"updateTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"rAF",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"isTicking",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreBounds",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isBouncingX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isBouncingY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"clicks",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"trackingPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"cwd",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"pmme",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"friction",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:v.Init}),Object.defineProperty(this,"isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"spinner",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"containerRect",{enumerable:!0,configurable:!0,writable:!0,value:{width:0,height:0,innerWidth:0,innerHeight:0}}),Object.defineProperty(this,"contentRect",{enumerable:!0,configurable:!0,writable:!0,value:{top:0,right:0,bottom:0,left:0,fullWidth:0,fullHeight:0,fitWidth:0,fitHeight:0,width:0,height:0}}),Object.defineProperty(this,"dragStart",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,top:0,left:0,time:0}}),Object.defineProperty(this,"dragOffset",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,time:0}}),Object.defineProperty(this,"current",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},j)}),Object.defineProperty(this,"target",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},j)}),Object.defineProperty(this,"velocity",{enumerable:!0,configurable:!0,writable:!0,value:{a:0,b:0,c:0,d:0,e:0,f:0}}),Object.defineProperty(this,"lockedAxis",{enumerable:!0,configurable:!0,writable:!0,value:!1}),!e)throw new Error("Container Element Not Found");this.container=e,this.initContent(),this.attachPlugins(Object.assign(Object.assign({},L.Plugins),n)),this.emit("attachPlugins"),this.emit("init");const s=this.content;if(s.addEventListener("load",this.onLoad),s.addEventListener("error",this.onError),this.isContentLoading){if(this.option("spinner")){e.classList.add(this.cn("isLoading"));const t=r(_);!e.contains(s)||s.parentElement instanceof HTMLPictureElement?this.spinner=e.appendChild(t):this.spinner=(null===(i=s.parentElement)||void 0===i?void 0:i.insertBefore(t,s))||null}this.emit("beforeLoad")}else queueMicrotask((()=>{this.enable()}))}initContent(){const{container:e}=this,t=this.cn(P);let n=this.option(P)||e.querySelector(`.${t}`);if(n||(n=e.querySelector("img,picture")||e.firstElementChild,n&&E(n,t)),n instanceof HTMLPictureElement&&(n=n.querySelector("img")),!n)throw new Error("No content found");this.content=n}onLoad(){const{spinner:e,container:t,state:n}=this;e&&(e.remove(),this.spinner=null),this.option("spinner")&&t.classList.remove(this.cn("isLoading")),this.emit("afterLoad"),n===v.Init?this.enable():this.updateMetrics()}onError(){this.state!==v.Destroy&&(this.spinner&&(this.spinner.remove(),this.spinner=null),this.stop(),this.detachEvents(),this.state=v.Error,this.emit("error"))}getNextScale(e){const{fullScale:t,targetScale:n,coverScale:i,maxScale:r,minScale:s}=this;let o=s;switch(e){case"toggleMax":o=n-s<.5*(r-s)?r:s;break;case"toggleCover":o=n-s<.5*(i-s)?i:s;break;case"toggleZoom":o=n-s<.5*(t-s)?t:s;break;case"iterateZoom":let e=[1,t,r].sort(((e,t)=>e-t)),a=e.findIndex((e=>e>n+1e-5));o=e[a]||1}return o}attachObserver(){var e;const t=()=>{const{container:e,containerRect:t}=this;return Math.abs(t.width-e.getBoundingClientRect().width)>.1||Math.abs(t.height-e.getBoundingClientRect().height)>.1};this.resizeObserver||void 0===window.ResizeObserver||(this.resizeObserver=new ResizeObserver((()=>{this.updateTimer||(t()?(this.onResize(),this.isMobile&&(this.updateTimer=setTimeout((()=>{t()&&this.onResize(),this.updateTimer=null}),500))):this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null))}))),null===(e=this.resizeObserver)||void 0===e||e.observe(this.container)}detachObserver(){var e;null===(e=this.resizeObserver)||void 0===e||e.disconnect()}attachEvents(){const{container:e}=this;e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),e.addEventListener("wheel",this.onWheel,{passive:!1}),this.pointerTracker=new c(e,{start:this.onPointerDown,move:this.onPointerMove,end:this.onPointerUp}),document.addEventListener(O,this.onMouseMove)}detachEvents(){var e;const{container:t}=this;t.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),t.removeEventListener("wheel",this.onWheel,{passive:!1}),null===(e=this.pointerTracker)||void 0===e||e.stop(),this.pointerTracker=null,document.removeEventListener(O,this.onMouseMove),document.removeEventListener("keydown",this.onKeydown,!0),this.clickTimer&&(clearTimeout(this.clickTimer),this.clickTimer=null),this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null)}animate(){this.setTargetForce();const e=this.friction,t=this.option("maxVelocity");for(const n of b)e?(this.velocity[n]*=1-e,t&&!this.isScaling&&(this.velocity[n]=Math.max(Math.min(this.velocity[n],t),-1*t)),this.current[n]+=this.velocity[n]):this.current[n]=this.target[n];this.setTransform(),this.setEdgeForce(),!this.isResting||this.isDragging?this.rAF=requestAnimationFrame((()=>this.animate())):this.stop("current")}setTargetForce(){for(const e of b)"e"===e&&this.isBouncingX||"f"===e&&this.isBouncingY||(this.velocity[e]=(1/(1-this.friction)-1)*(this.target[e]-this.current[e]))}checkBounds(e=0,t=0){const{current:n}=this,i=n.e+e,r=n.f+t,s=this.getBounds(),{x:o,y:a}=s,l=o.min,c=o.max,u=a.min,d=a.max;let f=0,h=0;return l!==1/0&&i<l?f=l-i:c!==1/0&&i>c&&(f=c-i),u!==1/0&&r<u?h=u-r:d!==1/0&&r>d&&(h=d-r),Math.abs(f)<1e-4&&(f=0),Math.abs(h)<1e-4&&(h=0),Object.assign(Object.assign({},s),{xDiff:f,yDiff:h,inBounds:!f&&!h})}clampTargetBounds(){const{target:e}=this,{x:t,y:n}=this.getBounds();t.min!==1/0&&(e.e=Math.max(e.e,t.min)),t.max!==1/0&&(e.e=Math.min(e.e,t.max)),n.min!==1/0&&(e.f=Math.max(e.f,n.min)),n.max!==1/0&&(e.f=Math.min(e.f,n.max))}calculateContentDim(e=this.current){const{content:t,contentRect:n}=this,{fitWidth:i,fitHeight:r,fullWidth:s,fullHeight:o}=n;let a=s,l=o;if(this.option("zoom")||0!==this.angle){const n=!(t instanceof HTMLImageElement||"none"!==window.getComputedStyle(t).maxWidth&&"none"!==window.getComputedStyle(t).maxHeight),c=n?s:i,u=n?o:r,d=this.getMatrix(e),f=new DOMPoint(0,0).matrixTransform(d),h=new DOMPoint(0+c,0).matrixTransform(d),m=new DOMPoint(0+c,0+u).matrixTransform(d),p=new DOMPoint(0,0+u).matrixTransform(d),g=Math.abs(m.x-f.x),v=Math.abs(m.y-f.y),b=Math.abs(p.x-h.x),y=Math.abs(p.y-h.y);a=Math.max(g,b),l=Math.max(v,y)}return{contentWidth:a,contentHeight:l}}setEdgeForce(){if(this.ignoreBounds||this.isDragging||this.panMode===O||this.targetScale<this.scale)return this.isBouncingX=!1,void(this.isBouncingY=!1);const{target:e}=this,{x:t,y:n,xDiff:i,yDiff:r}=this.checkBounds(),s=this.option("maxVelocity");let o=this.velocity.e,a=this.velocity.f;0!==i?(this.isBouncingX=!0,i*o<=0?o+=.14*i:(o=.14*i,t.min!==1/0&&(this.target.e=Math.max(e.e,t.min)),t.max!==1/0&&(this.target.e=Math.min(e.e,t.max))),s&&(o=Math.max(Math.min(o,s),-1*s))):this.isBouncingX=!1,0!==r?(this.isBouncingY=!0,r*a<=0?a+=.14*r:(a=.14*r,n.min!==1/0&&(this.target.f=Math.max(e.f,n.min)),n.max!==1/0&&(this.target.f=Math.min(e.f,n.max))),s&&(a=Math.max(Math.min(a,s),-1*s))):this.isBouncingY=!1,this.isBouncingX&&(this.velocity.e=o),this.isBouncingY&&(this.velocity.f=a)}enable(){const{content:e}=this,t=new DOMMatrixReadOnly(window.getComputedStyle(e).transform);for(const e of b)this.current[e]=this.target[e]=t[e];this.updateMetrics(),this.attachObserver(),this.attachEvents(),this.state=v.Ready,this.emit("ready")}onClick(e){var t;"click"===e.type&&0===e.detail&&(this.dragOffset.x=0,this.dragOffset.y=0),this.isDragging&&(null===(t=this.pointerTracker)||void 0===t||t.clear(),this.trackingPoints=[],this.startDecelAnim());const n=e.target;if(!n||e.defaultPrevented)return;if(n.hasAttribute("disabled"))return e.preventDefault(),void e.stopPropagation();if((()=>{const e=window.getSelection();return e&&"Range"===e.type})()&&!n.closest("button"))return;const i=n.closest("[data-panzoom-action]"),r=n.closest("[data-panzoom-change]"),s=i||r,o=s&&S(s)?s.dataset:null;if(o){const t=o.panzoomChange,n=o.panzoomAction;if((t||n)&&e.preventDefault(),t){let n={};try{n=JSON.parse(t)}catch(e){console&&console.warn("The given data was not valid JSON")}return void this.applyChange(n)}if(n)return void(this[n]&&this[n]())}if(Math.abs(this.dragOffset.x)>3||Math.abs(this.dragOffset.y)>3)return e.preventDefault(),void e.stopPropagation();if(n.closest("[data-fancybox]"))return;const a=this.content.getBoundingClientRect(),l=this.dragStart;if(l.time&&!this.canZoomOut()&&(Math.abs(a.x-l.x)>2||Math.abs(a.y-l.y)>2))return;this.dragStart.time=0;const c=t=>{this.option("zoom",e)&&t&&"string"==typeof t&&/(iterateZoom)|(toggle(Zoom|Full|Cover|Max)|(zoomTo(Fit|Cover|Max)))/.test(t)&&"function"==typeof this[t]&&(e.preventDefault(),this[t]({event:e}))},u=this.option("click",e),d=this.option("dblClick",e);d?(this.clicks++,1==this.clicks&&(this.clickTimer=setTimeout((()=>{1===this.clicks?(this.emit("click",e),!e.defaultPrevented&&u&&c(u)):(this.emit("dblClick",e),e.defaultPrevented||c(d)),this.clicks=0,this.clickTimer=null}),350))):(this.emit("click",e),!e.defaultPrevented&&u&&c(u))}addTrackingPoint(e){const t=this.trackingPoints.filter((e=>e.time>Date.now()-100));t.push(e),this.trackingPoints=t}onPointerDown(e,t,n){var i;if(!1===this.option("touch",e))return!1;this.pwt=0,this.dragOffset={x:0,y:0,time:0},this.trackingPoints=[];const r=this.content.getBoundingClientRect();if(this.dragStart={x:r.x,y:r.y,top:r.top,left:r.left,time:Date.now()},this.clickTimer)return!1;if(this.panMode===O&&this.targetScale>1)return e.preventDefault(),e.stopPropagation(),!1;const s=e.composedPath()[0];if(!n.length){if(["TEXTAREA","OPTION","INPUT","SELECT","VIDEO","IFRAME"].includes(s.nodeName)||s.closest("[contenteditable],[data-selectable],[data-draggable],[data-clickable],[data-panzoom-change],[data-panzoom-action]"))return!1;null===(i=window.getSelection())||void 0===i||i.removeAllRanges()}if("mousedown"===e.type)["A","BUTTON"].includes(s.nodeName)||e.preventDefault();else if(Math.abs(this.velocity.a)>.3)return!1;return this.target.e=this.current.e,this.target.f=this.current.f,this.stop(),this.isDragging||(this.isDragging=!0,this.addTrackingPoint(t),this.emit("touchStart",e)),!0}onPointerMove(e,n,r){if(!1===this.option("touch",e))return;if(!this.isDragging)return;if(n.length<2&&this.panOnlyZoomed&&t(this.targetScale)<=t(this.minScale))return;if(this.emit("touchMove",e),e.defaultPrevented)return;this.addTrackingPoint(n[0]);const{content:s}=this,o=d(r[0],r[1]),a=d(n[0],n[1]);let l=0,c=0;if(n.length>1){const e=s.getBoundingClientRect();l=o.clientX-e.left-.5*e.width,c=o.clientY-e.top-.5*e.height}const f=u(r[0],r[1]),h=u(n[0],n[1]);let m=f?h/f:1,p=a.clientX-o.clientX,g=a.clientY-o.clientY;this.dragOffset.x+=p,this.dragOffset.y+=g,this.dragOffset.time=Date.now()-this.dragStart.time;let v=t(this.targetScale)===t(this.minScale)&&this.option("lockAxis");if(v&&!this.lockedAxis)if("xy"===v||"y"===v||"touchmove"===e.type){if(Math.abs(this.dragOffset.x)<6&&Math.abs(this.dragOffset.y)<6)return void e.preventDefault();const t=Math.abs(180*Math.atan2(this.dragOffset.y,this.dragOffset.x)/Math.PI);this.lockedAxis=t>45&&t<135?"y":"x",this.dragOffset.x=0,this.dragOffset.y=0,p=0,g=0}else this.lockedAxis=v;if(i(e.target,this.content)&&(v="x",this.dragOffset.y=0),v&&"xy"!==v&&this.lockedAxis!==v&&t(this.targetScale)===t(this.minScale))return;e.cancelable&&e.preventDefault(),this.container.classList.add(this.cn("isDragging"));const b=this.checkBounds(p,g);this.option("rubberband")?("x"!==this.isInfinite&&(b.xDiff>0&&p<0||b.xDiff<0&&p>0)&&(p*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitWidth*b.xDiff))),"y"!==this.isInfinite&&(b.yDiff>0&&g<0||b.yDiff<0&&g>0)&&(g*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitHeight*b.yDiff)))):(b.xDiff&&(p=0),b.yDiff&&(g=0));const y=this.targetScale,w=this.minScale,x=this.maxScale;y<.5*w&&(m=Math.max(m,w)),y>1.5*x&&(m=Math.min(m,x)),"y"===this.lockedAxis&&t(y)===t(w)&&(p=0),"x"===this.lockedAxis&&t(y)===t(w)&&(g=0),this.applyChange({originX:l,originY:c,panX:p,panY:g,scale:m,friction:this.option("dragFriction"),ignoreBounds:!0})}onPointerUp(e,t,n){if(n.length)return this.dragOffset.x=0,this.dragOffset.y=0,void(this.trackingPoints=[]);this.container.classList.remove(this.cn("isDragging")),this.isDragging&&(this.addTrackingPoint(t),this.panOnlyZoomed&&this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1&&(this.trackingPoints=[]),i(e.target,this.content)&&"y"===this.lockedAxis&&(this.trackingPoints=[]),this.emit("touchEnd",e),this.isDragging=!1,this.lockedAxis=!1,this.state!==v.Destroy&&(e.defaultPrevented||this.startDecelAnim()))}startDecelAnim(){var e;const n=this.isScaling;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(const e of b)this.velocity[e]=0;this.target.e=this.current.e,this.target.f=this.current.f,C(this.container,"is-scaling"),C(this.container,"is-animating"),this.isTicking=!1;const{trackingPoints:i}=this,r=i[0],s=i[i.length-1];let o=0,a=0,l=0;s&&r&&(o=s.clientX-r.clientX,a=s.clientY-r.clientY,l=s.time-r.time);const c=(null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1;1!==c&&(o*=c,a*=c);let u=0,d=0,f=0,h=0,m=this.option("decelFriction");const p=this.targetScale;if(l>0){f=Math.abs(o)>3?o/(l/30):0,h=Math.abs(a)>3?a/(l/30):0;const e=this.option("maxVelocity");e&&(f=Math.max(Math.min(f,e),-1*e),h=Math.max(Math.min(h,e),-1*e))}f&&(u=f/(1/(1-m)-1)),h&&(d=h/(1/(1-m)-1)),("y"===this.option("lockAxis")||"xy"===this.option("lockAxis")&&"y"===this.lockedAxis&&t(p)===this.minScale)&&(u=f=0),("x"===this.option("lockAxis")||"xy"===this.option("lockAxis")&&"x"===this.lockedAxis&&t(p)===this.minScale)&&(d=h=0);const g=this.dragOffset.x,v=this.dragOffset.y,y=this.option("dragMinThreshold")||0;Math.abs(g)<y&&Math.abs(v)<y&&(u=d=0,f=h=0),(this.option("zoom")&&(p<this.minScale-1e-5||p>this.maxScale+1e-5)||n&&!u&&!d)&&(m=.35),this.applyChange({panX:u,panY:d,friction:m}),this.emit("decel",f,h,g,v)}onWheel(e){var t=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce((function(e,t){return Math.abs(t)>Math.abs(e)?t:e}));const n=Math.max(-1,Math.min(1,t));if(this.emit("wheel",e,n),this.panMode===O)return;if(e.defaultPrevented)return;const i=this.option("wheel");"pan"===i?(e.preventDefault(),this.panOnlyZoomed&&!this.canZoomOut()||this.applyChange({panX:2*-e.deltaX,panY:2*-e.deltaY,bounce:!1})):"zoom"===i&&!1!==this.option("zoom")&&this.zoomWithWheel(e)}onMouseMove(e){this.panWithMouse(e)}onKeydown(e){"Escape"===e.key&&this.toggleFS()}onResize(){this.updateMetrics(),this.checkBounds().inBounds||this.requestTick()}setTransform(){this.emit("beforeTransform");const{current:e,target:n,content:i,contentRect:r}=this,s=Object.assign({},j);for(const i of b){const r="e"==i||"f"===i?I:1e5;s[i]=t(e[i],r),Math.abs(n[i]-e[i])<("e"==i||"f"===i?.51:.001)&&(e[i]=n[i])}let{a:o,b:a,c:l,d:c,e:u,f:d}=s,f=`matrix(${o}, ${a}, ${l}, ${c}, ${u}, ${d})`,h=i.parentElement instanceof HTMLPictureElement?i.parentElement:i;if(this.option("transformParent")&&(h=h.parentElement||h),h.style.transform===f)return;h.style.transform=f;const{contentWidth:m,contentHeight:p}=this.calculateContentDim();r.width=m,r.height=p,this.emit("afterTransform")}updateMetrics(e=!1){var n;if(!this||this.state===v.Destroy)return;if(this.isContentLoading)return;const i=Math.max(1,(null===(n=window.visualViewport)||void 0===n?void 0:n.scale)||1),{container:r,content:s}=this,o=s instanceof HTMLImageElement,a=r.getBoundingClientRect(),l=getComputedStyle(this.container);let c=a.width*i,u=a.height*i;const d=parseFloat(l.paddingTop)+parseFloat(l.paddingBottom),f=c-(parseFloat(l.paddingLeft)+parseFloat(l.paddingRight)),h=u-d;this.containerRect={width:c,height:u,innerWidth:f,innerHeight:h};const m=parseFloat(s.dataset.width||"")||(e=>{let t=0;return t=e instanceof HTMLImageElement?e.naturalWidth:e instanceof SVGElement?e.width.baseVal.value:Math.max(e.offsetWidth,e.scrollWidth),t||0})(s),p=parseFloat(s.dataset.height||"")||(e=>{let t=0;return t=e instanceof HTMLImageElement?e.naturalHeight:e instanceof SVGElement?e.height.baseVal.value:Math.max(e.offsetHeight,e.scrollHeight),t||0})(s);let g=this.option("width",m)||A,b=this.option("height",p)||A;const y=g===A,w=b===A;"number"!=typeof g&&(g=m),"number"!=typeof b&&(b=p),y&&(g=m*(b/p)),w&&(b=p/(m/g));let x=s.parentElement instanceof HTMLPictureElement?s.parentElement:s;this.option("transformParent")&&(x=x.parentElement||x);const _=x.getAttribute("style")||"";x.style.setProperty("transform","none","important"),o&&(x.style.width="",x.style.height=""),x.offsetHeight;const S=s.getBoundingClientRect();let C=S.width*i,E=S.height*i,j=C,I=E;C=Math.min(C,g),E=Math.min(E,b),o?({width:C,height:E}=((e,t,n,i)=>{const r=n/e,s=i/t,o=Math.min(r,s);return{width:e*=o,height:t*=o}})(g,b,C,E)):(C=Math.min(C,g),E=Math.min(E,b));let O=.5*(I-E),k=.5*(j-C);this.contentRect=Object.assign(Object.assign({},this.contentRect),{top:S.top-a.top+O,bottom:a.bottom-S.bottom+O,left:S.left-a.left+k,right:a.right-S.right+k,fitWidth:C,fitHeight:E,width:C,height:E,fullWidth:g,fullHeight:b}),x.style.cssText=_,o&&(x.style.width=`${C}px`,x.style.height=`${E}px`),this.setTransform(),!0!==e&&this.emit("refresh"),this.ignoreBounds||(t(this.targetScale)<t(this.minScale)?this.zoomTo(this.minScale,{friction:0}):this.targetScale>this.maxScale?this.zoomTo(this.maxScale,{friction:0}):this.state===v.Init||this.checkBounds().inBounds||this.requestTick()),this.updateControls()}calculateBounds(){const{contentWidth:e,contentHeight:n}=this.calculateContentDim(this.target),{targetScale:i,lockedAxis:r}=this,{fitWidth:s,fitHeight:o}=this.contentRect;let a=0,l=0,c=0,u=0;const d=this.option("infinite");if(!0===d||r&&d===r)a=-1/0,c=1/0,l=-1/0,u=1/0;else{let{containerRect:r,contentRect:d}=this,f=t(s*i,I),h=t(o*i,I),{innerWidth:m,innerHeight:p}=r;if(r.width===f&&(m=r.width),r.width===h&&(p=r.height),e>m){c=.5*(e-m),a=-1*c;let t=.5*(d.right-d.left);a+=t,c+=t}if(s>m&&e<m&&(a-=.5*(s-m),c-=.5*(s-m)),n>p){u=.5*(n-p),l=-1*u;let e=.5*(d.bottom-d.top);l+=e,u+=e}o>p&&n<p&&(a-=.5*(o-p),c-=.5*(o-p))}return{x:{min:a,max:c},y:{min:l,max:u}}}getBounds(){const e=this.option("bounds");return e!==A?e:this.calculateBounds()}updateControls(){const e=this,n=e.container,{panMode:i,contentRect:r,targetScale:s,minScale:a}=e;let l=a,c=e.option("click")||!1;c&&(l=e.getNextScale(c));let u=e.canZoomIn(),d=e.canZoomOut(),f=i===k&&!!this.option("touch"),h=d&&f;if(f&&(t(s)<t(a)&&!this.panOnlyZoomed&&(h=!0),(t(r.width,1)>t(r.fitWidth,1)||t(r.height,1)>t(r.fitHeight,1))&&(h=!0)),t(r.width*s,1)<t(r.fitWidth,1)&&(h=!1),i===O&&(h=!1),o(n,this.cn("isDraggable"),h),!this.option("zoom"))return;let m=u&&t(l)>t(s),p=!m&&!h&&d&&t(l)<t(s);o(n,this.cn("canZoomIn"),m),o(n,this.cn("canZoomOut"),p);for(const e of n.querySelectorAll("[data-panzoom-action]")){let t=!1,n=!1;switch(e.dataset.panzoomAction){case"zoomIn":u?t=!0:n=!0;break;case"zoomOut":d?t=!0:n=!0;break;case"toggleZoom":case"iterateZoom":u||d?t=!0:n=!0;const i=e.querySelector("g");i&&(i.style.display=u?"":"none")}t?(e.removeAttribute("disabled"),e.removeAttribute("tabindex")):n&&(e.setAttribute("disabled",""),e.setAttribute("tabindex","-1"))}}panTo({x:e=this.target.e,y:t=this.target.f,scale:n=this.targetScale,friction:i=this.option("friction"),angle:r=0,originX:s=0,originY:o=0,flipX:a=!1,flipY:l=!1,ignoreBounds:c=!1}){this.state!==v.Destroy&&this.applyChange({panX:e-this.target.e,panY:t-this.target.f,scale:n/this.targetScale,angle:r,originX:s,originY:o,friction:i,flipX:a,flipY:l,ignoreBounds:c})}applyChange({panX:e=0,panY:n=0,scale:i=1,angle:r=0,originX:s=-this.current.e,originY:o=-this.current.f,friction:a=this.option("friction"),flipX:l=!1,flipY:c=!1,ignoreBounds:u=!1,bounce:d=this.option("bounce")}){const f=this.state;if(f===v.Destroy)return;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.friction=a||0,this.ignoreBounds=u;const{current:h}=this,m=h.e,p=h.f,g=this.getMatrix(this.target);let y=(new DOMMatrix).translate(m,p).translate(s,o).translate(e,n);if(this.option("zoom")){if(!u){const e=this.targetScale,t=this.minScale,n=this.maxScale;e*i<t&&(i=t/e),e*i>n&&(i=n/e)}y=y.scale(i)}y=y.translate(-s,-o).translate(-m,-p).multiply(g),r&&(y=y.rotate(r)),l&&(y=y.scale(-1,1)),c&&(y=y.scale(1,-1));for(const e of b)"e"!==e&&"f"!==e&&(y[e]>this.minScale+1e-5||y[e]<this.minScale-1e-5)?this.target[e]=y[e]:this.target[e]=t(y[e],I);(this.targetScale<this.scale||Math.abs(i-1)>.1||this.panMode===O||!1===d)&&!u&&this.clampTargetBounds(),f===v.Init?this.animate():this.isResting||(this.state=v.Panning,this.requestTick())}stop(e=!1){if(this.state===v.Init||this.state===v.Destroy)return;const t=this.isTicking;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(const t of b)this.velocity[t]=0,"current"===e?this.current[t]=this.target[t]:"target"===e&&(this.target[t]=this.current[t]);this.setTransform(),C(this.container,"is-scaling"),C(this.container,"is-animating"),this.isTicking=!1,this.state=v.Ready,t&&(this.emit("endAnimation"),this.updateControls())}requestTick(){this.isTicking||(this.emit("startAnimation"),this.updateControls(),E(this.container,"is-animating"),this.isScaling&&E(this.container,"is-scaling")),this.isTicking=!0,this.rAF||(this.rAF=requestAnimationFrame((()=>this.animate())))}panWithMouse(e,n=this.option("mouseMoveFriction")){if(this.pmme=e,this.panMode!==O||!e)return;if(t(this.targetScale)<=t(this.minScale))return;this.emit("mouseMove",e);const{container:i,containerRect:r,contentRect:s}=this,o=r.width,a=r.height,l=i.getBoundingClientRect(),c=(e.clientX||0)-l.left,u=(e.clientY||0)-l.top;let{contentWidth:d,contentHeight:f}=this.calculateContentDim(this.target);const h=this.option("mouseMoveFactor");h>1&&(d!==o&&(d*=h),f!==a&&(f*=h));let m=.5*(d-o)-c/o*100/100*(d-o);m+=.5*(s.right-s.left);let p=.5*(f-a)-u/a*100/100*(f-a);p+=.5*(s.bottom-s.top),this.applyChange({panX:m-this.target.e,panY:p-this.target.f,friction:n})}zoomWithWheel(e){if(this.state===v.Destroy||this.state===v.Init)return;const n=Date.now();if(n-this.pwt<45)return void e.preventDefault();this.pwt=n;var i=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce((function(e,t){return Math.abs(t)>Math.abs(e)?t:e}));const r=Math.max(-1,Math.min(1,i)),{targetScale:s,maxScale:o,minScale:a}=this;let l=s*(100+45*r)/100;t(l)<t(a)&&t(s)<=t(a)?(this.cwd+=Math.abs(r),l=a):t(l)>t(o)&&t(s)>=t(o)?(this.cwd+=Math.abs(r),l=o):(this.cwd=0,l=Math.max(Math.min(l,o),a)),this.cwd>this.option("wheelLimit")||(e.preventDefault(),t(l)!==t(s)&&this.zoomTo(l,{event:e}))}canZoomIn(){return this.option("zoom")&&(t(this.contentRect.width,1)<t(this.contentRect.fitWidth,1)||t(this.targetScale)<t(this.maxScale))}canZoomOut(){return this.option("zoom")&&t(this.targetScale)>t(this.minScale)}zoomIn(e=1.25,t){this.zoomTo(this.targetScale*e,t)}zoomOut(e=.8,t){this.zoomTo(this.targetScale*e,t)}zoomToFit(e){this.zoomTo("fit",e)}zoomToCover(e){this.zoomTo("cover",e)}zoomToFull(e){this.zoomTo("full",e)}zoomToMax(e){this.zoomTo("max",e)}toggleZoom(e){this.zoomTo(this.getNextScale("toggleZoom"),e)}toggleMax(e){this.zoomTo(this.getNextScale("toggleMax"),e)}toggleCover(e){this.zoomTo(this.getNextScale("toggleCover"),e)}iterateZoom(e){this.zoomTo("next",e)}zoomTo(e=1,{friction:t=A,originX:n=A,originY:i=A,event:r}={}){if(this.isContentLoading||this.state===v.Destroy)return;const{targetScale:s,fullScale:o,maxScale:a,coverScale:l}=this;if(this.stop(),this.panMode===O&&(r=this.pmme||r),r||n===A||i===A){const e=this.content.getBoundingClientRect(),t=this.container.getBoundingClientRect(),s=r?r.clientX:t.left+.5*t.width,o=r?r.clientY:t.top+.5*t.height;n=s-e.left-.5*e.width,i=o-e.top-.5*e.height}let c=1;"number"==typeof e?c=e:"full"===e?c=o:"cover"===e?c=l:"max"===e?c=a:"fit"===e?c=1:"next"===e&&(c=this.getNextScale("iterateZoom")),c=c/s||1,t=t===A?c>1?.15:.25:t,this.applyChange({scale:c,originX:n,originY:i,friction:t}),r&&this.panMode===O&&this.panWithMouse(r,t)}rotateCCW(){this.applyChange({angle:-90})}rotateCW(){this.applyChange({angle:90})}flipX(){this.applyChange({flipX:!0})}flipY(){this.applyChange({flipY:!0})}fitX(){this.stop("target");const{containerRect:e,contentRect:t,target:n}=this;this.applyChange({panX:.5*e.width-(t.left+.5*t.fitWidth)-n.e,panY:.5*e.height-(t.top+.5*t.fitHeight)-n.f,scale:e.width/t.fitWidth/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}fitY(){this.stop("target");const{containerRect:e,contentRect:t,target:n}=this;this.applyChange({panX:.5*e.width-(t.left+.5*t.fitWidth)-n.e,panY:.5*e.innerHeight-(t.top+.5*t.fitHeight)-n.f,scale:e.height/t.fitHeight/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}toggleFS(){const{container:e}=this,t=this.cn("inFullscreen"),n=this.cn("htmlHasFullscreen");e.classList.toggle(t);const i=e.classList.contains(t);i?(document.documentElement.classList.add(n),document.addEventListener("keydown",this.onKeydown,!0)):(document.documentElement.classList.remove(n),document.removeEventListener("keydown",this.onKeydown,!0)),this.updateMetrics(),this.emit(i?"enterFS":"exitFS")}getMatrix(e=this.current){const{a:t,b:n,c:i,d:r,e:s,f:o}=e;return new DOMMatrix([t,n,i,r,s,o])}reset(e){if(this.state!==v.Init&&this.state!==v.Destroy){this.stop("current");for(const e of b)this.target[e]=j[e];this.target.a=this.minScale,this.target.d=this.minScale,this.clampTargetBounds(),this.isResting||(this.friction=void 0===e?this.option("friction"):e,this.state=v.Panning,this.requestTick())}}destroy(){this.stop(),this.state=v.Destroy,this.detachEvents(),this.detachObserver();const{container:e,content:t}=this,n=this.option("classes")||{};for(const t of Object.values(n))e.classList.remove(t+"");t&&(t.removeEventListener("load",this.onLoad),t.removeEventListener("error",this.onError)),this.detachPlugins()}}Object.defineProperty(L,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:w}),Object.defineProperty(L,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}});const F=function(e,t){let n=!0;return(...i)=>{n&&(n=!1,e(...i),setTimeout((()=>{n=!0}),t))}},V=(e,t)=>{let n=[];return e.childNodes.forEach((e=>{e.nodeType!==Node.ELEMENT_NODE||t&&!e.matches(t)||n.push(e)})),n};var D;!function(e){e[e.Init=0]="Init",e[e.Ready=1]="Ready",e[e.Destroy=2]="Destroy"}(D||(D={}));const N=e=>{if("string"==typeof e||e instanceof HTMLElement)e={html:e};else{const t=e.thumb;void 0!==t&&("string"==typeof t&&(e.thumbSrc=t),t instanceof HTMLImageElement&&(e.thumbEl=t,e.thumbElSrc=t.src,e.thumbSrc=t.src),delete e.thumb)}return Object.assign({html:"",el:null,isDom:!1,class:"",customClass:"",index:-1,dim:0,gap:0,pos:0,transition:!1},e)},B=(e={})=>Object.assign({index:-1,slides:[],dim:0,pos:-1},e);class R extends p{constructor(e,t){super(t),Object.defineProperty(this,"instance",{enumerable:!0,configurable:!0,writable:!0,value:e})}attach(){}detach(){}}class z extends R{constructor(){super(...arguments),Object.defineProperty(this,"isDynamic",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"list",{enumerable:!0,configurable:!0,writable:!0,value:null})}onRefresh(){this.refresh()}build(){let e=this.list;if(!e){e=document.createElement("ul"),E(e,this.cn("list")),e.setAttribute("role","tablist");const t=this.instance.container;t.appendChild(e),E(t,this.cn("hasDots")),this.list=e}return e}refresh(){var e;const t=this.instance.pages.length,n=Math.min(2,this.option("minCount")),i=Math.max(2e3,this.option("maxCount")),r=this.option("dynamicFrom");if(t<n||t>i)return void this.cleanup();const s="number"==typeof r&&t>5&&t>=r,a=!this.list||this.isDynamic!==s||this.list.children.length!==t;a&&this.cleanup();const l=this.build();if(o(l,this.cn("isDynamic"),!!s),a)for(let e=0;e<t;e++)l.append(this.createItem(e));let c,u=0;for(const t of[...l.children]){const n=u===this.instance.page;n&&(c=t),o(t,this.cn("isCurrent"),n),null===(e=t.children[0])||void 0===e||e.setAttribute("aria-selected",n?"true":"false");for(const e of["isBeforePrev","isPrev","isNext","isAfterNext"])C(t,this.cn(e));u++}if(c=c||l.firstChild,s&&c){const e=c.previousElementSibling,t=e&&e.previousElementSibling;E(e,this.cn("isPrev")),E(t,this.cn("isBeforePrev"));const n=c.nextElementSibling,i=n&&n.nextElementSibling;E(n,this.cn("isNext")),E(i,this.cn("isAfterNext"))}this.isDynamic=s}createItem(e=0){var t;const n=document.createElement("li");n.setAttribute("role","presentation");const i=r(this.instance.localize(this.option("dotTpl"),[["%d",e+1]]).replace(/\%i/g,e+""));return n.appendChild(i),null===(t=n.children[0])||void 0===t||t.setAttribute("role","tab"),n}cleanup(){this.list&&(this.list.remove(),this.list=null),this.isDynamic=!1,C(this.instance.container,this.cn("hasDots"))}attach(){this.instance.on(["refresh","change"],this.onRefresh)}detach(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}}Object.defineProperty(z,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{list:"f-carousel__dots",isDynamic:"is-dynamic",hasDots:"has-dots",dot:"f-carousel__dot",isBeforePrev:"is-before-prev",isPrev:"is-prev",isCurrent:"is-current",isNext:"is-next",isAfterNext:"is-after-next"},dotTpl:'<button type="button" data-carousel-page="%i" aria-label="{{GOTO}}"><span class="f-carousel__dot" aria-hidden="true"></span></button>',dynamicFrom:11,maxCount:1/0,minCount:2}});const H="disabled",$="next",U="prev";class W extends R{constructor(){super(...arguments),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"prev",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"next",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"isDom",{enumerable:!0,configurable:!0,writable:!0,value:!1})}onRefresh(){const e=this.instance,t=e.pages.length,n=e.page;if(t<2)return void this.cleanup();this.build();let i=this.prev,r=this.next;i&&r&&(i.removeAttribute(H),r.removeAttribute(H),e.isInfinite||(n<=0&&i.setAttribute(H,""),n>=t-1&&r.setAttribute(H,"")))}addBtn(e){var t;const n=this.instance,i=document.createElement("button");i.setAttribute("tabindex","0"),i.setAttribute("title",n.localize(`{{${e.toUpperCase()}}}`)),E(i,this.cn("button")+" "+this.cn(e===$?"isNext":"isPrev"));const r=n.isRTL?e===$?U:$:e;var s;return i.innerHTML=n.localize(this.option(`${r}Tpl`)),i.dataset[`carousel${s=e,s?s.match("^[a-z]")?s.charAt(0).toUpperCase()+s.substring(1):s:""}`]="true",null===(t=this.container)||void 0===t||t.appendChild(i),i}build(){const e=this.instance.container,t=this.cn("container");let{container:n,prev:i,next:r}=this;n||(n=e.querySelector("."+t),this.isDom=!!n),n||(n=document.createElement("div"),E(n,t),e.appendChild(n)),this.container=n,r||(r=n.querySelector("[data-carousel-next]")),r||(r=this.addBtn($)),this.next=r,i||(i=n.querySelector("[data-carousel-prev]")),i||(i=this.addBtn(U)),this.prev=i}cleanup(){this.isDom||(this.prev&&this.prev.remove(),this.next&&this.next.remove(),this.container&&this.container.remove()),this.prev=null,this.next=null,this.container=null,this.isDom=!1}attach(){this.instance.on(["refresh","change"],this.onRefresh)}detach(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}}Object.defineProperty(W,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{container:"f-carousel__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"},nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"/></svg>',prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"/></svg>'}});class q extends R{constructor(){super(...arguments),Object.defineProperty(this,"selectedIndex",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"target",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"nav",{enumerable:!0,configurable:!0,writable:!0,value:null})}addAsTargetFor(e){this.target=this.instance,this.nav=e,this.attachEvents()}addAsNavFor(e){this.nav=this.instance,this.target=e,this.attachEvents()}attachEvents(){const{nav:e,target:t}=this;e&&t&&(e.options.initialSlide=t.options.initialPage,e.state===D.Ready?this.onNavReady(e):e.on("ready",this.onNavReady),t.state===D.Ready?this.onTargetReady(t):t.on("ready",this.onTargetReady))}onNavReady(e){e.on("createSlide",this.onNavCreateSlide),e.on("Panzoom.click",this.onNavClick),e.on("Panzoom.touchEnd",this.onNavTouch),this.onTargetChange()}onTargetReady(e){e.on("change",this.onTargetChange),e.on("Panzoom.refresh",this.onTargetChange),this.onTargetChange()}onNavClick(e,t,n){this.onNavTouch(e,e.panzoom,n)}onNavTouch(e,t,n){var i,r;if(Math.abs(t.dragOffset.x)>3||Math.abs(t.dragOffset.y)>3)return;const s=n.target,{nav:o,target:a}=this;if(!o||!a||!s)return;const l=s.closest("[data-index]");if(n.stopPropagation(),n.preventDefault(),!l)return;const c=parseInt(l.dataset.index||"",10)||0,u=a.getPageForSlide(c),d=o.getPageForSlide(c);o.slideTo(d),a.slideTo(u,{friction:(null===(r=null===(i=this.nav)||void 0===i?void 0:i.plugins)||void 0===r?void 0:r.Sync.option("friction"))||0}),this.markSelectedSlide(c)}onNavCreateSlide(e,t){t.index===this.selectedIndex&&this.markSelectedSlide(t.index)}onTargetChange(){var e,t;const{target:n,nav:i}=this;if(!n||!i)return;if(i.state!==D.Ready||n.state!==D.Ready)return;const r=null===(t=null===(e=n.pages[n.page])||void 0===e?void 0:e.slides[0])||void 0===t?void 0:t.index,s=i.getPageForSlide(r);this.markSelectedSlide(r),i.slideTo(s,null===i.prevPage&&null===n.prevPage?{friction:0}:void 0)}markSelectedSlide(e){const t=this.nav;t&&t.state===D.Ready&&(this.selectedIndex=e,[...t.slides].map((t=>{t.el&&t.el.classList[t.index===e?"add":"remove"]("is-nav-selected")})))}attach(){const e=this;let t=e.options.target,n=e.options.nav;t?e.addAsNavFor(t):n&&e.addAsTargetFor(n)}detach(){const e=this,t=e.nav,n=e.target;t&&(t.off("ready",e.onNavReady),t.off("createSlide",e.onNavCreateSlide),t.off("Panzoom.click",e.onNavClick),t.off("Panzoom.touchEnd",e.onNavTouch)),e.nav=null,n&&(n.off("ready",e.onTargetReady),n.off("refresh",e.onTargetChange),n.off("change",e.onTargetChange)),e.target=null}}Object.defineProperty(q,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{friction:.35}});const Y={Navigation:W,Dots:z,Sync:q},X="animationend",G="isSelected",K="slide";class Z extends g{get axis(){return this.isHorizontal?"e":"f"}get isEnabled(){return this.state===D.Ready}get isInfinite(){let e=!1;const{contentDim:t,viewportDim:n,pages:i,slides:r}=this,s=r[0];return i.length>=2&&s&&t+s.dim>=n&&(e=this.option("infinite")),e}get isRTL(){return"rtl"===this.option("direction")}get isHorizontal(){return"x"===this.option("axis")}constructor(e,t={},n={}){if(super(),Object.defineProperty(this,"bp",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"lp",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"userOptions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:D.Init}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"prevPage",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"viewport",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"slides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"pages",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"panzoom",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"inTransition",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"contentDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"viewportDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),"string"==typeof e&&(e=document.querySelector(e)),!e||!S(e))throw new Error("No Element found");this.container=e,this.slideNext=F(this.slideNext.bind(this),150),this.slidePrev=F(this.slidePrev.bind(this),150),this.userOptions=t,this.userPlugins=n,queueMicrotask((()=>{this.processOptions()}))}processOptions(){var e,t;const n=h({},Z.defaults,this.userOptions);let i="";const r=n.breakpoints;if(r&&f(r))for(const[e,t]of Object.entries(r))window.matchMedia(e).matches&&f(t)&&(i+=e,h(n,t));i===this.bp&&this.state!==D.Init||(this.bp=i,this.state===D.Ready&&(n.initialSlide=(null===(t=null===(e=this.pages[this.page])||void 0===e?void 0:e.slides[0])||void 0===t?void 0:t.index)||0),this.state!==D.Init&&this.destroy(),super.setOptions(n),!1===this.option("enabled")?this.attachEvents():setTimeout((()=>{this.init()}),0))}init(){this.state=D.Init,this.emit("init"),this.attachPlugins(Object.assign(Object.assign({},Z.Plugins),this.userPlugins)),this.emit("attachPlugins"),this.initLayout(),this.initSlides(),this.updateMetrics(),this.setInitialPosition(),this.initPanzoom(),this.attachEvents(),this.state=D.Ready,this.emit("ready")}initLayout(){const{container:e}=this,t=this.option("classes");E(e,this.cn("container")),o(e,t.isLTR,!this.isRTL),o(e,t.isRTL,this.isRTL),o(e,t.isVertical,!this.isHorizontal),o(e,t.isHorizontal,this.isHorizontal);let n=this.option("viewport")||e.querySelector(`.${t.viewport}`);n||(n=document.createElement("div"),E(n,t.viewport),n.append(...V(e,`.${t.slide}`)),e.prepend(n)),n.addEventListener("scroll",this.onScroll);let i=this.option("track")||e.querySelector(`.${t.track}`);i||(i=document.createElement("div"),E(i,t.track),i.append(...Array.from(n.childNodes))),i.setAttribute("aria-live","polite"),n.contains(i)||n.prepend(i),this.viewport=n,this.track=i,this.emit("initLayout")}initSlides(){const{track:e}=this;if(!e)return;const t=[...this.slides],n=[];[...V(e,`.${this.cn(K)}`)].forEach((e=>{if(S(e)){const t=N({el:e,isDom:!0,index:this.slides.length});n.push(t)}}));for(let e of[...this.option("slides",[])||[],...t])n.push(N(e));this.slides=n;for(let e=0;e<this.slides.length;e++)this.slides[e].index=e;for(const e of n)this.emit("beforeInitSlide",e,e.index),this.emit("initSlide",e,e.index);this.emit("initSlides")}setInitialPage(){const e=this.option("initialSlide");this.page="number"==typeof e?this.getPageForSlide(e):parseInt(this.option("initialPage",0)+"",10)||0}setInitialPosition(){const{track:e,pages:t,isHorizontal:n}=this;if(!e||!t.length)return;let i=this.page;t[i]||(this.page=i=0);const r=(t[i].pos||0)*(this.isRTL&&n?1:-1),s=n?`${r}px`:"0",o=n?"0":`${r}px`;e.style.transform=`translate3d(${s}, ${o}, 0) scale(1)`,this.option("adaptiveHeight")&&this.setViewportHeight()}initPanzoom(){this.panzoom&&(this.panzoom.destroy(),this.panzoom=null);const e=this.option("Panzoom")||{};this.panzoom=new L(this.viewport,h({},{content:this.track,zoom:!1,panOnlyZoomed:!1,lockAxis:this.isHorizontal?"x":"y",infinite:this.isInfinite,click:!1,dblClick:!1,touch:e=>!(this.pages.length<2&&!e.options.infinite),bounds:()=>this.getBounds(),maxVelocity:e=>Math.abs(e.target[this.axis]-e.current[this.axis])<2*this.viewportDim?100:0},e)),this.panzoom.on("*",((e,t,...n)=>{this.emit(`Panzoom.${t}`,e,...n)})),this.panzoom.on("decel",this.onDecel),this.panzoom.on("refresh",this.onRefresh),this.panzoom.on("beforeTransform",this.onBeforeTransform),this.panzoom.on("endAnimation",this.onEndAnimation)}attachEvents(){const e=this.container;e&&(e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),e.addEventListener("slideTo",this.onSlideTo)),window.addEventListener("resize",this.onResize)}createPages(){let e=[];const{contentDim:t,viewportDim:n}=this;let i=this.option("slidesPerPage");i=("auto"===i||t<=n)&&!1!==this.option("fill")?1/0:parseFloat(i+"");let r=0,s=0,o=0;for(const t of this.slides)(!e.length||s+t.dim-n>.05||o>=i)&&(e.push(B()),r=e.length-1,s=0,o=0),e[r].slides.push(t),s+=t.dim+t.gap,o++;return e}processPages(){const e=this.pages,{contentDim:n,viewportDim:i,isInfinite:r}=this,s=this.option("center"),o=this.option("fill"),a=o&&s&&n>i&&!r;if(e.forEach(((e,t)=>{var r;e.index=t,e.pos=(null===(r=e.slides[0])||void 0===r?void 0:r.pos)||0,e.dim=0;for(const[t,n]of e.slides.entries())e.dim+=n.dim,t<e.slides.length-1&&(e.dim+=n.gap);a&&e.pos+.5*e.dim<.5*i?e.pos=0:a&&e.pos+.5*e.dim>=n-.5*i?e.pos=n-i:s&&(e.pos+=-.5*(i-e.dim))})),e.forEach((e=>{o&&!r&&n>i&&(e.pos=Math.max(e.pos,0),e.pos=Math.min(e.pos,n-i)),e.pos=t(e.pos,1e3),e.dim=t(e.dim,1e3),Math.abs(e.pos)<=.1&&(e.pos=0)})),r)return e;const l=[];let c;return e.forEach((e=>{const t=Object.assign({},e);c&&t.pos===c.pos?(c.dim+=t.dim,c.slides=[...c.slides,...t.slides]):(t.index=l.length,c=t,l.push(t))})),l}getPageFromIndex(e=0){const t=this.pages.length;let n;return e=parseInt((e||0).toString())||0,n=this.isInfinite?(e%t+t)%t:Math.max(Math.min(e,t-1),0),n}getSlideMetrics(e){var n,i;const r=this.isHorizontal?"width":"height";let s=0,o=0,a=e.el;const l=!(!a||a.parentNode);if(a?s=parseFloat(a.dataset[r]||"")||0:(a=document.createElement("div"),a.style.visibility="hidden",(this.track||document.body).prepend(a)),E(a,this.cn(K)+" "+e.class+" "+e.customClass),s)a.style[r]=`${s}px`,a.style["width"===r?"height":"width"]="";else{l&&(this.track||document.body).prepend(a),s=a.getBoundingClientRect()[r]*Math.max(1,(null===(n=window.visualViewport)||void 0===n?void 0:n.scale)||1);let e=a[this.isHorizontal?"offsetWidth":"offsetHeight"];e-1>s&&(s=e)}const c=getComputedStyle(a);return"content-box"===c.boxSizing&&(this.isHorizontal?(s+=parseFloat(c.paddingLeft)||0,s+=parseFloat(c.paddingRight)||0):(s+=parseFloat(c.paddingTop)||0,s+=parseFloat(c.paddingBottom)||0)),o=parseFloat(c[this.isHorizontal?"marginRight":"marginBottom"])||0,l?null===(i=a.parentElement)||void 0===i||i.removeChild(a):e.el||a.remove(),{dim:t(s,1e3),gap:t(o,1e3)}}getBounds(){const{isInfinite:e,isRTL:t,isHorizontal:n,pages:i}=this;let r={min:0,max:0};if(e)r={min:-1/0,max:1/0};else if(i.length){const e=i[0].pos,s=i[i.length-1].pos;r=t&&n?{min:e,max:s}:{min:-1*s,max:-1*e}}return{x:n?r:{min:0,max:0},y:n?{min:0,max:0}:r}}repositionSlides(){let e,{isHorizontal:n,isRTL:i,isInfinite:r,viewport:s,viewportDim:o,contentDim:a,page:l,pages:c,slides:u,panzoom:d}=this,f=0,h=0,m=0,p=0;d?p=-1*d.current[this.axis]:c[l]&&(p=c[l].pos||0),e=n?i?"right":"left":"top",i&&n&&(p*=-1);for(const n of u){const i=n.el;i?("top"===e?(i.style.right="",i.style.left=""):i.style.top="",n.index!==f?i.style[e]=0===h?"":`${t(h,1e3)}px`:i.style[e]="",m+=n.dim+n.gap,f++):h+=n.dim+n.gap}if(r&&m&&s){let i=getComputedStyle(s),r="padding",l=n?"Right":"Bottom",c=parseFloat(i[r+(n?"Left":"Top")]);p-=c,o+=c,o+=parseFloat(i[r+l]);for(const n of u)n.el&&(t(n.pos)<t(o)&&t(n.pos+n.dim+n.gap)<t(p)&&t(p)>t(a-o)&&(n.el.style[e]=`${t(h+m,1e3)}px`),t(n.pos+n.gap)>=t(a-o)&&t(n.pos)>t(p+o)&&t(p)<t(o)&&(n.el.style[e]=`-${t(m,1e3)}px`))}let g,v,b=[...this.inTransition];if(b.length>1&&(g=c[b[0]],v=c[b[1]]),g&&v){let n=0;for(const i of u)i.el?this.inTransition.has(i.index)&&g.slides.indexOf(i)<0&&(i.el.style[e]=`${t(n+(g.pos-v.pos),1e3)}px`):n+=i.dim+i.gap}}createSlideEl(e){const{track:t,slides:n}=this;if(!t||!e)return;if(e.el&&e.el.parentNode)return;const i=e.el||document.createElement("div");E(i,this.cn(K)),E(i,e.class),E(i,e.customClass);const r=e.html;r&&(r instanceof HTMLElement?i.appendChild(r):i.innerHTML=e.html+"");const s=[];n.forEach(((e,t)=>{e.el&&s.push(t)}));const o=e.index;let a=null;s.length&&(a=n[s.reduce(((e,t)=>Math.abs(t-o)<Math.abs(e-o)?t:e))]);const l=a&&a.el&&a.el.parentNode?a.index<e.index?a.el.nextSibling:a.el:null;t.insertBefore(i,t.contains(l)?l:null),e.el=i,this.emit("createSlide",e)}removeSlideEl(e,t=!1){const n=null==e?void 0:e.el;if(!n||!n.parentNode)return;const i=this.cn(G);if(n.classList.contains(i)&&(C(n,i),this.emit("unselectSlide",e)),e.isDom&&!t)return n.removeAttribute("aria-hidden"),n.removeAttribute("data-index"),void(n.style.left="");this.emit("removeSlide",e);const r=new CustomEvent(X);n.dispatchEvent(r),e.el&&(e.el.remove(),e.el=null)}transitionTo(e=0,t=this.option("transition")){var n,i,r,s;if(!t)return!1;const o=this.page,{pages:a,panzoom:l}=this;e=parseInt((e||0).toString())||0;const c=this.getPageFromIndex(e);if(!l||!a[c]||a.length<2||Math.abs(((null===(i=null===(n=a[o])||void 0===n?void 0:n.slides[0])||void 0===i?void 0:i.dim)||0)-this.viewportDim)>1)return!1;let u=e>o?1:-1;this.isInfinite&&(0===o&&e===a.length-1&&(u=-1),o===a.length-1&&0===e&&(u=1));const d=a[c].pos*(this.isRTL?1:-1);if(o===c&&Math.abs(d-l.target[this.axis])<1)return!1;this.clearTransitions();const f=l.isResting;E(this.container,this.cn("inTransition"));const h=(null===(r=a[o])||void 0===r?void 0:r.slides[0])||null,m=(null===(s=a[c])||void 0===s?void 0:s.slides[0])||null;this.inTransition.add(m.index),this.createSlideEl(m);let p=h.el,g=m.el;f||t===K||(t="fadeFast",p=null);const v=this.isRTL?"next":"prev",b=this.isRTL?"prev":"next";return p&&(this.inTransition.add(h.index),h.transition=t,p.addEventListener(X,this.onAnimationEnd),p.classList.add(`f-${t}Out`,`to-${u>0?b:v}`)),g&&(m.transition=t,g.addEventListener(X,this.onAnimationEnd),g.classList.add(`f-${t}In`,`from-${u>0?v:b}`)),l.current[this.axis]=d,l.target[this.axis]=d,l.requestTick(),this.onChange(c),!0}manageSlideVisiblity(){const e=new Set,t=new Set,n=this.getVisibleSlides(parseFloat(this.option("preload",0)+"")||0);for(const i of this.slides)n.has(i)?e.add(i):t.add(i);for(const t of this.inTransition)e.add(this.slides[t]);for(const t of e)this.createSlideEl(t),this.lazyLoadSlide(t);for(const n of t)e.has(n)||this.removeSlideEl(n);this.markSelectedSlides(),this.repositionSlides()}markSelectedSlides(){if(!this.pages[this.page]||!this.pages[this.page].slides)return;const e="aria-hidden";let t=this.cn(G);if(t)for(const n of this.slides){const i=n.el;i&&(i.dataset.index=`${n.index}`,i.classList.contains("f-thumbs__slide")?this.getVisibleSlides(0).has(n)?i.removeAttribute(e):i.setAttribute(e,"true"):this.pages[this.page].slides.includes(n)?(i.classList.contains(t)||(E(i,t),this.emit("selectSlide",n)),i.removeAttribute(e)):(i.classList.contains(t)&&(C(i,t),this.emit("unselectSlide",n)),i.setAttribute(e,"true")))}}flipInfiniteTrack(){const{axis:e,isHorizontal:t,isInfinite:n,isRTL:i,viewportDim:r,contentDim:s}=this,o=this.panzoom;if(!o||!n)return;let a=o.current[e],l=o.target[e]-a,c=0,u=.5*r;i&&t?(a<-u&&(c=-1,a+=s),a>s-u&&(c=1,a-=s)):(a>u&&(c=1,a-=s),a<-s+u&&(c=-1,a+=s)),c&&(o.current[e]=a,o.target[e]=a+l)}lazyLoadImg(e,t){const n=this,i="f-fadeIn",s="is-preloading";let o=!1,a=null;const l=()=>{o||(o=!0,a&&(a.remove(),a=null),C(t,s),t.complete&&(E(t,i),setTimeout((()=>{C(t,i)}),350)),this.option("adaptiveHeight")&&e.el&&this.pages[this.page].slides.indexOf(e)>-1&&(n.updateMetrics(),n.setViewportHeight()),this.emit("load",e))};E(t,s),t.src=t.dataset.lazySrcset||t.dataset.lazySrc||"",delete t.dataset.lazySrc,delete t.dataset.lazySrcset,t.addEventListener("error",(()=>{l()})),t.addEventListener("load",(()=>{l()})),setTimeout((()=>{const n=t.parentNode;n&&e.el&&(t.complete?l():o||(a=r(_),n.insertBefore(a,t)))}),300)}lazyLoadSlide(e){const t=e&&e.el;if(!t)return;const n=new Set;let i=Array.from(t.querySelectorAll("[data-lazy-src],[data-lazy-srcset]"));t.dataset.lazySrc&&i.push(t),i.map((e=>{e instanceof HTMLImageElement?n.add(e):e instanceof HTMLElement&&e.dataset.lazySrc&&(e.style.backgroundImage=`url('${e.dataset.lazySrc}')`,delete e.dataset.lazySrc)}));for(const t of n)this.lazyLoadImg(e,t)}onAnimationEnd(e){var t;const n=e.target,i=n?parseInt(n.dataset.index||"",10)||0:-1,r=this.slides[i],s=e.animationName;if(!n||!r||!s)return;const o=!!this.inTransition.has(i)&&r.transition;o&&s.substring(0,o.length+2)===`f-${o}`&&this.inTransition.delete(i),this.inTransition.size||this.clearTransitions(),i===this.page&&(null===(t=this.panzoom)||void 0===t?void 0:t.isResting)&&this.emit("settle")}onDecel(e,t=0,n=0,i=0,r=0){if(this.option("dragFree"))return void this.setPageFromPosition();const{isRTL:s,isHorizontal:o,axis:a,pages:l}=this,c=l.length,u=Math.abs(Math.atan2(n,t)/(Math.PI/180));let d=0;if(d=u>45&&u<135?o?0:n:o?t:0,!c)return;let f=this.page,h=s&&o?1:-1;const m=e.current[a]*h;let{pageIndex:p}=this.getPageFromPosition(m);Math.abs(d)>5?(l[f].dim<document.documentElement["client"+(this.isHorizontal?"Width":"Height")]-1&&(f=p),f=s&&o?d<0?f-1:f+1:d<0?f+1:f-1):f=0===i&&0===r?f:p,this.slideTo(f,{transition:!1,friction:e.option("decelFriction")})}onClick(e){const t=e.target,n=t&&S(t)?t.dataset:null;let i,r;n&&(void 0!==n.carouselPage?(r="slideTo",i=n.carouselPage):void 0!==n.carouselNext?r="slideNext":void 0!==n.carouselPrev&&(r="slidePrev")),r?(e.preventDefault(),e.stopPropagation(),t&&!t.hasAttribute("disabled")&&this[r](i)):this.emit("click",e)}onSlideTo(e){const t=e.detail||0;this.slideTo(this.getPageForSlide(t),{friction:0})}onChange(e,t=0){const n=this.page;this.prevPage=n,this.page=e,this.option("adaptiveHeight")&&this.setViewportHeight(),e!==n&&(this.markSelectedSlides(),this.emit("change",e,n,t))}onRefresh(){let e=this.contentDim,t=this.viewportDim;this.updateMetrics(),this.contentDim===e&&this.viewportDim===t||this.slideTo(this.page,{friction:0,transition:!1})}onScroll(){var e;null===(e=this.viewport)||void 0===e||e.scroll(0,0)}onResize(){this.option("breakpoints")&&this.processOptions()}onBeforeTransform(e){this.lp!==e.current[this.axis]&&(this.flipInfiniteTrack(),this.manageSlideVisiblity()),this.lp=e.current.e}onEndAnimation(){this.inTransition.size||this.emit("settle")}reInit(e=null,t=null){this.destroy(),this.state=D.Init,this.prevPage=null,this.userOptions=e||this.userOptions,this.userPlugins=t||this.userPlugins,this.processOptions()}slideTo(e=0,{friction:t=this.option("friction"),transition:n=this.option("transition")}={}){if(this.state===D.Destroy)return;e=parseInt((e||0).toString())||0;const i=this.getPageFromIndex(e),{axis:r,isHorizontal:s,isRTL:o,pages:a,panzoom:l}=this,c=a.length,u=o&&s?1:-1;if(!l||!c)return;if(this.page!==i){const t=new Event("beforeChange",{bubbles:!0,cancelable:!0});if(this.emit("beforeChange",t,e),t.defaultPrevented)return}if(this.transitionTo(e,n))return;let d=a[i].pos;if(this.isInfinite){const t=this.contentDim,n=l.target[r]*u;2===c?d+=t*Math.floor(parseFloat(e+"")/2):d=[d,d-t,d+t].reduce((function(e,t){return Math.abs(t-n)<Math.abs(e-n)?t:e}))}d*=u,Math.abs(l.target[r]-d)<1||(l.panTo({x:s?d:0,y:s?0:d,friction:t}),this.onChange(i))}slideToClosest(e){if(this.panzoom){const{pageIndex:t}=this.getPageFromPosition();this.slideTo(t,e)}}slideNext(){this.slideTo(this.page+1)}slidePrev(){this.slideTo(this.page-1)}clearTransitions(){this.inTransition.clear(),C(this.container,this.cn("inTransition"));const e=["to-prev","to-next","from-prev","from-next"];for(const t of this.slides){const n=t.el;if(n){n.removeEventListener(X,this.onAnimationEnd),n.classList.remove(...e);const i=t.transition;i&&n.classList.remove(`f-${i}Out`,`f-${i}In`)}}this.manageSlideVisiblity()}addSlide(e,t){var n,i,r,s;const o=this.panzoom,a=(null===(n=this.pages[this.page])||void 0===n?void 0:n.pos)||0,l=(null===(i=this.pages[this.page])||void 0===i?void 0:i.dim)||0,c=this.contentDim<this.viewportDim;let u=Array.isArray(t)?t:[t];const d=[];for(const e of u)d.push(N(e));this.slides.splice(e,0,...d);for(let e=0;e<this.slides.length;e++)this.slides[e].index=e;for(const e of d)this.emit("beforeInitSlide",e,e.index);if(this.page>=e&&(this.page+=d.length),this.updateMetrics(),o){const t=(null===(r=this.pages[this.page])||void 0===r?void 0:r.pos)||0,n=(null===(s=this.pages[this.page])||void 0===s?void 0:s.dim)||0,i=this.pages.length||1,u=this.isRTL?l-n:n-l,d=this.isRTL?a-t:t-a;c&&1===i?(e<=this.page&&(o.current[this.axis]-=u,o.target[this.axis]-=u),o.panTo({[this.isHorizontal?"x":"y"]:-1*t})):d&&e<=this.page&&(o.target[this.axis]-=d,o.current[this.axis]-=d,o.requestTick())}for(const e of d)this.emit("initSlide",e,e.index)}prependSlide(e){this.addSlide(0,e)}appendSlide(e){this.addSlide(this.slides.length,e)}removeSlide(e){const t=this.slides.length;e=(e%t+t)%t;const n=this.slides[e];if(n){this.removeSlideEl(n,!0),this.slides.splice(e,1);for(let e=0;e<this.slides.length;e++)this.slides[e].index=e;this.updateMetrics(),this.slideTo(this.page,{friction:0,transition:!1}),this.emit("destroySlide",n)}}updateMetrics(){const{panzoom:e,viewport:n,track:i,slides:r,isHorizontal:s,isInfinite:o}=this;if(!i)return;const a=s?"width":"height",l=s?"offsetWidth":"offsetHeight";if(n){let e=Math.max(n[l],t(n.getBoundingClientRect()[a],1e3)),i=getComputedStyle(n),r="padding",o=s?"Right":"Bottom";e-=parseFloat(i[r+(s?"Left":"Top")])+parseFloat(i[r+o]),this.viewportDim=e}let c,u=0;for(const[e,n]of r.entries()){let i=0,s=0;!n.el&&c?(i=c.dim,s=c.gap):(({dim:i,gap:s}=this.getSlideMetrics(n)),c=n),i=t(i,1e3),s=t(s,1e3),n.dim=i,n.gap=s,n.pos=u,u+=i,(o||e<r.length-1)&&(u+=s)}u=t(u,1e3),this.contentDim=u,e&&(e.contentRect[a]=u,e.contentRect[s?"fullWidth":"fullHeight"]=u),this.pages=this.createPages(),this.pages=this.processPages(),this.state===D.Init&&this.setInitialPage(),this.page=Math.max(0,Math.min(this.page,this.pages.length-1)),this.manageSlideVisiblity(),this.emit("refresh")}getProgress(e,n=!1,i=!1){void 0===e&&(e=this.page);const r=this,s=r.panzoom,o=r.contentDim,a=r.pages[e]||0;if(!a||!s)return e>this.page?-1:1;let l=-1*s.current.e,c=t((l-a.pos)/(1*a.dim),1e3),u=c,d=c;this.isInfinite&&!0!==i&&(u=t((l-a.pos+o)/(1*a.dim),1e3),d=t((l-a.pos-o)/(1*a.dim),1e3));let f=[c,u,d].reduce((function(e,t){return Math.abs(t)<Math.abs(e)?t:e}));return n?f:f>1?1:f<-1?-1:f}setViewportHeight(){const{page:e,pages:t,viewport:n,isHorizontal:i}=this;if(!n||!t[e])return;let r=0;i&&this.track&&(this.track.style.height="auto",t[e].slides.forEach((e=>{e.el&&(r=Math.max(r,e.el.offsetHeight))}))),n.style.height=r?`${r}px`:""}getPageForSlide(e){for(const t of this.pages)for(const n of t.slides)if(n.index===e)return t.index;return-1}getVisibleSlides(e=0){var t;const n=new Set;let{panzoom:i,contentDim:r,viewportDim:s,pages:o,page:a}=this;if(s){r=r+(null===(t=this.slides[this.slides.length-1])||void 0===t?void 0:t.gap)||0;let l=0;l=i&&i.state!==v.Init&&i.state!==v.Destroy?-1*i.current[this.axis]:o[a]&&o[a].pos||0,this.isInfinite&&(l-=Math.floor(l/r)*r),this.isRTL&&this.isHorizontal&&(l*=-1);const c=l-s*e,u=l+s*(e+1),d=this.isInfinite?[-1,0,1]:[0];for(const e of this.slides)for(const t of d){const i=e.pos+t*r,s=i+e.dim+e.gap;i<u&&s>c&&n.add(e)}}return n}getPageFromPosition(e){const{viewportDim:t,contentDim:n,slides:i,pages:r,panzoom:s}=this,o=r.length,a=i.length,l=i[0],c=i[a-1],u=this.option("center");let d=0,f=0,h=0,m=void 0===e?-1*((null==s?void 0:s.target[this.axis])||0):e;u&&(m+=.5*t),this.isInfinite?(m<l.pos-.5*c.gap&&(m-=n,h=-1),m>c.pos+c.dim+.5*c.gap&&(m-=n,h=1)):m=Math.max(l.pos||0,Math.min(m,c.pos));let p=c,g=i.find((e=>{const t=e.pos-.5*p.gap,n=e.pos+e.dim+.5*e.gap;return p=e,m>=t&&m<n}));return g||(g=c),f=this.getPageForSlide(g.index),d=f+h*o,{page:d,pageIndex:f}}setPageFromPosition(){const{pageIndex:e}=this.getPageFromPosition();this.onChange(e)}destroy(){if([D.Destroy].includes(this.state))return;this.state=D.Destroy;const{container:e,viewport:t,track:n,slides:i,panzoom:r}=this,s=this.option("classes");e.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),e.removeEventListener("slideTo",this.onSlideTo),window.removeEventListener("resize",this.onResize),r&&(r.destroy(),this.panzoom=null),i&&i.forEach((e=>{this.removeSlideEl(e)})),this.detachPlugins(),t&&(t.removeEventListener("scroll",this.onScroll),t.offsetParent&&n&&n.offsetParent&&t.replaceWith(...n.childNodes));for(const[t,n]of Object.entries(s))"container"!==t&&n&&e.classList.remove(n);this.track=null,this.viewport=null,this.page=0,this.slides=[];const o=this.events.get("ready");this.events=new Map,o&&this.events.set("ready",o)}}Object.defineProperty(Z,"Panzoom",{enumerable:!0,configurable:!0,writable:!0,value:L}),Object.defineProperty(Z,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{viewport:null,track:null,enabled:!0,slides:[],axis:"x",transition:"fade",preload:1,slidesPerPage:"auto",initialPage:0,friction:.12,Panzoom:{decelFriction:.12},center:!0,infinite:!0,fill:!0,dragFree:!1,adaptiveHeight:!1,direction:"ltr",classes:{container:"f-carousel",viewport:"f-carousel__viewport",track:"f-carousel__track",slide:"f-carousel__slide",isLTR:"is-ltr",isRTL:"is-rtl",isHorizontal:"is-horizontal",isVertical:"is-vertical",inTransition:"in-transition",isSelected:"is-selected"},l10n:{NEXT:"Next slide",PREV:"Previous slide",GOTO:"Go to slide #%d"}}}),Object.defineProperty(Z,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:Y});const J=function(e){if(!S(e))return 0;const t=window.scrollY,n=window.innerHeight,i=t+n,r=e.getBoundingClientRect(),s=r.y+t,o=r.height,a=s+o;if(t>a||i<s)return 0;if(t<s&&i>a)return 100;if(s<t&&a>i)return 100;let l=o;s<t&&(l-=t-s),a>i&&(l-=a-i);const c=l/n*100;return Math.round(c)},Q=!("undefined"==typeof window||!window.document||!window.document.createElement);let ee;const te=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden]):not(.fancybox-focus-guard)","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"]):not([disabled]):not([aria-hidden])'].join(","),ne=e=>{if(e&&Q){void 0===ee&&document.createElement("div").focus({get preventScroll(){return ee=!0,!1}});try{if(ee)e.focus({preventScroll:!0});else{const t=window.scrollY||document.body.scrollTop,n=window.scrollX||document.body.scrollLeft;e.focus(),document.body.scrollTo({top:t,left:n,behavior:"auto"})}}catch(e){}}},ie=()=>{const e=document;let t,n="",i="",r="";return e.fullscreenEnabled?(n="requestFullscreen",i="exitFullscreen",r="fullscreenElement"):e.webkitFullscreenEnabled&&(n="webkitRequestFullscreen",i="webkitExitFullscreen",r="webkitFullscreenElement"),n&&(t={request:function(t=e.documentElement){return"webkitRequestFullscreen"===n?t[n](Element.ALLOW_KEYBOARD_INPUT):t[n]()},exit:function(){return e[r]&&e[i]()},isFullscreen:function(){return e[r]}}),t},re={animated:!0,autoFocus:!0,backdropClick:"close",Carousel:{classes:{container:"fancybox__carousel",viewport:"fancybox__viewport",track:"fancybox__track",slide:"fancybox__slide"}},closeButton:"auto",closeExisting:!1,commonCaption:!1,compact:()=>window.matchMedia("(max-width: 578px), (max-height: 578px)").matches,contentClick:"toggleZoom",contentDblClick:!1,defaultType:"image",defaultDisplay:"flex",dragToClose:!0,Fullscreen:{autoStart:!1},groupAll:!1,groupAttr:"data-fancybox",hideClass:"f-fadeOut",hideScrollbar:!0,idle:3500,keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"prev",ArrowDown:"next",ArrowRight:"next",ArrowLeft:"prev"},l10n:Object.assign(Object.assign({},y),{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ERROR:"Something Went Wrong, Please Try Again Later",IMAGE_ERROR:"Image Not Found",ELEMENT_NOT_FOUND:"HTML Element Not Found",AJAX_NOT_FOUND:"Error Loading AJAX : Not Found",AJAX_FORBIDDEN:"Error Loading AJAX : Forbidden",IFRAME_ERROR:"Error Loading Page",TOGGLE_ZOOM:"Toggle zoom level",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_SLIDESHOW:"Toggle slideshow",TOGGLE_FULLSCREEN:"Toggle full-screen mode",DOWNLOAD:"Download"}),parentEl:null,placeFocusBack:!0,showClass:"f-zoomInUp",startIndex:0,tpl:{closeButton:'<button data-fancybox-close class="f-button is-close-btn" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M20 20L4 4m16 0L4 20"/></svg></button>',main:'<div class="fancybox__container" role="dialog" aria-modal="true" aria-label="{{MODAL}}" tabindex="-1">\n    <div class="fancybox__backdrop"></div>\n    <div class="fancybox__carousel"></div>\n    <div class="fancybox__footer"></div>\n  </div>'},trapFocus:!0,wheel:"zoom"};var se,oe;!function(e){e[e.Init=0]="Init",e[e.Ready=1]="Ready",e[e.Closing=2]="Closing",e[e.CustomClosing=3]="CustomClosing",e[e.Destroy=4]="Destroy"}(se||(se={})),function(e){e[e.Loading=0]="Loading",e[e.Opening=1]="Opening",e[e.Ready=2]="Ready",e[e.Closing=3]="Closing"}(oe||(oe={}));let ae="",le=!1,ce=!1,ue=null;const de=()=>{let e="",t="";const n=Ct.getInstance();if(n){const i=n.carousel,r=n.getSlide();if(i&&r){let s=r.slug||void 0,o=r.triggerEl||void 0;t=s||n.option("slug")||"",!t&&o&&o.dataset&&(t=o.dataset.fancybox||""),t&&"true"!==t&&(e="#"+t+(!s&&i.slides.length>1?"-"+(r.index+1):""))}}return{hash:e,slug:t,index:1}},fe=()=>{const e=new URL(document.URL).hash,t=e.slice(1).split("-"),n=t[t.length-1],i=n&&/^\+?\d+$/.test(n)&&parseInt(t.pop()||"1",10)||1;return{hash:e,slug:t.join("-"),index:i}},he=()=>{const{slug:e,index:t}=fe();if(!e)return;let n=document.querySelector(`[data-slug="${e}"]`);if(n&&n.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),Ct.getInstance())return;const i=document.querySelectorAll(`[data-fancybox="${e}"]`);i.length&&(n=i[t-1],n&&n.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})))},me=()=>{if(!1===Ct.defaults.Hash)return;const e=Ct.getInstance();if(!1===(null==e?void 0:e.options.Hash))return;const{slug:t,index:n}=fe(),{slug:i}=de();e&&(t===i?e.jumpTo(n-1):(le=!0,e.close())),he()},pe=()=>{ue&&clearTimeout(ue),queueMicrotask((()=>{me()}))},ge=()=>{window.addEventListener("hashchange",pe,!1),setTimeout((()=>{me()}),500)};Q&&(/complete|interactive|loaded/.test(document.readyState)?ge():document.addEventListener("DOMContentLoaded",ge));const ve="is-zooming-in";class be extends R{onCreateSlide(e,t,n){const i=this.instance.optionFor(n,"src")||"";n.el&&"image"===n.type&&"string"==typeof i&&this.setImage(n,i)}onRemoveSlide(e,t,n){n.panzoom&&n.panzoom.destroy(),n.panzoom=void 0,n.imageEl=void 0}onChange(e,t,n,i){C(this.instance.container,ve);for(const e of t.slides){const t=e.panzoom;t&&e.index!==n&&t.reset(.35)}}onClose(){var e;const t=this.instance,n=t.container,i=t.getSlide();if(!n||!n.parentElement||!i)return;const{el:r,contentEl:s,panzoom:o,thumbElSrc:a}=i;if(!r||!a||!s||!o||o.isContentLoading||o.state===v.Init||o.state===v.Destroy)return;o.updateMetrics();let l=this.getZoomInfo(i);if(!l)return;this.instance.state=se.CustomClosing,n.classList.remove(ve),n.classList.add("is-zooming-out"),s.style.backgroundImage=`url('${a}')`;const c=n.getBoundingClientRect();1===((null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1)&&Object.assign(n.style,{position:"absolute",top:`${n.offsetTop+window.scrollY}px`,left:`${n.offsetLeft+window.scrollX}px`,bottom:"auto",right:"auto",width:`${c.width}px`,height:`${c.height}px`,overflow:"hidden"});const{x:u,y:d,scale:f,opacity:h}=l;if(h){const e=((e,t)=>{const n=t-e;return t=>1+((t-e)/n*-1||0)})(o.scale,f);o.on("afterTransform",(()=>{s.style.opacity=e(o.scale)+""}))}o.on("endAnimation",(()=>{t.destroy()})),o.target.a=f,o.target.b=0,o.target.c=0,o.target.d=f,o.panTo({x:u,y:d,scale:f,friction:h?.2:.33,ignoreBounds:!0}),o.isResting&&t.destroy()}setImage(e,t){const n=this.instance;e.src=t,this.process(e,t).then((t=>{const{contentEl:i,imageEl:r,thumbElSrc:s,el:o}=e;if(n.isClosing()||!i||!r)return;i.offsetHeight;const a=!!n.isOpeningSlide(e)&&this.getZoomInfo(e);if(this.option("protected")&&o){o.addEventListener("contextmenu",(e=>{e.preventDefault()}));const e=document.createElement("div");E(e,"fancybox-protected"),i.appendChild(e)}if(s&&a){const r=t.contentRect,o=Math.max(r.fullWidth,r.fullHeight);let c=null;!a.opacity&&o>1200&&(c=document.createElement("img"),E(c,"fancybox-ghost"),c.src=s,i.appendChild(c));const u=()=>{c&&(E(c,"f-fadeFastOut"),setTimeout((()=>{c&&(c.remove(),c=null)}),200))};(l=s,new Promise(((e,t)=>{const n=new Image;n.onload=e,n.onerror=t,n.src=l}))).then((()=>{n.hideLoading(e),e.state=oe.Opening,this.instance.emit("reveal",e),this.zoomIn(e).then((()=>{u(),this.instance.done(e)}),(()=>{})),c&&setTimeout((()=>{u()}),o>2500?800:200)}),(()=>{n.hideLoading(e),n.revealContent(e)}))}else{const i=this.optionFor(e,"initialSize"),r=this.optionFor(e,"zoom"),s={event:n.prevMouseMoveEvent||n.options.event,friction:r?.12:0};let o=n.optionFor(e,"showClass")||void 0,a=!0;n.isOpeningSlide(e)&&("full"===i?t.zoomToFull(s):"cover"===i?t.zoomToCover(s):"max"===i?t.zoomToMax(s):a=!1,t.stop("current")),a&&o&&(o=t.isDragging?"f-fadeIn":""),n.hideLoading(e),n.revealContent(e,o)}var l}),(()=>{n.setError(e,"{{IMAGE_ERROR}}")}))}process(e,t){return new Promise(((n,i)=>{var s;const o=this.instance,a=e.el;o.clearContent(e),o.showLoading(e);let l=this.optionFor(e,"content");if("string"==typeof l&&(l=r(l)),!l||!S(l)){if(l=document.createElement("img"),l instanceof HTMLImageElement){let n="",i=e.caption;n="string"==typeof i&&i?i.replace(/<[^>]+>/gi,"").substring(0,1e3):`Image ${e.index+1} of ${(null===(s=o.carousel)||void 0===s?void 0:s.pages.length)||1}`,l.src=t||"",l.alt=n,l.draggable=!1,e.srcset&&l.setAttribute("srcset",e.srcset),this.instance.isOpeningSlide(e)&&(l.fetchPriority="high")}e.sizes&&l.setAttribute("sizes",e.sizes)}E(l,"fancybox-image"),e.imageEl=l,o.setContent(e,l,!1),e.panzoom=new L(a,h({transformParent:!0},this.option("Panzoom")||{},{content:l,width:(t,n)=>o.optionFor(e,"width","auto",n)||"auto",height:(t,n)=>o.optionFor(e,"height","auto",n)||"auto",wheel:()=>{const e=o.option("wheel");return("zoom"===e||"pan"==e)&&e},click:(t,n)=>{var i,r;if(o.isCompact||o.isClosing())return!1;if(e.index!==(null===(i=o.getSlide())||void 0===i?void 0:i.index))return!1;if(n){const e=n.composedPath()[0];if(["A","BUTTON","TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].includes(e.nodeName))return!1}let s=!n||n.target&&(null===(r=e.contentEl)||void 0===r?void 0:r.contains(n.target));return o.option(s?"contentClick":"backdropClick")||!1},dblClick:()=>o.isCompact?"toggleZoom":o.option("contentDblClick")||!1,spinner:!1,panOnlyZoomed:!0,wheelLimit:1/0,on:{ready:e=>{n(e)},error:()=>{i()},destroy:()=>{i()}}}))}))}zoomIn(e){return new Promise(((t,n)=>{const i=this.instance,r=i.container,{panzoom:s,contentEl:o,el:a}=e;s&&s.updateMetrics();const l=this.getZoomInfo(e);if(!(l&&a&&o&&s&&r))return void n();const{x:c,y:u,scale:d,opacity:f}=l,h=()=>{e.state!==oe.Closing&&(f&&(o.style.opacity=Math.max(Math.min(1,1-(1-s.scale)/(1-d)),0)+""),s.scale>=1&&s.scale>s.targetScale-.1&&t(s))},m=e=>{(e.scale<.99||e.scale>1.01)&&!e.isDragging||(C(r,ve),o.style.opacity="",e.off("endAnimation",m),e.off("touchStart",m),e.off("afterTransform",h),t(e))};s.on("endAnimation",m),s.on("touchStart",m),s.on("afterTransform",h),s.on(["error","destroy"],(()=>{n()})),s.panTo({x:c,y:u,scale:d,friction:0,ignoreBounds:!0}),s.stop("current");const p={event:"mousemove"===s.panMode?i.prevMouseMoveEvent||i.options.event:void 0},g=this.optionFor(e,"initialSize");E(r,ve),i.hideLoading(e),"full"===g?s.zoomToFull(p):"cover"===g?s.zoomToCover(p):"max"===g?s.zoomToMax(p):s.reset(.172)}))}getZoomInfo(e){const{el:t,imageEl:n,thumbEl:i,panzoom:r}=e,s=this.instance,o=s.container;if(!t||!n||!i||!r||J(i)<3||!this.optionFor(e,"zoom")||!o||s.state===se.Destroy)return!1;if("0"===getComputedStyle(o).getPropertyValue("--f-images-zoom"))return!1;const a=window.visualViewport||null;if(1!==(a?a.scale:1))return!1;let{top:l,left:c,width:u,height:d}=i.getBoundingClientRect(),{top:f,left:h,fitWidth:m,fitHeight:p}=r.contentRect;if(!(u&&d&&m&&p))return!1;const g=r.container.getBoundingClientRect();h+=g.left,f+=g.top;const v=-1*(h+.5*m-(c+.5*u)),b=-1*(f+.5*p-(l+.5*d)),y=u/m;let w=this.option("zoomOpacity")||!1;return"auto"===w&&(w=Math.abs(u/d-m/p)>.1),{x:v,y:b,scale:y,opacity:w}}attach(){const e=this,t=e.instance;t.on("Carousel.change",e.onChange),t.on("Carousel.createSlide",e.onCreateSlide),t.on("Carousel.removeSlide",e.onRemoveSlide),t.on("close",e.onClose)}detach(){const e=this,t=e.instance;t.off("Carousel.change",e.onChange),t.off("Carousel.createSlide",e.onCreateSlide),t.off("Carousel.removeSlide",e.onRemoveSlide),t.off("close",e.onClose)}}Object.defineProperty(be,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{initialSize:"fit",Panzoom:{maxScale:1},protected:!1,zoom:!0,zoomOpacity:"auto"}}),"function"==typeof SuppressedError&&SuppressedError;const ye="html",we="image",xe="map",_e="youtube",Se="vimeo",Ce="html5video",Ee=(e,t={})=>{const n=new URL(e),i=new URLSearchParams(n.search),r=new URLSearchParams;for(const[e,n]of[...i,...Object.entries(t)]){let t=n+"";if("t"===e){let e=t.match(/((\d*)m)?(\d*)s?/);e&&r.set("start",60*parseInt(e[2]||"0")+parseInt(e[3]||"0")+"")}else r.set(e,t)}let s=r+"",o=e.match(/#t=((.*)?\d+s)/);return o&&(s+=`#t=${o[1]}`),s},je=["image","html","ajax","inline","clone","iframe","map","pdf","html5video","youtube","vimeo"];class Ie extends R{onBeforeInitSlide(e,t,n){this.processType(n)}onCreateSlide(e,t,n){this.setContent(n)}onClearContent(e,t){t.xhr&&(t.xhr.abort(),t.xhr=null);const n=t.iframeEl;n&&(n.onload=n.onerror=null,n.src="//about:blank",t.iframeEl=null);const i=t.contentEl,r=t.placeholderEl;if("inline"===t.type&&i&&r)i.classList.remove("fancybox__content"),"none"!==getComputedStyle(i).getPropertyValue("display")&&(i.style.display="none"),setTimeout((()=>{r&&(i&&r.parentNode&&r.parentNode.insertBefore(i,r),r.remove())}),0),t.contentEl=void 0,t.placeholderEl=void 0;else for(;t.el&&t.el.firstChild;)t.el.removeChild(t.el.firstChild)}onSelectSlide(e,t,n){n.state===oe.Ready&&this.playVideo()}onUnselectSlide(e,t,n){var i,r;if(n.type===Ce){try{null===(r=null===(i=n.el)||void 0===i?void 0:i.querySelector("video"))||void 0===r||r.pause()}catch(e){}return}let s;n.type===Se?s={method:"pause",value:"true"}:n.type===_e&&(s={event:"command",func:"pauseVideo"}),s&&n.iframeEl&&n.iframeEl.contentWindow&&n.iframeEl.contentWindow.postMessage(JSON.stringify(s),"*"),n.poller&&clearTimeout(n.poller)}onDone(e,t){e.isCurrentSlide(t)&&!e.isClosing()&&this.playVideo()}onRefresh(e,t){t.slides.forEach((e=>{e.el&&(this.resizeIframe(e),this.setAspectRatio(e))}))}onMessage(e){try{let t=JSON.parse(e.data);if("https://player.vimeo.com"===e.origin){if("ready"===t.event)for(let t of Array.from(document.getElementsByClassName("fancybox__iframe")))t instanceof HTMLIFrameElement&&t.contentWindow===e.source&&(t.dataset.ready="true")}else if(e.origin.match(/^https:\/\/(www.)?youtube(-nocookie)?.com$/)&&"onReady"===t.event){const e=document.getElementById(t.id);e&&(e.dataset.ready="true")}}catch(e){}}loadAjaxContent(e){const t=this.instance.optionFor(e,"src")||"";this.instance.showLoading(e);const n=this.instance,i=new XMLHttpRequest;n.showLoading(e),i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&n.state===se.Ready&&(n.hideLoading(e),200===i.status?n.setContent(e,i.responseText):n.setError(e,404===i.status?"{{AJAX_NOT_FOUND}}":"{{AJAX_FORBIDDEN}}"))};const r=e.ajax||null;i.open(r?"POST":"GET",t+""),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.send(r),e.xhr=i}setInlineContent(e){let t=null;if(S(e.src))t=e.src;else if("string"==typeof e.src){const n=e.src.split("#",2).pop();t=n?document.getElementById(n):null}if(t){if("clone"===e.type||t.closest(".fancybox__slide")){t=t.cloneNode(!0);const n=t.dataset.animationName;n&&(t.classList.remove(n),delete t.dataset.animationName);let i=t.getAttribute("id");i=i?`${i}--clone`:`clone-${this.instance.id}-${e.index}`,t.setAttribute("id",i)}else if(t.parentNode){const n=document.createElement("div");n.classList.add("fancybox-placeholder"),t.parentNode.insertBefore(n,t),e.placeholderEl=n}this.instance.setContent(e,t)}else this.instance.setError(e,"{{ELEMENT_NOT_FOUND}}")}setIframeContent(e){const{src:t,el:n}=e;if(!t||"string"!=typeof t||!n)return;n.classList.add("is-loading");const i=this.instance,r=document.createElement("iframe");r.className="fancybox__iframe",r.setAttribute("id",`fancybox__iframe_${i.id}_${e.index}`);for(const[t,n]of Object.entries(this.optionFor(e,"iframeAttr")||{}))r.setAttribute(t,n);r.onerror=()=>{i.setError(e,"{{IFRAME_ERROR}}")},e.iframeEl=r;const s=this.optionFor(e,"preload");if("iframe"!==e.type||!1===s)return r.setAttribute("src",e.src+""),i.setContent(e,r,!1),this.resizeIframe(e),void i.revealContent(e);i.showLoading(e),r.onload=()=>{if(!r.src.length)return;const t="true"!==r.dataset.ready;r.dataset.ready="true",this.resizeIframe(e),t?i.revealContent(e):i.hideLoading(e)},r.setAttribute("src",t),i.setContent(e,r,!1)}resizeIframe(e){const{type:t,iframeEl:n}=e;if(t===_e||t===Se)return;const i=null==n?void 0:n.parentElement;if(!n||!i)return;let r=e.autoSize;void 0===r&&(r=this.optionFor(e,"autoSize"));let s=e.width||0,o=e.height||0;s&&o&&(r=!1);const a=i&&i.style;if(!1!==e.preload&&!1!==r&&a)try{const e=window.getComputedStyle(i),t=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),r=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),l=n.contentWindow;if(l){const e=l.document,n=e.getElementsByTagName(ye)[0],i=e.body;a.width="",i.style.overflow="hidden",s=s||n.scrollWidth+t,a.width=`${s}px`,i.style.overflow="",a.flex="0 0 auto",a.height=`${i.scrollHeight}px`,o=n.scrollHeight+r}}catch(e){}if(s||o){const e={flex:"0 1 auto",width:"",height:""};s&&"auto"!==s&&(e.width=`${s}px`),o&&"auto"!==o&&(e.height=`${o}px`),Object.assign(a,e)}}playVideo(){const e=this.instance.getSlide();if(!e)return;const{el:t}=e;if(!t||!t.offsetParent)return;if(!this.optionFor(e,"videoAutoplay"))return;if(e.type===Ce)try{const e=t.querySelector("video");if(e){const t=e.play();void 0!==t&&t.then((()=>{})).catch((t=>{e.muted=!0,e.play()}))}}catch(e){}if(e.type!==_e&&e.type!==Se)return;const n=()=>{if(e.iframeEl&&e.iframeEl.contentWindow){let t;if("true"===e.iframeEl.dataset.ready)return t=e.type===_e?{event:"command",func:"playVideo"}:{method:"play",value:"true"},t&&e.iframeEl.contentWindow.postMessage(JSON.stringify(t),"*"),void(e.poller=void 0);e.type===_e&&(t={event:"listening",id:e.iframeEl.getAttribute("id")},e.iframeEl.contentWindow.postMessage(JSON.stringify(t),"*"))}e.poller=setTimeout(n,250)};n()}processType(e){if(e.html)return e.type=ye,e.src=e.html,void(e.html="");const t=this.instance.optionFor(e,"src","");if(!t||"string"!=typeof t)return;let n=e.type,i=null;if(i=t.match(/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|shorts\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i)){const r=this.optionFor(e,_e),{nocookie:s}=r,o=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(r,["nocookie"]),a=`www.youtube${s?"-nocookie":""}.com`,l=Ee(t,o),c=encodeURIComponent(i[2]);e.videoId=c,e.src=`https://${a}/embed/${c}?${l}`,e.thumbSrc=e.thumbSrc||`https://i.ytimg.com/vi/${c}/mqdefault.jpg`,n=_e}else if(i=t.match(/^.+vimeo.com\/(?:\/)?([\d]+)((\/|\?h=)([a-z0-9]+))?(.*)?/)){const r=Ee(t,this.optionFor(e,Se)),s=encodeURIComponent(i[1]),o=i[4]||"";e.videoId=s,e.src=`https://player.vimeo.com/video/${s}?${o?`h=${o}${r?"&":""}`:""}${r}`,n=Se}if(!n&&e.triggerEl){const t=e.triggerEl.dataset.type;je.includes(t)&&(n=t)}n||"string"==typeof t&&("#"===t.charAt(0)?n="inline":(i=t.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(n=Ce,e.videoFormat=e.videoFormat||"video/"+("ogv"===i[1]?"ogg":i[1])):t.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?n=we:t.match(/\.(pdf)((\?|#).*)?$/i)&&(n="pdf")),(i=t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i))?(e.src=`https://maps.google.${i[1]}/?ll=${(i[2]?i[2]+"&z="+Math.floor(parseFloat(i[3]))+(i[4]?i[4].replace(/^\//,"&"):""):i[4]+"").replace(/\?/,"&")}&output=${i[4]&&i[4].indexOf("layer=c")>0?"svembed":"embed"}`,n=xe):(i=t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i))&&(e.src=`https://maps.google.${i[1]}/maps?q=${i[2].replace("query=","q=").replace("api=1","")}&output=embed`,n=xe),n=n||this.instance.option("defaultType"),e.type=n,n===we&&(e.thumbSrc=e.thumbSrc||e.src)}setContent(e){const t=this.instance.optionFor(e,"src")||"";if(e&&e.type&&t){switch(e.type){case ye:this.instance.setContent(e,t);break;case Ce:const n=this.option("videoTpl");n&&this.instance.setContent(e,n.replace(/\{\{src\}\}/gi,t+"").replace(/\{\{format\}\}/gi,this.optionFor(e,"videoFormat")||"").replace(/\{\{poster\}\}/gi,e.poster||e.thumbSrc||""));break;case"inline":case"clone":this.setInlineContent(e);break;case"ajax":this.loadAjaxContent(e);break;case"pdf":case xe:case _e:case Se:e.preload=!1;case"iframe":this.setIframeContent(e)}this.setAspectRatio(e)}}setAspectRatio(e){const t=e.contentEl;if(!(e.el&&t&&e.type&&[_e,Se,Ce].includes(e.type)))return;let n,i=e.width||"auto",r=e.height||"auto";if("auto"===i||"auto"===r){n=this.optionFor(e,"videoRatio");const t=(n+"").match(/(\d+)\s*\/\s?(\d+)/);n=t&&t.length>2?parseFloat(t[1])/parseFloat(t[2]):parseFloat(n+"")}else i&&r&&(n=i/r);if(!n)return;t.style.aspectRatio="",t.style.width="",t.style.height="",t.offsetHeight;const s=t.getBoundingClientRect(),o=s.width||1,a=s.height||1;t.style.aspectRatio=n+"",n<o/a?(r="auto"===r?a:Math.min(a,r),t.style.width="auto",t.style.height=`${r}px`):(i="auto"===i?o:Math.min(o,i),t.style.width=`${i}px`,t.style.height="auto")}attach(){const e=this,t=e.instance;t.on("Carousel.beforeInitSlide",e.onBeforeInitSlide),t.on("Carousel.createSlide",e.onCreateSlide),t.on("Carousel.selectSlide",e.onSelectSlide),t.on("Carousel.unselectSlide",e.onUnselectSlide),t.on("Carousel.Panzoom.refresh",e.onRefresh),t.on("done",e.onDone),t.on("clearContent",e.onClearContent),window.addEventListener("message",e.onMessage)}detach(){const e=this,t=e.instance;t.off("Carousel.beforeInitSlide",e.onBeforeInitSlide),t.off("Carousel.createSlide",e.onCreateSlide),t.off("Carousel.selectSlide",e.onSelectSlide),t.off("Carousel.unselectSlide",e.onUnselectSlide),t.off("Carousel.Panzoom.refresh",e.onRefresh),t.off("done",e.onDone),t.off("clearContent",e.onClearContent),window.removeEventListener("message",e.onMessage)}}Object.defineProperty(Ie,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{ajax:null,autoSize:!0,iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto"},preload:!0,videoAutoplay:!0,videoRatio:16/9,videoTpl:'<video class="fancybox__html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">\n  <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos.</video>',videoFormat:"",vimeo:{byline:1,color:"00adef",controls:1,dnt:1,muted:0},youtube:{controls:1,enablejsapi:1,nocookie:1,rel:0,fs:1}}});const Oe="play",ke="pause",Pe="ready";class Ae extends R{constructor(){super(...arguments),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:Pe}),Object.defineProperty(this,"inHover",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"progressBar",{enumerable:!0,configurable:!0,writable:!0,value:null})}get isActive(){return this.state!==Pe}onReady(e){this.option("autoStart")&&(e.isInfinite||e.page<e.pages.length-1)&&this.start()}onChange(){this.removeProgressBar(),this.pause()}onSettle(){this.resume()}onVisibilityChange(){"visible"===document.visibilityState?this.resume():this.pause()}onMouseEnter(){this.inHover=!0,this.pause()}onMouseLeave(){var e;this.inHover=!1,(null===(e=this.instance.panzoom)||void 0===e?void 0:e.isResting)&&this.resume()}onTimerEnd(){const e=this.instance;"play"===this.state&&(e.isInfinite||e.page!==e.pages.length-1?e.slideNext():e.slideTo(0))}removeProgressBar(){this.progressBar&&(this.progressBar.remove(),this.progressBar=null)}createProgressBar(){var e;if(!this.option("showProgress"))return null;this.removeProgressBar();const t=this.instance,n=(null===(e=t.pages[t.page])||void 0===e?void 0:e.slides)||[];let i=this.option("progressParentEl");if(i||(i=(1===n.length?n[0].el:null)||t.viewport),!i)return null;const r=document.createElement("div");return E(r,"f-progress"),i.prepend(r),this.progressBar=r,r.offsetHeight,r}set(){const e=this,t=e.instance;if(t.pages.length<2)return;if(e.timer)return;const n=e.option("timeout");e.state=Oe,E(t.container,"has-autoplay");let i=e.createProgressBar();i&&(i.style.transitionDuration=`${n}ms`,i.style.transform="scaleX(1)"),e.timer=setTimeout((()=>{e.timer=null,e.inHover||e.onTimerEnd()}),n),e.emit("set")}clear(){const e=this;e.timer&&(clearTimeout(e.timer),e.timer=null),e.removeProgressBar()}start(){const e=this;if(e.set(),e.state!==Pe){if(e.option("pauseOnHover")){const t=e.instance.container;t.addEventListener("mouseenter",e.onMouseEnter,!1),t.addEventListener("mouseleave",e.onMouseLeave,!1)}document.addEventListener("visibilitychange",e.onVisibilityChange,!1),e.emit("start")}}stop(){const e=this,t=e.state,n=e.instance.container;e.clear(),e.state=Pe,n.removeEventListener("mouseenter",e.onMouseEnter,!1),n.removeEventListener("mouseleave",e.onMouseLeave,!1),document.removeEventListener("visibilitychange",e.onVisibilityChange,!1),C(n,"has-autoplay"),t!==Pe&&e.emit("stop")}pause(){const e=this;e.state===Oe&&(e.state=ke,e.clear(),e.emit(ke))}resume(){const e=this,t=e.instance;if(t.isInfinite||t.page!==t.pages.length-1)if(e.state!==Oe){if(e.state===ke&&!e.inHover){const t=new Event("resume",{bubbles:!0,cancelable:!0});e.emit("resume",t),t.defaultPrevented||e.set()}}else e.set();else e.stop()}toggle(){this.state===Oe||this.state===ke?this.stop():this.start()}attach(){const e=this,t=e.instance;t.on("ready",e.onReady),t.on("Panzoom.startAnimation",e.onChange),t.on("Panzoom.endAnimation",e.onSettle),t.on("Panzoom.touchMove",e.onChange)}detach(){const e=this,t=e.instance;t.off("ready",e.onReady),t.off("Panzoom.startAnimation",e.onChange),t.off("Panzoom.endAnimation",e.onSettle),t.off("Panzoom.touchMove",e.onChange),e.stop()}}Object.defineProperty(Ae,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{autoStart:!0,pauseOnHover:!0,progressParentEl:null,showProgress:!0,timeout:3e3}});class Me extends R{constructor(){super(...arguments),Object.defineProperty(this,"ref",{enumerable:!0,configurable:!0,writable:!0,value:null})}onPrepare(e){const t=e.carousel;if(!t)return;const n=e.container;n&&(t.options.Autoplay=h({autoStart:!1},this.option("Autoplay")||{},{pauseOnHover:!1,timeout:this.option("timeout"),progressParentEl:()=>this.option("progressParentEl")||null,on:{start:()=>{e.emit("startSlideshow")},set:t=>{var i;n.classList.add("has-slideshow"),(null===(i=e.getSlide())||void 0===i?void 0:i.state)!==oe.Ready&&t.pause()},stop:()=>{n.classList.remove("has-slideshow"),e.isCompact||e.endIdle(),e.emit("endSlideshow")},resume:(t,n)=>{var i,r,s;!n||!n.cancelable||(null===(i=e.getSlide())||void 0===i?void 0:i.state)===oe.Ready&&(null===(s=null===(r=e.carousel)||void 0===r?void 0:r.panzoom)||void 0===s?void 0:s.isResting)||n.preventDefault()}}}),t.attachPlugins({Autoplay:Ae}),this.ref=t.plugins.Autoplay)}onReady(e){const t=e.carousel,n=this.ref;n&&t&&this.option("playOnStart")&&(t.isInfinite||t.page<t.pages.length-1)&&n.start()}onDone(e,t){const n=this.ref,i=e.carousel;if(!n||!i)return;const r=t.panzoom;r&&r.on("startAnimation",(()=>{e.isCurrentSlide(t)&&n.stop()})),e.isCurrentSlide(t)&&n.resume()}onKeydown(e,t){var n;const i=this.ref;i&&t===this.option("key")&&"BUTTON"!==(null===(n=document.activeElement)||void 0===n?void 0:n.nodeName)&&i.toggle()}attach(){const e=this,t=e.instance;t.on("Carousel.init",e.onPrepare),t.on("Carousel.ready",e.onReady),t.on("done",e.onDone),t.on("keydown",e.onKeydown)}detach(){const e=this,t=e.instance;t.off("Carousel.init",e.onPrepare),t.off("Carousel.ready",e.onReady),t.off("done",e.onDone),t.off("keydown",e.onKeydown)}}Object.defineProperty(Me,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{key:" ",playOnStart:!1,progressParentEl:e=>{var t;return(null===(t=e.instance.container)||void 0===t?void 0:t.querySelector(".fancybox__toolbar [data-fancybox-toggle-slideshow]"))||e.instance.container},timeout:3e3}});const Te={classes:{container:"f-thumbs f-carousel__thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide",isResting:"is-resting",isSelected:"is-selected",isLoading:"is-loading",hasThumbs:"has-thumbs"},minCount:2,parentEl:null,thumbTpl:'<button class="f-thumbs__slide__button" tabindex="0" type="button" aria-label="{{GOTO}}" data-carousel-index="%i"><img class="f-thumbs__slide__img" data-lazy-src="{{%s}}" alt="" /></button>',type:"modern"};var Le;!function(e){e[e.Init=0]="Init",e[e.Ready=1]="Ready",e[e.Hidden=2]="Hidden"}(Le||(Le={}));const Fe="isResting",Ve="thumbWidth",De="thumbHeight",Ne="thumbClipWidth";let Be=class extends R{constructor(){super(...arguments),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:"modern"}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"thumbWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbClipWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbExtraGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:Le.Init})}get isModern(){return"modern"===this.type}onInitSlide(e,t){const n=t.el?t.el.dataset:void 0;n&&(t.thumbSrc=n.thumbSrc||t.thumbSrc||"",t[Ne]=parseFloat(n[Ne]||"")||t[Ne]||0,t[De]=parseFloat(n.thumbHeight||"")||t[De]||0),this.addSlide(t)}onInitSlides(){this.build()}onChange(){var e;if(!this.isModern)return;const t=this.container,n=this.instance,i=n.panzoom,r=this.carousel,s=r?r.panzoom:null,a=n.page;if(i&&r&&s){if(i.isDragging){C(t,this.cn(Fe));let i=(null===(e=r.pages[a])||void 0===e?void 0:e.pos)||0;i+=n.getProgress(a)*(this[Ne]+this.thumbGap);let o=s.getBounds();-1*i>o.x.min&&-1*i<o.x.max&&s.panTo({x:-1*i,friction:.12})}else o(t,this.cn(Fe),i.isResting);this.shiftModern()}}onRefresh(){this.updateProps();for(const e of this.instance.slides||[])this.resizeModernSlide(e);this.shiftModern()}isDisabled(){const e=this.option("minCount")||0;if(e){const t=this.instance;let n=0;for(const e of t.slides||[])e.thumbSrc&&n++;if(n<e)return!0}const t=this.option("type");return["modern","classic"].indexOf(t)<0}getThumb(e){const t=this.option("thumbTpl")||"";return{html:this.instance.localize(t,[["%i",e.index],["%d",e.index+1],["%s",e.thumbSrc||"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"]])}}addSlide(e){const t=this.carousel;t&&t.addSlide(e.index,this.getThumb(e))}getSlides(){const e=[];for(const t of this.instance.slides||[])e.push(this.getThumb(t));return e}resizeModernSlide(e){this.isModern&&(e[Ve]=e[Ne]&&e[De]?Math.round(this[De]*(e[Ne]/e[De])):this[Ve])}updateProps(){const e=this.container;if(!e)return;const t=t=>parseFloat(getComputedStyle(e).getPropertyValue("--f-thumb-"+t))||0;this.thumbGap=t("gap"),this.thumbExtraGap=t("extra-gap"),this[Ve]=t("width")||40,this[Ne]=t("clip-width")||40,this[De]=t("height")||40}build(){const e=this;if(e.state!==Le.Init)return;if(e.isDisabled())return void e.emit("disabled");const t=e.instance,n=t.container,i=e.getSlides(),r=e.option("type");e.type=r;const s=e.option("parentEl"),o=e.cn("container"),a=e.cn("track");let l=null==s?void 0:s.querySelector("."+o);l||(l=document.createElement("div"),E(l,o),s?s.appendChild(l):n.after(l)),E(l,`is-${r}`),E(n,e.cn("hasThumbs")),e.container=l,e.updateProps();let c=l.querySelector("."+a);c||(c=document.createElement("div"),E(c,e.cn("track")),l.appendChild(c)),e.track=c;const u=h({},{track:c,infinite:!1,center:!0,fill:"classic"===r,dragFree:!0,slidesPerPage:1,transition:!1,preload:.25,friction:.12,Panzoom:{maxVelocity:0},Dots:!1,Navigation:!1,classes:{container:"f-thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide"}},e.option("Carousel")||{},{Sync:{target:t},slides:i}),d=new t.constructor(l,u);d.on("createSlide",((t,n)=>{e.setProps(n.index),e.emit("createSlide",n,n.el)})),d.on("ready",(()=>{e.shiftModern(),e.emit("ready")})),d.on("refresh",(()=>{e.shiftModern()})),d.on("Panzoom.click",((t,n,i)=>{e.onClick(i)})),e.carousel=d,e.state=Le.Ready}onClick(e){e.preventDefault(),e.stopPropagation();const t=this.instance,{pages:n,page:i}=t,r=e=>{if(e){const t=e.closest("[data-carousel-index]");if(t)return[parseInt(t.dataset.carouselIndex||"",10)||0,t]}return[-1,void 0]},s=(e,t)=>{const n=document.elementFromPoint(e,t);return n?r(n):[-1,void 0]};let[o,a]=r(e.target);if(o>-1)return;const l=this[Ne],c=e.clientX,u=e.clientY;let[d,f]=s(c-l,u),[h,m]=s(c+l,u);f&&m?(o=Math.abs(c-f.getBoundingClientRect().right)<Math.abs(c-m.getBoundingClientRect().left)?d:h,o===i&&(o=o===d?h:d)):f?o=d:m&&(o=h),o>-1&&n[o]&&t.slideTo(o)}getShift(e){var t;const n=this,{instance:i}=n,r=n.carousel;if(!i||!r)return 0;const s=n[Ve],o=n[Ne],a=n.thumbGap,l=n.thumbExtraGap;if(!(null===(t=r.slides[e])||void 0===t?void 0:t.el))return 0;const c=.5*(s-o),u=i.pages.length-1;let d=i.getProgress(0),f=i.getProgress(u),h=i.getProgress(e,!1,!0),m=0,p=c+l+a;const g=d<0&&d>-1,v=f>0&&f<1;return 0===e?(m=p*Math.abs(d),v&&1===d&&(m-=p*Math.abs(f))):e===u?(m=p*Math.abs(f)*-1,g&&-1===f&&(m+=p*Math.abs(d))):g||v?(m=-1*p,m+=p*Math.abs(d),m+=p*(1-Math.abs(f))):m=p*h,m}setProps(e){var n;const i=this;if(!i.isModern)return;const{instance:r}=i,s=i.carousel;if(r&&s){const o=null===(n=s.slides[e])||void 0===n?void 0:n.el;if(o&&o.childNodes.length){let n=t(1-Math.abs(r.getProgress(e))),s=t(i.getShift(e));o.style.setProperty("--progress",n?n+"":""),o.style.setProperty("--shift",s+"")}}}shiftModern(){const e=this;if(!e.isModern)return;const{instance:t,track:n}=e,i=t.panzoom,r=e.carousel;if(!(t&&n&&i&&r))return;if(i.state===v.Init||i.state===v.Destroy)return;for(const n of t.slides)e.setProps(n.index);let s=(e[Ne]+e.thumbGap)*(r.slides.length||0);n.style.setProperty("--width",s+"")}cleanup(){const e=this;e.carousel&&e.carousel.destroy(),e.carousel=null,e.container&&e.container.remove(),e.container=null,e.track&&e.track.remove(),e.track=null,e.state=Le.Init,C(e.instance.container,e.cn("hasThumbs"))}attach(){const e=this,t=e.instance;t.on("initSlide",e.onInitSlide),t.state===D.Init?t.on("initSlides",e.onInitSlides):e.onInitSlides(),t.on(["change","Panzoom.afterTransform"],e.onChange),t.on("Panzoom.refresh",e.onRefresh)}detach(){const e=this,t=e.instance;t.off("initSlide",e.onInitSlide),t.off("initSlides",e.onInitSlides),t.off(["change","Panzoom.afterTransform"],e.onChange),t.off("Panzoom.refresh",e.onRefresh),e.cleanup()}};Object.defineProperty(Be,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Te});const Re=Object.assign(Object.assign({},Te),{key:"t",showOnStart:!0,parentEl:null}),ze="is-masked",He="aria-hidden";class $e extends R{constructor(){super(...arguments),Object.defineProperty(this,"ref",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hidden",{enumerable:!0,configurable:!0,writable:!0,value:!1})}get isEnabled(){const e=this.ref;return e&&!e.isDisabled()}get isHidden(){return this.hidden}onClick(e,t){t.stopPropagation()}onCreateSlide(e,t){var n,i,r;const s=(null===(r=null===(i=null===(n=this.instance)||void 0===n?void 0:n.carousel)||void 0===i?void 0:i.slides[t.index])||void 0===r?void 0:r.type)||"",o=t.el;if(o&&s){let e=`for-${s}`;["video","youtube","vimeo","html5video"].includes(s)&&(e+=" for-video"),E(o,e)}}onInit(){var e;const t=this,n=t.instance,i=n.carousel;if(t.ref||!i)return;const r=t.option("parentEl")||n.footer||n.container;if(!r)return;const s=h({},t.options,{parentEl:r,classes:{container:"f-thumbs fancybox__thumbs"},Carousel:{Sync:{friction:n.option("Carousel.friction")||0}},on:{ready:e=>{const n=e.container;n&&this.hidden&&(t.refresh(),n.style.transition="none",t.hide(),n.offsetHeight,queueMicrotask((()=>{n.style.transition="",t.show()})))}}});s.Carousel=s.Carousel||{},s.Carousel.on=h((null===(e=t.options.Carousel)||void 0===e?void 0:e.on)||{},{click:this.onClick,createSlide:this.onCreateSlide}),i.options.Thumbs=s,i.attachPlugins({Thumbs:Be}),t.ref=i.plugins.Thumbs,t.option("showOnStart")||(t.ref.state=Le.Hidden,t.hidden=!0)}onResize(){var e;const t=null===(e=this.ref)||void 0===e?void 0:e.container;t&&(t.style.maxHeight="")}onKeydown(e,t){const n=this.option("key");n&&n===t&&this.toggle()}toggle(){const e=this.ref;if(e&&!e.isDisabled())return e.state===Le.Hidden?(e.state=Le.Init,void e.build()):void(this.hidden?this.show():this.hide())}show(){const e=this.ref;if(!e||e.isDisabled())return;const t=e.container;t&&(this.refresh(),t.offsetHeight,t.removeAttribute(He),t.classList.remove(ze),this.hidden=!1)}hide(){const e=this.ref,t=e&&e.container;t&&(this.refresh(),t.offsetHeight,t.classList.add(ze),t.setAttribute(He,"true")),this.hidden=!0}refresh(){const e=this.ref;if(!e||!e.state)return;const t=e.container,n=(null==t?void 0:t.firstChild)||null;t&&n&&n.childNodes.length&&(t.style.maxHeight=`${n.getBoundingClientRect().height}px`)}attach(){const e=this,t=e.instance;t.state===se.Init?t.on("Carousel.init",e.onInit):e.onInit(),t.on("resize",e.onResize),t.on("keydown",e.onKeydown)}detach(){var e;const t=this,n=t.instance;n.off("Carousel.init",t.onInit),n.off("resize",t.onResize),n.off("keydown",t.onKeydown),null===(e=n.carousel)||void 0===e||e.detachPlugins(["Thumbs"]),t.ref=null}}Object.defineProperty($e,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Re});const Ue={panLeft:{icon:'<svg><path d="M5 12h14M5 12l6 6M5 12l6-6"/></svg>',change:{panX:-100}},panRight:{icon:'<svg><path d="M5 12h14M13 18l6-6M13 6l6 6"/></svg>',change:{panX:100}},panUp:{icon:'<svg><path d="M12 5v14M18 11l-6-6M6 11l6-6"/></svg>',change:{panY:-100}},panDown:{icon:'<svg><path d="M12 5v14M18 13l-6 6M6 13l6 6"/></svg>',change:{panY:100}},zoomIn:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M11 8v6M8 11h6"/></svg>',action:"zoomIn"},zoomOut:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"zoomOut"},toggle1to1:{icon:'<svg><path d="M3.51 3.07c5.74.02 11.48-.02 17.22.02 1.37.1 2.34 1.64 2.18 3.13 0 4.08.02 8.16 0 12.23-.1 1.54-1.47 2.64-2.79 2.46-5.61-.01-11.24.02-16.86-.01-1.36-.12-2.33-1.65-2.17-3.14 0-4.07-.02-8.16 0-12.23.1-1.36 1.22-2.48 2.42-2.46Z"/><path d="M5.65 8.54h1.49v6.92m8.94-6.92h1.49v6.92M11.5 9.4v.02m0 5.18v0"/></svg>',action:"toggleZoom"},toggleZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"toggleZoom"},iterateZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"iterateZoom"},rotateCCW:{icon:'<svg><path d="M15 4.55a8 8 0 0 0-6 14.9M9 15v5H4M18.37 7.16v.01M13 19.94v.01M16.84 18.37v.01M19.37 15.1v.01M19.94 11v.01"/></svg>',action:"rotateCCW"},rotateCW:{icon:'<svg><path d="M9 4.55a8 8 0 0 1 6 14.9M15 15v5h5M5.63 7.16v.01M4.06 11v.01M4.63 15.1v.01M7.16 18.37v.01M11 19.94v.01"/></svg>',action:"rotateCW"},flipX:{icon:'<svg style="stroke-width: 1.3"><path d="M12 3v18M16 7v10h5L16 7M8 7v10H3L8 7"/></svg>',action:"flipX"},flipY:{icon:'<svg style="stroke-width: 1.3"><path d="M3 12h18M7 16h10L7 21v-5M7 8h10L7 3v5"/></svg>',action:"flipY"},fitX:{icon:'<svg><path d="M4 12V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v6M10 18H3M21 18h-7M6 15l-3 3 3 3M18 15l3 3-3 3"/></svg>',action:"fitX"},fitY:{icon:'<svg><path d="M12 20H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h6M18 14v7M18 3v7M15 18l3 3 3-3M15 6l3-3 3 3"/></svg>',action:"fitY"},reset:{icon:'<svg><path d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"/></svg>',action:"reset"},toggleFS:{icon:'<svg><g><path d="M14.5 9.5 21 3m0 0h-6m6 0v6M3 21l6.5-6.5M3 21v-6m0 6h6"/></g><g><path d="m14 10 7-7m-7 7h6m-6 0V4M3 21l7-7m0 0v6m0-6H4"/></g></svg>',action:"toggleFS"}};var We;!function(e){e[e.Init=0]="Init",e[e.Ready=1]="Ready",e[e.Disabled=2]="Disabled"}(We||(We={}));const qe={tabindex:"-1",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Ye="has-toolbar",Xe="fancybox__toolbar";class Ge extends R{constructor(){super(...arguments),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:We.Init}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null})}onReady(e){var t;if(!e.carousel)return;let n=this.option("display"),i=this.option("absolute"),r=this.option("enabled");if("auto"===r){const e=this.instance.carousel;let t=0;if(e)for(const n of e.slides)(n.panzoom||"image"===n.type)&&t++;t||(r=!1)}r||(n=void 0);let s=0;const o={left:[],middle:[],right:[]};if(n)for(const e of["left","middle","right"])for(const i of n[e]){const n=this.createEl(i);n&&(null===(t=o[e])||void 0===t||t.push(n),s++)}let a=null;if(s&&(a=this.createContainer()),a){for(const[e,t]of Object.entries(o)){const n=document.createElement("div");E(n,Xe+"__column is-"+e);for(const e of t)n.appendChild(e);"auto"!==i||"middle"!==e||t.length||(i=!0),a.appendChild(n)}!0===i&&E(a,"is-absolute"),this.state=We.Ready,this.onRefresh()}else this.state=We.Disabled}onClick(e){var t,n;const i=this.instance,r=i.getSlide(),s=null==r?void 0:r.panzoom,o=e.target,a=o&&S(o)?o.dataset:null;if(!a)return;if(void 0!==a.fancyboxToggleThumbs)return e.preventDefault(),e.stopPropagation(),void(null===(t=i.plugins.Thumbs)||void 0===t||t.toggle());if(void 0!==a.fancyboxToggleFullscreen)return e.preventDefault(),e.stopPropagation(),void this.instance.toggleFullscreen();if(void 0!==a.fancyboxToggleSlideshow){e.preventDefault(),e.stopPropagation();const t=null===(n=i.carousel)||void 0===n?void 0:n.plugins.Autoplay;let r=t.isActive;return s&&"mousemove"===s.panMode&&!r&&s.reset(),void(r?t.stop():t.start())}const l=a.panzoomAction,c=a.panzoomChange;if((c||l)&&(e.preventDefault(),e.stopPropagation()),c){let t={};try{t=JSON.parse(c)}catch(e){}s&&s.applyChange(t)}else l&&s&&s[l]&&s[l]()}onChange(){this.onRefresh()}onRefresh(){if(this.instance.isClosing())return;const e=this.container;if(!e)return;const t=this.instance.getSlide();if(!t||t.state!==oe.Ready)return;const n=t&&!t.error&&t.panzoom;for(const t of e.querySelectorAll("[data-panzoom-action]"))n?(t.removeAttribute("disabled"),t.removeAttribute("tabindex")):(t.setAttribute("disabled",""),t.setAttribute("tabindex","-1"));let i=n&&n.canZoomIn(),r=n&&n.canZoomOut();for(const t of e.querySelectorAll('[data-panzoom-action="zoomIn"]'))i?(t.removeAttribute("disabled"),t.removeAttribute("tabindex")):(t.setAttribute("disabled",""),t.setAttribute("tabindex","-1"));for(const t of e.querySelectorAll('[data-panzoom-action="zoomOut"]'))r?(t.removeAttribute("disabled"),t.removeAttribute("tabindex")):(t.setAttribute("disabled",""),t.setAttribute("tabindex","-1"));for(const t of e.querySelectorAll('[data-panzoom-action="toggleZoom"],[data-panzoom-action="iterateZoom"]')){r||i?(t.removeAttribute("disabled"),t.removeAttribute("tabindex")):(t.setAttribute("disabled",""),t.setAttribute("tabindex","-1"));const e=t.querySelector("g");e&&(e.style.display=i?"":"none")}}onDone(e,t){var n;null===(n=t.panzoom)||void 0===n||n.on("afterTransform",(()=>{this.instance.isCurrentSlide(t)&&this.onRefresh()})),this.instance.isCurrentSlide(t)&&this.onRefresh()}createContainer(){const e=this.instance.container;if(!e)return null;const t=this.option("parentEl")||e;let n=t.querySelector("."+Xe);return n||(n=document.createElement("div"),E(n,Xe),t.prepend(n)),n.addEventListener("click",this.onClick,{passive:!1,capture:!0}),e&&E(e,Ye),this.container=n,n}createEl(e){const t=this.instance,n=t.carousel;if(!n)return null;if("toggleFS"===e)return null;if("fullscreen"===e&&!ie())return null;let i=null;const s=n.slides.length||0;let o=0,a=0;for(const e of n.slides)(e.panzoom||"image"===e.type)&&o++,("image"===e.type||e.downloadSrc)&&a++;if(s<2&&["infobar","prev","next"].includes(e))return i;if(void 0!==Ue[e]&&!o)return null;if("download"===e&&!a)return null;if("thumbs"===e){const e=t.plugins.Thumbs;if(!e||!e.isEnabled)return null}if("slideshow"===e&&(!n.plugins.Autoplay||s<2))return null;if(void 0!==Ue[e]){const t=Ue[e];i=document.createElement("button"),i.setAttribute("title",this.instance.localize(`{{${e.toUpperCase()}}}`)),E(i,"f-button"),t.action&&(i.dataset.panzoomAction=t.action),t.change&&(i.dataset.panzoomChange=JSON.stringify(t.change)),i.appendChild(r(this.instance.localize(t.icon)))}else{const t=(this.option("items")||[])[e];t&&(i=r(this.instance.localize(t.tpl)),"function"==typeof t.click&&i.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),"function"==typeof t.click&&t.click.call(this,this,e)})))}const l=null==i?void 0:i.querySelector("svg");if(l)for(const[e,t]of Object.entries(qe))l.getAttribute(e)||l.setAttribute(e,String(t));return i}removeContainer(){const e=this.container;e&&e.remove(),this.container=null,this.state=We.Disabled;const t=this.instance.container;t&&C(t,Ye)}attach(){const e=this,t=e.instance;t.on("Carousel.initSlides",e.onReady),t.on("done",e.onDone),t.on(["reveal","Carousel.change"],e.onChange),e.onReady(e.instance)}detach(){const e=this,t=e.instance;t.off("Carousel.initSlides",e.onReady),t.off("done",e.onDone),t.off(["reveal","Carousel.change"],e.onChange),e.removeContainer()}}Object.defineProperty(Ge,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{absolute:"auto",display:{left:["infobar"],middle:[],right:["iterateZoom","slideshow","fullscreen","thumbs","close"]},enabled:"auto",items:{infobar:{tpl:'<div class="fancybox__infobar" tabindex="-1"><span data-fancybox-current-index></span>/<span data-fancybox-count></span></div>'},download:{tpl:'<a class="f-button" title="{{DOWNLOAD}}" data-fancybox-download href="javasript:;"><svg><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 11l5 5 5-5M12 4v12"/></svg></a>'},prev:{tpl:'<button class="f-button" title="{{PREV}}" data-fancybox-prev><svg><path d="m15 6-6 6 6 6"/></svg></button>'},next:{tpl:'<button class="f-button" title="{{NEXT}}" data-fancybox-next><svg><path d="m9 6 6 6-6 6"/></svg></button>'},slideshow:{tpl:'<button class="f-button" title="{{TOGGLE_SLIDESHOW}}" data-fancybox-toggle-slideshow><svg><g><path d="M8 4v16l13 -8z"></path></g><g><path d="M8 4v15M17 4v15"/></g></svg></button>'},fullscreen:{tpl:'<button class="f-button" title="{{TOGGLE_FULLSCREEN}}" data-fancybox-toggle-fullscreen><svg><g><path d="M4 8V6a2 2 0 0 1 2-2h2M4 16v2a2 2 0 0 0 2 2h2M16 4h2a2 2 0 0 1 2 2v2M16 20h2a2 2 0 0 0 2-2v-2"/></g><g><path d="M15 19v-2a2 2 0 0 1 2-2h2M15 5v2a2 2 0 0 0 2 2h2M5 15h2a2 2 0 0 1 2 2v2M5 9h2a2 2 0 0 0 2-2V5"/></g></svg></button>'},thumbs:{tpl:'<button class="f-button" title="{{TOGGLE_THUMBS}}" data-fancybox-toggle-thumbs><svg><circle cx="5.5" cy="5.5" r="1"/><circle cx="12" cy="5.5" r="1"/><circle cx="18.5" cy="5.5" r="1"/><circle cx="5.5" cy="12" r="1"/><circle cx="12" cy="12" r="1"/><circle cx="18.5" cy="12" r="1"/><circle cx="5.5" cy="18.5" r="1"/><circle cx="12" cy="18.5" r="1"/><circle cx="18.5" cy="18.5" r="1"/></svg></button>'},close:{tpl:'<button class="f-button" title="{{CLOSE}}" data-fancybox-close><svg><path d="m19.5 4.5-15 15M4.5 4.5l15 15"/></svg></button>'}},parentEl:null}});const Ke={Hash:class extends R{onReady(){le=!1}onChange(e){ue&&clearTimeout(ue);const{hash:t}=de(),{hash:n}=fe(),i=e.isOpeningSlide(e.getSlide());i&&(ae=n===t?"":n),t&&t!==n&&(ue=setTimeout((()=>{try{if(e.state===se.Ready){let e="replaceState";i&&!ce&&(e="pushState",ce=!0),window.history[e]({},document.title,window.location.pathname+window.location.search+t)}}catch(e){}}),300))}onClose(e){if(ue&&clearTimeout(ue),!le&&ce)return ce=!1,le=!1,void window.history.back();if(!le)try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+(ae||""))}catch(e){}}attach(){const e=this.instance;e.on("ready",this.onReady),e.on(["Carousel.ready","Carousel.change"],this.onChange),e.on("close",this.onClose)}detach(){const e=this.instance;e.off("ready",this.onReady),e.off(["Carousel.ready","Carousel.change"],this.onChange),e.off("close",this.onClose)}static parseURL(){return fe()}static startFromUrl(){he()}static destroy(){window.removeEventListener("hashchange",pe,!1)}},Html:Ie,Images:be,Slideshow:Me,Thumbs:$e,Toolbar:Ge},Ze="with-fancybox",Je="hide-scrollbar",Qe="--fancybox-scrollbar-compensate",et="--fancybox-body-margin",tt="aria-hidden",nt="is-using-tab",it="is-animated",rt="is-compact",st="is-loading",ot="is-opening",at="has-caption",lt="disabled",ct="tabindex",ut="download",dt="href",ft="src",ht=e=>"string"==typeof e,mt=function(){var e=window.getSelection();return!!e&&"Range"===e.type};let pt,gt=null,vt=null,bt=0,yt=0,wt=0,xt=0;const _t=new Map;let St=0;class Ct extends g{get isIdle(){return this.idle}get isCompact(){return this.option("compact")}constructor(e=[],t={},n={}){super(t),Object.defineProperty(this,"userSlides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"idle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"idleTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"ignoreFocusChange",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"startedFs",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:se.Init}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"footer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"lastFocus",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"prevMouseMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),pt||(pt=ie()),this.id=t.id||++St,_t.set(this.id,this),this.userSlides=e,this.userPlugins=n,queueMicrotask((()=>{this.init()}))}init(){if(this.state===se.Destroy)return;this.state=se.Init,this.attachPlugins(Object.assign(Object.assign({},Ct.Plugins),this.userPlugins)),this.emit("init"),this.emit("attachPlugins"),!0===this.option("hideScrollbar")&&(()=>{if(!Q)return;const e=document,t=e.body,n=e.documentElement;if(t.classList.contains(Je))return;let i=window.innerWidth-n.getBoundingClientRect().width;const r=parseFloat(window.getComputedStyle(t).marginRight);i<0&&(i=0),n.style.setProperty(Qe,`${i}px`),r&&t.style.setProperty(et,`${r}px`),t.classList.add(Je)})(),this.initLayout(),this.scale();const e=()=>{this.initCarousel(this.userSlides),this.state=se.Ready,this.attachEvents(),this.emit("ready"),setTimeout((()=>{this.container&&this.container.setAttribute(tt,"false")}),16)};this.option("Fullscreen.autoStart")&&pt&&!pt.isFullscreen()?pt.request().then((()=>{this.startedFs=!0,e()})).catch((()=>e())):e()}initLayout(){var e,t;const n=this.option("parentEl")||document.body,i=r(this.localize(this.option("tpl.main")||""));if(i){if(i.setAttribute("id",`fancybox-${this.id}`),i.setAttribute("aria-label",this.localize("{{MODAL}}")),i.classList.toggle(rt,this.isCompact),E(i,this.option("mainClass")||""),E(i,ot),this.container=i,this.footer=i.querySelector(".fancybox__footer"),n.appendChild(i),E(document.documentElement,Ze),gt&&vt||(gt=document.createElement("span"),E(gt,"fancybox-focus-guard"),gt.setAttribute(ct,"0"),gt.setAttribute(tt,"true"),gt.setAttribute("aria-label","Focus guard"),vt=gt.cloneNode(),null===(e=i.parentElement)||void 0===e||e.insertBefore(gt,i),null===(t=i.parentElement)||void 0===t||t.append(vt)),i.addEventListener("mousedown",(e=>{bt=e.pageX,yt=e.pageY,C(i,nt)})),this.option("closeExisting"))for(const e of _t.values())e.id!==this.id&&e.close();else this.option("animated")&&(E(i,it),setTimeout((()=>{this.isClosing()||C(i,it)}),350));this.emit("initLayout")}}initCarousel(e){const t=this.container;if(!t)return;const i=t.querySelector(".fancybox__carousel");if(!i)return;const r=this.carousel=new Z(i,h({},{slides:e,transition:"fade",Panzoom:{lockAxis:this.option("dragToClose")?"xy":"x",infinite:!!this.option("dragToClose")&&"y"},Dots:!1,Navigation:{classes:{container:"fancybox__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"}},initialPage:this.option("startIndex"),l10n:this.option("l10n")},this.option("Carousel")||{}));r.on("*",((e,t,...n)=>{this.emit(`Carousel.${t}`,e,...n)})),r.on(["ready","change"],(()=>{this.manageCaption()})),this.on("Carousel.removeSlide",((e,t,n)=>{this.clearContent(n),n.state=void 0})),r.on("Panzoom.touchStart",(()=>{var e,t;this.isCompact||this.endIdle(),(null===(e=document.activeElement)||void 0===e?void 0:e.closest(".f-thumbs"))&&(null===(t=this.container)||void 0===t||t.focus())})),r.on("settle",(()=>{this.idleTimer||this.isCompact||!this.option("idle")||this.setIdle(),this.option("autoFocus")&&!this.isClosing&&this.checkFocus()})),this.option("dragToClose")&&(r.on("Panzoom.afterTransform",((e,t)=>{const i=this.getSlide();if(i&&n(i.el))return;const r=this.container;if(r){const e=Math.abs(t.current.f),n=e<1?"":Math.max(.5,Math.min(1,1-e/t.contentRect.fitHeight*1.5));r.style.setProperty("--fancybox-ts",n?"0s":""),r.style.setProperty("--fancybox-opacity",n+"")}})),r.on("Panzoom.touchEnd",((e,t,i)=>{var r;const s=this.getSlide();if(s&&n(s.el))return;if(t.isMobile&&document.activeElement&&-1!==["TEXTAREA","INPUT"].indexOf(null===(r=document.activeElement)||void 0===r?void 0:r.nodeName))return;const o=Math.abs(t.dragOffset.y);"y"===t.lockedAxis&&(o>=200||o>=50&&t.dragOffset.time<300)&&(i&&i.cancelable&&i.preventDefault(),this.close(i,"f-throwOut"+(t.current.f<0?"Up":"Down")))}))),r.on("change",(e=>{var t;let n=null===(t=this.getSlide())||void 0===t?void 0:t.triggerEl;if(n){const t=new CustomEvent("slideTo",{bubbles:!0,cancelable:!0,detail:e.page});n.dispatchEvent(t)}})),r.on(["refresh","change"],(e=>{const t=this.container;if(!t)return;for(const n of t.querySelectorAll("[data-fancybox-current-index]"))n.innerHTML=e.page+1;for(const n of t.querySelectorAll("[data-fancybox-count]"))n.innerHTML=e.pages.length;if(!e.isInfinite){for(const n of t.querySelectorAll("[data-fancybox-next]"))e.page<e.pages.length-1?(n.removeAttribute(lt),n.removeAttribute(ct)):(n.setAttribute(lt,""),n.setAttribute(ct,"-1"));for(const n of t.querySelectorAll("[data-fancybox-prev]"))e.page>0?(n.removeAttribute(lt),n.removeAttribute(ct)):(n.setAttribute(lt,""),n.setAttribute(ct,"-1"))}const n=this.getSlide();if(!n)return;let i=n.downloadSrc||"";i||"image"!==n.type||n.error||!ht(n[ft])||(i=n[ft]);for(const e of t.querySelectorAll("[data-fancybox-download]")){const t=n.downloadFilename;i?(e.removeAttribute(lt),e.removeAttribute(ct),e.setAttribute(dt,i),e.setAttribute(ut,t||i),e.setAttribute("target","_blank")):(e.setAttribute(lt,""),e.setAttribute(ct,"-1"),e.removeAttribute(dt),e.removeAttribute(ut))}})),this.emit("initCarousel")}attachEvents(){const e=this,t=e.container;if(!t)return;t.addEventListener("click",e.onClick,{passive:!1,capture:!1}),t.addEventListener("wheel",e.onWheel,{passive:!1,capture:!1}),document.addEventListener("keydown",e.onKeydown,{passive:!1,capture:!0}),document.addEventListener("visibilitychange",e.onVisibilityChange,!1),document.addEventListener("mousemove",e.onMousemove),e.option("trapFocus")&&document.addEventListener("focus",e.onFocus,!0),window.addEventListener("resize",e.onResize);const n=window.visualViewport;n&&(n.addEventListener("scroll",e.onResize),n.addEventListener("resize",e.onResize))}detachEvents(){const e=this,t=e.container;if(!t)return;document.removeEventListener("keydown",e.onKeydown,{passive:!1,capture:!0}),t.removeEventListener("wheel",e.onWheel,{passive:!1,capture:!1}),t.removeEventListener("click",e.onClick,{passive:!1,capture:!1}),document.removeEventListener("mousemove",e.onMousemove),window.removeEventListener("resize",e.onResize);const n=window.visualViewport;n&&(n.removeEventListener("resize",e.onResize),n.removeEventListener("scroll",e.onResize)),document.removeEventListener("visibilitychange",e.onVisibilityChange,!1),document.removeEventListener("focus",e.onFocus,!0)}scale(){const e=this.container;if(!e)return;const t=window.visualViewport,n=Math.max(1,(null==t?void 0:t.scale)||1);let i="",r="",s="";if(t&&n>1){let e=`${t.offsetLeft}px`,o=`${t.offsetTop}px`;i=t.width*n+"px",r=t.height*n+"px",s=`translate3d(${e}, ${o}, 0) scale(${1/n})`}e.style.transform=s,e.style.width=i,e.style.height=r}onClick(e){var t;const{container:n,isCompact:i}=this;if(!n||this.isClosing())return;!i&&this.option("idle")&&this.resetIdle();const r=e.composedPath()[0];if(r.closest(".fancybox-spinner")||r.closest("[data-fancybox-close]"))return e.preventDefault(),void this.close(e);if(r.closest("[data-fancybox-prev]"))return e.preventDefault(),void this.prev();if(r.closest("[data-fancybox-next]"))return e.preventDefault(),void this.next();if("click"===e.type&&0===e.detail)return;if(Math.abs(e.pageX-bt)>30||Math.abs(e.pageY-yt)>30)return;const s=document.activeElement;if(mt()&&s&&n.contains(s))return;if(i&&"image"===(null===(t=this.getSlide())||void 0===t?void 0:t.type))return void(this.clickTimer?(clearTimeout(this.clickTimer),this.clickTimer=null):this.clickTimer=setTimeout((()=>{this.toggleIdle(),this.clickTimer=null}),350));if(this.emit("click",e),e.defaultPrevented)return;let o=!1;if(r.closest(".fancybox__content")){if(s){if(s.closest("[contenteditable]"))return;r.matches(te)||s.blur()}if(mt())return;o=this.option("contentClick")}else r.closest(".fancybox__carousel")&&!r.matches(te)&&(o=this.option("backdropClick"));"close"===o?(e.preventDefault(),this.close(e)):"next"===o?(e.preventDefault(),this.next()):"prev"===o&&(e.preventDefault(),this.prev())}onWheel(e){const t=e.target;let n=this.option("wheel",e);t.closest(".fancybox__thumbs")&&(n="slide");const r="slide"===n,s=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce((function(e,t){return Math.abs(t)>Math.abs(e)?t:e})),o=Math.max(-1,Math.min(1,s)),a=Date.now();this.pwt&&a-this.pwt<300?r&&e.preventDefault():(this.pwt=a,this.emit("wheel",e,o),e.defaultPrevented||("close"===n?(e.preventDefault(),this.close(e)):"slide"===n&&(i(t)||(e.preventDefault(),this[o>0?"prev":"next"]()))))}onScroll(){window.scrollTo(wt,xt)}onKeydown(e){if(!this.isTopmost())return;this.isCompact||!this.option("idle")||this.isClosing()||this.resetIdle();const t=e.key,n=this.option("keyboard");if(!n)return;const i=e.composedPath()[0],r=document.activeElement&&document.activeElement.classList,s=r&&r.contains("f-button")||i.dataset.carouselPage||i.dataset.carouselIndex;if("Escape"!==t&&!s&&S(i)&&(i.isContentEditable||-1!==["TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].indexOf(i.nodeName)))return;if("Tab"===e.key?E(this.container,nt):C(this.container,nt),e.ctrlKey||e.altKey||e.shiftKey)return;this.emit("keydown",t,e);const o=n[t];o&&"function"==typeof this[o]&&(e.preventDefault(),this[o]())}onResize(){const e=this.container;if(!e)return;const t=this.isCompact;e.classList.toggle(rt,t),this.manageCaption(this.getSlide()),this.isCompact?this.clearIdle():this.endIdle(),this.scale(),this.emit("resize")}onFocus(e){this.isTopmost()&&this.checkFocus(e)}onMousemove(e){this.prevMouseMoveEvent=e,!this.isCompact&&this.option("idle")&&this.resetIdle()}onVisibilityChange(){"visible"===document.visibilityState?this.checkFocus():this.endIdle()}manageCloseBtn(e){const t=this.optionFor(e,"closeButton")||!1;if("auto"===t){const e=this.plugins.Toolbar;if(e&&e.state===We.Ready)return}if(!t)return;if(!e.contentEl||e.closeBtnEl)return;const n=this.option("tpl.closeButton");if(n){const t=r(this.localize(n));e.closeBtnEl=e.contentEl.appendChild(t),e.el&&E(e.el,"has-close-btn")}}manageCaption(e=void 0){var t,n;const i="fancybox__caption",r=this.container;if(!r)return;C(r,at);const s=this.isCompact||this.option("commonCaption"),o=!s;if(this.caption&&this.stop(this.caption),o&&this.caption&&(this.caption.remove(),this.caption=null),s&&!this.caption)for(const e of(null===(t=this.carousel)||void 0===t?void 0:t.slides)||[])e.captionEl&&(e.captionEl.remove(),e.captionEl=void 0,C(e.el,at),null===(n=e.el)||void 0===n||n.removeAttribute("aria-labelledby"));if(e||(e=this.getSlide()),!e||s&&!this.isCurrentSlide(e))return;const a=e.el;let l=this.optionFor(e,"caption","");if(!l)return void(s&&this.caption&&this.animate(this.caption,"f-fadeOut",(()=>{this.caption&&(this.caption.innerHTML="")})));let c=null;if(o){if(c=e.captionEl||null,a&&!c){const t=i+`_${this.id}_${e.index}`;c=document.createElement("div"),E(c,i),c.setAttribute("id",t),e.captionEl=a.appendChild(c),E(a,at),a.setAttribute("aria-labelledby",t)}}else c=this.caption,c||(c=r.querySelector("."+i)),c||(c=document.createElement("div"),c.dataset.fancyboxCaption="",E(c,i),(this.footer||r).prepend(c)),E(r,at),this.caption=c;c&&(c.innerHTML="",ht(l)||"number"==typeof l?c.innerHTML=l+"":l instanceof HTMLElement&&c.appendChild(l))}checkFocus(e){this.focus(e)}focus(e){var t;if(this.ignoreFocusChange)return;const n=document.activeElement||null,i=(null==e?void 0:e.target)||null,r=this.container,s=null===(t=this.carousel)||void 0===t?void 0:t.viewport;if(!r||!s)return;if(!e&&n&&r.contains(n))return;const o=this.getSlide(),a=o&&o.state===oe.Ready?o.el:null;if(!a||a.contains(n)||r===n)return;e&&e.cancelable&&e.preventDefault(),this.ignoreFocusChange=!0;const l=Array.from(r.querySelectorAll(te));let c=[],u=null;for(let e of l){const t=!e.offsetParent||!!e.closest('[aria-hidden="true"]'),n=a&&a.contains(e),i=!s.contains(e);if(e===r||(n||i)&&!t){c.push(e);const t=e.dataset.origTabindex;void 0!==t&&t&&(e.tabIndex=parseFloat(t)),e.removeAttribute("data-orig-tabindex"),!e.hasAttribute("autoFocus")&&u||(u=e)}else{const t=void 0===e.dataset.origTabindex?e.getAttribute("tabindex")||"":e.dataset.origTabindex;t&&(e.dataset.origTabindex=t),e.tabIndex=-1}}let d=null;e?(!i||c.indexOf(i)<0)&&(d=u||r,c.length&&(n===vt?d=c[0]:this.lastFocus!==r&&n!==gt||(d=c[c.length-1]))):d=o&&"image"===o.type?r:u||r,d&&ne(d),this.lastFocus=document.activeElement,this.ignoreFocusChange=!1}next(){const e=this.carousel;e&&e.pages.length>1&&e.slideNext()}prev(){const e=this.carousel;e&&e.pages.length>1&&e.slidePrev()}jumpTo(...e){this.carousel&&this.carousel.slideTo(...e)}isTopmost(){var e;return(null===(e=Ct.getInstance())||void 0===e?void 0:e.id)==this.id}animate(e=null,t="",n){if(!e||!t)return void(n&&n());this.stop(e);const i=r=>{r.target===e&&e.dataset.animationName&&(e.removeEventListener("animationend",i),delete e.dataset.animationName,n&&n(),C(e,t))};e.dataset.animationName=t,e.addEventListener("animationend",i),E(e,t)}stop(e){e&&e.dispatchEvent(new CustomEvent("animationend",{bubbles:!1,cancelable:!0,currentTarget:e}))}setContent(e,t="",n=!0){if(this.isClosing())return;const i=e.el;if(!i)return;let s=null;if(S(t)?s=t:(s=r(t+""),S(s)||(s=document.createElement("div"),s.innerHTML=t+"")),["img","picture","iframe","video","audio"].includes(s.nodeName.toLowerCase())){const e=document.createElement("div");e.appendChild(s),s=e}S(s)&&e.filter&&!e.error&&(s=s.querySelector(e.filter)),s&&S(s)?(E(s,"fancybox__content"),e.id&&s.setAttribute("id",e.id),i.classList.add(`has-${e.error?"error":e.type||"unknown"}`),i.prepend(s),"none"===s.style.display&&(s.style.display=""),"none"===getComputedStyle(s).getPropertyValue("display")&&(s.style.display=e.display||this.option("defaultDisplay")||"flex"),e.contentEl=s,n&&this.revealContent(e),this.manageCloseBtn(e),this.manageCaption(e)):this.setError(e,"{{ELEMENT_NOT_FOUND}}")}revealContent(e,t){const n=e.el,i=e.contentEl;n&&i&&(this.emit("reveal",e),this.hideLoading(e),e.state=oe.Opening,(t=this.isOpeningSlide(e)?void 0===t?this.optionFor(e,"showClass"):t:"f-fadeIn")?this.animate(i,t,(()=>{this.done(e)})):this.done(e))}done(e){this.isClosing()||(e.state=oe.Ready,this.emit("done",e),E(e.el,"is-done"),this.isCurrentSlide(e)&&this.option("autoFocus")&&queueMicrotask((()=>{var t;null===(t=e.panzoom)||void 0===t||t.updateControls(),this.option("autoFocus")&&this.focus()})),this.isOpeningSlide(e)&&(C(this.container,ot),!this.isCompact&&this.option("idle")&&this.setIdle()))}isCurrentSlide(e){const t=this.getSlide();return!(!e||!t)&&t.index===e.index}isOpeningSlide(e){var t,n;return null===(null===(t=this.carousel)||void 0===t?void 0:t.prevPage)&&e&&e.index===(null===(n=this.getSlide())||void 0===n?void 0:n.index)}showLoading(e){e.state=oe.Loading;const t=e.el;t&&(E(t,st),this.emit("loading",e),e.spinnerEl||setTimeout((()=>{if(!this.isClosing()&&!e.spinnerEl&&e.state===oe.Loading){let n=r(_);E(n,"fancybox-spinner"),e.spinnerEl=n,t.prepend(n),this.animate(n,"f-fadeIn")}}),250))}hideLoading(e){const t=e.el;if(!t)return;const n=e.spinnerEl;this.isClosing()?null==n||n.remove():(C(t,st),n&&this.animate(n,"f-fadeOut",(()=>{n.remove()})),e.state===oe.Loading&&(this.emit("loaded",e),e.state=oe.Ready))}setError(e,t){if(this.isClosing())return;const n=new Event("error",{bubbles:!0,cancelable:!0});if(this.emit("error",n,e),n.defaultPrevented)return;e.error=t,this.hideLoading(e),this.clearContent(e);const i=document.createElement("div");i.classList.add("fancybox-error"),i.innerHTML=this.localize(t||"<p>{{ERROR}}</p>"),this.setContent(e,i)}clearContent(e){if(void 0===e.state)return;this.emit("clearContent",e),e.contentEl&&(e.contentEl.remove(),e.contentEl=void 0);const t=e.el;t&&(C(t,"has-error"),C(t,"has-unknown"),C(t,`has-${e.type||"unknown"}`)),e.closeBtnEl&&e.closeBtnEl.remove(),e.closeBtnEl=void 0,e.captionEl&&e.captionEl.remove(),e.captionEl=void 0,e.spinnerEl&&e.spinnerEl.remove(),e.spinnerEl=void 0}getSlide(){var e;const t=this.carousel;return(null===(e=null==t?void 0:t.pages[null==t?void 0:t.page])||void 0===e?void 0:e.slides[0])||void 0}close(e,t){if(this.isClosing())return;const n=new Event("shouldClose",{bubbles:!0,cancelable:!0});if(this.emit("shouldClose",n,e),n.defaultPrevented)return;e&&e.cancelable&&(e.preventDefault(),e.stopPropagation());const i=()=>{this.proceedClose(e,t)};this.startedFs&&pt&&pt.isFullscreen()?Promise.resolve(pt.exit()).then((()=>i())):i()}clearIdle(){this.idleTimer&&clearTimeout(this.idleTimer),this.idleTimer=null}setIdle(e=!1){const t=()=>{this.clearIdle(),this.idle=!0,E(this.container,"is-idle"),this.emit("setIdle")};if(this.clearIdle(),!this.isClosing())if(e)t();else{const e=this.option("idle");e&&(this.idleTimer=setTimeout(t,e))}}endIdle(){this.clearIdle(),this.idle&&!this.isClosing()&&(this.idle=!1,C(this.container,"is-idle"),this.emit("endIdle"))}resetIdle(){this.endIdle(),this.setIdle()}toggleIdle(){this.idle?this.endIdle():this.setIdle(!0)}toggleFullscreen(){pt&&(pt.isFullscreen()?pt.exit():pt.request().then((()=>{this.startedFs=!0})))}isClosing(){return[se.Closing,se.CustomClosing,se.Destroy].includes(this.state)}proceedClose(e,t){var n,i;this.state=se.Closing,this.clearIdle(),this.detachEvents();const r=this.container,s=this.carousel,o=this.getSlide(),a=o&&this.option("placeFocusBack")?o.triggerEl||this.option("triggerEl"):null;if(a&&(J(a)?ne(a):a.focus()),r&&(C(r,ot),E(r,"is-closing"),r.setAttribute(tt,"true"),this.option("animated")&&E(r,it),r.style.pointerEvents="none"),s){s.clearTransitions(),null===(n=s.panzoom)||void 0===n||n.destroy(),null===(i=s.plugins.Navigation)||void 0===i||i.detach();for(const e of s.slides){e.state=oe.Closing,this.hideLoading(e);const t=e.contentEl;t&&this.stop(t);const n=null==e?void 0:e.panzoom;n&&(n.stop(),n.detachEvents(),n.detachObserver()),this.isCurrentSlide(e)||s.emit("removeSlide",e)}}wt=window.scrollX,xt=window.scrollY,window.addEventListener("scroll",this.onScroll),this.emit("close",e),this.state!==se.CustomClosing?(void 0===t&&o&&(t=this.optionFor(o,"hideClass")),t&&o?(this.animate(o.contentEl,t,(()=>{s&&s.emit("removeSlide",o)})),setTimeout((()=>{this.destroy()}),500)):this.destroy()):setTimeout((()=>{this.destroy()}),500)}destroy(){var e;if(this.state===se.Destroy)return;window.removeEventListener("scroll",this.onScroll),this.state=se.Destroy,null===(e=this.carousel)||void 0===e||e.destroy();const t=this.container;t&&t.remove(),_t.delete(this.id);const n=Ct.getInstance();n?n.focus():(gt&&(gt.remove(),gt=null),vt&&(vt.remove(),vt=null),C(document.documentElement,Ze),(()=>{if(!Q)return;const e=document,t=e.body;t.classList.remove(Je),t.style.setProperty(et,""),e.documentElement.style.setProperty(Qe,"")})(),this.emit("destroy"))}static bind(e,t,n){if(!Q)return;let i,r="",s={};if(void 0===e?i=document.body:ht(e)?(i=document.body,r=e,"object"==typeof t&&(s=t||{})):(i=e,ht(t)&&(r=t),"object"==typeof n&&(s=n||{})),!i||!S(i))return;r=r||"[data-fancybox]";const o=Ct.openers.get(i)||new Map;o.set(r,s),Ct.openers.set(i,o),1===o.size&&i.addEventListener("click",Ct.fromEvent)}static unbind(e,t){let n,i="";if(ht(e)?(n=document.body,i=e):(n=e,ht(t)&&(i=t)),!n)return;const r=Ct.openers.get(n);r&&i&&r.delete(i),i&&r||(Ct.openers.delete(n),n.removeEventListener("click",Ct.fromEvent))}static destroy(){let e;for(;e=Ct.getInstance();)e.destroy();for(const e of Ct.openers.keys())e.removeEventListener("click",Ct.fromEvent);Ct.openers=new Map}static fromEvent(e){if(e.defaultPrevented)return;if(e.button&&0!==e.button)return;if(e.ctrlKey||e.metaKey||e.shiftKey)return;let t=e.composedPath()[0];const n=t.closest("[data-fancybox-trigger]");if(n){const e=n.dataset.fancyboxTrigger||"",i=document.querySelectorAll(`[data-fancybox="${e}"]`),r=parseInt(n.dataset.fancyboxIndex||"",10)||0;t=i[r]||t}if(!(t&&t instanceof Element))return;let i,r,s,o;if([...Ct.openers].reverse().find((([e,n])=>!(!e.contains(t)||![...n].reverse().find((([n,a])=>{let l=t.closest(n);return!!l&&(i=e,r=n,s=l,o=a,!0)}))))),!i||!r||!s)return;o=o||{},e.preventDefault(),t=s;let a=[],l=h({},re,o);l.event=e,l.triggerEl=t,l.delegate=n;const c=l.groupAll,u=l.groupAttr,d=u&&t?t.getAttribute(`${u}`):"";if((!t||d||c)&&(a=[].slice.call(i.querySelectorAll(r))),t&&!c&&(a=d?a.filter((e=>e.getAttribute(`${u}`)===d)):[t]),!a.length)return;const f=Ct.getInstance();return f&&f.options.triggerEl&&a.indexOf(f.options.triggerEl)>-1?void 0:(t&&(l.startIndex=a.indexOf(t)),Ct.fromNodes(a,l))}static fromSelector(e,t,n){let i=null,r="",s={};if(ht(e)?(i=document.body,r=e,"object"==typeof t&&(s=t||{})):e instanceof HTMLElement&&ht(t)&&(i=e,r=t,"object"==typeof n&&(s=n||{})),!i||!r)return!1;const o=Ct.openers.get(i);return!!o&&(s=h({},o.get(r)||{},s),!!s&&Ct.fromNodes(Array.from(i.querySelectorAll(r)),s))}static fromNodes(e,t){t=h({},re,t||{});const n=[];for(const i of e){const e=i.dataset||{},r=e[ft]||i.getAttribute(dt)||i.getAttribute("currentSrc")||i.getAttribute(ft)||void 0;let s;const o=t.delegate;let a;o&&n.length===t.startIndex&&(s=o instanceof HTMLImageElement?o:o.querySelector("img:not([aria-hidden])")),s||(s=i instanceof HTMLImageElement?i:i.querySelector("img:not([aria-hidden])")),s&&(a=s.currentSrc||s[ft]||void 0,!a&&s.dataset&&(a=s.dataset.lazySrc||s.dataset[ft]||void 0));const l={src:r,triggerEl:i,thumbEl:s,thumbElSrc:a,thumbSrc:a};for(const t in e){let n=e[t]+"";n="false"!==n&&("true"===n||n),l[t]=n}n.push(l)}return new Ct(n,t)}static getInstance(e){return e?_t.get(e):Array.from(_t.values()).reverse().find((e=>!e.isClosing()&&e))||null}static getSlide(){var e;return(null===(e=Ct.getInstance())||void 0===e?void 0:e.getSlide())||null}static show(e=[],t={}){return new Ct(e,t)}static next(){const e=Ct.getInstance();e&&e.next()}static prev(){const e=Ct.getInstance();e&&e.prev()}static close(e=!0,...t){if(e)for(const e of _t.values())e.close(...t);else{const e=Ct.getInstance();e&&e.close(...t)}}}Object.defineProperty(Ct,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.36"}),Object.defineProperty(Ct,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:re}),Object.defineProperty(Ct,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:Ke}),Object.defineProperty(Ct,"openers",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),e.Carousel=Z,e.Fancybox=Ct,e.Panzoom=L}(t)},247:(e,t,n)=>{"use strict";n.d(t,{A:()=>Rs});var i=n(427),r=n(87),s=n(491),o=n(723),a=n(573),l=n(790);const c=(0,l.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,l.jsx)(a.Path,{d:"M12 3.9 6.5 9.5l1 1 3.8-3.7V20h1.5V6.8l3.7 3.7 1-1z"})}),u=(0,l.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,l.jsx)(a.Path,{d:"m16.5 13.5-3.7 3.7V4h-1.5v13.2l-3.8-3.7-1 1 5.5 5.6 5.5-5.6z"})}),d="is",f="isNot",h="isAny",m="isNone",p="isAll",g="isNotAll",v="lessThan",b="greaterThan",y="lessThanOrEqual",w="greaterThanOrEqual",x="before",_="after",S="beforeInc",C="afterInc",E="contains",j="notContains",I="startsWith",O="between",k="on",P="notOn",A="inThePast",M="over",T=[d,f,h,m,p,g,v,b,y,w,x,_,S,C,E,j,I,O,k,P,A,M],L=[d,f,v,b,y,w,x,_,S,C,E,j,I,k,P],F={[d]:{key:"is-filter",label:(0,o.__)("Is")},[f]:{key:"is-not-filter",label:(0,o.__)("Is not")},[h]:{key:"is-any-filter",label:(0,o.__)("Is any")},[m]:{key:"is-none-filter",label:(0,o.__)("Is none")},[p]:{key:"is-all-filter",label:(0,o.__)("Is all")},[g]:{key:"is-not-all-filter",label:(0,o.__)("Is not all")},[v]:{key:"less-than-filter",label:(0,o.__)("Less than")},[b]:{key:"greater-than-filter",label:(0,o.__)("Greater than")},[y]:{key:"less-than-or-equal-filter",label:(0,o.__)("Less than or equal")},[w]:{key:"greater-than-or-equal-filter",label:(0,o.__)("Greater than or equal")},[x]:{key:"before-filter",label:(0,o.__)("Before")},[_]:{key:"after-filter",label:(0,o.__)("After")},[S]:{key:"before-inc-filter",label:(0,o.__)("Before (inc)")},[C]:{key:"after-inc-filter",label:(0,o.__)("After (inc)")},[E]:{key:"contains-filter",label:(0,o.__)("Contains")},[j]:{key:"not-contains-filter",label:(0,o.__)("Doesn't contain")},[I]:{key:"starts-with-filter",label:(0,o.__)("Starts with")},[O]:{key:"between-filter",label:(0,o.__)("Between (inc)")},[k]:{key:"on-filter",label:(0,o.__)("On")},[P]:{key:"not-on-filter",label:(0,o.__)("Not on")},[A]:{key:"in-the-past-filter",label:(0,o.__)("In the past")},[M]:{key:"over-filter",label:(0,o.__)("Over")}},V=["asc","desc"],D={asc:"",desc:""},N={asc:"ascending",desc:"descending"},B={asc:(0,o.__)("Sort ascending"),desc:(0,o.__)("Sort descending")},R={asc:c,desc:u},z="table",H="grid",$=(0,r.createContext)({view:{type:z},onChangeView:()=>{},fields:[],data:[],paginationInfo:{totalItems:0,totalPages:0},selection:[],onChangeSelection:()=>{},setOpenedFilter:()=>{},openedFilter:null,getItemId:e=>e.id,isItemClickable:()=>!0,renderItemLink:void 0,containerWidth:0,containerRef:(0,r.createRef)(),defaultLayouts:{list:{},grid:{},table:{}},filters:[],isShowingFilter:!1,setIsShowingFilter:()=>{}}),U=(0,l.jsx)(a.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)(a.Path,{d:"M10 17.5H14V16H10V17.5ZM6 6V7.5H18V6H6ZM8 12.5H16V11H8V12.5Z"})});function W(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=W(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}const q=function(){for(var e,t,n=0,i="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=W(e))&&(i&&(i+=" "),i+=t);return i},Y=(0,l.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,l.jsx)(a.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})});var X=Object.defineProperty,G=Object.defineProperties,K=Object.getOwnPropertyDescriptors,Z=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable,ee=(e,t,n)=>t in e?X(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,te=(e,t)=>{for(var n in t||(t={}))J.call(t,n)&&ee(e,n,t[n]);if(Z)for(var n of Z(t))Q.call(t,n)&&ee(e,n,t[n]);return e},ne=(e,t)=>G(e,K(t)),ie=(e,t)=>{var n={};for(var i in e)J.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Z)for(var i of Z(e))t.indexOf(i)<0&&Q.call(e,i)&&(n[i]=e[i]);return n},re=Object.defineProperty,se=Object.defineProperties,oe=Object.getOwnPropertyDescriptors,ae=Object.getOwnPropertySymbols,le=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable,ue=(e,t,n)=>t in e?re(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,de=(e,t)=>{for(var n in t||(t={}))le.call(t,n)&&ue(e,n,t[n]);if(ae)for(var n of ae(t))ce.call(t,n)&&ue(e,n,t[n]);return e},fe=(e,t)=>se(e,oe(t)),he=(e,t)=>{var n={};for(var i in e)le.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&ae)for(var i of ae(e))t.indexOf(i)<0&&ce.call(e,i)&&(n[i]=e[i]);return n};function me(...e){}function pe(e,t){return"function"==typeof Object.hasOwn?Object.hasOwn(e,t):Object.prototype.hasOwnProperty.call(e,t)}function ge(...e){return(...t)=>{for(const n of e)"function"==typeof n&&n(...t)}}function ve(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function be(e){return e}function ye(e,t){if(!e){if("string"!=typeof t)throw new Error("Invariant failed");throw new Error(t)}}function we(e){return e.disabled||!0===e["aria-disabled"]||"true"===e["aria-disabled"]}function xe(e){const t={};for(const n in e)void 0!==e[n]&&(t[n]=e[n]);return t}function _e(...e){for(const t of e)if(void 0!==t)return t}var Se=n(609),Ce=n.t(Se,2);function Ee(e,t){"function"==typeof e?e(t):e&&(e.current=t)}var je,Ie="undefined"!=typeof window&&!!(null==(je=window.document)?void 0:je.createElement);function Oe(e){return e?"self"in e?e.document:e.ownerDocument||document:document}function ke(e,t=!1){const{activeElement:n}=Oe(e);if(!(null==n?void 0:n.nodeName))return null;if("IFRAME"===n.tagName&&n.contentDocument)return ke(n.contentDocument.body,t);if(t){const e=n.getAttribute("aria-activedescendant");if(e){const t=Oe(n).getElementById(e);if(t)return t}}return n}function Pe(e,t){return e===t||e.contains(t)}function Ae(e){const t=e.tagName.toLowerCase();return"button"===t||!("input"!==t||!e.type)&&-1!==Me.indexOf(e.type)}var Me=["button","color","file","image","reset","submit"];function Te(e){try{const t=e instanceof HTMLInputElement&&null!==e.selectionStart,n="TEXTAREA"===e.tagName;return t||n||!1}catch(e){return!1}}function Le(e){return e.isContentEditable||Te(e)}function Fe(e){let t=0,n=0;if(Te(e))t=e.selectionStart||0,n=e.selectionEnd||0;else if(e.isContentEditable){const i=Oe(e).getSelection();if((null==i?void 0:i.rangeCount)&&i.anchorNode&&Pe(e,i.anchorNode)&&i.focusNode&&Pe(e,i.focusNode)){const r=i.getRangeAt(0),s=r.cloneRange();s.selectNodeContents(e),s.setEnd(r.startContainer,r.startOffset),t=s.toString().length,s.setEnd(r.endContainer,r.endOffset),n=s.toString().length}}return{start:t,end:n}}function Ve(e,t){const n=null==e?void 0:e.getAttribute("role");return n&&-1!==["dialog","menu","listbox","tree","grid"].indexOf(n)?n:t}function De(e){if(!e)return null;const t=e=>"auto"===e||"scroll"===e;if(e.clientHeight&&e.scrollHeight>e.clientHeight){const{overflowY:n}=getComputedStyle(e);if(t(n))return e}else if(e.clientWidth&&e.scrollWidth>e.clientWidth){const{overflowX:n}=getComputedStyle(e);if(t(n))return e}return De(e.parentElement)||document.scrollingElement||document.body}function Ne(e,...t){/text|search|password|tel|url/i.test(e.type)&&e.setSelectionRange(...t)}function Be(){return!!Ie&&/mac|iphone|ipad|ipod/i.test(navigator.platform)}function Re(){return Ie&&Be()&&/apple/i.test(navigator.vendor)}function ze(e){return Boolean(e.currentTarget&&!Pe(e.currentTarget,e.target))}function He(e){return e.target===e.currentTarget}function $e(e,t){const n=new FocusEvent("blur",t),i=e.dispatchEvent(n),r=fe(de({},t),{bubbles:!0});return e.dispatchEvent(new FocusEvent("focusout",r)),i}function Ue(e,t){const n=new MouseEvent("click",t);return e.dispatchEvent(n)}function We(e,t){const n=t||e.currentTarget,i=e.relatedTarget;return!i||!Pe(n,i)}function qe(e,t,n,i){const r=(e=>{if(i){const t=setTimeout(e,i);return()=>clearTimeout(t)}const t=requestAnimationFrame(e);return()=>cancelAnimationFrame(t)})((()=>{e.removeEventListener(t,s,!0),n()})),s=()=>{r(),n()};return e.addEventListener(t,s,{once:!0,capture:!0}),r}function Ye(e,t,n,i=window){const r=[];try{i.document.addEventListener(e,t,n);for(const s of Array.from(i.frames))r.push(Ye(e,t,n,s))}catch(e){}return()=>{try{i.document.removeEventListener(e,t,n)}catch(e){}for(const e of r)e()}}var Xe=te({},Ce),Ge=Xe.useId,Ke=(Xe.useDeferredValue,Xe.useInsertionEffect),Ze=Ie?Se.useLayoutEffect:Se.useEffect;function Je(e){const t=(0,Se.useRef)((()=>{throw new Error("Cannot call an event handler while rendering.")}));return Ke?Ke((()=>{t.current=e})):t.current=e,(0,Se.useCallback)(((...e)=>{var n;return null==(n=t.current)?void 0:n.call(t,...e)}),[])}function Qe(...e){return(0,Se.useMemo)((()=>{if(e.some(Boolean))return t=>{for(const n of e)Ee(n,t)}}),e)}function et(e){if(Ge){const t=Ge();return e||t}const[t,n]=(0,Se.useState)(e);return Ze((()=>{if(e||t)return;const i=Math.random().toString(36).slice(2,8);n(`id-${i}`)}),[e,t]),e||t}function tt(e,t){const n=(0,Se.useRef)(!1);(0,Se.useEffect)((()=>{if(n.current)return e();n.current=!0}),t),(0,Se.useEffect)((()=>()=>{n.current=!1}),[])}function nt(e){return Je("function"==typeof e?e:()=>e)}function it(e,t,n=[]){const i=(0,Se.useCallback)((n=>(e.wrapElement&&(n=e.wrapElement(n)),t(n))),[...n,e.wrapElement]);return ne(te({},e),{wrapElement:i})}var rt=!1,st=0,ot=0;function at(e){(function(e){const t=e.movementX||e.screenX-st,n=e.movementY||e.screenY-ot;return st=e.screenX,ot=e.screenY,t||n||!1})(e)&&(rt=!0)}function lt(){rt=!1}function ct(e){const t=Se.forwardRef(((t,n)=>e(ne(te({},t),{ref:n}))));return t.displayName=e.displayName||e.name,t}function ut(e,t){return Se.memo(e,t)}function dt(e,t){const n=t,{wrapElement:i,render:r}=n,s=ie(n,["wrapElement","render"]),o=Qe(t.ref,function(e){return function(e){return!!e&&!!(0,Se.isValidElement)(e)&&("ref"in e.props||"ref"in e)}(e)?te({},e.props).ref||e.ref:null}(r));let a;if(Se.isValidElement(r)){const e=ne(te({},r.props),{ref:o});a=Se.cloneElement(r,function(e,t){const n=te({},e);for(const i in t){if(!pe(t,i))continue;if("className"===i){const i="className";n[i]=e[i]?`${e[i]} ${t[i]}`:t[i];continue}if("style"===i){const i="style";n[i]=e[i]?te(te({},e[i]),t[i]):t[i];continue}const r=t[i];if("function"==typeof r&&i.startsWith("on")){const t=e[i];if("function"==typeof t){n[i]=(...e)=>{r(...e),t(...e)};continue}}n[i]=r}return n}(s,e))}else a=r?r(s):(0,l.jsx)(e,te({},s));return i?i(a):a}function ft(e){const t=(t={})=>e(t);return t.displayName=e.name,t}function ht(e=[],t=[]){const n=Se.createContext(void 0),i=Se.createContext(void 0),r=()=>Se.useContext(n),s=t=>e.reduceRight(((e,n)=>(0,l.jsx)(n,ne(te({},t),{children:e}))),(0,l.jsx)(n.Provider,te({},t)));return{context:n,scopedContext:i,useContext:r,useScopedContext:(e=!1)=>{const t=Se.useContext(i),n=r();return e?t:t||n},useProviderContext:()=>{const e=Se.useContext(i),t=r();if(!e||e!==t)return t},ContextProvider:s,ScopedContextProvider:e=>(0,l.jsx)(s,ne(te({},e),{children:t.reduceRight(((t,n)=>(0,l.jsx)(n,ne(te({},e),{children:t}))),(0,l.jsx)(i.Provider,te({},e)))}))}}var mt=ht(),pt=mt.useContext,gt=(mt.useScopedContext,mt.useProviderContext,ht([mt.ContextProvider],[mt.ScopedContextProvider])),vt=gt.useContext,bt=(gt.useScopedContext,gt.useProviderContext),yt=gt.ContextProvider,wt=gt.ScopedContextProvider,xt=(0,Se.createContext)(void 0),_t=(0,Se.createContext)(void 0),St=((0,Se.createContext)(null),(0,Se.createContext)(null),ht([yt],[wt])),Ct=St.useContext;function Et(e,t){const n=e.__unstableInternals;return ye(n,"Invalid store"),n[t]}function jt(e,...t){let n=e,i=n,r=Symbol(),s=me;const o=new Set,a=new Set,l=new Set,c=new Set,u=new Set,d=new WeakMap,f=new WeakMap,h=(e,t,n=c)=>(n.add(t),f.set(t,e),()=>{var e;null==(e=d.get(t))||e(),d.delete(t),f.delete(t),n.delete(t)}),m=(e,s,o=!1)=>{var l;if(!pe(n,e))return;const h=(m=s,p=n[e],function(e){return"function"==typeof e}(m)?m(function(e){return"function"==typeof e}(p)?p():p):m);var m,p;if(h===n[e])return;if(!o)for(const n of t)null==(l=null==n?void 0:n.setState)||l.call(n,e,h);const g=n;n=fe(de({},n),{[e]:h});const v=Symbol();r=v,a.add(e);const b=(t,i,r)=>{var s;const o=f.get(t);o&&!o.some((t=>r?r.has(t):t===e))||(null==(s=d.get(t))||s(),d.set(t,t(n,i)))};for(const e of c)b(e,g);queueMicrotask((()=>{if(r!==v)return;const e=n;for(const e of u)b(e,i,a);i=e,a.clear()}))},p={getState:()=>n,setState:m,__unstableInternals:{setup:e=>(l.add(e),()=>l.delete(e)),init:()=>{const e=o.size,i=Symbol();o.add(i);const r=()=>{o.delete(i),o.size||s()};if(e)return r;const a=(c=n,Object.keys(c)).map((e=>ge(...t.map((t=>{var n;const i=null==(n=null==t?void 0:t.getState)?void 0:n.call(t);if(i&&pe(i,e))return Pt(t,[e],(t=>{m(e,t[e],!0)}))})))));var c;const u=[];for(const e of l)u.push(e());const d=t.map(Ot);return s=ge(...a,...u,...d),r},subscribe:(e,t)=>h(e,t),sync:(e,t)=>(d.set(t,t(n,n)),h(e,t)),batch:(e,t)=>(d.set(t,t(n,i)),h(e,t,u)),pick:e=>jt(function(e,t){const n={};for(const i of t)pe(e,i)&&(n[i]=e[i]);return n}(n,e),p),omit:e=>jt(function(e,t){const n=de({},e);for(const e of t)pe(n,e)&&delete n[e];return n}(n,e),p)}};return p}function It(e,...t){if(e)return Et(e,"setup")(...t)}function Ot(e,...t){if(e)return Et(e,"init")(...t)}function kt(e,...t){if(e)return Et(e,"subscribe")(...t)}function Pt(e,...t){if(e)return Et(e,"sync")(...t)}function At(e,...t){if(e)return Et(e,"batch")(...t)}function Mt(e,...t){if(e)return Et(e,"omit")(...t)}function Tt(...e){const t=e.reduce(((e,t)=>{var n;const i=null==(n=null==t?void 0:t.getState)?void 0:n.call(t);return i?Object.assign(e,i):e}),{}),n=jt(t,...e);return Object.assign({},...e,n)}St.useScopedContext,St.useProviderContext,St.ContextProvider,St.ScopedContextProvider;var Lt=n(888),{useSyncExternalStore:Ft}=Lt;function Vt(e,t=be){const n=Se.useCallback((t=>e?kt(e,null,t):()=>{}),[e]),i=()=>{const n="string"==typeof t?t:null,i="function"==typeof t?t:null,r=null==e?void 0:e.getState();return i?i(r):r&&n&&pe(r,n)?r[n]:void 0};return Ft(n,i,i)}function Dt(e,t){const n=Se.useRef({}),i=Se.useCallback((t=>e?kt(e,null,t):()=>{}),[e]),r=()=>{const i=null==e?void 0:e.getState();let r=!1;const s=n.current;for(const e in t){const n=t[e];if("function"==typeof n){const t=n(i);t!==s[e]&&(s[e]=t,r=!0)}if("string"==typeof n){if(!i)continue;if(!pe(i,n))continue;const t=i[n];t!==s[e]&&(s[e]=t,r=!0)}}return r&&(n.current=te({},s)),n.current};return Ft(i,r,r)}function Nt(e,t,n,i){const r=pe(t,n)?t[n]:void 0,s=i?t[i]:void 0,o=function(e){const t=(0,Se.useRef)(e);return Ze((()=>{t.current=e})),t}({value:r,setValue:s});Ze((()=>Pt(e,[n],((e,t)=>{const{value:i,setValue:r}=o.current;r&&e[n]!==t[n]&&e[n]!==i&&r(e[n])}))),[e,n]),Ze((()=>{if(void 0!==r)return e.setState(n,r),At(e,[n],(()=>{void 0!==r&&e.setState(n,r)}))}))}function Bt(e,t,n){return Nt(e=function(e,t,n){return tt(t,[n.store]),Nt(e,n,"items","setItems"),e}(e,t,n),n,"activeId","setActiveId"),Nt(e,n,"includesBaseElement"),Nt(e,n,"virtualFocus"),Nt(e,n,"orientation"),Nt(e,n,"rtl"),Nt(e,n,"focusLoop"),Nt(e,n,"focusWrap"),Nt(e,n,"focusShift"),e}function Rt(e,t,n){return function(e,t,n){return tt(t,[n.store,n.disclosure]),Nt(e,n,"open","setOpen"),Nt(e,n,"mounted","setMounted"),Nt(e,n,"animated"),Object.assign(e,{disclosure:n.disclosure})}(e,t,n)}function zt(e={}){var t;e.store;const n=null==(t=e.store)?void 0:t.getState(),i=_e(e.items,null==n?void 0:n.items,e.defaultItems,[]),r=new Map(i.map((e=>[e.id,e]))),s={items:i,renderedItems:_e(null==n?void 0:n.renderedItems,[])},o=null==(a=e.store)?void 0:a.__unstablePrivateStore;var a;const l=jt({items:i,renderedItems:s.renderedItems},o),c=jt(s,e.store),u=e=>{const t=function(e,t){const n=e.map(((e,t)=>[t,e]));let i=!1;return n.sort((([e,n],[r,s])=>{const o=t(n),a=t(s);return o===a?0:o&&a?function(e,t){return Boolean(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_PRECEDING)}(o,a)?(e>r&&(i=!0),-1):(e<r&&(i=!0),1):0})),i?n.map((([e,t])=>t)):e}(e,(e=>e.element));l.setState("renderedItems",t),c.setState("renderedItems",t)};It(c,(()=>Ot(l))),It(l,(()=>At(l,["items"],(e=>{c.setState("items",e.items)})))),It(l,(()=>At(l,["renderedItems"],(e=>{let t=!0,n=requestAnimationFrame((()=>{const{renderedItems:t}=c.getState();e.renderedItems!==t&&u(e.renderedItems)}));if("function"!=typeof IntersectionObserver)return()=>cancelAnimationFrame(n);const i=function(e){var t;const n=e.find((e=>!!e.element)),i=[...e].reverse().find((e=>!!e.element));let r=null==(t=null==n?void 0:n.element)?void 0:t.parentElement;for(;r&&(null==i?void 0:i.element);){if(i&&r.contains(i.element))return r;r=r.parentElement}return Oe(r).body}(e.renderedItems),r=new IntersectionObserver((()=>{t?t=!1:(cancelAnimationFrame(n),n=requestAnimationFrame((()=>u(e.renderedItems))))}),{root:i});for(const t of e.renderedItems)t.element&&r.observe(t.element);return()=>{cancelAnimationFrame(n),r.disconnect()}}))));const d=(e,t,n=!1)=>{let i;return t((t=>{const n=t.findIndex((({id:t})=>t===e.id)),s=t.slice();if(-1!==n){i=t[n];const o=de(de({},i),e);s[n]=o,r.set(e.id,o)}else s.push(e),r.set(e.id,e);return s})),()=>{t((t=>{if(!i)return n&&r.delete(e.id),t.filter((({id:t})=>t!==e.id));const s=t.findIndex((({id:t})=>t===e.id));if(-1===s)return t;const o=t.slice();return o[s]=i,r.set(e.id,i),o}))}},f=e=>d(e,(e=>l.setState("items",e)),!0);return fe(de({},c),{registerItem:f,renderItem:e=>ge(f(e),d(e,(e=>l.setState("renderedItems",e)))),item:e=>{if(!e)return null;let t=r.get(e);if(!t){const{items:n}=l.getState();t=n.find((t=>t.id===e)),t&&r.set(e,t)}return t||null},__unstablePrivateStore:l})}function Ht(e){const t=[];for(const n of e)t.push(...n);return t}function $t(e){return e.slice().reverse()}var Ut={id:null};function Wt(e,t){return e.find((e=>t?!e.disabled&&e.id!==t:!e.disabled))}function qt(e,t){return e.filter((e=>e.rowId===t))}function Yt(e){const t=[];for(const n of e){const e=t.find((e=>{var t;return(null==(t=e[0])?void 0:t.rowId)===n.rowId}));e?e.push(n):t.push([n])}return t}function Xt(e){let t=0;for(const{length:n}of e)n>t&&(t=n);return t}var Gt=Re()&&Ie&&!!navigator.maxTouchPoints;function Kt(e={}){var t=e,{tag:n}=t,i=he(t,["tag"]);const r=Tt(i.store,function(e,...t){if(e)return Et(e,"pick")(...t)}(n,["value","rtl"])),s=null==n?void 0:n.getState(),o=null==r?void 0:r.getState(),a=_e(i.activeId,null==o?void 0:o.activeId,i.defaultActiveId,null),l=function(e={}){var t;const n=null==(t=e.store)?void 0:t.getState(),i=zt(e),r=_e(e.activeId,null==n?void 0:n.activeId,e.defaultActiveId),s=jt(fe(de({},i.getState()),{id:_e(e.id,null==n?void 0:n.id,`id-${Math.random().toString(36).slice(2,8)}`),activeId:r,baseElement:_e(null==n?void 0:n.baseElement,null),includesBaseElement:_e(e.includesBaseElement,null==n?void 0:n.includesBaseElement,null===r),moves:_e(null==n?void 0:n.moves,0),orientation:_e(e.orientation,null==n?void 0:n.orientation,"both"),rtl:_e(e.rtl,null==n?void 0:n.rtl,!1),virtualFocus:_e(e.virtualFocus,null==n?void 0:n.virtualFocus,!1),focusLoop:_e(e.focusLoop,null==n?void 0:n.focusLoop,!1),focusWrap:_e(e.focusWrap,null==n?void 0:n.focusWrap,!1),focusShift:_e(e.focusShift,null==n?void 0:n.focusShift,!1)}),i,e.store);It(s,(()=>Pt(s,["renderedItems","activeId"],(e=>{s.setState("activeId",(t=>{var n;return void 0!==t?t:null==(n=Wt(e.renderedItems))?void 0:n.id}))}))));const o=(e="next",t={})=>{var n,i;const r=s.getState(),{skip:o=0,activeId:a=r.activeId,focusShift:l=r.focusShift,focusLoop:c=r.focusLoop,focusWrap:u=r.focusWrap,includesBaseElement:d=r.includesBaseElement,renderedItems:f=r.renderedItems,rtl:h=r.rtl}=t,m="up"===e||"down"===e,p="next"===e||"down"===e,g=p?h&&!m:!h||m,v=l&&!o;let b=m?Ht(function(e,t,n){const i=Xt(e);for(const r of e)for(let e=0;e<i;e+=1){const i=r[e];if(!i||n&&i.disabled){const i=0===e&&n?Wt(r):r[e-1];r[e]=i&&t!==i.id&&n?i:{id:"__EMPTY_ITEM__",disabled:!0,rowId:null==i?void 0:i.rowId}}}return e}(Yt(f),a,v)):f;if(b=g?$t(b):b,b=m?function(e){const t=Yt(e),n=Xt(t),i=[];for(let e=0;e<n;e+=1)for(const n of t){const t=n[e];t&&i.push(fe(de({},t),{rowId:t.rowId?`${e}`:void 0}))}return i}(b):b,null==a)return null==(n=Wt(b))?void 0:n.id;const y=b.find((e=>e.id===a));if(!y)return null==(i=Wt(b))?void 0:i.id;const w=b.some((e=>e.rowId)),x=b.indexOf(y),_=b.slice(x+1),S=qt(_,y.rowId);if(o){const e=function(e,t){return e.filter((e=>t?!e.disabled&&e.id!==t:!e.disabled))}(S,a),t=e.slice(o)[0]||e[e.length-1];return null==t?void 0:t.id}const C=c&&(m?"horizontal"!==c:"vertical"!==c),E=w&&u&&(m?"horizontal"!==u:"vertical"!==u),j=p?(!w||m)&&C&&d:!!m&&d;if(C){const e=function(e,t,n=!1){const i=e.findIndex((e=>e.id===t));return[...e.slice(i+1),...n?[Ut]:[],...e.slice(0,i)]}(E&&!j?b:qt(b,y.rowId),a,j),t=Wt(e,a);return null==t?void 0:t.id}if(E){const e=Wt(j?S:_,a);return j?(null==e?void 0:e.id)||null:null==e?void 0:e.id}const I=Wt(S,a);return!I&&j?null:null==I?void 0:I.id};return fe(de(de({},i),s),{setBaseElement:e=>s.setState("baseElement",e),setActiveId:e=>s.setState("activeId",e),move:e=>{void 0!==e&&(s.setState("activeId",e),s.setState("moves",(e=>e+1)))},first:()=>{var e;return null==(e=Wt(s.getState().renderedItems))?void 0:e.id},last:()=>{var e;return null==(e=Wt($t(s.getState().renderedItems)))?void 0:e.id},next:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),o("next",e)),previous:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),o("previous",e)),down:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),o("down",e)),up:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),o("up",e))})}(fe(de({},i),{activeId:a,includesBaseElement:_e(i.includesBaseElement,null==o?void 0:o.includesBaseElement,!0),orientation:_e(i.orientation,null==o?void 0:o.orientation,"vertical"),focusLoop:_e(i.focusLoop,null==o?void 0:o.focusLoop,!0),focusWrap:_e(i.focusWrap,null==o?void 0:o.focusWrap,!0),virtualFocus:_e(i.virtualFocus,null==o?void 0:o.virtualFocus,!0)})),c=function(e={}){var t=e,{popover:n}=t,i=he(t,["popover"]);const r=Tt(i.store,Mt(n,["arrowElement","anchorElement","contentElement","popoverElement","disclosureElement"])),s=null==r?void 0:r.getState(),o=function(e={}){return function(e={}){const t=Tt(e.store,Mt(e.disclosure,["contentElement","disclosureElement"])),n=null==t?void 0:t.getState(),i=_e(e.open,null==n?void 0:n.open,e.defaultOpen,!1),r=_e(e.animated,null==n?void 0:n.animated,!1),s=jt({open:i,animated:r,animating:!!r&&i,mounted:i,contentElement:_e(null==n?void 0:n.contentElement,null),disclosureElement:_e(null==n?void 0:n.disclosureElement,null)},t);return It(s,(()=>Pt(s,["animated","animating"],(e=>{e.animated||s.setState("animating",!1)})))),It(s,(()=>kt(s,["open"],(()=>{s.getState().animated&&s.setState("animating",!0)})))),It(s,(()=>Pt(s,["open","animating"],(e=>{s.setState("mounted",e.open||e.animating)})))),fe(de({},s),{disclosure:e.disclosure,setOpen:e=>s.setState("open",e),show:()=>s.setState("open",!0),hide:()=>s.setState("open",!1),toggle:()=>s.setState("open",(e=>!e)),stopAnimation:()=>s.setState("animating",!1),setContentElement:e=>s.setState("contentElement",e),setDisclosureElement:e=>s.setState("disclosureElement",e)})}(e)}(fe(de({},i),{store:r})),a=_e(i.placement,null==s?void 0:s.placement,"bottom"),l=jt(fe(de({},o.getState()),{placement:a,currentPlacement:a,anchorElement:_e(null==s?void 0:s.anchorElement,null),popoverElement:_e(null==s?void 0:s.popoverElement,null),arrowElement:_e(null==s?void 0:s.arrowElement,null),rendered:Symbol("rendered")}),o,r);return fe(de(de({},o),l),{setAnchorElement:e=>l.setState("anchorElement",e),setPopoverElement:e=>l.setState("popoverElement",e),setArrowElement:e=>l.setState("arrowElement",e),render:()=>l.setState("rendered",Symbol("rendered"))})}(fe(de({},i),{placement:_e(i.placement,null==o?void 0:o.placement,"bottom-start")})),u=_e(i.value,null==o?void 0:o.value,i.defaultValue,""),d=_e(i.selectedValue,null==o?void 0:o.selectedValue,null==s?void 0:s.values,i.defaultSelectedValue,""),f=Array.isArray(d),h=fe(de(de({},l.getState()),c.getState()),{value:u,selectedValue:d,resetValueOnSelect:_e(i.resetValueOnSelect,null==o?void 0:o.resetValueOnSelect,f),resetValueOnHide:_e(i.resetValueOnHide,null==o?void 0:o.resetValueOnHide,f&&!n),activeValue:null==o?void 0:o.activeValue}),m=jt(h,l,c,r);return Gt&&It(m,(()=>Pt(m,["virtualFocus"],(()=>{m.setState("virtualFocus",!1)})))),It(m,(()=>{if(n)return ge(Pt(m,["selectedValue"],(e=>{Array.isArray(e.selectedValue)&&n.setValues(e.selectedValue)})),Pt(n,["values"],(e=>{m.setState("selectedValue",e.values)})))})),It(m,(()=>Pt(m,["resetValueOnHide","mounted"],(e=>{e.resetValueOnHide&&(e.mounted||m.setState("value",u))})))),It(m,(()=>Pt(m,["open"],(e=>{e.open||(m.setState("activeId",a),m.setState("moves",0))})))),It(m,(()=>Pt(m,["moves","activeId"],((e,t)=>{e.moves===t.moves&&m.setState("activeValue",void 0)})))),It(m,(()=>At(m,["moves","renderedItems"],((e,t)=>{if(e.moves===t.moves)return;const{activeId:n}=m.getState(),i=l.item(n);m.setState("activeValue",null==i?void 0:i.value)})))),fe(de(de(de({},c),l),m),{tag:n,setValue:e=>m.setState("value",e),resetValue:()=>m.setState("value",h.value),setSelectedValue:e=>m.setState("selectedValue",e)})}function Zt(e={}){e=function(e){const t=Ct();return function(e){const t=et(e.id);return te({id:t},e)}(e=ne(te({},e),{tag:void 0!==e.tag?e.tag:t}))}(e);const[t,n]=function(e,t){const[n,i]=Se.useState((()=>e(t)));Ze((()=>Ot(n)),[n]);const r=Se.useCallback((e=>Vt(n,e)),[n]);return[Se.useMemo((()=>ne(te({},n),{useState:r})),[n,r]),Je((()=>{i((n=>e(te(te({},t),n.getState()))))}))]}(Kt,e);return function(e,t,n){return tt(t,[n.tag]),Nt(e,n,"value","setValue"),Nt(e,n,"selectedValue","setSelectedValue"),Nt(e,n,"resetValueOnHide"),Nt(e,n,"resetValueOnSelect"),Object.assign(Bt(function(e,t,n){return tt(t,[n.popover]),Nt(e,n,"placement"),Rt(e,t,n)}(e,t,n),t,n),{tag:n.tag})}(t,n,e)}var Jt=ht(),Qt=(Jt.useContext,Jt.useScopedContext,Jt.useProviderContext),en=ht([Jt.ContextProvider],[Jt.ScopedContextProvider]),tn=(en.useContext,en.useScopedContext,en.useProviderContext,en.ContextProvider),nn=en.ScopedContextProvider,rn=((0,Se.createContext)(void 0),(0,Se.createContext)(void 0),ht([tn],[nn])),sn=(rn.useContext,rn.useScopedContext,rn.useProviderContext),on=rn.ContextProvider,an=rn.ScopedContextProvider,ln=(0,Se.createContext)(void 0),cn=ht([on,yt],[an,wt]),un=cn.useContext,dn=cn.useScopedContext,fn=cn.useProviderContext,hn=cn.ContextProvider,mn=cn.ScopedContextProvider,pn=(0,Se.createContext)(void 0),gn=(0,Se.createContext)(!1);function vn(e={}){const t=Zt(e);return(0,l.jsx)(hn,{value:t,children:e.children})}var bn=ft((function(e){var t=e,{store:n}=t,i=ie(t,["store"]);const r=fn();ye(n=n||r,!1);const s=n.useState((e=>{var t;return null==(t=e.baseElement)?void 0:t.id}));return xe(i=te({htmlFor:s},i))})),yn=ut(ct((function(e){return dt("label",bn(e))}))),wn=ft((function(e){var t=e,{store:n}=t,i=ie(t,["store"]);const r=sn();return n=n||r,ne(te({},i),{ref:Qe(null==n?void 0:n.setAnchorElement,i.ref)})}));function xn(e,t){return t&&e.item(t)||null}ct((function(e){return dt("div",wn(e))}));var Sn=Symbol("FOCUS_SILENTLY");function Cn(e,t,n){if(!t)return!1;if(t===n)return!1;const i=e.item(t.id);return!(!i||n&&i.element===n)}var En=(0,Se.createContext)(!0),jn="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], summary, iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])";function In(e){return!!e.matches(jn)&&!!function(e){if("function"==typeof e.checkVisibility)return e.checkVisibility();const t=e;return t.offsetWidth>0||t.offsetHeight>0||e.getClientRects().length>0}(e)&&!e.closest("[inert]")}function On(e){const t=ke(e);if(!t)return!1;if(t===e)return!0;const n=t.getAttribute("aria-activedescendant");return!!n&&n===e.id}function kn(e){const t=ke(e);if(!t)return!1;if(Pe(e,t))return!0;const n=t.getAttribute("aria-activedescendant");return!!n&&"id"in e&&(n===e.id||!!e.querySelector(`#${CSS.escape(n)}`))}var Pn=Re(),An=["text","search","url","tel","email","password","number","date","month","week","time","datetime","datetime-local"],Mn=Symbol("safariFocusAncestor");function Tn(e,t){e&&(e[Mn]=t)}function Ln(e){return!("input"!==e.tagName.toLowerCase()||!e.type||"radio"!==e.type&&"checkbox"!==e.type)}function Fn(e,t,n,i,r){return e?t?n&&!i?-1:void 0:n?r:r||0:r}function Vn(e,t){return Je((n=>{null==e||e(n),n.defaultPrevented||t&&(n.stopPropagation(),n.preventDefault())}))}var Dn=!0;function Nn(e){const t=e.target;t&&"hasAttribute"in t&&(t.hasAttribute("data-focus-visible")||(Dn=!1))}function Bn(e){e.metaKey||e.ctrlKey||e.altKey||(Dn=!0)}var Rn=ft((function(e){var t=e,{focusable:n=!0,accessibleWhenDisabled:i,autoFocus:r,onFocusVisible:s}=t,o=ie(t,["focusable","accessibleWhenDisabled","autoFocus","onFocusVisible"]);const a=(0,Se.useRef)(null);(0,Se.useEffect)((()=>{n&&(Ye("mousedown",Nn,!0),Ye("keydown",Bn,!0))}),[n]),Pn&&(0,Se.useEffect)((()=>{if(!n)return;const e=a.current;if(!e)return;if(!Ln(e))return;const t=function(e){return"labels"in e?e.labels:null}(e);if(!t)return;const i=()=>queueMicrotask((()=>e.focus()));for(const e of t)e.addEventListener("mouseup",i);return()=>{for(const e of t)e.removeEventListener("mouseup",i)}}),[n]);const l=n&&we(o),c=!!l&&!i,[u,d]=(0,Se.useState)(!1);(0,Se.useEffect)((()=>{n&&c&&u&&d(!1)}),[n,c,u]),(0,Se.useEffect)((()=>{if(!n)return;if(!u)return;const e=a.current;if(!e)return;if("undefined"==typeof IntersectionObserver)return;const t=new IntersectionObserver((()=>{In(e)||d(!1)}));return t.observe(e),()=>t.disconnect()}),[n,u]);const f=Vn(o.onKeyPressCapture,l),h=Vn(o.onMouseDownCapture,l),m=Vn(o.onClickCapture,l),p=o.onMouseDown,g=Je((e=>{if(null==p||p(e),e.defaultPrevented)return;if(!n)return;const t=e.currentTarget;if(!Pn)return;if(ze(e))return;if(!Ae(t)&&!Ln(t))return;let i=!1;const r=()=>{i=!0};t.addEventListener("focusin",r,{capture:!0,once:!0});const s=function(e){for(;e&&!In(e);)e=e.closest(jn);return e||null}(t.parentElement);Tn(s,!0),qe(t,"mouseup",(()=>{t.removeEventListener("focusin",r,!0),Tn(s,!1),i||function(e){!kn(e)&&In(e)&&e.focus()}(t)}))})),v=(e,t)=>{if(t&&(e.currentTarget=t),!n)return;const i=e.currentTarget;i&&On(i)&&(null==s||s(e),e.defaultPrevented||(i.dataset.focusVisible="true",d(!0)))},b=o.onKeyDownCapture,y=Je((e=>{if(null==b||b(e),e.defaultPrevented)return;if(!n)return;if(u)return;if(e.metaKey)return;if(e.altKey)return;if(e.ctrlKey)return;if(!He(e))return;const t=e.currentTarget;qe(t,"focusout",(()=>v(e,t)))})),w=o.onFocusCapture,x=Je((e=>{if(null==w||w(e),e.defaultPrevented)return;if(!n)return;if(!He(e))return void d(!1);const t=e.currentTarget;Dn||function(e){const{tagName:t,readOnly:n,type:i}=e;return"TEXTAREA"===t&&!n||"SELECT"===t&&!n||("INPUT"!==t||n?!!e.isContentEditable||!("combobox"!==e.getAttribute("role")||!e.dataset.name):An.includes(i))}(e.target)?qe(e.target,"focusout",(()=>v(e,t))):d(!1)})),_=o.onBlur,S=Je((e=>{null==_||_(e),n&&We(e)&&d(!1)})),C=(0,Se.useContext)(En),E=Je((e=>{n&&r&&e&&C&&queueMicrotask((()=>{On(e)||In(e)&&e.focus()}))})),j=function(e,t){const n=e=>{if("string"==typeof e)return e},[i,r]=(0,Se.useState)((()=>n(t)));return Ze((()=>{const i=e&&"current"in e?e.current:e;r((null==i?void 0:i.tagName.toLowerCase())||n(t))}),[e,t]),i}(a),I=n&&function(e){return!e||"button"===e||"summary"===e||"input"===e||"select"===e||"textarea"===e||"a"===e}(j),O=n&&function(e){return!e||"button"===e||"input"===e||"select"===e||"textarea"===e}(j),k=o.style,P=(0,Se.useMemo)((()=>c?te({pointerEvents:"none"},k):k),[c,k]);return xe(o=ne(te({"data-focus-visible":n&&u||void 0,"data-autofocus":r||void 0,"aria-disabled":l||void 0},o),{ref:Qe(a,E,o.ref),style:P,tabIndex:Fn(n,c,I,O,o.tabIndex),disabled:!(!O||!c)||void 0,contentEditable:l?void 0:o.contentEditable,onKeyPressCapture:f,onClickCapture:m,onMouseDownCapture:h,onMouseDown:g,onKeyDownCapture:y,onFocusCapture:x,onBlur:S}))}));function zn(e,t,n){return Je((i=>{var r;if(null==t||t(i),i.defaultPrevented)return;if(i.isPropagationStopped())return;if(!He(i))return;if(function(e){return"Shift"===e.key||"Control"===e.key||"Alt"===e.key||"Meta"===e.key}(i))return;if(function(e){const t=e.target;return!(t&&!Te(t)||1!==e.key.length||e.ctrlKey||e.metaKey)}(i))return;const s=e.getState(),o=null==(r=xn(e,s.activeId))?void 0:r.element;if(!o)return;const a=i,{view:l}=a,c=ie(a,["view"]);o!==(null==n?void 0:n.current)&&o.focus(),function(e,t,n){const i=new KeyboardEvent(t,n);return e.dispatchEvent(i)}(o,i.type,c)||i.preventDefault(),i.currentTarget.contains(o)&&i.stopPropagation()}))}ct((function(e){return dt("div",Rn(e))}));var Hn=ft((function(e){var t=e,{store:n,composite:i=!0,focusOnMove:r=i,moveOnKeyPress:s=!0}=t,o=ie(t,["store","composite","focusOnMove","moveOnKeyPress"]);const a=bt();ye(n=n||a,!1);const c=(0,Se.useRef)(null),u=(0,Se.useRef)(null),d=function(e){const[t,n]=(0,Se.useState)(!1),i=(0,Se.useCallback)((()=>n(!0)),[]),r=e.useState((t=>xn(e,t.activeId)));return(0,Se.useEffect)((()=>{const e=null==r?void 0:r.element;t&&e&&(n(!1),e.focus({preventScroll:!0}))}),[r,t]),i}(n),f=n.useState("moves"),[,h]=function(e){const[t,n]=(0,Se.useState)(null);return Ze((()=>{if(null==t)return;if(!e)return;let n=null;return e((e=>(n=e,t))),()=>{e(n)}}),[t,e]),[t,n]}(i?n.setBaseElement:null);(0,Se.useEffect)((()=>{var e;if(!n)return;if(!f)return;if(!i)return;if(!r)return;const{activeId:t}=n.getState(),s=null==(e=xn(n,t))?void 0:e.element;var o;s&&("scrollIntoView"in(o=s)?(o.focus({preventScroll:!0}),o.scrollIntoView(de({block:"nearest",inline:"nearest"},undefined))):o.focus())}),[n,f,i,r]),Ze((()=>{if(!n)return;if(!f)return;if(!i)return;const{baseElement:e,activeId:t}=n.getState();if(null!==t)return;if(!e)return;const r=u.current;u.current=null,r&&$e(r,{relatedTarget:e}),On(e)||e.focus()}),[n,f,i]);const m=n.useState("activeId"),p=n.useState("virtualFocus");Ze((()=>{var e;if(!n)return;if(!i)return;if(!p)return;const t=u.current;if(u.current=null,!t)return;const r=(null==(e=xn(n,m))?void 0:e.element)||ke(t);r!==t&&$e(t,{relatedTarget:r})}),[n,m,p,i]);const g=zn(n,o.onKeyDownCapture,u),v=zn(n,o.onKeyUpCapture,u),b=o.onFocusCapture,y=Je((e=>{if(null==b||b(e),e.defaultPrevented)return;if(!n)return;const{virtualFocus:t}=n.getState();if(!t)return;const i=e.relatedTarget,r=function(e){const t=e[Sn];return delete e[Sn],t}(e.currentTarget);He(e)&&r&&(e.stopPropagation(),u.current=i)})),w=o.onFocus,x=Je((e=>{if(null==w||w(e),e.defaultPrevented)return;if(!i)return;if(!n)return;const{relatedTarget:t}=e,{virtualFocus:r}=n.getState();r?He(e)&&!Cn(n,t)&&queueMicrotask(d):He(e)&&n.setActiveId(null)})),_=o.onBlurCapture,S=Je((e=>{var t;if(null==_||_(e),e.defaultPrevented)return;if(!n)return;const{virtualFocus:i,activeId:r}=n.getState();if(!i)return;const s=null==(t=xn(n,r))?void 0:t.element,o=e.relatedTarget,a=Cn(n,o),l=u.current;u.current=null,He(e)&&a?(o===s?l&&l!==o&&$e(l,e):s?$e(s,e):l&&$e(l,e),e.stopPropagation()):!Cn(n,e.target)&&s&&$e(s,e)})),C=o.onKeyDown,E=nt(s),j=Je((e=>{var t;if(null==C||C(e),e.defaultPrevented)return;if(!n)return;if(!He(e))return;const{orientation:i,renderedItems:r,activeId:s}=n.getState(),o=xn(n,s);if(null==(t=null==o?void 0:o.element)?void 0:t.isConnected)return;const a="horizontal"!==i,l="vertical"!==i,c=r.some((e=>!!e.rowId));if(("ArrowLeft"===e.key||"ArrowRight"===e.key||"Home"===e.key||"End"===e.key)&&Te(e.currentTarget))return;const u={ArrowUp:(c||a)&&(()=>{if(c){const e=function(e){return e.find((e=>!e.disabled))}(Ht($t(function(e){const t=[];for(const n of e){const e=t.find((e=>{var t;return(null==(t=e[0])?void 0:t.rowId)===n.rowId}));e?e.push(n):t.push([n])}return t}(r))));return null==e?void 0:e.id}return null==n?void 0:n.last()}),ArrowRight:(c||l)&&n.first,ArrowDown:(c||a)&&n.first,ArrowLeft:(c||l)&&n.last,Home:n.first,End:n.last,PageUp:n.first,PageDown:n.last},d=u[e.key];if(d){const t=d();if(void 0!==t){if(!E(e))return;e.preventDefault(),n.move(t)}}}));o=it(o,(e=>(0,l.jsx)(yt,{value:n,children:e})),[n]);const I=n.useState((e=>{var t;if(n&&i&&e.virtualFocus)return null==(t=xn(n,e.activeId))?void 0:t.id}));o=ne(te({"aria-activedescendant":I},o),{ref:Qe(c,h,o.ref),onKeyDownCapture:g,onKeyUpCapture:v,onFocusCapture:y,onFocus:x,onBlurCapture:S,onKeyDown:j});const O=n.useState((e=>i&&(e.virtualFocus||null===e.activeId)));return Rn(te({focusable:O},o))}));function $n(e,t,n){if(!n)return!1;const i=e.find((e=>!e.disabled&&e.value));return(null==i?void 0:i.value)===t}function Un(e,t){return!!t&&null!=e&&(e=ve(e),t.length>e.length&&0===t.toLowerCase().indexOf(e.toLowerCase()))}ct((function(e){return dt("div",Hn(e))}));var Wn=ft((function(e){var t=e,{store:n,focusable:i=!0,autoSelect:r=!1,getAutoSelectId:s,setValueOnChange:o,showMinLength:a=0,showOnChange:l,showOnMouseDown:c,showOnClick:u=c,showOnKeyDown:d,showOnKeyPress:f=d,blurActiveItemOnClick:h,setValueOnClick:m=!0,moveOnKeyPress:p=!0,autoComplete:g="list"}=t,v=ie(t,["store","focusable","autoSelect","getAutoSelectId","setValueOnChange","showMinLength","showOnChange","showOnMouseDown","showOnClick","showOnKeyDown","showOnKeyPress","blurActiveItemOnClick","setValueOnClick","moveOnKeyPress","autoComplete"]);const b=fn();ye(n=n||b,!1);const y=(0,Se.useRef)(null),[w,x]=(0,Se.useReducer)((()=>[]),[]),_=(0,Se.useRef)(!1),S=(0,Se.useRef)(!1),C=n.useState((e=>e.virtualFocus&&r)),E="inline"===g||"both"===g,[j,I]=(0,Se.useState)(E);!function(e,t){const n=(0,Se.useRef)(!1);Ze((()=>{n.current?E&&I(!0):n.current=!0}),t),Ze((()=>()=>{n.current=!1}),[])}(0,[E]);const O=n.useState("value"),k=(0,Se.useRef)();(0,Se.useEffect)((()=>Pt(n,["selectedValue","activeId"],((e,t)=>{k.current=t.selectedValue}))),[]);const P=n.useState((e=>{var t;if(E&&j){if(e.activeValue&&Array.isArray(e.selectedValue)){if(e.selectedValue.includes(e.activeValue))return;if(null==(t=k.current)?void 0:t.includes(e.activeValue))return}return e.activeValue}})),A=n.useState("renderedItems"),M=n.useState("open"),T=n.useState("contentElement"),L=(0,Se.useMemo)((()=>{if(!E)return O;if(!j)return O;if($n(A,P,C)){if(Un(O,P)){const e=(null==P?void 0:P.slice(O.length))||"";return O+e}return O}return P||O}),[E,j,A,P,C,O]);(0,Se.useEffect)((()=>{const e=y.current;if(!e)return;const t=()=>I(!0);return e.addEventListener("combobox-item-move",t),()=>{e.removeEventListener("combobox-item-move",t)}}),[]),(0,Se.useEffect)((()=>{if(!E)return;if(!j)return;if(!P)return;if(!$n(A,P,C))return;if(!Un(O,P))return;let e=me;return queueMicrotask((()=>{const t=y.current;if(!t)return;const{start:n,end:i}=Fe(t),r=O.length,s=P.length;Ne(t,r,s),e=()=>{if(!On(t))return;const{start:e,end:o}=Fe(t);e===r&&o===s&&Ne(t,n,i)}})),()=>e()}),[w,E,j,P,A,C,O]);const F=(0,Se.useRef)(null),V=Je(s),D=(0,Se.useRef)(null);(0,Se.useEffect)((()=>{if(!M)return;if(!T)return;const e=De(T);if(!e)return;F.current=e;const t=()=>{_.current=!1},i=()=>{if(!n)return;if(!_.current)return;const{activeId:e}=n.getState();null!==e&&e!==D.current&&(_.current=!1)},r={passive:!0,capture:!0};return e.addEventListener("wheel",t,r),e.addEventListener("touchmove",t,r),e.addEventListener("scroll",i,r),()=>{e.removeEventListener("wheel",t,!0),e.removeEventListener("touchmove",t,!0),e.removeEventListener("scroll",i,!0)}}),[M,T,n]),Ze((()=>{O&&(S.current||(_.current=!0))}),[O]),Ze((()=>{"always"!==C&&M||(_.current=M)}),[C,M]);const N=n.useState("resetValueOnSelect");tt((()=>{var e,t;const i=_.current;if(!n)return;if(!M)return;if(!i&&!N)return;const{baseElement:r,contentElement:s,activeId:o}=n.getState();if(!r||On(r)){if(null==s?void 0:s.hasAttribute("data-placing")){const e=new MutationObserver(x);return e.observe(s,{attributeFilter:["data-placing"]}),()=>e.disconnect()}if(C&&i){const t=V(A),i=void 0!==t?t:null!=(e=function(e){const t=e.find((e=>{var t;return!e.disabled&&"tab"!==(null==(t=e.element)?void 0:t.getAttribute("role"))}));return null==t?void 0:t.id}(A))?e:n.first();D.current=i,n.move(null!=i?i:null)}else{const e=null==(t=n.item(o||n.first()))?void 0:t.element;e&&"scrollIntoView"in e&&e.scrollIntoView({block:"nearest",inline:"nearest"})}}}),[n,M,w,O,C,N,V,A]),(0,Se.useEffect)((()=>{if(!E)return;const e=y.current;if(!e)return;const t=[e,T].filter((e=>!!e)),i=e=>{t.every((t=>We(e,t)))&&(null==n||n.setValue(L))};for(const e of t)e.addEventListener("focusout",i);return()=>{for(const e of t)e.removeEventListener("focusout",i)}}),[E,T,n,L]);const B=e=>e.currentTarget.value.length>=a,R=v.onChange,z=nt(null!=l?l:B),H=nt(null!=o?o:!n.tag),$=Je((e=>{if(null==R||R(e),e.defaultPrevented)return;if(!n)return;const t=e.currentTarget,{value:i,selectionStart:r,selectionEnd:s}=t,o=e.nativeEvent;if(_.current=!0,function(e){return"input"===e.type}(o)&&(o.isComposing&&(_.current=!1,S.current=!0),E)){const e="insertText"===o.inputType||"insertCompositionText"===o.inputType,t=r===i.length;I(e&&t)}if(H(e)){const e=i===n.getState().value;n.setValue(i),queueMicrotask((()=>{Ne(t,r,s)})),E&&C&&e&&x()}z(e)&&n.show(),C&&_.current||n.setActiveId(null)})),U=v.onCompositionEnd,W=Je((e=>{_.current=!0,S.current=!1,null==U||U(e),e.defaultPrevented||C&&x()})),q=v.onMouseDown,Y=nt(null!=h?h:()=>!!(null==n?void 0:n.getState().includesBaseElement)),X=nt(m),G=nt(null!=u?u:B),K=Je((e=>{null==q||q(e),e.defaultPrevented||e.button||e.ctrlKey||n&&(Y(e)&&n.setActiveId(null),X(e)&&n.setValue(L),G(e)&&qe(e.currentTarget,"mouseup",n.show))})),Z=v.onKeyDown,J=nt(null!=f?f:B),Q=Je((e=>{if(null==Z||Z(e),e.repeat||(_.current=!1),e.defaultPrevented)return;if(e.ctrlKey)return;if(e.altKey)return;if(e.shiftKey)return;if(e.metaKey)return;if(!n)return;const{open:t}=n.getState();t||"ArrowUp"!==e.key&&"ArrowDown"!==e.key||J(e)&&(e.preventDefault(),n.show())})),ee=v.onBlur,re=Je((e=>{_.current=!1,null==ee||ee(e),e.defaultPrevented})),se=et(v.id),oe=function(e){return"inline"===e||"list"===e||"both"===e||"none"===e}(g)?g:void 0,ae=n.useState((e=>null===e.activeId));return v=ne(te({id:se,role:"combobox","aria-autocomplete":oe,"aria-haspopup":Ve(T,"listbox"),"aria-expanded":M,"aria-controls":null==T?void 0:T.id,"data-active-item":ae||void 0,value:L},v),{ref:Qe(y,v.ref),onChange:$,onCompositionEnd:W,onMouseDown:K,onKeyDown:Q,onBlur:re}),v=Hn(ne(te({store:n,focusable:i},v),{moveOnKeyPress:e=>!function(e,...t){const n="function"==typeof e?e(...t):e;return null!=n&&!n}(p,e)&&(E&&I(!0),!0)})),v=wn(te({store:n},v)),te({autoComplete:"off"},v)})),qn=ct((function(e){return dt("input",Wn(e))})),Yn=n(795);function Xn(e,t){const n=setTimeout(t,e);return()=>clearTimeout(n)}function Gn(...e){return e.join(", ").split(", ").reduce(((e,t)=>{const n=t.endsWith("ms")?1:1e3,i=Number.parseFloat(t||"0s")*n;return i>e?i:e}),0)}function Kn(e,t,n){return!(n||!1===t||e&&!t)}var Zn=ft((function(e){var t=e,{store:n,alwaysVisible:i}=t,r=ie(t,["store","alwaysVisible"]);const s=Qt();ye(n=n||s,!1);const o=(0,Se.useRef)(null),a=et(r.id),[c,u]=(0,Se.useState)(null),d=n.useState("open"),f=n.useState("mounted"),h=n.useState("animated"),m=n.useState("contentElement"),p=Vt(n.disclosure,"contentElement");Ze((()=>{o.current&&(null==n||n.setContentElement(o.current))}),[n]),Ze((()=>{let e;return null==n||n.setState("animated",(t=>(e=t,!0))),()=>{void 0!==e&&(null==n||n.setState("animated",e))}}),[n]),Ze((()=>{if(h){if(null==m?void 0:m.isConnected)return function(e){let t=requestAnimationFrame((()=>{t=requestAnimationFrame(e)}));return()=>cancelAnimationFrame(t)}((()=>{u(d?"enter":f?"leave":null)}));u(null)}}),[h,m,d,f]),Ze((()=>{if(!n)return;if(!h)return;if(!c)return;if(!m)return;const e=()=>null==n?void 0:n.setState("animating",!1),t=()=>(0,Yn.flushSync)(e);if("leave"===c&&d)return;if("enter"===c&&!d)return;if("number"==typeof h)return Xn(h,t);const{transitionDuration:i,animationDuration:r,transitionDelay:s,animationDelay:o}=getComputedStyle(m),{transitionDuration:a="0",animationDuration:l="0",transitionDelay:u="0",animationDelay:f="0"}=p?getComputedStyle(p):{},g=Gn(s,o,u,f)+Gn(i,r,a,l);return g?Xn(Math.max(g-1e3/60,0),t):("enter"===c&&n.setState("animated",!1),void e())}),[n,h,m,p,d,c]),r=it(r,(e=>(0,l.jsx)(nn,{value:n,children:e})),[n]);const g=Kn(f,r.hidden,i),v=r.style,b=(0,Se.useMemo)((()=>g?ne(te({},v),{display:"none"}):v),[g,v]);return xe(r=ne(te({id:a,"data-open":d||void 0,"data-enter":"enter"===c||void 0,"data-leave":"leave"===c||void 0,hidden:g},r),{ref:Qe(a?n.setContentElement:null,o,r.ref),style:b}))})),Jn=ct((function(e){return dt("div",Zn(e))})),Qn=(ct((function(e){var t=e,{unmountOnHide:n}=t,i=ie(t,["unmountOnHide"]);const r=Qt();return!1===Vt(i.store||r,(e=>!n||(null==e?void 0:e.mounted)))?null:(0,l.jsx)(Jn,te({},i))})),ft((function(e){var t=e,{store:n,alwaysVisible:i}=t,r=ie(t,["store","alwaysVisible"]);const s=dn(!0),o=un(),a=!!(n=n||o)&&n===s;ye(n,!1);const c=(0,Se.useRef)(null),u=et(r.id),d=n.useState("mounted"),f=Kn(d,r.hidden,i),h=f?ne(te({},r.style),{display:"none"}):r.style,m=n.useState((e=>Array.isArray(e.selectedValue))),p=function(e,t,n){const i=function(e){const[t]=(0,Se.useState)(e);return t}(n),[r,s]=(0,Se.useState)(i);return(0,Se.useEffect)((()=>{const n=e&&"current"in e?e.current:e;if(!n)return;const r=()=>{const e=n.getAttribute(t);s(null==e?i:e)},o=new MutationObserver(r);return o.observe(n,{attributeFilter:[t]}),r(),()=>o.disconnect()}),[e,t,i]),r}(c,"role",r.role),g=("listbox"===p||"tree"===p||"grid"===p)&&m||void 0,[v,b]=(0,Se.useState)(!1),y=n.useState("contentElement");Ze((()=>{if(!d)return;const e=c.current;if(!e)return;if(y!==e)return;const t=()=>{b(!!e.querySelector("[role='listbox']"))},n=new MutationObserver(t);return n.observe(e,{subtree:!0,childList:!0,attributeFilter:["role"]}),t(),()=>n.disconnect()}),[d,y]),v||(r=te({role:"listbox","aria-multiselectable":g},r)),r=it(r,(e=>(0,l.jsx)(mn,{value:n,children:(0,l.jsx)(ln.Provider,{value:p,children:e})})),[n,p]);const w=!u||s&&a?null:n.setContentElement;return xe(r=ne(te({id:u,hidden:f},r),{ref:Qe(w,c,r.ref),style:h}))}))),ei=ct((function(e){return dt("div",Qn(e))}));function ti(e){const t=e.relatedTarget;return(null==t?void 0:t.nodeType)===Node.ELEMENT_NODE?t:null}var ni=Symbol("composite-hover"),ii=ft((function(e){var t=e,{store:n,focusOnHover:i=!0,blurOnHoverEnd:r=!!i}=t,s=ie(t,["store","focusOnHover","blurOnHoverEnd"]);const o=vt();ye(n=n||o,!1);const a=((0,Se.useEffect)((()=>{Ye("mousemove",at,!0),Ye("mousedown",lt,!0),Ye("mouseup",lt,!0),Ye("keydown",lt,!0),Ye("scroll",lt,!0)}),[]),Je((()=>rt))),l=s.onMouseMove,c=nt(i),u=Je((e=>{if(null==l||l(e),!e.defaultPrevented&&a()&&c(e)){if(!kn(e.currentTarget)){const e=null==n?void 0:n.getState().baseElement;e&&!On(e)&&e.focus()}null==n||n.setActiveId(e.currentTarget.id)}})),d=s.onMouseLeave,f=nt(r),h=Je((e=>{var t;null==d||d(e),e.defaultPrevented||a()&&(function(e){const t=ti(e);return!!t&&Pe(e.currentTarget,t)}(e)||function(e){let t=ti(e);if(!t)return!1;do{if(pe(t,ni)&&t[ni])return!0;t=t.parentElement}while(t);return!1}(e)||c(e)&&f(e)&&(null==n||n.setActiveId(null),null==(t=null==n?void 0:n.getState().baseElement)||t.focus()))})),m=(0,Se.useCallback)((e=>{e&&(e[ni]=!0)}),[]);return xe(s=ne(te({},s),{ref:Qe(m,s.ref),onMouseMove:u,onMouseLeave:h}))})),ri=(ut(ct((function(e){return dt("div",ii(e))}))),ft((function(e){var t=e,{store:n,shouldRegisterItem:i=!0,getItem:r=be,element:s}=t,o=ie(t,["store","shouldRegisterItem","getItem","element"]);const a=pt();n=n||a;const l=et(o.id),c=(0,Se.useRef)(s);return(0,Se.useEffect)((()=>{const e=c.current;if(!l)return;if(!e)return;if(!i)return;const t=r({id:l,element:e});return null==n?void 0:n.renderItem(t)}),[l,i,r,n]),xe(o=ne(te({},o),{ref:Qe(c,o.ref)}))})));function si(e){if(!e.isTrusted)return!1;const t=e.currentTarget;return"Enter"===e.key?Ae(t)||"SUMMARY"===t.tagName||"A"===t.tagName:" "===e.key&&(Ae(t)||"SUMMARY"===t.tagName||"INPUT"===t.tagName||"SELECT"===t.tagName)}ct((function(e){return dt("div",ri(e))}));var oi=Symbol("command"),ai=ft((function(e){var t=e,{clickOnEnter:n=!0,clickOnSpace:i=!0}=t,r=ie(t,["clickOnEnter","clickOnSpace"]);const s=(0,Se.useRef)(null),[o,a]=(0,Se.useState)(!1);(0,Se.useEffect)((()=>{s.current&&a(Ae(s.current))}),[]);const[l,c]=(0,Se.useState)(!1),u=(0,Se.useRef)(!1),d=we(r),[f,h]=function(e,t,n){const i=e.onLoadedMetadataCapture,r=(0,Se.useMemo)((()=>Object.assign((()=>{}),ne(te({},i),{[t]:n}))),[i,t,n]);return[null==i?void 0:i[t],{onLoadedMetadataCapture:r}]}(r,oi,!0),m=r.onKeyDown,p=Je((e=>{null==m||m(e);const t=e.currentTarget;if(e.defaultPrevented)return;if(f)return;if(d)return;if(!He(e))return;if(Te(t))return;if(t.isContentEditable)return;const r=n&&"Enter"===e.key,s=i&&" "===e.key,o="Enter"===e.key&&!n,a=" "===e.key&&!i;if(o||a)e.preventDefault();else if(r||s){const n=si(e);if(r){if(!n){e.preventDefault();const n=e,{view:i}=n,r=ie(n,["view"]),s=()=>Ue(t,r);Ie&&/firefox\//i.test(navigator.userAgent)?qe(t,"keyup",s):queueMicrotask(s)}}else s&&(u.current=!0,n||(e.preventDefault(),c(!0)))}})),g=r.onKeyUp,v=Je((e=>{if(null==g||g(e),e.defaultPrevented)return;if(f)return;if(d)return;if(e.metaKey)return;const t=i&&" "===e.key;if(u.current&&t&&(u.current=!1,!si(e))){e.preventDefault(),c(!1);const t=e.currentTarget,n=e,{view:i}=n,r=ie(n,["view"]);queueMicrotask((()=>Ue(t,r)))}}));return r=ne(te(te({"data-active":l||void 0,type:o?"button":void 0},h),r),{ref:Qe(s,r.ref),onKeyDown:p,onKeyUp:v}),Rn(r)}));function li(e,t=!1){const{top:n}=e.getBoundingClientRect();return t?n+e.clientHeight:n}function ci(e,t,n,i=!1){var r;if(!t)return;if(!n)return;const{renderedItems:s}=t.getState(),o=De(e);if(!o)return;const a=function(e,t=!1){const n=e.clientHeight,{top:i}=e.getBoundingClientRect(),r=1.5*Math.max(.875*n,n-40),s=t?n-r+i:r+i;return"HTML"===e.tagName?s+e.scrollTop:s}(o,i);let l,c;for(let e=0;e<s.length;e+=1){const s=l;if(l=n(e),!l)break;if(l===s)continue;const o=null==(r=xn(t,l))?void 0:r.element;if(!o)continue;const u=li(o,i)-a,d=Math.abs(u);if(i&&u<=0||!i&&u>=0){void 0!==c&&c<d&&(l=s);break}c=d}return l}ct((function(e){return dt("button",ai(e))}));var ui=ft((function(e){var t=e,{store:n,rowId:i,preventScrollOnKeyDown:r=!1,moveOnKeyPress:s=!0,tabbable:o=!1,getItem:a,"aria-setsize":c,"aria-posinset":u}=t,d=ie(t,["store","rowId","preventScrollOnKeyDown","moveOnKeyPress","tabbable","getItem","aria-setsize","aria-posinset"]);const f=vt();n=n||f;const h=et(d.id),m=(0,Se.useRef)(null),p=(0,Se.useContext)(_t),g=we(d)&&!d.accessibleWhenDisabled,{rowId:v,baseElement:b,isActiveItem:y,ariaSetSize:w,ariaPosInSet:x,isTabbable:_}=Dt(n,{rowId:e=>i||(e&&(null==p?void 0:p.baseElement)&&p.baseElement===e.baseElement?p.id:void 0),baseElement:e=>(null==e?void 0:e.baseElement)||void 0,isActiveItem:e=>!!e&&e.activeId===h,ariaSetSize:e=>null!=c?c:e&&(null==p?void 0:p.ariaSetSize)&&p.baseElement===e.baseElement?p.ariaSetSize:void 0,ariaPosInSet(e){if(null!=u)return u;if(!e)return;if(!(null==p?void 0:p.ariaPosInSet))return;if(p.baseElement!==e.baseElement)return;const t=e.renderedItems.filter((e=>e.rowId===v));return p.ariaPosInSet+t.findIndex((e=>e.id===h))},isTabbable(e){if(!(null==e?void 0:e.renderedItems.length))return!0;if(e.virtualFocus)return!1;if(o)return!0;if(null===e.activeId)return!1;const t=null==n?void 0:n.item(e.activeId);return!!(null==t?void 0:t.disabled)||!(null==t?void 0:t.element)||e.activeId===h}}),S=(0,Se.useCallback)((e=>{var t;const n=ne(te({},e),{id:h||e.id,rowId:v,disabled:!!g,children:null==(t=e.element)?void 0:t.textContent});return a?a(n):n}),[h,v,g,a]),C=d.onFocus,E=(0,Se.useRef)(!1),j=Je((e=>{if(null==C||C(e),e.defaultPrevented)return;if(ze(e))return;if(!h)return;if(!n)return;if(function(e,t){return!He(e)&&Cn(t,e.target)}(e,n))return;const{virtualFocus:t,baseElement:i}=n.getState();var r;(n.setActiveId(h),Le(e.currentTarget)&&function(e,t=!1){if(Te(e))e.setSelectionRange(t?e.value.length:0,e.value.length);else if(e.isContentEditable){const n=Oe(e).getSelection();null==n||n.selectAllChildren(e),t&&(null==n||n.collapseToEnd())}}(e.currentTarget),t)&&(He(e)&&(Le(r=e.currentTarget)||"INPUT"===r.tagName&&!Ae(r)||(null==i?void 0:i.isConnected)&&(Re()&&e.currentTarget.hasAttribute("data-autofocus")&&e.currentTarget.scrollIntoView({block:"nearest",inline:"nearest"}),E.current=!0,e.relatedTarget===i||Cn(n,e.relatedTarget)?function(e){e[Sn]=!0,e.focus({preventScroll:!0})}(i):i.focus())))})),I=d.onBlurCapture,O=Je((e=>{if(null==I||I(e),e.defaultPrevented)return;const t=null==n?void 0:n.getState();(null==t?void 0:t.virtualFocus)&&E.current&&(E.current=!1,e.preventDefault(),e.stopPropagation())})),k=d.onKeyDown,P=nt(r),A=nt(s),M=Je((e=>{if(null==k||k(e),e.defaultPrevented)return;if(!He(e))return;if(!n)return;const{currentTarget:t}=e,i=n.getState(),r=n.item(h),s=!!(null==r?void 0:r.rowId),o="horizontal"!==i.orientation,a="vertical"!==i.orientation,l=()=>!(!s&&!a&&i.baseElement&&Te(i.baseElement)),c={ArrowUp:(s||o)&&n.up,ArrowRight:(s||a)&&n.next,ArrowDown:(s||o)&&n.down,ArrowLeft:(s||a)&&n.previous,Home:()=>{if(l())return!s||e.ctrlKey?null==n?void 0:n.first():null==n?void 0:n.previous(-1)},End:()=>{if(l())return!s||e.ctrlKey?null==n?void 0:n.last():null==n?void 0:n.next(-1)},PageUp:()=>ci(t,n,null==n?void 0:n.up,!0),PageDown:()=>ci(t,n,null==n?void 0:n.down)}[e.key];if(c){if(Le(t)){const n=Fe(t),i=a&&"ArrowLeft"===e.key,r=a&&"ArrowRight"===e.key,s=o&&"ArrowUp"===e.key,l=o&&"ArrowDown"===e.key;if(r||l){const{length:e}=function(e){if(Te(e))return e.value;if(e.isContentEditable){const t=Oe(e).createRange();return t.selectNodeContents(e),t.toString()}return""}(t);if(n.end!==e)return}else if((i||s)&&0!==n.start)return}const i=c();if(P(e)||void 0!==i){if(!A(e))return;e.preventDefault(),n.move(i)}}})),T=(0,Se.useMemo)((()=>({id:h,baseElement:b})),[h,b]);return d=it(d,(e=>(0,l.jsx)(xt.Provider,{value:T,children:e})),[T]),d=ne(te({id:h,"data-active-item":y||void 0},d),{ref:Qe(m,d.ref),tabIndex:_?d.tabIndex:-1,onFocus:j,onBlurCapture:O,onKeyDown:M}),d=ai(d),d=ri(ne(te({store:n},d),{getItem:S,shouldRegisterItem:!!h&&d.shouldRegisterItem})),xe(ne(te({},d),{"aria-setsize":w,"aria-posinset":x}))}));function di(e){var t;return null!=(t={menu:"menuitem",listbox:"option",tree:"treeitem"}[e])?t:"option"}ut(ct((function(e){return dt("button",ui(e))})));var fi=ft((function(e){var t,n=e,{store:i,value:r,hideOnClick:s,setValueOnClick:o,selectValueOnClick:a=!0,resetValueOnSelect:c,focusOnHover:u=!1,moveOnKeyPress:d=!0,getItem:f}=n,h=ie(n,["store","value","hideOnClick","setValueOnClick","selectValueOnClick","resetValueOnSelect","focusOnHover","moveOnKeyPress","getItem"]);const m=dn();ye(i=i||m,!1);const{resetValueOnSelectState:p,multiSelectable:g,selected:v}=Dt(i,{resetValueOnSelectState:"resetValueOnSelect",multiSelectable:e=>Array.isArray(e.selectedValue),selected:e=>function(e,t){if(null!=t)return null!=e&&(Array.isArray(e)?e.includes(t):e===t)}(e.selectedValue,r)}),b=(0,Se.useCallback)((e=>{const t=ne(te({},e),{value:r});return f?f(t):t}),[r,f]);o=null!=o?o:!g,s=null!=s?s:null!=r&&!g;const y=h.onClick,w=nt(o),x=nt(a),_=nt(null!=(t=null!=c?c:p)?t:g),S=nt(s),C=Je((e=>{null==y||y(e),e.defaultPrevented||function(e){const t=e.currentTarget;if(!t)return!1;const n=t.tagName.toLowerCase();return!!e.altKey&&("a"===n||"button"===n&&"submit"===t.type||"input"===n&&"submit"===t.type)}(e)||function(e){const t=e.currentTarget;if(!t)return!1;const n=Be();if(n&&!e.metaKey)return!1;if(!n&&!e.ctrlKey)return!1;const i=t.tagName.toLowerCase();return"a"===i||"button"===i&&"submit"===t.type||"input"===i&&"submit"===t.type}(e)||(null!=r&&(x(e)&&(_(e)&&(null==i||i.resetValue()),null==i||i.setSelectedValue((e=>Array.isArray(e)?e.includes(r)?e.filter((e=>e!==r)):[...e,r]:r))),w(e)&&(null==i||i.setValue(r))),S(e)&&(null==i||i.hide()))})),E=h.onKeyDown,j=Je((e=>{if(null==E||E(e),e.defaultPrevented)return;const t=null==i?void 0:i.getState().baseElement;t&&(On(t)||(1===e.key.length||"Backspace"===e.key||"Delete"===e.key)&&(queueMicrotask((()=>t.focus())),Te(t)&&(null==i||i.setValue(t.value))))}));g&&null!=v&&(h=te({"aria-selected":v},h)),h=it(h,(e=>(0,l.jsx)(pn.Provider,{value:r,children:(0,l.jsx)(gn.Provider,{value:null!=v&&v,children:e})})),[r,v]);const I=(0,Se.useContext)(ln);h=ne(te({role:di(I),children:r},h),{onClick:C,onKeyDown:j});const O=nt(d);return h=ui(ne(te({store:i},h),{getItem:b,moveOnKeyPress:e=>{if(!O(e))return!1;const t=new Event("combobox-item-move"),n=null==i?void 0:i.getState().baseElement;return null==n||n.dispatchEvent(t),!0}})),ii(te({store:i,focusOnHover:u},h))})),hi=ut(ct((function(e){return dt("div",fi(e))})));function mi(e){return ve(e).toLowerCase()}var pi=ft((function(e){var t=e,{store:n,value:i,userValue:r}=t,s=ie(t,["store","value","userValue"]);const o=dn();n=n||o;const a=(0,Se.useContext)(pn),c=null!=i?i:a,u=Vt(n,(e=>null!=r?r:null==e?void 0:e.value)),d=(0,Se.useMemo)((()=>{if(c)return u?function(e,t){if(!e)return e;if(!t)return e;const n=(i=t,Array.isArray(i)?i:void 0!==i?[i]:[]).filter(Boolean).map(mi);var i;const r=[],s=(e,t=!1)=>(0,l.jsx)("span",{"data-autocomplete-value":t?"":void 0,"data-user-value":t?void 0:"",children:e},r.length),o=function(e){return e.sort((([e],[t])=>e-t))}(function(e){return e.filter((([e,t],n,i)=>!i.some((([i,r],s)=>s!==n&&i<=e&&i+r>=e+t))))}(function(e,t){const n=[];for(const i of t){let t=0;const r=i.length;for(;-1!==e.indexOf(i,t);){const s=e.indexOf(i,t);-1!==s&&n.push([s,r]),t=s+1}}return n}(mi(e),new Set(n))));if(!o.length)return r.push(s(e,!0)),r;const[a]=o[0],c=[e.slice(0,a),...o.flatMap((([t,n],i)=>{var r;const s=e.slice(t,t+n),a=null==(r=o[i+1])?void 0:r[0];return[s,e.slice(t+n,a)]}))];return c.forEach(((e,t)=>{e&&r.push(s(e,t%2==0))})),r}(c,u):c}),[c,u]);return xe(s=te({children:d},s))})),gi=ct((function(e){return dt("span",pi(e))})),vi=n(731),bi=n.n(vi);const yi=(0,l.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,l.jsx)(a.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})}),wi=(0,l.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,l.jsx)(a.Path,{d:"M13 5c-3.3 0-6 2.7-6 6 0 1.4.5 2.7 1.3 3.7l-3.8 3.8 1.1 1.1 3.8-3.8c1 .8 2.3 1.3 3.7 1.3 3.3 0 6-2.7 6-6S16.3 5 13 5zm0 10.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"})}),xi=[],_i=(e,t)=>e.singleSelection?t?.value:Array.isArray(t?.value)?t.value:!Array.isArray(t?.value)&&t?.value?[t.value]:xi;function Si(e=""){return bi()(e.trim().toLowerCase())}const Ci=(e,t,n)=>e.singleSelection?n:Array.isArray(t?.value)?t.value.includes(n)?t.value.filter((e=>e!==n)):[...t.value,n]:[n];function Ei(e,t){return`${e}-${t}`}const ji=({selected:e})=>(0,l.jsx)("span",{className:q("dataviews-filters__search-widget-listitem-multi-selection",{"is-selected":e}),children:e&&(0,l.jsx)(i.Icon,{icon:yi})}),Ii=({selected:e})=>(0,l.jsx)("span",{className:q("dataviews-filters__search-widget-listitem-single-selection",{"is-selected":e})});function Oi({view:e,filter:t,onChangeView:n}){const a=(0,s.useInstanceId)(Oi,"dataviews-filter-list-box"),[c,u]=(0,r.useState)(1===t.operators?.length?void 0:null),d=e.filters?.find((e=>e.field===t.field)),f=_i(t,d);return(0,l.jsx)(i.Composite,{virtualFocus:!0,focusLoop:!0,activeId:c,setActiveId:u,role:"listbox",className:"dataviews-filters__search-widget-listbox","aria-label":(0,o.sprintf)(/* translators: List of items for a filter. 1: Filter name. e.g.: "List of: Author". */ /* translators: List of items for a filter. 1: Filter name. e.g.: "List of: Author". */
(0,o.__)("List of: %1$s"),t.name),onFocusVisible:()=>{!c&&t.elements.length&&u(Ei(a,t.elements[0].value))},render:(0,l.jsx)(i.Composite.Typeahead,{}),children:t.elements.map((r=>(0,l.jsxs)(i.Composite.Hover,{render:(0,l.jsx)(i.Composite.Item,{id:Ei(a,r.value),render:(0,l.jsx)("div",{"aria-label":r.label,role:"option",className:"dataviews-filters__search-widget-listitem"}),onClick:()=>{var i,s;const o=d?[...(null!==(i=e.filters)&&void 0!==i?i:[]).map((e=>e.field===t.field?{...e,operator:d.operator||t.operators[0],value:Ci(t,d,r.value)}:e))]:[...null!==(s=e.filters)&&void 0!==s?s:[],{field:t.field,operator:t.operators[0],value:Ci(t,d,r.value)}];n({...e,page:1,filters:o})}}),children:[t.singleSelection&&(0,l.jsx)(Ii,{selected:f===r.value}),!t.singleSelection&&(0,l.jsx)(ji,{selected:f.includes(r.value)}),(0,l.jsx)("span",{children:r.label})]},r.value)))})}function ki({view:e,filter:t,onChangeView:n}){const[s,a]=(0,r.useState)(""),c=(0,r.useDeferredValue)(s),u=e.filters?.find((e=>e.field===t.field)),d=_i(t,u),f=(0,r.useMemo)((()=>{const e=Si(c);return t.elements.filter((t=>Si(t.label).includes(e)))}),[t.elements,c]);return(0,l.jsxs)(vn,{selectedValue:d,setSelectedValue:i=>{var r,s;const o=u?[...(null!==(r=e.filters)&&void 0!==r?r:[]).map((e=>e.field===t.field?{...e,operator:u.operator||t.operators[0],value:i}:e))]:[...null!==(s=e.filters)&&void 0!==s?s:[],{field:t.field,operator:t.operators[0],value:i}];n({...e,page:1,filters:o})},setValue:a,children:[(0,l.jsxs)("div",{className:"dataviews-filters__search-widget-filter-combobox__wrapper",children:[(0,l.jsx)(yn,{render:(0,l.jsx)(i.VisuallyHidden,{children:(0,o.__)("Search items")}),children:(0,o.__)("Search items")}),(0,l.jsx)(qn,{autoSelect:"always",placeholder:(0,o.__)("Search"),className:"dataviews-filters__search-widget-filter-combobox__input"}),(0,l.jsx)("div",{className:"dataviews-filters__search-widget-filter-combobox__icon",children:(0,l.jsx)(i.Icon,{icon:wi})})]}),(0,l.jsxs)(ei,{className:"dataviews-filters__search-widget-filter-combobox-list",alwaysVisible:!0,children:[f.map((e=>(0,l.jsxs)(hi,{resetValueOnSelect:!1,value:e.value,className:"dataviews-filters__search-widget-listitem",hideOnClick:!1,setValueOnClick:!1,focusOnHover:!0,children:[t.singleSelection&&(0,l.jsx)(Ii,{selected:d===e.value}),!t.singleSelection&&(0,l.jsx)(ji,{selected:d.includes(e.value)}),(0,l.jsxs)("span",{children:[(0,l.jsx)(gi,{className:"dataviews-filters__search-widget-filter-combobox-item-value",value:e.label}),!!e.description&&(0,l.jsx)("span",{className:"dataviews-filters__search-widget-listitem-description",children:e.description})]})]},e.value))),!f.length&&(0,l.jsx)("p",{children:(0,o.__)("No results found")})]})]})}function Pi(e){const t=e.filter.elements.length>10?ki:Oi;return(0,l.jsx)(t,{...e})}var Ai=n(252),Mi=n.n(Ai);function Ti({filter:e,view:t,onChangeView:n,fields:o}){const a=t.filters?.find((t=>t.field===e.field)),c=o.find((t=>t.id===e.field)),u=_i(e,a),d=(0,r.useMemo)((()=>{var e;return(null!==(e=t.filters)&&void 0!==e?e:[]).reduce(((e,t)=>(e[t.field]=t.value,e)),{})}),[t.filters]),f=(0,s.useEvent)((i=>{var r;if(!c||!a)return;const s=i[c.id];Mi()(s,u)||n({...t,filters:(null!==(r=t.filters)&&void 0!==r?r:[]).map((t=>t.field===e.field?{...t,operator:a.operator||e.operators[0],value:s}:t))})}));return c&&c.Edit&&a?(0,l.jsx)(i.Flex,{className:"dataviews-filters__user-input-widget",gap:2.5,direction:"column",children:(0,l.jsx)(c.Edit,{hideLabelFromVision:!0,data:d,field:c,operator:a.operator,onChange:f})}):null}const Li="Enter",Fi=" ",Vi=({activeElements:e,filterInView:t,filter:n})=>{if(void 0===e||0===e.length)return n.name;const i={Name:(0,l.jsx)("span",{className:"dataviews-filters__summary-filter-text-name"}),Value:(0,l.jsx)("span",{className:"dataviews-filters__summary-filter-text-value"})};if(t?.operator===h)return(0,r.createInterpolateElement)((0,o.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is any: Admin, Editor". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Author is any: Admin, Editor". */
(0,o.__)("<Name>%1$s is any: </Name><Value>%2$s</Value>"),n.name,e.map((e=>e.label)).join(", ")),i);if(t?.operator===m)return(0,r.createInterpolateElement)((0,o.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is none: Admin, Editor". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Author is none: Admin, Editor". */
(0,o.__)("<Name>%1$s is none: </Name><Value>%2$s</Value>"),n.name,e.map((e=>e.label)).join(", ")),i);if(t?.operator===p)return(0,r.createInterpolateElement)((0,o.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is all: Admin, Editor". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Author is all: Admin, Editor". */
(0,o.__)("<Name>%1$s is all: </Name><Value>%2$s</Value>"),n.name,e.map((e=>e.label)).join(", ")),i);if(t?.operator===g)return(0,r.createInterpolateElement)((0,o.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is not all: Admin, Editor". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Author is not all: Admin, Editor". */
(0,o.__)("<Name>%1$s is not all: </Name><Value>%2$s</Value>"),n.name,e.map((e=>e.label)).join(", ")),i);if(t?.operator===d)return(0,r.createInterpolateElement)((0,o.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is: Admin". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Author is: Admin". */
(0,o.__)("<Name>%1$s is: </Name><Value>%2$s</Value>"),n.name,e[0].label),i);if(t?.operator===f)return(0,r.createInterpolateElement)((0,o.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is not: Admin". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Author is not: Admin". */
(0,o.__)("<Name>%1$s is not: </Name><Value>%2$s</Value>"),n.name,e[0].label),i);if(t?.operator===v)return(0,r.createInterpolateElement)((0,o.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Price is less than: 10". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Price is less than: 10". */
(0,o.__)("<Name>%1$s is less than: </Name><Value>%2$s</Value>"),n.name,e[0].label),i);if(t?.operator===b)return(0,r.createInterpolateElement)((0,o.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Price is greater than: 10". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Price is greater than: 10". */
(0,o.__)("<Name>%1$s is greater than: </Name><Value>%2$s</Value>"),n.name,e[0].label),i);if(t?.operator===y)return(0,r.createInterpolateElement)((0,o.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Price is less than or equal to: 10". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Price is less than or equal to: 10". */
(0,o.__)("<Name>%1$s is less than or equal to: </Name><Value>%2$s</Value>"),n.name,e[0].label),i);if(t?.operator===w)return(0,r.createInterpolateElement)((0,o.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Price is greater than or equal to: 10". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Price is greater than or equal to: 10". */
(0,o.__)("<Name>%1$s is greater than or equal to: </Name><Value>%2$s</Value>"),n.name,e[0].label),i);if(t?.operator===E)return(0,r.createInterpolateElement)((0,o.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Title contains: Mars". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Title contains: Mars". */
(0,o.__)("<Name>%1$s contains: </Name><Value>%2$s</Value>"),n.name,e[0].label),i);if(t?.operator===j)return(0,r.createInterpolateElement)((0,o.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Description doesn't contain: photo". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Description doesn't contain: photo". */
(0,o.__)("<Name>%1$s doesn't contain: </Name><Value>%2$s</Value>"),n.name,e[0].label),i);if(t?.operator===I)return(0,r.createInterpolateElement)((0,o.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Title starts with: Mar". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Title starts with: Mar". */
(0,o.__)("<Name>%1$s starts with: </Name><Value>%2$s</Value>"),n.name,e[0].label),i);if(t?.operator===x)return(0,r.createInterpolateElement)((0,o.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is before: 2024-01-01". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Date is before: 2024-01-01". */
(0,o.__)("<Name>%1$s is before: </Name><Value>%2$s</Value>"),n.name,e[0].label),i);if(t?.operator===_)return(0,r.createInterpolateElement)((0,o.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is after: 2024-01-01". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Date is after: 2024-01-01". */
(0,o.__)("<Name>%1$s is after: </Name><Value>%2$s</Value>"),n.name,e[0].label),i);if(t?.operator===S)return(0,r.createInterpolateElement)((0,o.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is on or before: 2024-01-01". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Date is on or before: 2024-01-01". */
(0,o.__)("<Name>%1$s is on or before: </Name><Value>%2$s</Value>"),n.name,e[0].label),i);if(t?.operator===C)return(0,r.createInterpolateElement)((0,o.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is on or after: 2024-01-01". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Date is on or after: 2024-01-01". */
(0,o.__)("<Name>%1$s is on or after: </Name><Value>%2$s</Value>"),n.name,e[0].label),i);if(t?.operator===O){const{label:t}=e[0];return(0,r.createInterpolateElement)((0,o.sprintf)(/* translators: 1: Filter name. 2: Min value. 3: Max value. e.g.: "Item count between (inc): 10-180". */ /* translators: 1: Filter name. 2: Min value. 3: Max value. e.g.: "Item count between (inc): 10-180". */
(0,o.__)("<Name>%1$s between (inc): </Name><Value>%2$s-%3$s</Value>"),n.name,t[0],t[1]),i)}return t?.operator===k?(0,r.createInterpolateElement)((0,o.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is: 2024-01-01". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Date is: 2024-01-01". */
(0,o.__)("<Name>%1$s is: </Name><Value>%2$s</Value>"),n.name,e[0].label),i):t?.operator===P?(0,r.createInterpolateElement)((0,o.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is not: 2024-01-01". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Date is not: 2024-01-01". */
(0,o.__)("<Name>%1$s is not: </Name><Value>%2$s</Value>"),n.name,e[0].label),i):t?.operator===A?(0,r.createInterpolateElement)((0,o.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is in the past: 1 days". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Date is in the past: 1 days". */
(0,o.__)("<Name>%1$s is in the past: </Name><Value>%2$s</Value>"),n.name,`${e[0].value.value} ${e[0].value.unit}`),i):t?.operator===M?(0,r.createInterpolateElement)((0,o.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is over: 1 days ago". */ /* translators: 1: Filter name. 2: Filter value. e.g.: "Date is over: 1 days ago". */
(0,o.__)("<Name>%1$s is over: </Name><Value>%2$s</Value> ago"),n.name,`${e[0].value.value} ${e[0].value.unit}`),i):(0,o.sprintf)(/* translators: 1: Filter name e.g.: "Unknown status for Author". */ /* translators: 1: Filter name e.g.: "Unknown status for Author". */
(0,o.__)("Unknown status for %1$s"),n.name)};function Di({filter:e,view:t,onChangeView:n}){const r=e.operators?.map((e=>({value:e,label:F[e]?.label}))),s=t.filters?.find((t=>t.field===e.field)),a=s?.operator||e.operators[0];return r.length>1&&(0,l.jsxs)(i.__experimentalHStack,{spacing:2,justify:"flex-start",className:"dataviews-filters__summary-operators-container",children:[(0,l.jsx)(i.FlexItem,{className:"dataviews-filters__summary-operators-filter-name",children:e.name}),(0,l.jsx)(i.SelectControl,{className:"dataviews-filters__summary-operators-filter-select",label:(0,o.__)("Conditions"),value:a,options:r,onChange:i=>{var r,o;const a=i,l=s?.operator,c=s?[...(null!==(r=t.filters)&&void 0!==r?r:[]).map((t=>{if(t.field===e.field){const e=[O,A,M],n=l&&(e.includes(l)||e.includes(a));return{...t,value:n?void 0:t.value,operator:a}}return t}))]:[...null!==(o=t.filters)&&void 0!==o?o:[],{field:e.field,operator:a,value:void 0}];n({...t,page:1,filters:c})},size:"small",variant:"minimal",__nextHasNoMarginBottom:!0,hideLabelFromVision:!0})]})}function Ni({addFilterRef:e,openedFilter:t,fields:n,...s}){const a=(0,r.useRef)(null),{filter:c,view:u,onChangeView:d}=s,f=u.filters?.find((e=>e.field===c.field));let h=[];c.elements.length>0?h=c.elements.filter((e=>c.singleSelection?e.value===f?.value:f?.value?.includes(e.value))):void 0!==f?.value&&(h=[{value:f.value,label:f.value}]);const m=c.isPrimary,p=void 0!==f?.value,g=!m||p;return(0,l.jsx)(i.Dropdown,{defaultOpen:t===c.field,contentClassName:"dataviews-filters__summary-popover",popoverProps:{placement:"bottom-start",role:"dialog"},onClose:()=>{a.current?.focus()},renderToggle:({isOpen:t,onToggle:n})=>(0,l.jsxs)("div",{className:"dataviews-filters__summary-chip-container",children:[(0,l.jsx)(i.Tooltip,{text:(0,o.sprintf)(/* translators: 1: Filter name. */ /* translators: 1: Filter name. */
(0,o.__)("Filter by: %1$s"),c.name.toLowerCase()),placement:"top",children:(0,l.jsx)("div",{className:q("dataviews-filters__summary-chip",{"has-reset":g,"has-values":p}),role:"button",tabIndex:0,onClick:n,onKeyDown:e=>{[Li,Fi].includes(e.key)&&(n(),e.preventDefault())},"aria-pressed":t,"aria-expanded":t,ref:a,children:(0,l.jsx)(Vi,{activeElements:h,filterInView:f,filter:c})})}),g&&(0,l.jsx)(i.Tooltip,{text:m?(0,o.__)("Reset"):(0,o.__)("Remove"),placement:"top",children:(0,l.jsx)("button",{className:q("dataviews-filters__summary-chip-remove",{"has-values":p}),onClick:()=>{d({...u,page:1,filters:u.filters?.filter((e=>e.field!==c.field))}),m?a.current?.focus():e.current?.focus()},children:(0,l.jsx)(i.Icon,{icon:Y})})})]}),renderContent:()=>(0,l.jsxs)(i.__experimentalVStack,{spacing:0,justify:"flex-start",children:[(0,l.jsx)(Di,{...s}),s.filter.elements.length>0?(0,l.jsx)(Pi,{...s,filter:{...s.filter,elements:s.filter.elements}}):(0,l.jsx)(Ti,{...s,fields:n})]})})}var Bi=n(434);const{lock:Ri,unlock:zi}=(0,Bi.__dangerousOptInToUnstableAPIsOnlyForCoreModules)("I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.","@wordpress/dataviews"),{Menu:Hi}=zi(i.privateApis);function $i({filters:e,view:t,onChangeView:n,setOpenedFilter:i,triggerProps:r}){const s=e.filter((e=>!e.isVisible));return(0,l.jsxs)(Hi,{children:[(0,l.jsx)(Hi.TriggerButton,{...r}),(0,l.jsx)(Hi.Popover,{children:s.map((e=>(0,l.jsx)(Hi.Item,{onClick:()=>{i(e.field),n({...t,page:1,filters:[...t.filters||[],{field:e.field,value:void 0,operator:e.operators[0]}]})},children:(0,l.jsx)(Hi.ItemLabel,{children:e.name})},e.field)))})]})}const Ui=(0,r.forwardRef)((function({filters:e,view:t,onChangeView:n,setOpenedFilter:r},s){if(!e.length||e.every((({isPrimary:e})=>e)))return null;const a=e.filter((e=>!e.isVisible));return(0,l.jsx)($i,{triggerProps:{render:(0,l.jsx)(i.Button,{accessibleWhenDisabled:!0,size:"compact",className:"dataviews-filters-button",variant:"tertiary",disabled:!a.length,ref:s}),children:(0,o.__)("Add filter")},filters:e,view:t,onChangeView:n,setOpenedFilter:r})}));function Wi({filters:e,view:t,onChangeView:n}){const r=!t.search&&!t.filters?.some((t=>{return void 0!==t.value||(n=t.field,!e.some((e=>e.field===n&&e.isPrimary)));var n}));return(0,l.jsx)(i.Button,{disabled:r,accessibleWhenDisabled:!0,size:"compact",variant:"tertiary",className:"dataviews-filters__reset-button",onClick:()=>{n({...t,page:1,search:"",filters:[]})},children:(0,o.__)("Reset")})}function qi(e,t){return(0,r.useMemo)((()=>{const n=[];return e.forEach((e=>{var i;if(!1===e.filterBy||!e.elements?.length&&!e.Edit)return;const r=e.filterBy.operators,s=!!e.filterBy?.isPrimary;n.push({field:e.id,name:e.label,elements:null!==(i=e.elements)&&void 0!==i?i:[],singleSelection:r.some((e=>L.includes(e))),operators:r,isVisible:s||!!t.filters?.some((t=>t.field===e.id&&T.includes(t.operator))),isPrimary:s})})),n.sort(((e,t)=>e.isPrimary&&!t.isPrimary?-1:!e.isPrimary&&t.isPrimary?1:e.name.localeCompare(t.name))),n}),[e,t])}function Yi(){const{filters:e,view:t,onChangeView:n,setOpenedFilter:s,isShowingFilter:a,setIsShowingFilter:c}=(0,r.useContext)($),u=(0,r.useRef)(null),d=(0,r.useCallback)((e=>{n(e),c(!0)}),[n,c]),f=!!e.filter((e=>e.isVisible)).length;if(0===e.length)return null;const h={label:(0,o.__)("Add filter"),"aria-expanded":!1,isPressed:!1},m={label:(0,o._x)("Filter","verb"),"aria-expanded":a,isPressed:a,onClick:()=>{a||s(null),c(!a)}},p=(0,l.jsx)(i.Button,{ref:u,className:"dataviews-filters__visibility-toggle",size:"compact",icon:U,...f?m:h});return(0,l.jsx)("div",{className:"dataviews-filters__container-visibility-toggle",children:f?(0,l.jsx)(Xi,{buttonRef:u,filtersCount:t.filters?.length,children:p}):(0,l.jsx)($i,{filters:e,view:t,onChangeView:d,setOpenedFilter:s,triggerProps:{render:p}})})}function Xi({buttonRef:e,filtersCount:t,children:n}){return(0,r.useEffect)((()=>()=>{e.current?.focus()}),[e]),(0,l.jsxs)(l.Fragment,{children:[n,!!t&&(0,l.jsx)("span",{className:"dataviews-filters-toggle__count",children:t})]})}const Gi=(0,r.memo)((function({className:e}){const{fields:t,view:n,onChangeView:s,openedFilter:o,setOpenedFilter:a}=(0,r.useContext)($),c=(0,r.useRef)(null),u=qi(t,n),d=(0,l.jsx)(Ui,{filters:u,view:n,onChangeView:s,ref:c,setOpenedFilter:a},"add-filter"),f=u.filter((e=>e.isVisible));if(0===f.length)return null;const h=[...f.map((e=>(0,l.jsx)(Ni,{filter:e,view:n,fields:t,onChangeView:s,addFilterRef:c,openedFilter:o},e.field))),d];return h.push((0,l.jsx)(Wi,{filters:u,view:n,onChangeView:s},"reset-filters")),(0,l.jsx)(i.__experimentalHStack,{justify:"flex-start",style:{width:"fit-content"},wrap:!0,className:e,children:h})})),Ki=(0,l.jsx)(a.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)(a.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v3.5h-15V5c0-.3.2-.5.5-.5zm8 5.5h6.5v3.5H13V10zm-1.5 3.5h-7V10h7v3.5zm-7 5.5v-4h7v4.5H5c-.3 0-.5-.2-.5-.5zm14.5.5h-6V15h6.5v4c0 .3-.2.5-.5.5z"})}),Zi=(0,l.jsx)(a.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)(a.Path,{d:"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z",fillRule:"evenodd",clipRule:"evenodd"})}),Ji=(0,l.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,l.jsx)(a.Path,{d:"M4 8.8h8.9V7.2H4v1.6zm0 7h8.9v-1.5H4v1.5zM18 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"})}),Qi=(0,l.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,l.jsx)(a.Path,{d:"M11.1 15.8H20v-1.5h-8.9v1.5zm0-8.6v1.5H20V7.2h-8.9zM6 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})});function er({selection:e,onChangeSelection:t,item:n,getItemId:r,titleField:s,disabled:a}){const c=r(n),u=!a&&e.includes(c),d=s?.getValue?.({item:n})||(0,o.__)("(no title)");return(0,l.jsx)(i.CheckboxControl,{className:"dataviews-selection-checkbox",__nextHasNoMarginBottom:!0,"aria-label":d,"aria-disabled":a,checked:u,onChange:()=>{a||t(e.includes(c)?e.filter((e=>c!==e)):[...e,c])}})}const tr=(0,l.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,l.jsx)(a.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"})});var nr=n(143);const{Menu:ir,kebabCase:rr}=zi(i.privateApis);function sr({action:e,onClick:t,items:n}){const r="string"==typeof e.label?e.label:e.label(n);return(0,l.jsx)(i.Button,{label:r,icon:e.icon,disabled:!!e.disabled,accessibleWhenDisabled:!0,isDestructive:e.isDestructive,size:"compact",onClick:t})}function or({action:e,onClick:t,items:n}){const i="string"==typeof e.label?e.label:e.label(n);return(0,l.jsx)(ir.Item,{disabled:e.disabled,onClick:t,children:(0,l.jsx)(ir.ItemLabel,{children:i})})}function ar({action:e,items:t,closeModal:n}){var r;const s="string"==typeof e.label?e.label:e.label(t);return(0,l.jsx)(i.Modal,{title:e.modalHeader||s,__experimentalHideHeader:!!e.hideModalHeader,onRequestClose:n,focusOnMount:null===(r=e.modalFocusOnMount)||void 0===r||r,size:e.modalSize||"medium",overlayClassName:`dataviews-action-modal dataviews-action-modal__${rr(e.id)}`,children:(0,l.jsx)(e.RenderModal,{items:t,closeModal:n})})}function lr({actions:e,item:t,registry:n,setActiveModalAction:i}){return(0,l.jsx)(ir.Group,{children:e.map((e=>(0,l.jsx)(or,{action:e,onClick:()=>{"RenderModal"in e?i(e):e.callback([t],{registry:n})},items:[t]},e.id)))})}function cr({item:e,actions:t,isCompact:n}){const s=(0,nr.useRegistry)(),{primaryActions:o,eligibleActions:a}=(0,r.useMemo)((()=>{const n=t.filter((t=>!t.isEligible||t.isEligible(e)));return{primaryActions:n.filter((e=>e.isPrimary&&!!e.icon)),eligibleActions:n}}),[t,e]);return n?(0,l.jsx)(ur,{item:e,actions:a,isSmall:!0,registry:s}):o.length===a.length?(0,l.jsx)(dr,{item:e,actions:o,registry:s}):(0,l.jsxs)(i.__experimentalHStack,{spacing:1,justify:"flex-end",className:"dataviews-item-actions",style:{flexShrink:0,width:"auto"},children:[(0,l.jsx)(dr,{item:e,actions:o,registry:s}),(0,l.jsx)(ur,{item:e,actions:a,registry:s})]})}function ur({item:e,actions:t,isSmall:n,registry:s}){const[a,c]=(0,r.useState)(null);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(ir,{placement:"bottom-end",children:[(0,l.jsx)(ir.TriggerButton,{render:(0,l.jsx)(i.Button,{size:n?"small":"compact",icon:tr,label:(0,o.__)("Actions"),accessibleWhenDisabled:!0,disabled:!t.length,className:"dataviews-all-actions-button"})}),(0,l.jsx)(ir.Popover,{children:(0,l.jsx)(lr,{actions:t,item:e,registry:s,setActiveModalAction:c})})]}),!!a&&(0,l.jsx)(ar,{action:a,items:[e],closeModal:()=>c(null)})]})}function dr({item:e,actions:t,registry:n}){const[i,s]=(0,r.useState)(null);return Array.isArray(t)&&0!==t.length?(0,l.jsxs)(l.Fragment,{children:[t.map((t=>(0,l.jsx)(sr,{action:t,onClick:()=>{"RenderModal"in t?s(t):t.callback([e],{registry:n})},items:[e]},t.id))),!!i&&(0,l.jsx)(ar,{action:i,items:[e],closeModal:()=>s(null)})]}):null}function fr({action:e,items:t,ActionTriggerComponent:n}){const[i,s]=(0,r.useState)(!1),o={action:e,onClick:()=>{s(!0)},items:t};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n,{...o}),i&&(0,l.jsx)(ar,{action:e,items:t,closeModal:()=>s(!1)})]})}function hr(e,t){return(0,r.useMemo)((()=>e.some((e=>e.supportsBulk&&(!e.isEligible||e.isEligible(t))))),[e,t])}function mr(e,t){return(0,r.useMemo)((()=>t.some((t=>e.some((e=>e.supportsBulk&&(!e.isEligible||e.isEligible(t))))))),[e,t])}function pr({selection:e,onChangeSelection:t,data:n,actions:s,getItemId:a}){const c=(0,r.useMemo)((()=>n.filter((e=>s.some((t=>t.supportsBulk&&(!t.isEligible||t.isEligible(e))))))),[n,s]),u=n.filter((t=>e.includes(a(t))&&c.includes(t))),d=u.length===c.length;return(0,l.jsx)(i.CheckboxControl,{className:"dataviews-view-table-selection-checkbox",__nextHasNoMarginBottom:!0,checked:d,indeterminate:!d&&!!u.length,onChange:()=>{t(d?[]:c.map((e=>a(e))))},"aria-label":d?(0,o.__)("Deselect all"):(0,o.__)("Select all")})}function gr({action:e,onClick:t,isBusy:n,items:r}){const s="string"==typeof e.label?e.label:e.label(r);return(0,l.jsx)(i.Button,{disabled:n,accessibleWhenDisabled:!0,label:s,icon:e.icon,isDestructive:e.isDestructive,size:"compact",onClick:t,isBusy:n,tooltipPosition:"top"})}const vr=[];function br({action:e,selectedItems:t,actionInProgress:n,setActionInProgress:i}){const s=(0,nr.useRegistry)(),o=(0,r.useMemo)((()=>t.filter((t=>!e.isEligible||e.isEligible(t)))),[e,t]);return"RenderModal"in e?(0,l.jsx)(fr,{action:e,items:o,ActionTriggerComponent:gr},e.id):(0,l.jsx)(gr,{action:e,onClick:async()=>{i(e.id),await e.callback(t,{registry:s}),i(null)},items:o,isBusy:n===e.id},e.id)}function yr(e,t,n,r,s,a,c,u,d){const f=a.length>0?(0,o.sprintf)(/* translators: %d: number of items. */ /* translators: %d: number of items. */
(0,o._n)("%d Item selected","%d Items selected",a.length),a.length):(0,o.sprintf)(/* translators: %d: number of items. */ /* translators: %d: number of items. */
(0,o._n)("%d Item","%d Items",e.length),e.length);return(0,l.jsxs)(i.__experimentalHStack,{expanded:!1,className:"dataviews-bulk-actions-footer__container",spacing:3,children:[(0,l.jsx)(pr,{selection:r,onChangeSelection:d,data:e,actions:t,getItemId:n}),(0,l.jsx)("span",{className:"dataviews-bulk-actions-footer__item-count",children:f}),(0,l.jsxs)(i.__experimentalHStack,{className:"dataviews-bulk-actions-footer__action-buttons",expanded:!1,spacing:1,children:[s.map((e=>(0,l.jsx)(br,{action:e,selectedItems:a,actionInProgress:c,setActionInProgress:u},e.id))),a.length>0&&(0,l.jsx)(i.Button,{icon:Y,showTooltip:!0,tooltipPosition:"top",size:"compact",label:(0,o.__)("Cancel"),disabled:!!c,accessibleWhenDisabled:!1,onClick:()=>{d(vr)}})]})]})}function wr({selection:e,actions:t,onChangeSelection:n,data:i,getItemId:s}){const[o,a]=(0,r.useState)(null),l=(0,r.useRef)(null),c=(0,r.useMemo)((()=>t.filter((e=>e.supportsBulk))),[t]),u=(0,r.useMemo)((()=>i.filter((e=>c.some((t=>!t.isEligible||t.isEligible(e)))))),[i,c]),d=(0,r.useMemo)((()=>i.filter((t=>e.includes(s(t))&&u.includes(t)))),[e,i,s,u]),f=(0,r.useMemo)((()=>t.filter((e=>e.supportsBulk&&e.icon&&d.some((t=>!e.isEligible||e.isEligible(t)))))),[t,d]);return o?(l.current||(l.current=yr(i,t,s,e,f,d,o,a,n)),l.current):(l.current&&(l.current=null),yr(i,t,s,e,f,d,o,a,n))}function xr(){const{data:e,selection:t,actions:n=vr,onChangeSelection:i,getItemId:s}=(0,r.useContext)($);return(0,l.jsx)(wr,{selection:t,onChangeSelection:i,data:e,actions:n,getItemId:s})}const _r=(0,l.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,l.jsx)(a.Path,{d:"M20 11.2H6.8l3.7-3.7-1-1L3.9 12l5.6 5.5 1-1-3.7-3.7H20z"})}),Sr=(0,l.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,l.jsx)(a.Path,{d:"m14.5 6.5-1 1 3.7 3.7H4v1.6h13.2l-3.7 3.7 1 1 5.6-5.5z"})}),Cr=(0,l.jsx)(a.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)(a.Path,{d:"M20.7 12.7s0-.1-.1-.2c0-.2-.2-.4-.4-.6-.3-.5-.9-1.2-1.6-1.8-.7-.6-1.5-1.3-2.6-1.8l-.6 1.4c.9.4 1.6 1 2.1 1.5.6.6 1.1 1.2 1.4 1.6.1.2.3.4.3.5v.1l.7-.3.7-.3Zm-5.2-9.3-1.8 4c-.5-.1-1.1-.2-1.7-.2-3 0-5.2 1.4-6.6 2.7-.7.7-1.2 1.3-1.6 1.8-.2.3-.3.5-.4.6 0 0 0 .1-.1.2s0 0 .7.3l.7.3V13c0-.1.2-.3.3-.5.3-.4.7-1 1.4-1.6 1.2-1.2 3-2.3 5.5-2.3H13v.3c-.4 0-.8-.1-1.1-.1-1.9 0-3.5 1.6-3.5 3.5s.6 2.3 1.6 2.9l-2 4.4.9.4 7.6-16.2-.9-.4Zm-3 12.6c1.7-.2 3-1.7 3-3.5s-.2-1.4-.6-1.9L12.4 16Z"})}),{Menu:Er}=zi(i.privateApis);function jr({children:e}){return r.Children.toArray(e).filter(Boolean).map(((e,t)=>(0,l.jsxs)(r.Fragment,{children:[t>0&&(0,l.jsx)(Er.Separator,{}),e]},t)))}const Ir=(0,r.forwardRef)((function({fieldId:e,view:t,fields:n,onChangeView:r,onHide:s,setOpenedFilter:a,canMove:c=!0},u){var d;const f=null!==(d=t.fields)&&void 0!==d?d:[],h=f?.indexOf(e),m=t.sort?.field===e;let p=!1,g=!1,v=!1,b=[];const y=n.find((t=>t.id===e));if(!y)return null;p=!1!==y.enableHiding,g=!1!==y.enableSorting;const w=y.header;return b=!!y.filterBy&&y.filterBy?.operators||[],v=!(t.filters?.some((t=>e===t.field))||!y.elements?.length&&!y.Edit||!1===y.filterBy||y.filterBy?.isPrimary),(0,l.jsxs)(Er,{children:[(0,l.jsxs)(Er.TriggerButton,{render:(0,l.jsx)(i.Button,{size:"compact",className:"dataviews-view-table-header-button",ref:u,variant:"tertiary"}),children:[w,t.sort&&m&&(0,l.jsx)("span",{"aria-hidden":"true",children:D[t.sort.direction]})]}),(0,l.jsx)(Er.Popover,{style:{minWidth:"240px"},children:(0,l.jsxs)(jr,{children:[g&&(0,l.jsx)(Er.Group,{children:V.map((n=>{const i=t.sort&&m&&t.sort.direction===n,s=`${e}-${n}`;return(0,l.jsx)(Er.RadioItem,{name:"view-table-sorting",value:s,checked:i,onChange:()=>{r({...t,sort:{field:e,direction:n},showLevels:!1})},children:(0,l.jsx)(Er.ItemLabel,{children:B[n]})},s)}))}),v&&(0,l.jsx)(Er.Group,{children:(0,l.jsx)(Er.Item,{prefix:(0,l.jsx)(i.Icon,{icon:U}),onClick:()=>{a(e),r({...t,page:1,filters:[...t.filters||[],{field:e,value:void 0,operator:b[0]}]})},children:(0,l.jsx)(Er.ItemLabel,{children:(0,o.__)("Add filter")})})}),(c||p)&&y&&(0,l.jsxs)(Er.Group,{children:[c&&(0,l.jsx)(Er.Item,{prefix:(0,l.jsx)(i.Icon,{icon:_r}),disabled:h<1,onClick:()=>{var n;r({...t,fields:[...null!==(n=f.slice(0,h-1))&&void 0!==n?n:[],e,f[h-1],...f.slice(h+1)]})},children:(0,l.jsx)(Er.ItemLabel,{children:(0,o.__)("Move left")})}),c&&(0,l.jsx)(Er.Item,{prefix:(0,l.jsx)(i.Icon,{icon:Sr}),disabled:h>=f.length-1,onClick:()=>{var n;r({...t,fields:[...null!==(n=f.slice(0,h))&&void 0!==n?n:[],f[h+1],e,...f.slice(h+2)]})},children:(0,l.jsx)(Er.ItemLabel,{children:(0,o.__)("Move right")})}),p&&y&&(0,l.jsx)(Er.Item,{prefix:(0,l.jsx)(i.Icon,{icon:Cr}),onClick:()=>{s(y),r({...t,fields:f.filter((t=>t!==e))})},children:(0,l.jsx)(Er.ItemLabel,{children:(0,o.__)("Hide column")})})]})]})})]})}));function Or({item:e,isItemClickable:t,onClickItem:n,renderItemLink:i,className:r,children:s,...o}){if(!t(e))return s;if(i)return i({item:e,className:`${r} ${r}--clickable`,...o,children:s});const a=function({item:e,isItemClickable:t,onClickItem:n,className:i}){return t(e)&&n?{className:i?`${i} ${i}--clickable`:void 0,role:"button",tabIndex:0,onClick:t=>{t.stopPropagation(),n(e)},onKeyDown:t=>{"Enter"!==t.key&&""!==t.key&&" "!==t.key||(t.stopPropagation(),n(e))}}:{className:i}}({item:e,isItemClickable:t,onClickItem:n,className:r});return(0,l.jsx)("div",{...a,...o,children:s})}const kr=function({item:e,level:t,titleField:n,mediaField:r,descriptionField:s,onClickItem:o,renderItemLink:a,isItemClickable:c}){return(0,l.jsxs)(i.__experimentalHStack,{spacing:3,justify:"flex-start",children:[r&&(0,l.jsx)("div",{className:"dataviews-view-table__cell-content-wrapper dataviews-column-primary__media",children:(0,l.jsx)(r.render,{item:e,field:r})}),(0,l.jsxs)(i.__experimentalVStack,{spacing:0,children:[n&&(0,l.jsxs)(Or,{item:e,isItemClickable:c,onClickItem:o,renderItemLink:a,className:"dataviews-view-table__cell-content-wrapper dataviews-title-field",children:[void 0!==t&&(0,l.jsxs)("span",{className:"dataviews-view-table__level",children:["".repeat(t),""]}),(0,l.jsx)(n.render,{item:e,field:n})]}),s&&(0,l.jsx)(s.render,{item:e,field:s})]})]})};function Pr({item:e,fields:t,column:n,align:i}){const r=t.find((e=>e.id===n));if(!r)return null;const s=q("dataviews-view-table__cell-content-wrapper",{"dataviews-view-table__cell-align-end":"end"===i,"dataviews-view-table__cell-align-center":"center"===i});return(0,l.jsx)("div",{className:s,children:(0,l.jsx)(r.render,{item:e,field:r})})}function Ar({hasBulkActions:e,item:t,level:n,actions:i,fields:s,id:o,view:a,titleField:c,mediaField:u,descriptionField:d,selection:f,getItemId:h,isItemClickable:m,onClickItem:p,renderItemLink:g,onChangeSelection:v,isActionsColumnSticky:b}){var y;const w=hr(i,t),x=w&&f.includes(o),[_,S]=(0,r.useState)(!1),{showTitle:C=!0,showMedia:E=!0,showDescription:j=!0}=a,I=(0,r.useRef)(!1),O=null!==(y=a.fields)&&void 0!==y?y:[],k=c&&C||u&&E||d&&j;return(0,l.jsxs)("tr",{className:q("dataviews-view-table__row",{"is-selected":w&&x,"is-hovered":_,"has-bulk-actions":w}),onMouseEnter:()=>{S(!0)},onMouseLeave:()=>{S(!1)},onTouchStart:()=>{I.current=!0},onClick:()=>{w&&(I.current||"Range"===document.getSelection()?.type||v(f.includes(o)?f.filter((e=>o!==e)):[o]))},children:[e&&(0,l.jsx)("td",{className:"dataviews-view-table__checkbox-column",children:(0,l.jsx)("div",{className:"dataviews-view-table__cell-content-wrapper",children:(0,l.jsx)(er,{item:t,selection:f,onChangeSelection:v,getItemId:h,titleField:c,disabled:!w})})}),k&&(0,l.jsx)("td",{children:(0,l.jsx)(kr,{item:t,level:n,titleField:C?c:void 0,mediaField:E?u:void 0,descriptionField:j?d:void 0,isItemClickable:m,onClickItem:p,renderItemLink:g})}),O.map((e=>{var n;const{width:i,maxWidth:r,minWidth:o,align:c}=null!==(n=a.layout?.styles?.[e])&&void 0!==n?n:{};return(0,l.jsx)("td",{style:{width:i,maxWidth:r,minWidth:o},children:(0,l.jsx)(Pr,{fields:s,item:t,column:e,align:c})},e)})),!!i?.length&&(0,l.jsx)("td",{className:q("dataviews-view-table__actions-column",{"dataviews-view-table__actions-column--sticky":!0,"dataviews-view-table__actions-column--stuck":b}),onClick:e=>e.stopPropagation(),children:(0,l.jsx)(cr,{item:t,actions:i})})]})}const Mr={xhuge:{min:3,max:6,default:5},huge:{min:2,max:4,default:4},xlarge:{min:2,max:3,default:3},large:{min:1,max:2,default:2},mobile:{min:1,max:2,default:2}},Tr={xhuge:1520,huge:1140,xlarge:780,large:480,mobile:0};function Lr(){const e=(0,r.useContext)($).containerWidth;for(const[t,n]of Object.entries(Tr))if(e>=n)return t;return"mobile"}const{Badge:Fr}=zi(i.privateApis);function Vr({view:e,selection:t,onChangeSelection:n,onClickItem:r,isItemClickable:a,renderItemLink:c,getItemId:u,item:d,actions:f,mediaField:h,titleField:m,descriptionField:p,regularFields:g,badgeFields:v,hasBulkActions:b}){const{showTitle:y=!0,showMedia:w=!0,showDescription:x=!0}=e,_=hr(f,d),S=u(d),C=(0,s.useInstanceId)(Vr),E=t.includes(S),j=h?.render?(0,l.jsx)(h.render,{item:d,field:h}):null,I=y&&m?.render?(0,l.jsx)(m.render,{item:d,field:m}):null;let O,k;return a(d)&&r&&(I?(O={"aria-labelledby":`dataviews-view-grid__title-field-${C}`},k={id:`dataviews-view-grid__title-field-${C}`}):O={"aria-label":(0,o.__)("Navigate to item")}),(0,l.jsxs)(i.__experimentalVStack,{spacing:0,className:q("dataviews-view-grid__card",{"is-selected":_&&E}),onClickCapture:e=>{if(e.ctrlKey||e.metaKey){if(e.stopPropagation(),e.preventDefault(),!_)return;n(t.includes(S)?t.filter((e=>S!==e)):[...t,S])}},children:[w&&j&&(0,l.jsx)(Or,{item:d,isItemClickable:a,onClickItem:r,renderItemLink:c,className:"dataviews-view-grid__media",...O,children:j}),b&&w&&j&&(0,l.jsx)(er,{item:d,selection:t,onChangeSelection:n,getItemId:u,titleField:m,disabled:!_}),(0,l.jsxs)(i.__experimentalHStack,{justify:"space-between",className:"dataviews-view-grid__title-actions",children:[(0,l.jsx)(Or,{item:d,isItemClickable:a,onClickItem:r,renderItemLink:c,className:"dataviews-view-grid__title-field dataviews-title-field",...k,children:I}),!!f?.length&&(0,l.jsx)(cr,{item:d,actions:f,isCompact:!0})]}),(0,l.jsxs)(i.__experimentalVStack,{spacing:1,children:[x&&p?.render&&(0,l.jsx)(p.render,{item:d,field:p}),!!v?.length&&(0,l.jsx)(i.__experimentalHStack,{className:"dataviews-view-grid__badge-fields",spacing:2,wrap:!0,alignment:"top",justify:"flex-start",children:v.map((e=>(0,l.jsx)(Fr,{className:"dataviews-view-grid__field-value",children:(0,l.jsx)(e.render,{item:d,field:e})},e.id)))}),!!g?.length&&(0,l.jsx)(i.__experimentalVStack,{className:"dataviews-view-grid__fields",spacing:1,children:g.map((e=>(0,l.jsx)(i.Flex,{className:"dataviews-view-grid__field",gap:1,justify:"flex-start",expanded:!0,style:{height:"auto"},direction:"row",children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.FlexItem,{className:"dataviews-view-grid__field-name",children:e.header}),(0,l.jsx)(i.FlexItem,{className:"dataviews-view-grid__field-value",style:{maxHeight:"none"},children:(0,l.jsx)(e.render,{item:d,field:e})})]})},e.id)))})]})]},S)}const{Menu:Dr}=zi(i.privateApis);function Nr(e){return`${e}-item-wrapper`}function Br(e){return`${e}-dropdown`}function Rr({idPrefix:e,primaryAction:t,item:n}){const s=(0,nr.useRegistry)(),[o,a]=(0,r.useState)(!1),c=function(e,t){return`${e}-primary-action-${t}`}(e,t.id),u="string"==typeof t.label?t.label:t.label([n]);return"RenderModal"in t?(0,l.jsx)("div",{role:"gridcell",children:(0,l.jsx)(i.Composite.Item,{id:c,render:(0,l.jsx)(i.Button,{label:u,disabled:!!t.disabled,accessibleWhenDisabled:!0,icon:t.icon,isDestructive:t.isDestructive,size:"small",onClick:()=>a(!0)}),children:o&&(0,l.jsx)(ar,{action:t,items:[n],closeModal:()=>a(!1)})})},t.id):(0,l.jsx)("div",{role:"gridcell",children:(0,l.jsx)(i.Composite.Item,{id:c,render:(0,l.jsx)(i.Button,{label:u,disabled:!!t.disabled,accessibleWhenDisabled:!0,icon:t.icon,isDestructive:t.isDestructive,size:"small",onClick:()=>{t.callback([n],{registry:s})}})})},t.id)}function zr({view:e,actions:t,idPrefix:n,isSelected:s,item:a,titleField:c,mediaField:u,descriptionField:d,onSelect:f,otherFields:h,onDropdownTriggerKeyDown:m}){const{showTitle:p=!0,showMedia:g=!0,showDescription:v=!0}=e,b=(0,r.useRef)(null),y=`${n}-label`,w=`${n}-description`,x=(0,nr.useRegistry)(),[_,S]=(0,r.useState)(!1),[C,E]=(0,r.useState)(null),j=({type:e})=>{S("mouseenter"===e)};(0,r.useEffect)((()=>{s&&b.current?.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"})}),[s]);const{primaryAction:I,eligibleActions:O}=(0,r.useMemo)((()=>{const e=t.filter((e=>!e.isEligible||e.isEligible(a)));return{primaryAction:e.filter((e=>e.isPrimary&&!!e.icon))[0],eligibleActions:e}}),[t,a]),k=I&&1===t.length,P=g&&u?.render?(0,l.jsx)("div",{className:"dataviews-view-list__media-wrapper",children:(0,l.jsx)(u.render,{item:a,field:u})}):null,A=p&&c?.render?(0,l.jsx)(c.render,{item:a,field:c}):null,M=O?.length>0&&(0,l.jsxs)(i.__experimentalHStack,{spacing:3,className:"dataviews-view-list__item-actions",children:[I&&(0,l.jsx)(Rr,{idPrefix:n,primaryAction:I,item:a}),!k&&(0,l.jsxs)("div",{role:"gridcell",children:[(0,l.jsxs)(Dr,{placement:"bottom-end",children:[(0,l.jsx)(Dr.TriggerButton,{render:(0,l.jsx)(i.Composite.Item,{id:Br(n),render:(0,l.jsx)(i.Button,{size:"small",icon:tr,label:(0,o.__)("Actions"),accessibleWhenDisabled:!0,disabled:!t.length,onKeyDown:m})})}),(0,l.jsx)(Dr.Popover,{children:(0,l.jsx)(lr,{actions:O,item:a,registry:x,setActiveModalAction:E})})]}),!!C&&(0,l.jsx)(ar,{action:C,items:[a],closeModal:()=>E(null)})]})]});return(0,l.jsx)(i.Composite.Row,{ref:b,render:(0,l.jsx)("div",{}),role:"row",className:q({"is-selected":s,"is-hovered":_}),onMouseEnter:j,onMouseLeave:j,children:(0,l.jsxs)(i.__experimentalHStack,{className:"dataviews-view-list__item-wrapper",spacing:0,children:[(0,l.jsx)("div",{role:"gridcell",children:(0,l.jsx)(i.Composite.Item,{id:Nr(n),"aria-pressed":s,"aria-labelledby":y,"aria-describedby":w,className:"dataviews-view-list__item",onClick:()=>f(a)})}),(0,l.jsxs)(i.__experimentalHStack,{spacing:3,justify:"start",alignment:"flex-start",children:[P,(0,l.jsxs)(i.__experimentalVStack,{spacing:1,className:"dataviews-view-list__field-wrapper",children:[(0,l.jsxs)(i.__experimentalHStack,{spacing:0,children:[(0,l.jsx)("div",{className:"dataviews-title-field",id:y,children:A}),M]}),v&&d?.render&&(0,l.jsx)("div",{className:"dataviews-view-list__field",children:(0,l.jsx)(d.render,{item:a,field:d})}),(0,l.jsx)("div",{className:"dataviews-view-list__fields",id:w,children:h.map((e=>(0,l.jsxs)("div",{className:"dataviews-view-list__field",children:[(0,l.jsx)(i.VisuallyHidden,{as:"span",className:"dataviews-view-list__field-label",children:e.label}),(0,l.jsx)("span",{className:"dataviews-view-list__field-value",children:(0,l.jsx)(e.render,{item:a,field:e})})]},e.id)))})]})]})]})})}function Hr(e){return!!e}const $r=[{type:z,label:(0,o.__)("Table"),component:function({actions:e,data:t,fields:n,getItemId:a,getItemLevel:c,isLoading:u=!1,onChangeView:d,onChangeSelection:f,selection:h,setOpenedFilter:m,onClickItem:p,isItemClickable:g,renderItemLink:v,view:b,className:y}){var w;const{containerRef:x}=(0,r.useContext)($),_=(0,r.useRef)(new Map),S=(0,r.useRef)(),[C,E]=(0,r.useState)(),j=mr(e,t);(0,r.useEffect)((()=>{S.current&&(S.current.focus(),S.current=void 0)}));const I=(0,r.useId)(),O=function({scrollContainerRef:e,enabled:t=!1}){const[n,i]=(0,r.useState)(!1),a=(0,s.useDebounce)((0,r.useCallback)((()=>{const t=e.current;var n;t&&i((n=t,(0,o.isRTL)()?Math.abs(n.scrollLeft)<=1:n.scrollLeft+n.clientWidth>=n.scrollWidth-1))}),[e,i]),200);return(0,r.useEffect)((()=>"undefined"!=typeof window&&t&&e.current?(a(),e.current.addEventListener("scroll",a),window.addEventListener("resize",a),()=>{e.current?.removeEventListener("scroll",a),window.removeEventListener("resize",a)}):()=>{}),[e,t]),n}({scrollContainerRef:x,enabled:!!e?.length});if(C)return S.current=C,void E(void 0);const k=e=>{const t=_.current.get(e.id),n=t?_.current.get(t.fallback):void 0;E(n?.node)},P=!!t?.length,A=n.find((e=>e.id===b.titleField)),M=n.find((e=>e.id===b.mediaField)),T=n.find((e=>e.id===b.descriptionField)),{showTitle:L=!0,showMedia:F=!0,showDescription:V=!0}=b,D=A&&L||M&&F||T&&V,B=null!==(w=b.fields)&&void 0!==w?w:[],R=(e,t)=>n=>{n?_.current.set(e,{node:n,fallback:B[t>0?t-1:1]}):_.current.delete(e)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("table",{className:q("dataviews-view-table",y,{[`has-${b.layout?.density}-density`]:b.layout?.density&&["compact","comfortable"].includes(b.layout.density)}),"aria-busy":u,"aria-describedby":I,children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"dataviews-view-table__row",children:[j&&(0,l.jsx)("th",{className:"dataviews-view-table__checkbox-column",scope:"col",children:(0,l.jsx)(pr,{selection:h,onChangeSelection:f,data:t,actions:e,getItemId:a})}),D&&(0,l.jsx)("th",{scope:"col",children:A&&(0,l.jsx)(Ir,{ref:R(A.id,0),fieldId:A.id,view:b,fields:n,onChangeView:d,onHide:k,setOpenedFilter:m,canMove:!1})}),B.map(((e,t)=>{var i;const{width:r,maxWidth:s,minWidth:o,align:a}=null!==(i=b.layout?.styles?.[e])&&void 0!==i?i:{};return(0,l.jsx)("th",{style:{width:r,maxWidth:s,minWidth:o,textAlign:a},"aria-sort":b.sort?.direction&&b.sort?.field===e?N[b.sort.direction]:void 0,scope:"col",children:(0,l.jsx)(Ir,{ref:R(e,t),fieldId:e,view:b,fields:n,onChangeView:d,onHide:k,setOpenedFilter:m})},e)})),!!e?.length&&(0,l.jsx)("th",{className:q("dataviews-view-table__actions-column",{"dataviews-view-table__actions-column--sticky":!0,"dataviews-view-table__actions-column--stuck":!O}),children:(0,l.jsx)("span",{className:"dataviews-view-table-header",children:(0,o.__)("Actions")})})]})}),(0,l.jsx)("tbody",{children:P&&t.map(((t,i)=>(0,l.jsx)(Ar,{item:t,level:b.showLevels&&"function"==typeof c?c(t):void 0,hasBulkActions:j,actions:e,fields:n,id:a(t)||i.toString(),view:b,titleField:A,mediaField:M,descriptionField:T,selection:h,getItemId:a,onChangeSelection:f,onClickItem:p,renderItemLink:v,isItemClickable:g,isActionsColumnSticky:!O},a(t))))})]}),(0,l.jsx)("div",{className:q({"dataviews-loading":u,"dataviews-no-results":!P&&!u}),id:I,children:!P&&(0,l.jsx)("p",{children:u?(0,l.jsx)(i.Spinner,{}):(0,o.__)("No results")})})]})},icon:Ki,viewConfigOptions:function(){const e=(0,r.useContext)($),t=e.view;return(0,l.jsxs)(i.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,size:"__unstable-large",label:(0,o.__)("Density"),value:t.layout?.density||"balanced",onChange:n=>{e.onChangeView({...t,layout:{...t.layout,density:n}})},isBlock:!0,children:[(0,l.jsx)(i.__experimentalToggleGroupControlOption,{value:"comfortable",label:(0,o._x)("Comfortable","Density option for DataView layout")},"comfortable"),(0,l.jsx)(i.__experimentalToggleGroupControlOption,{value:"balanced",label:(0,o._x)("Balanced","Density option for DataView layout")},"balanced"),(0,l.jsx)(i.__experimentalToggleGroupControlOption,{value:"compact",label:(0,o._x)("Compact","Density option for DataView layout")},"compact")]})}},{type:H,label:(0,o.__)("Grid"),component:function({actions:e,data:t,fields:n,getItemId:s,isLoading:a,onChangeSelection:c,onClickItem:u,isItemClickable:d,renderItemLink:f,selection:h,view:m,className:p}){var g;const v=n.find((e=>e.id===m?.titleField)),b=n.find((e=>e.id===m?.mediaField)),y=n.find((e=>e.id===m?.descriptionField)),w=null!==(g=m.fields)&&void 0!==g?g:[],{regularFields:x,badgeFields:_}=w.reduce(((e,t)=>{const i=n.find((e=>e.id===t));return i?(e[m.layout?.badgeFields?.includes(t)?"badgeFields":"regularFields"].push(i),e):e}),{regularFields:[],badgeFields:[]}),S=!!t?.length,C=function(){const e=(0,r.useContext)($).view,t=Lr();return(0,r.useMemo)((()=>{const n=e.layout?.previewSize;let i;if(!n)return;const r=Mr[t];return n<r.min&&(i=r.min),n>r.max&&(i=r.max),i}),[t,e])}(),E=mr(e,t),j=C||m.layout?.previewSize,I=j?{gridTemplateColumns:`repeat(${j}, minmax(0, 1fr))`}:{},O=m.groupByField?n.find((e=>e.id===m.groupByField)):null,k=O?t.reduce(((e,t)=>{const n=O.getValue({item:t});return e.has(n)||e.set(n,[]),e.get(n)?.push(t),e}),new Map):null;return(0,l.jsxs)(l.Fragment,{children:[S&&O&&k&&(0,l.jsx)(i.__experimentalVStack,{spacing:4,children:Array.from(k.entries()).map((([t,n])=>(0,l.jsxs)(i.__experimentalVStack,{spacing:2,children:[(0,l.jsx)("h3",{className:"dataviews-view-grid__group-header",children:(0,o.sprintf)(
// translators: 1: The label of the field e.g. "Date". 2: The value of the field, e.g.: "May 2022".
// translators: 1: The label of the field e.g. "Date". 2: The value of the field, e.g.: "May 2022".
(0,o.__)("%1$s: %2$s"),O.label,t)}),(0,l.jsx)(i.__experimentalGrid,{gap:8,columns:2,alignment:"top",className:q("dataviews-view-grid",p),style:I,"aria-busy":a,children:n.map((t=>(0,l.jsx)(Vr,{view:m,selection:h,onChangeSelection:c,onClickItem:u,isItemClickable:d,renderItemLink:f,getItemId:s,item:t,actions:e,mediaField:b,titleField:v,descriptionField:y,regularFields:x,badgeFields:_,hasBulkActions:E},s(t))))})]},t)))}),S&&!k&&(0,l.jsx)(i.__experimentalGrid,{gap:8,columns:2,alignment:"top",className:q("dataviews-view-grid",p),style:I,"aria-busy":a,children:t.map((t=>(0,l.jsx)(Vr,{view:m,selection:h,onChangeSelection:c,onClickItem:u,isItemClickable:d,renderItemLink:f,getItemId:s,item:t,actions:e,mediaField:b,titleField:v,descriptionField:y,regularFields:x,badgeFields:_,hasBulkActions:E},s(t))))}),!S&&(0,l.jsx)("div",{className:q({"dataviews-loading":a,"dataviews-no-results":!a}),children:(0,l.jsx)("p",{children:a?(0,l.jsx)(i.Spinner,{}):(0,o.__)("No results")})})]})},icon:Zi,viewConfigOptions:function(){const e=Lr(),t=(0,r.useContext)($),n=t.view,s=Mr[e],a=n.layout?.previewSize||s.default,c=(0,r.useMemo)((()=>Array.from({length:s.max-s.min+1},((e,t)=>({value:s.min+t})))),[s]);return"mobile"===e?null:(0,l.jsx)(i.RangeControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,showTooltip:!1,label:(0,o.__)("Preview size"),value:s.max+s.min-a,marks:c,min:s.min,max:s.max,withInputField:!1,onChange:(e=0)=>{t.onChangeView({...n,layout:{...n.layout,previewSize:s.max+s.min-e}})},step:1})}},{type:"list",label:(0,o.__)("List"),component:function e(t){var n;const{actions:a,data:c,fields:u,getItemId:d,isLoading:f,onChangeSelection:h,selection:m,view:p,className:g}=t,v=(0,s.useInstanceId)(e,"view-list"),b=c?.findLast((e=>m.includes(d(e)))),y=u.find((e=>e.id===p.titleField)),w=u.find((e=>e.id===p.mediaField)),x=u.find((e=>e.id===p.descriptionField)),_=(null!==(n=p?.fields)&&void 0!==n?n:[]).map((e=>u.find((t=>e===t.id)))).filter(Hr),S=e=>h([d(e)]),C=(0,r.useCallback)((e=>`${v}-${d(e)}`),[v,d]),E=(0,r.useCallback)(((e,t)=>t.startsWith(C(e))),[C]),[j,I]=(0,r.useState)(void 0);(0,r.useEffect)((()=>{b&&I(Nr(C(b)))}),[b,C]);const O=c.findIndex((e=>E(e,null!=j?j:""))),k=(0,s.usePrevious)(O),P=-1!==O,A=(0,r.useCallback)(((e,t)=>{const n=Math.min(c.length-1,Math.max(0,e));if(!c[n])return;const i=t(C(c[n]));I(i),document.getElementById(i)?.focus()}),[c,C]);(0,r.useEffect)((()=>{!P&&void 0!==k&&-1!==k&&A(k,Nr)}),[P,A,k]);const M=(0,r.useCallback)((e=>{"ArrowDown"===e.key&&(e.preventDefault(),A(O+1,Br)),"ArrowUp"===e.key&&(e.preventDefault(),A(O-1,Br))}),[A,O]),T=c?.length;return T?(0,l.jsx)(i.Composite,{id:v,render:(0,l.jsx)("div",{}),className:q("dataviews-view-list",g),role:"grid",activeId:j,setActiveId:I,children:c.map((e=>{const t=C(e);return(0,l.jsx)(zr,{view:p,idPrefix:t,actions:a,item:e,isSelected:e===b,onSelect:S,mediaField:w,titleField:y,descriptionField:x,otherFields:_,onDropdownTriggerKeyDown:M},t)}))}):(0,l.jsx)("div",{className:q({"dataviews-loading":f,"dataviews-no-results":!T&&!f}),children:!T&&(0,l.jsx)("p",{children:f?(0,l.jsx)(i.Spinner,{}):(0,o.__)("No results")})})},icon:(0,o.isRTL)()?Ji:Qi}];function Ur({className:e}){const{actions:t=[],data:n,fields:i,getItemId:s,getItemLevel:o,isLoading:a,view:c,onChangeView:u,selection:d,onChangeSelection:f,setOpenedFilter:h,onClickItem:m,isItemClickable:p,renderItemLink:g}=(0,r.useContext)($),v=$r.find((e=>e.type===c.type))?.component;return(0,l.jsx)(v,{className:e,actions:t,data:n,fields:i,getItemId:s,getItemLevel:o,isLoading:a,onChangeView:u,onChangeSelection:f,selection:d,setOpenedFilter:h,onClickItem:m,renderItemLink:g,isItemClickable:p,view:c})}const Wr=(0,l.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,l.jsx)(a.Path,{d:"M6.6 6L5.4 7l4.5 5-4.5 5 1.1 1 5.5-6-5.4-6zm6 0l-1.1 1 4.5 5-4.5 5 1.1 1 5.5-6-5.5-6z"})}),qr=(0,l.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,l.jsx)(a.Path,{d:"M11.6 7l-1.1-1L5 12l5.5 6 1.1-1L7 12l4.6-5zm6 0l-1.1-1-5.5 6 5.5 6 1.1-1-4.6-5 4.6-5z"})});function Yr(){var e;const{view:t,onChangeView:n,paginationInfo:{totalItems:s=0,totalPages:a}}=(0,r.useContext)($);if(!s||!a)return null;const c=null!==(e=t.page)&&void 0!==e?e:1,u=Array.from(Array(a)).map(((e,t)=>{const n=t+1;return{value:n.toString(),label:n.toString(),"aria-label":c===n?(0,o.sprintf)(
// translators: 1: current page number. 2: total number of pages.
// translators: 1: current page number. 2: total number of pages.
(0,o.__)("Page %1$d of %2$d"),c,a):n.toString()}}));return!!s&&1!==a&&(0,l.jsxs)(i.__experimentalHStack,{expanded:!1,className:"dataviews-pagination",justify:"end",spacing:6,children:[(0,l.jsx)(i.__experimentalHStack,{justify:"flex-start",expanded:!1,spacing:1,className:"dataviews-pagination__page-select",children:(0,r.createInterpolateElement)((0,o.sprintf)(
// translators: 1: Current page number, 2: Total number of pages.
// translators: 1: Current page number, 2: Total number of pages.
(0,o._x)("<div>Page</div>%1$s<div>of %2$d</div>","paging"),"<CurrentPage />",a),{div:(0,l.jsx)("div",{"aria-hidden":!0}),CurrentPage:(0,l.jsx)(i.SelectControl,{"aria-label":(0,o.__)("Current page"),value:c.toString(),options:u,onChange:e=>{n({...t,page:+e})},size:"small",__nextHasNoMarginBottom:!0,variant:"minimal"})})}),(0,l.jsxs)(i.__experimentalHStack,{expanded:!1,spacing:1,children:[(0,l.jsx)(i.Button,{onClick:()=>n({...t,page:c-1}),disabled:1===c,accessibleWhenDisabled:!0,label:(0,o.__)("Previous page"),icon:(0,o.isRTL)()?Wr:qr,showTooltip:!0,size:"compact",tooltipPosition:"top"}),(0,l.jsx)(i.Button,{onClick:()=>n({...t,page:c+1}),disabled:c>=a,accessibleWhenDisabled:!0,label:(0,o.__)("Next page"),icon:(0,o.isRTL)()?qr:Wr,showTooltip:!0,size:"compact",tooltipPosition:"top"})]})]})}const Xr=(0,r.memo)(Yr),Gr=[];function Kr(){const{view:e,paginationInfo:{totalItems:t=0,totalPages:n},data:s,actions:o=Gr}=(0,r.useContext)($),a=mr(o,s)&&[z,H].includes(e.type);return!t||!n||n<=1&&!a?null:!!t&&(0,l.jsxs)(i.__experimentalHStack,{expanded:!1,justify:"end",className:"dataviews-footer",children:[a&&(0,l.jsx)(xr,{}),(0,l.jsx)(Xr,{})]})}const Zr=(0,r.memo)((function({label:e}){const{view:t,onChangeView:n}=(0,r.useContext)($),[a,c,u]=(0,s.useDebouncedInput)(t.search);(0,r.useEffect)((()=>{var e;c(null!==(e=t.search)&&void 0!==e?e:"")}),[t.search,c]);const d=(0,r.useRef)(n),f=(0,r.useRef)(t);(0,r.useEffect)((()=>{d.current=n,f.current=t}),[n,t]),(0,r.useEffect)((()=>{u!==f.current?.search&&d.current({...f.current,page:1,search:u})}),[u]);const h=e||(0,o.__)("Search");return(0,l.jsx)(i.SearchControl,{className:"dataviews-search",__nextHasNoMarginBottom:!0,onChange:c,value:a,label:h,placeholder:h,size:"compact"})})),Jr=(0,l.jsx)(a.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)(a.Path,{d:"M17 10h-1.2V7c0-2.1-1.7-3.8-3.8-3.8-2.1 0-3.8 1.7-3.8 3.8v3H7c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1h10c.6 0 1-.4 1-1v-8c0-.6-.4-1-1-1zm-2.8 0H9.8V7c0-1.2 1-2.2 2.2-2.2s2.2 1 2.2 2.2v3z"})}),Qr=(0,l.jsx)(a.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)(a.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})}),es=(0,l.jsx)(a.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)(a.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})}),ts=(0,l.jsx)(a.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)(a.Path,{d:"M3.99961 13C4.67043 13.3354 4.6703 13.3357 4.67017 13.3359L4.67298 13.3305C4.67621 13.3242 4.68184 13.3135 4.68988 13.2985C4.70595 13.2686 4.7316 13.2218 4.76695 13.1608C4.8377 13.0385 4.94692 12.8592 5.09541 12.6419C5.39312 12.2062 5.84436 11.624 6.45435 11.0431C7.67308 9.88241 9.49719 8.75 11.9996 8.75C14.502 8.75 16.3261 9.88241 17.5449 11.0431C18.1549 11.624 18.6061 12.2062 18.9038 12.6419C19.0523 12.8592 19.1615 13.0385 19.2323 13.1608C19.2676 13.2218 19.2933 13.2686 19.3093 13.2985C19.3174 13.3135 19.323 13.3242 19.3262 13.3305L19.3291 13.3359C19.3289 13.3357 19.3288 13.3354 19.9996 13C20.6704 12.6646 20.6703 12.6643 20.6701 12.664L20.6697 12.6632L20.6688 12.6614L20.6662 12.6563L20.6583 12.6408C20.6517 12.6282 20.6427 12.6108 20.631 12.5892C20.6078 12.5459 20.5744 12.4852 20.5306 12.4096C20.4432 12.2584 20.3141 12.0471 20.1423 11.7956C19.7994 11.2938 19.2819 10.626 18.5794 9.9569C17.1731 8.61759 14.9972 7.25 11.9996 7.25C9.00203 7.25 6.82614 8.61759 5.41987 9.9569C4.71736 10.626 4.19984 11.2938 3.85694 11.7956C3.68511 12.0471 3.55605 12.2584 3.4686 12.4096C3.42484 12.4852 3.39142 12.5459 3.36818 12.5892C3.35656 12.6108 3.34748 12.6282 3.34092 12.6408L3.33297 12.6563L3.33041 12.6614L3.32948 12.6632L3.32911 12.664C3.32894 12.6643 3.32879 12.6646 3.99961 13ZM11.9996 16C13.9326 16 15.4996 14.433 15.4996 12.5C15.4996 10.567 13.9326 9 11.9996 9C10.0666 9 8.49961 10.567 8.49961 12.5C8.49961 14.433 10.0666 16 11.9996 16Z"})}),ns=(0,l.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,l.jsx)(a.Path,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"})});n(979);const{Menu:is}=zi(i.privateApis),rs={className:"dataviews-config__popover",placement:"bottom-end",offset:9};function ss(){const{view:e,onChangeView:t,defaultLayouts:n}=(0,r.useContext)($),s=Object.keys(n);if(s.length<=1)return null;const a=$r.find((t=>e.type===t.type));return(0,l.jsxs)(is,{children:[(0,l.jsx)(is.TriggerButton,{render:(0,l.jsx)(i.Button,{size:"compact",icon:a?.icon,label:(0,o.__)("Layout")})}),(0,l.jsx)(is.Popover,{children:s.map((i=>{const r=$r.find((e=>e.type===i));return r?(0,l.jsx)(is.RadioItem,{value:i,name:"view-actions-available-view",checked:i===e.type,hideOnClick:!0,onChange:i=>{switch(i.target.value){case"list":case"grid":case"table":const r={...e};return"layout"in r&&delete r.layout,t({...r,type:i.target.value,...n[i.target.value]})}},children:(0,l.jsx)(is.ItemLabel,{children:r.label})},i):null}))})]})}function os(){const{view:e,fields:t,onChangeView:n}=(0,r.useContext)($),s=(0,r.useMemo)((()=>t.filter((e=>!1!==e.enableSorting)).map((e=>({label:e.label,value:e.id})))),[t]);return(0,l.jsx)(i.SelectControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,o.__)("Sort by"),value:e.sort?.field,options:s,onChange:t=>{n({...e,sort:{direction:e?.sort?.direction||"desc",field:t},showLevels:!1})}})}function as(){const{view:e,fields:t,onChangeView:n}=(0,r.useContext)($);if(0===t.filter((e=>!1!==e.enableSorting)).length)return null;let s=e.sort?.direction;return!s&&e.sort?.field&&(s="desc"),(0,l.jsx)(i.__experimentalToggleGroupControl,{className:"dataviews-view-config__sort-direction",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,isBlock:!0,label:(0,o.__)("Order"),value:s,onChange:i=>{"asc"!==i&&"desc"!==i||n({...e,sort:{direction:i,field:e.sort?.field||t.find((e=>!1!==e.enableSorting))?.id||""},showLevels:!1})},children:V.map((e=>(0,l.jsx)(i.__experimentalToggleGroupControlOptionIcon,{value:e,icon:R[e],label:B[e]},e)))})}const ls=[10,20,50,100];function cs(){const{view:e,perPageSizes:t,onChangeView:n}=(0,r.useContext)($),s=null!=t?t:ls;return(0,l.jsx)(i.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,isBlock:!0,label:(0,o.__)("Items per page"),value:e.perPage||10,disabled:!e?.sort?.field,onChange:t=>{const i="number"==typeof t||void 0===t?t:parseInt(t,10);n({...e,perPage:i,page:1})},children:s.map((e=>(0,l.jsx)(i.__experimentalToggleGroupControlOption,{value:e,label:e.toString()},e)))})}function us({previewOptions:e,onChangePreviewOption:t,onMenuOpenChange:n,activeOption:r}){return(0,l.jsxs)(is,{onOpenChange:n,children:[(0,l.jsx)(is.TriggerButton,{render:(0,l.jsx)(i.Button,{className:"dataviews-field-control__field-preview-options-button",size:"compact",icon:tr,label:(0,o.__)("Preview")})}),(0,l.jsx)(is.Popover,{children:e?.map((({id:e,label:n})=>(0,l.jsx)(is.RadioItem,{value:e,checked:e===r,onChange:()=>{t?.(e),(e=>{setTimeout((()=>{const t=document.querySelector(`.dataviews-field-control__field-${e} .dataviews-field-control__field-preview-options-button`);t instanceof HTMLElement&&t.focus()}),50)})(e)},children:(0,l.jsx)(is.ItemLabel,{children:n})},e)))})]})}function ds({field:e,label:t,description:n,isVisible:s,isFirst:a,isLast:c,canMove:u=!0,onToggleVisibility:d,onMoveUp:f,onMoveDown:h,previewOptions:m,onChangePreviewOption:p}){const[g,v]=(0,r.useState)(!1);return(0,l.jsx)(i.__experimentalItem,{children:(0,l.jsxs)(i.__experimentalHStack,{expanded:!0,className:q("dataviews-field-control__field",`dataviews-field-control__field-${e.id}`,{"is-interacting":g}),justify:"flex-start",children:[(0,l.jsx)("span",{className:"dataviews-field-control__icon",children:!u&&!e.enableHiding&&(0,l.jsx)(i.Icon,{icon:Jr})}),(0,l.jsxs)("span",{className:"dataviews-field-control__label-sub-label-container",children:[(0,l.jsx)("span",{className:"dataviews-field-control__label",children:t||e.label}),n&&(0,l.jsx)("span",{className:"dataviews-field-control__sub-label",children:n})]}),(0,l.jsxs)(i.__experimentalHStack,{justify:"flex-end",expanded:!1,className:"dataviews-field-control__actions",children:[s&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.Button,{disabled:a||!u,accessibleWhenDisabled:!0,size:"compact",onClick:f,icon:Qr,label:a||!u?(0,o.__)("This field can't be moved up"):(0,o.sprintf)(/* translators: %s: field label */ /* translators: %s: field label */
(0,o.__)("Move %s up"),e.label)}),(0,l.jsx)(i.Button,{disabled:c||!u,accessibleWhenDisabled:!0,size:"compact",onClick:h,icon:es,label:c||!u?(0,o.__)("This field can't be moved down"):(0,o.sprintf)(/* translators: %s: field label */ /* translators: %s: field label */
(0,o.__)("Move %s down"),e.label)})]}),d&&(0,l.jsx)(i.Button,{className:"dataviews-field-control__field-visibility-button",disabled:!e.enableHiding,accessibleWhenDisabled:!0,size:"compact",onClick:()=>{d(),setTimeout((()=>{const t=document.querySelector(`.dataviews-field-control__field-${e.id} .dataviews-field-control__field-visibility-button`);t instanceof HTMLElement&&t.focus()}),50)},icon:s?Cr:ts,label:s?(0,o.sprintf)(/* translators: %s: field label */ /* translators: %s: field label */
(0,o._x)("Hide %s","field"),e.label):(0,o.sprintf)(/* translators: %s: field label */ /* translators: %s: field label */
(0,o._x)("Show %s","field"),e.label)}),m&&(0,l.jsx)(us,{previewOptions:m,onChangePreviewOption:p,onMenuOpenChange:v,activeOption:e.id})]})]})})}function fs({index:e,field:t,view:n,onChangeView:i}){var r;const s=null!==(r=n.fields)&&void 0!==r?r:[],o=void 0!==e&&s.includes(t.id);return(0,l.jsx)(ds,{field:t,isVisible:o,isFirst:void 0!==e&&e<1,isLast:void 0!==e&&e===s.length-1,onToggleVisibility:()=>{i({...n,fields:o?s.filter((e=>e!==t.id)):[...s,t.id]})},onMoveUp:void 0!==e?()=>{var r;i({...n,fields:[...null!==(r=s.slice(0,e-1))&&void 0!==r?r:[],t.id,s[e-1],...s.slice(e+1)]})}:void 0,onMoveDown:void 0!==e?()=>{var r;i({...n,fields:[...null!==(r=s.slice(0,e))&&void 0!==r?r:[],s[e+1],t.id,...s.slice(e+2)]})}:void 0})}function hs(e){return!!e}function ms(){var e;const{view:t,fields:n,onChangeView:s}=(0,r.useContext)($),a=[t?.titleField,t?.mediaField,t?.descriptionField].filter(Boolean),c=null!==(e=t.fields)&&void 0!==e?e:[],u=n.filter((e=>!c.includes(e.id)&&!a.includes(e.id)&&"media"!==e.type)),d=c.map((e=>n.find((t=>t.id===e)))).filter(hs);if(!d?.length&&!u?.length)return null;const f=n.find((e=>e.id===t.titleField)),h=n.find((e=>e.id===t.mediaField)),m=n.find((e=>e.id===t.descriptionField)),p=n.filter((e=>"media"===e.type));let g;if(p.length>1){var v;const e=hs(h)&&(null===(v=t.showMedia)||void 0===v||v);g=hs(h)&&(0,l.jsx)(ds,{field:h,label:(0,o.__)("Preview"),description:h.label,isVisible:e,onToggleVisibility:()=>{s({...t,showMedia:!e})},canMove:!1,previewOptions:p.map((e=>({label:e.label,id:e.id}))),onChangePreviewOption:e=>s({...t,mediaField:e})},h.id)}const b=[{field:f,isVisibleFlag:"showTitle"},{field:h,isVisibleFlag:"showMedia",ui:g},{field:m,isVisibleFlag:"showDescription"}].filter((({field:e})=>hs(e))),y=b.filter((({field:e,isVisibleFlag:n})=>{var i;return hs(e)&&(null===(i=t[n])||void 0===i||i)})),w=b.filter((({field:e,isVisibleFlag:n})=>{var i;return hs(e)&&!(null===(i=t[n])||void 0===i||i)}));return(0,l.jsxs)(i.__experimentalVStack,{className:"dataviews-field-control",spacing:6,children:[(0,l.jsx)(i.__experimentalVStack,{className:"dataviews-view-config__properties",spacing:0,children:(y.length>0||!!d?.length)&&(0,l.jsxs)(i.__experimentalItemGroup,{isBordered:!0,isSeparated:!0,children:[y.map((({field:e,isVisibleFlag:n,ui:i})=>null!=i?i:(0,l.jsx)(ds,{field:e,isVisible:!0,onToggleVisibility:()=>{s({...t,[n]:!1})},canMove:!1},e.id))),d.map(((e,n)=>(0,l.jsx)(fs,{field:e,view:t,onChangeView:s,index:n},e.id)))]})}),(!!u?.length||!!w.length)&&(0,l.jsxs)(i.__experimentalVStack,{spacing:4,children:[(0,l.jsx)(i.BaseControl.VisualLabel,{style:{margin:0},children:(0,o.__)("Hidden")}),(0,l.jsx)(i.__experimentalVStack,{className:"dataviews-view-config__properties",spacing:0,children:(0,l.jsxs)(i.__experimentalItemGroup,{isBordered:!0,isSeparated:!0,children:[w.length>0&&w.map((({field:e,isVisibleFlag:n,ui:i})=>null!=i?i:(0,l.jsx)(ds,{field:e,isVisible:!1,onToggleVisibility:()=>{s({...t,[n]:!0})},canMove:!1},e.id))),u.map((e=>(0,l.jsx)(fs,{field:e,view:t,onChangeView:s},e.id)))]})})]})]})}function ps({title:e,description:t,children:n}){return(0,l.jsxs)(i.__experimentalGrid,{columns:12,className:"dataviews-settings-section",gap:4,children:[(0,l.jsxs)("div",{className:"dataviews-settings-section__sidebar",children:[(0,l.jsx)(i.__experimentalHeading,{level:2,className:"dataviews-settings-section__title",children:e}),t&&(0,l.jsx)(i.__experimentalText,{variant:"muted",className:"dataviews-settings-section__description",children:t})]}),(0,l.jsx)(i.__experimentalGrid,{columns:8,gap:4,className:"dataviews-settings-section__content",children:n})]})}function gs(){const{view:e}=(0,r.useContext)($),t=(0,s.useInstanceId)(vs,"dataviews-view-config-dropdown"),n=$r.find((t=>t.type===e.type));return(0,l.jsx)(i.Dropdown,{expandOnMobile:!0,popoverProps:{...rs,id:t},renderToggle:({onToggle:e,isOpen:n})=>(0,l.jsx)(i.Button,{size:"compact",icon:ns,label:(0,o._x)("View options","View is used as a noun"),onClick:e,"aria-expanded":n?"true":"false","aria-controls":t}),renderContent:()=>(0,l.jsx)(i.__experimentalDropdownContentWrapper,{paddingSize:"medium",className:"dataviews-config__popover-content-wrapper",children:(0,l.jsxs)(i.__experimentalVStack,{className:"dataviews-view-config",spacing:6,children:[(0,l.jsxs)(ps,{title:(0,o.__)("Appearance"),children:[(0,l.jsxs)(i.__experimentalHStack,{expanded:!0,className:"is-divided-in-two",children:[(0,l.jsx)(os,{}),(0,l.jsx)(as,{})]}),!!n?.viewConfigOptions&&(0,l.jsx)(n.viewConfigOptions,{}),(0,l.jsx)(cs,{})]}),(0,l.jsx)(ps,{title:(0,o.__)("Properties"),children:(0,l.jsx)(ms,{})})]})})})}function vs(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ss,{}),(0,l.jsx)(gs,{})]})}const bs=(0,r.memo)(vs);var ys=n(832);function ws({item:e,field:t}){const n=t.getValue({item:e});return t?.elements?.find((e=>e.value===n))?.label||t.getValue({item:e})}const xs={sort:function(e,t,n){return"asc"===n?e.localeCompare(t):t.localeCompare(e)},isValid:function(e,t){if(""===e)return!1;if(!(0,ys.isEmail)(e))return!1;if(t?.elements){const n=t?.elements?.map((e=>e.value));if(!n.includes(e))return!1}return!0},Edit:"email",render:({item:e,field:t})=>t.elements?ws({item:e,field:t}):t.getValue({item:e}),enableSorting:!0,filterBy:{defaultOperators:[h,m],validOperators:[d,f,E,j,I,h,m,p,g]}},_s={sort:function(e,t,n){return"asc"===n?e-t:t-e},isValid:function(e,t){if(""===e)return!1;if(!Number.isInteger(Number(e)))return!1;if(t?.elements){const n=t?.elements.map((e=>e.value));if(!n.includes(Number(e)))return!1}return!0},Edit:"integer",render:({item:e,field:t})=>t.elements?ws({item:e,field:t}):t.getValue({item:e}),enableSorting:!0,filterBy:{defaultOperators:[d,f,v,b,y,w,O],validOperators:[d,f,v,b,y,w,O,h,m,p,g]}},Ss={sort:function(e,t,n){return"asc"===n?e.localeCompare(t):t.localeCompare(e)},isValid:function(e,t){if(t?.elements){const n=t?.elements?.map((e=>e.value));if(!n.includes(e))return!1}return!0},Edit:"text",render:({item:e,field:t})=>t.elements?ws({item:e,field:t}):t.getValue({item:e}),enableSorting:!0,filterBy:{defaultOperators:[h,m],validOperators:[d,f,E,j,I,h,m,p,g]}},Cs={sort:function(e,t,n){const i=new Date(e).getTime(),r=new Date(t).getTime();return"asc"===n?i-r:r-i},isValid:function(e,t){if(t?.elements){const n=t?.elements.map((e=>e.value));if(!n.includes(e))return!1}return!0},Edit:"datetime",render:({item:e,field:t})=>t.elements?ws({item:e,field:t}):t.getValue({item:e}),enableSorting:!0,filterBy:{defaultOperators:[k,P,x,_,S,C,A,M],validOperators:[k,P,x,_,S,C,A,M]}};var Es=n(443);const js={sort:function(e,t,n){const i=new Date(e).getTime(),r=new Date(t).getTime();return"asc"===n?i-r:r-i},isValid:function(e,t){if(t?.elements){const n=t?.elements.map((e=>e.value));if(!n.includes(e))return!1}return!0},Edit:null,render:({item:e,field:t})=>{if(t.elements)return ws({item:e,field:t});const n=t.getValue({item:e});return n?(i=n,(0,Es.dateI18n)((0,Es.getSettings)().formats.date,(0,Es.getDate)(i))):"";var i},enableSorting:!0,filterBy:!1},Is={sort:function(e,t,n){const i=Boolean(e);return i===Boolean(t)?0:"asc"===n?i?1:-1:i?-1:1},isValid:function(e){return!![!0,!1,void 0].includes(e)},Edit:"boolean",render:({item:e,field:t})=>t.elements?ws({item:e,field:t}):!0===t.getValue({item:e})?(0,o.__)("True"):!1===t.getValue({item:e})?(0,o.__)("False"):null,enableSorting:!0,filterBy:{defaultOperators:[d,f],validOperators:[d,f]}},Os={sort:function(){return 0},isValid:function(e,t){if(t?.elements){const n=t?.elements.map((e=>e.value));if(!n.includes(e))return!1}return!0},Edit:null,render:()=>null,enableSorting:!1,filterBy:!1},ks={sort:function(e,t,n){const i=Array.isArray(e)?e:[],r=Array.isArray(t)?t:[];if(i.length!==r.length)return"asc"===n?i.length-r.length:r.length-i.length;const s=i.join(","),o=r.join(",");return"asc"===n?s.localeCompare(o):o.localeCompare(s)},isValid:function(e,t){if(!Array.isArray(e))return!1;if(!e.every((e=>"string"==typeof e)))return!1;if(t?.elements){const n=t.elements.map((e=>e.value));if(!e.every((e=>n.includes(e))))return!1}return!0},Edit:null,render:function({item:e,field:t}){return(t.getValue({item:e})||[]).join(", ")},enableSorting:!0,filterBy:{defaultOperators:[h,m],validOperators:[h,m,p,g]}},Ps={[A]:[{value:"days",label:(0,o.__)("Days")},{value:"weeks",label:(0,o.__)("Weeks")},{value:"months",label:(0,o.__)("Months")},{value:"years",label:(0,o.__)("Years")}],[M]:[{value:"days",label:(0,o.__)("Days ago")},{value:"weeks",label:(0,o.__)("Weeks ago")},{value:"months",label:(0,o.__)("Months ago")},{value:"years",label:(0,o.__)("Years ago")}]};function As({id:e,value:t,onChange:n,label:s,hideLabelFromVision:a,options:c}){const{value:u="",unit:d=c[0].value}=t,f=(0,r.useCallback)((t=>n({[e]:{value:Number(t),unit:d}})),[e,n,d]),h=(0,r.useCallback)((t=>n({[e]:{value:u,unit:t}})),[e,n,u]);return(0,l.jsx)(i.BaseControl,{id:e,__nextHasNoMarginBottom:!0,className:"dataviews-controls__datetime",label:s,hideLabelFromVision:a,children:(0,l.jsxs)(i.__experimentalHStack,{spacing:2.5,children:[(0,l.jsx)(i.__experimentalNumberControl,{__next40pxDefaultSize:!0,className:"dataviews-controls__datetime-number",spinControls:"none",min:1,step:1,value:u,onChange:f}),(0,l.jsx)(i.SelectControl,{className:"dataviews-controls__datetime-unit",__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,o.__)("Unit"),value:d,options:c,onChange:h,hideLabelFromVision:!0})]})})}function Ms({id:e,value:t,onChange:n,hideLabelFromVision:s}){const[a="",c=""]=Array.isArray(t)?t:[],u=(0,r.useCallback)((t=>n({[e]:[Number(t),c]})),[e,n,c]),d=(0,r.useCallback)((t=>n({[e]:[a,Number(t)]})),[e,n,a]);return(0,l.jsx)(i.BaseControl,{__nextHasNoMarginBottom:!0,help:(0,o.__)("The max. value must be greater than the min. value."),children:(0,l.jsxs)(i.Flex,{direction:"row",gap:4,children:[(0,l.jsx)(i.__experimentalNumberControl,{label:(0,o.__)("Min."),value:a,max:c?Number(c)-1:void 0,onChange:u,__next40pxDefaultSize:!0,hideLabelFromVision:s}),(0,l.jsx)(i.__experimentalNumberControl,{label:(0,o.__)("Max."),value:c,min:a?Number(a)+1:void 0,onChange:d,__next40pxDefaultSize:!0,hideLabelFromVision:s})]})})}const Ts={boolean:function({field:e,onChange:t,data:n,hideLabelFromVision:r}){const{id:s,getValue:o,label:a}=e;return(0,l.jsx)(i.ToggleControl,{hidden:r,__nextHasNoMarginBottom:!0,label:a,checked:o({item:n}),onChange:()=>t({[s]:!o({item:n})})})},checkbox:function({field:e,onChange:t,data:n,hideLabelFromVision:r}){const{id:s,getValue:o,label:a,description:c}=e;return(0,l.jsx)(i.CheckboxControl,{__nextHasNoMarginBottom:!0,hidden:r,label:a,help:c,checked:o({item:n}),onChange:()=>t({[s]:!o({item:n})})})},datetime:function({data:e,field:t,onChange:n,hideLabelFromVision:s,operator:o}){const{id:a,label:c}=t,u=t.getValue({item:e}),d=(0,r.useCallback)((e=>n({[a]:e})),[a,n]);return o===A||o===M?(0,l.jsx)(As,{id:a,value:u&&"object"==typeof u?u:{},onChange:n,label:c,hideLabelFromVision:s,options:Ps[o]}):(0,l.jsxs)("fieldset",{className:"dataviews-controls__datetime",children:[!s&&(0,l.jsx)(i.BaseControl.VisualLabel,{as:"legend",children:c}),s&&(0,l.jsx)(i.VisuallyHidden,{as:"legend",children:c}),(0,l.jsx)(i.TimePicker,{currentTime:"string"==typeof u?u:void 0,onChange:d,hideLabelFromVision:!0})]})},email:function({data:e,field:t,onChange:n,hideLabelFromVision:s}){const{id:o,label:a,placeholder:c,description:u}=t,d=t.getValue({item:e}),f=(0,r.useCallback)((e=>n({[o]:e})),[o,n]);return(0,l.jsx)(i.TextControl,{type:"email",label:a,placeholder:c,value:null!=d?d:"",help:u,onChange:f,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,hideLabelFromVision:s})},integer:function({data:e,field:t,onChange:n,hideLabelFromVision:s,operator:o}){var a;const{id:c,label:u,description:d}=t,f=null!==(a=t.getValue({item:e}))&&void 0!==a?a:"",h=(0,r.useCallback)((e=>n({[c]:Number(e)})),[c,n]);return o===O?(0,l.jsx)(Ms,{id:c,value:f,onChange:n,hideLabelFromVision:s}):(0,l.jsx)(i.__experimentalNumberControl,{label:u,help:d,value:f,onChange:h,__next40pxDefaultSize:!0,hideLabelFromVision:s})},radio:function({data:e,field:t,onChange:n,hideLabelFromVision:s}){const{id:o,label:a}=t,c=t.getValue({item:e}),u=(0,r.useCallback)((e=>n({[o]:e})),[o,n]);return t.elements?(0,l.jsx)(i.RadioControl,{label:a,onChange:u,options:t.elements,selected:c,hideLabelFromVision:s}):null},select:function({data:e,field:t,onChange:n,hideLabelFromVision:s}){var a,c;const{id:u,label:d}=t,f=null!==(a=t.getValue({item:e}))&&void 0!==a?a:"",h=(0,r.useCallback)((e=>n({[u]:e})),[u,n]),m=[{label:(0,o.__)("Select item"),value:""},...null!==(c=t?.elements)&&void 0!==c?c:[]];return(0,l.jsx)(i.SelectControl,{label:d,value:f,help:t.description,options:m,onChange:h,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,hideLabelFromVision:s})},text:function({data:e,field:t,onChange:n,hideLabelFromVision:s}){const{id:o,label:a,placeholder:c,description:u}=t,d=t.getValue({item:e}),f=(0,r.useCallback)((e=>n({[o]:e})),[o,n]);return(0,l.jsx)(i.TextControl,{label:a,placeholder:c,value:null!=d?d:"",help:u,onChange:f,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,hideLabelFromVision:s})},toggleGroup:function({data:e,field:t,onChange:n,hideLabelFromVision:s}){const{id:o}=t,a=t.getValue({item:e}),c=(0,r.useCallback)((e=>n({[o]:e})),[o,n]);if(t.elements){const e=t.elements.find((e=>e.value===a));return(0,l.jsx)(i.__experimentalToggleGroupControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,isBlock:!0,label:t.label,help:e?.description||t.description,onChange:c,value:a,hideLabelFromVision:s,children:t.elements.map((e=>(0,l.jsx)(i.__experimentalToggleGroupControlOption,{label:e.label,value:e.value},e.value)))})}return null}};function Ls(e){if(Object.keys(Ts).includes(e))return Ts[e];throw"Control "+e+" not found"}const Fs=e=>e.id,Vs=()=>!0,Ds=[];function Ns({header:e,search:t=!0,searchLabel:n}){const{isShowingFilter:s}=(0,r.useContext)($);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(i.__experimentalHStack,{alignment:"top",justify:"space-between",className:"dataviews__view-actions",spacing:1,children:[(0,l.jsxs)(i.__experimentalHStack,{justify:"start",expanded:!1,className:"dataviews__search",children:[t&&(0,l.jsx)(Zr,{label:n}),(0,l.jsx)(Yi,{})]}),(0,l.jsxs)(i.__experimentalHStack,{spacing:1,expanded:!1,style:{flexShrink:0},children:[(0,l.jsx)(bs,{}),e]})]}),s&&(0,l.jsx)(Gi,{className:"dataviews-filters__container"}),(0,l.jsx)(Ur,{}),(0,l.jsx)(Kr,{})]})}const Bs=function({view:e,onChangeView:t,fields:n,search:i=!0,searchLabel:o,actions:a=Ds,data:c,getItemId:u=Fs,getItemLevel:h,isLoading:m=!1,paginationInfo:p,defaultLayouts:g,selection:v,onChangeSelection:b,onClickItem:y,renderItemLink:w,isItemClickable:x=Vs,header:_,children:S,perPageSizes:C}){const E=(0,r.useRef)(null),[j,I]=(0,r.useState)(0),k=(0,s.useResizeObserver)((e=>{I(e[0].borderBoxSize[0].inlineSize)}),{box:"border-box"}),[P,A]=(0,r.useState)([]),M=void 0===v||void 0===b,F=M?P:v,[V,D]=(0,r.useState)(null),N=(0,r.useMemo)((()=>function(e){return e.map((e=>{var t,n,i,r,s,o,a,l;const c="email"===(u=e.type)?xs:"integer"===u?_s:"text"===u?Ss:"datetime"===u?Cs:"date"===u?js:"boolean"===u?Is:"media"===u?Os:"array"===u?ks:{sort:(e,t,n)=>"number"==typeof e&&"number"==typeof t?"asc"===n?e-t:t-e:"asc"===n?e.localeCompare(t):t.localeCompare(e),isValid:(e,t)=>{if(t?.elements){const n=t?.elements?.map((e=>e.value));if(!n.includes(e))return!1}return!0},Edit:null,render:({item:e,field:t})=>t.elements?ws({item:e,field:t}):t.getValue({item:e}),enableSorting:!0,filterBy:{defaultOperators:[d,f],validOperators:T}};var u;const h=e.getValue||(m=e.id,({item:e})=>{const t=m.split(".");let n=e;for(const e of t)n=n.hasOwnProperty(e)?n[e]:void 0;return n});var m;const p=null!==(t=e.sort)&&void 0!==t?t:function(e,t,n){return c.sort(h({item:e}),h({item:t}),n)},g=null!==(n=e.isValid)&&void 0!==n?n:function(e,t){return c.isValid(h({item:e}),t)},v=function(e,t){return"function"==typeof e.Edit?e.Edit:"string"==typeof e.Edit?Ls(e.Edit):e.elements?Ls("select"):"string"==typeof t.Edit?Ls(t.Edit):t.Edit}(e,c),b=null!==(i=e.render)&&void 0!==i?i:function({item:e,field:t}){return c.render({item:e,field:t})},y=function(e,t){if(!1===e.filterBy)return!1;if("object"==typeof e.filterBy){let n=e.filterBy.operators;n&&Array.isArray(n)||(n=t.filterBy?t.filterBy.defaultOperators:[]);let i=T;return"object"==typeof t.filterBy&&(i=t.filterBy.validOperators),n=n.filter((e=>i.includes(e))),e.elements&&n.includes(O)&&(n=n.filter((e=>e!==O))),n.some((e=>L.includes(e)))&&(n=n.filter((e=>[...L,O].includes(e)))),0!==n.length&&{isPrimary:!!e.filterBy.isPrimary,operators:n}}if(!1===t.filterBy)return!1;let n=t.filterBy.defaultOperators;return e.elements&&n.includes(O)&&(n=n.filter((e=>e!==O))),{operators:n}}(e,c);return{...e,label:e.label||e.id,header:e.header||e.label||e.id,getValue:h,render:b,sort:p,isValid:g,Edit:v,enableHiding:null===(r=e.enableHiding)||void 0===r||r,enableSorting:null===(s=null!==(o=e.enableSorting)&&void 0!==o?o:c.enableSorting)||void 0===s||s,filterBy:y,readOnly:null!==(a=null!==(l=e.readOnly)&&void 0!==l?l:c.readOnly)&&void 0!==a&&a}}))}(n)),[n]),B=(0,r.useMemo)((()=>F.filter((e=>c.some((t=>u(t)===e))))),[F,c,u]),R=qi(N,e),[z,H]=(0,r.useState)((()=>(R||[]).some((e=>e.isPrimary))));return(0,l.jsx)($.Provider,{value:{view:e,onChangeView:t,fields:N,actions:a,data:c,isLoading:m,paginationInfo:p,selection:B,onChangeSelection:function(e){const t="function"==typeof e?e(F):e;M&&A(t),b&&b(t)},openedFilter:V,setOpenedFilter:D,getItemId:u,getItemLevel:h,isItemClickable:x,onClickItem:y,renderItemLink:w,containerWidth:j,containerRef:E,defaultLayouts:g,filters:R,isShowingFilter:z,setIsShowingFilter:H,perPageSizes:C},children:(0,l.jsx)("div",{className:"dataviews-wrapper",ref:(0,s.useMergeRefs)([E,k]),children:null!=S?S:(0,l.jsx)(Ns,{header:_,search:i,searchLabel:o})})})};Bs.BulkActionToolbar=xr,Bs.Filters=Gi,Bs.FiltersToggle=Yi,Bs.Layout=Ur,Bs.LayoutSwitcher=ss,Bs.Pagination=Yr,Bs.Search=Zr,Bs.ViewConfig=gs;const Rs=Bs},252:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var i,r,s;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(r=i;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(r of t.entries())if(!n.has(r[0]))return!1;for(r of t.entries())if(!e(r[1],n.get(r[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(r of t.entries())if(!n.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if((i=t.length)!=n.length)return!1;for(r=i;0!=r--;)if(t[r]!==n[r])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(s=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=i;0!=r--;)if(!Object.prototype.hasOwnProperty.call(n,s[r]))return!1;for(r=i;0!=r--;){var o=s[r];if(!e(t[o],n[o]))return!1}return!0}return t!=t&&n!=n}},407:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(609);const r=(...e)=>e.filter(((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t)).join(" ").trim();var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const o=(0,i.forwardRef)((({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:a="",children:l,iconNode:c,...u},d)=>(0,i.createElement)("svg",{ref:d,...s,width:t,height:t,stroke:e,strokeWidth:o?24*Number(n)/Number(t):n,className:r("lucide",a),...u},[...c.map((([e,t])=>(0,i.createElement)(e,t))),...Array.isArray(l)?l:[l]]))),a=(e,t)=>{const n=(0,i.forwardRef)((({className:n,...s},a)=>{return(0,i.createElement)(o,{ref:a,iconNode:t,className:r(`lucide-${l=e,l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,n),...s});var l}));return n.displayName=`${e}`,n}},946:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i=(0,n(407).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},804:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i=(0,n(407).A)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},104:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i=(0,n(407).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},418:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i=(0,n(407).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},802:e=>{e.exports=function e(t,n,i){function r(o,a){if(!n[o]){if(!t[o]){if(s)return s(o,!0);throw new Error("Cannot find module '"+o+"'")}var l=n[o]={exports:{}};t[o][0].call(l.exports,(function(e){return r(t[o][1][e]||e)}),l,l.exports,e,t,n,i)}return n[o].exports}for(var s=void 0,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(e,t,n){(function(i,r,s,o,a,l,c,u,d){"use strict";var f=e("crypto");function h(e,t){return function(e,t){var n;if(void 0===(n="passthrough"!==t.algorithm?f.createHash(t.algorithm):new y).write&&(n.write=n.update,n.end=n.update),b(t,n).dispatch(e),n.update||n.end(""),n.digest)return n.digest("buffer"===t.encoding?void 0:t.encoding);var i=n.read();return"buffer"!==t.encoding?i.toString(t.encoding):i}(e,t=g(e,t))}(n=t.exports=h).sha1=function(e){return h(e)},n.keys=function(e){return h(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},n.MD5=function(e){return h(e,{algorithm:"md5",encoding:"hex"})},n.keysMD5=function(e){return h(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var m=f.getHashes?f.getHashes().slice():["sha1","md5"];m.push("passthrough");var p=["buffer","hex","binary","base64"];function g(e,t){t=t||{};var n={};if(n.algorithm=t.algorithm||"sha1",n.encoding=t.encoding||"hex",n.excludeValues=!!t.excludeValues,n.algorithm=n.algorithm.toLowerCase(),n.encoding=n.encoding.toLowerCase(),n.ignoreUnknown=!0===t.ignoreUnknown,n.respectType=!1!==t.respectType,n.respectFunctionNames=!1!==t.respectFunctionNames,n.respectFunctionProperties=!1!==t.respectFunctionProperties,n.unorderedArrays=!0===t.unorderedArrays,n.unorderedSets=!1!==t.unorderedSets,n.unorderedObjects=!1!==t.unorderedObjects,n.replacer=t.replacer||void 0,n.excludeKeys=t.excludeKeys||void 0,void 0===e)throw new Error("Object argument required.");for(var i=0;i<m.length;++i)m[i].toLowerCase()===n.algorithm.toLowerCase()&&(n.algorithm=m[i]);if(-1===m.indexOf(n.algorithm))throw new Error('Algorithm "'+n.algorithm+'"  not supported. supported values: '+m.join(", "));if(-1===p.indexOf(n.encoding)&&"passthrough"!==n.algorithm)throw new Error('Encoding "'+n.encoding+'"  not supported. supported values: '+p.join(", "));return n}function v(e){if("function"==typeof e)return null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))}function b(e,t,n){function i(e){return t.update?t.update(e,"utf8"):t.write(e,"utf8")}return n=n||[],{dispatch:function(t){return e.replacer&&(t=e.replacer(t)),this["_"+(null===t?"null":typeof t)](t)},_object:function(t){var r,o=Object.prototype.toString.call(t),a=/\[object (.*)\]/i.exec(o);if(a=(a=a?a[1]:"unknown:["+o+"]").toLowerCase(),0<=(r=n.indexOf(t)))return this.dispatch("[CIRCULAR:"+r+"]");if(n.push(t),void 0!==s&&s.isBuffer&&s.isBuffer(t))return i("buffer:"),i(t);if("object"===a||"function"===a||"asyncfunction"===a){var l=Object.keys(t);e.unorderedObjects&&(l=l.sort()),!1===e.respectType||v(t)||l.splice(0,0,"prototype","__proto__","constructor"),e.excludeKeys&&(l=l.filter((function(t){return!e.excludeKeys(t)}))),i("object:"+l.length+":");var c=this;return l.forEach((function(n){c.dispatch(n),i(":"),e.excludeValues||c.dispatch(t[n]),i(",")}))}if(!this["_"+a]){if(e.ignoreUnknown)return i("["+a+"]");throw new Error('Unknown object type "'+a+'"')}this["_"+a](t)},_array:function(t,r){r=void 0!==r?r:!1!==e.unorderedArrays;var s=this;if(i("array:"+t.length+":"),!r||t.length<=1)return t.forEach((function(e){return s.dispatch(e)}));var o=[],a=t.map((function(t){var i=new y,r=n.slice();return b(e,i,r).dispatch(t),o=o.concat(r.slice(n.length)),i.read().toString()}));return n=n.concat(o),a.sort(),this._array(a,!1)},_date:function(e){return i("date:"+e.toJSON())},_symbol:function(e){return i("symbol:"+e.toString())},_error:function(e){return i("error:"+e.toString())},_boolean:function(e){return i("bool:"+e.toString())},_string:function(e){i("string:"+e.length+":"),i(e.toString())},_function:function(t){i("fn:"),v(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this._object(t)},_number:function(e){return i("number:"+e.toString())},_xml:function(e){return i("xml:"+e.toString())},_null:function(){return i("Null")},_undefined:function(){return i("Undefined")},_regexp:function(e){return i("regex:"+e.toString())},_uint8array:function(e){return i("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint8clampedarray:function(e){return i("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},_int8array:function(e){return i("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint16array:function(e){return i("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_int16array:function(e){return i("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_uint32array:function(e){return i("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_int32array:function(e){return i("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_float32array:function(e){return i("float32array:"),this.dispatch(Array.prototype.slice.call(e))},_float64array:function(e){return i("float64array:"),this.dispatch(Array.prototype.slice.call(e))},_arraybuffer:function(e){return i("arraybuffer:"),this.dispatch(new Uint8Array(e))},_url:function(e){return i("url:"+e.toString())},_map:function(t){i("map:");var n=Array.from(t);return this._array(n,!1!==e.unorderedSets)},_set:function(t){i("set:");var n=Array.from(t);return this._array(n,!1!==e.unorderedSets)},_file:function(e){return i("file:"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},_blob:function(){if(e.ignoreUnknown)return i("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return i("domwindow")},_bigint:function(e){return i("bigint:"+e.toString())},_process:function(){return i("process")},_timer:function(){return i("timer")},_pipe:function(){return i("pipe")},_tcp:function(){return i("tcp")},_udp:function(){return i("udp")},_tty:function(){return i("tty")},_statwatcher:function(){return i("statwatcher")},_securecontext:function(){return i("securecontext")},_connection:function(){return i("connection")},_zlib:function(){return i("zlib")},_context:function(){return i("context")},_nodescript:function(){return i("nodescript")},_httpparser:function(){return i("httpparser")},_dataview:function(){return i("dataview")},_signal:function(){return i("signal")},_fsevent:function(){return i("fsevent")},_tlswrap:function(){return i("tlswrap")}}}function y(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}n.writeToStream=function(e,t,n){return void 0===n&&(n=t,t={}),b(t=g(e,t),n).dispatch(e)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_7eac155c.js","/")},{buffer:3,crypto:5,lYpoI2:10}],2:[function(e,t,n){(function(e,t,i,r,s,o,a,l,c){!function(e){"use strict";var t="undefined"!=typeof Uint8Array?Uint8Array:Array,n="+".charCodeAt(0),i="/".charCodeAt(0),r="0".charCodeAt(0),s="a".charCodeAt(0),o="A".charCodeAt(0),a="-".charCodeAt(0),l="_".charCodeAt(0);function c(e){var t=e.charCodeAt(0);return t===n||t===a?62:t===i||t===l?63:t<r?-1:t<r+10?t-r+26+26:t<o+26?t-o:t<s+26?t-s+26:void 0}e.toByteArray=function(e){var n,i;if(0<e.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.length,s="="===e.charAt(r-2)?2:"="===e.charAt(r-1)?1:0,o=new t(3*e.length/4-s),a=0<s?e.length-4:e.length,l=0;function u(e){o[l++]=e}for(n=0;n<a;n+=4,0)u((16711680&(i=c(e.charAt(n))<<18|c(e.charAt(n+1))<<12|c(e.charAt(n+2))<<6|c(e.charAt(n+3))))>>16),u((65280&i)>>8),u(255&i);return 2==s?u(255&(i=c(e.charAt(n))<<2|c(e.charAt(n+1))>>4)):1==s&&(u((i=c(e.charAt(n))<<10|c(e.charAt(n+1))<<4|c(e.charAt(n+2))>>2)>>8&255),u(255&i)),o},e.fromByteArray=function(e){var t,n,i,r,s=e.length%3,o="";function a(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)}for(t=0,i=e.length-s;t<i;t+=3)o+=a((r=n=(e[t]<<16)+(e[t+1]<<8)+e[t+2])>>18&63)+a(r>>12&63)+a(r>>6&63)+a(63&r);switch(s){case 1:o+=a((n=e[e.length-1])>>2),o+=a(n<<4&63),o+="==";break;case 2:o+=a((n=(e[e.length-2]<<8)+e[e.length-1])>>10),o+=a(n>>4&63),o+=a(n<<2&63),o+="="}return o}}(void 0===n?this.base64js={}:n)}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:10}],3:[function(e,t,n){(function(t,i,r,s,o,a,l,c,u){var d=e("base64-js"),f=e("ieee754");function r(e,t,n){if(!(this instanceof r))return new r(e,t,n);var i,s,o,a,l,c=typeof e;if("base64"===t&&"string"==c)for(e=(i=e).trim?i.trim():i.replace(/^\s+|\s+$/g,"");e.length%4!=0;)e+="=";if("number"==c)s=I(e);else if("string"==c)s=r.byteLength(e,t);else{if("object"!=c)throw new Error("First argument needs to be a number, array or string.");s=I(e.length)}if(r._useTypedArrays?o=r._augment(new Uint8Array(s)):((o=this).length=s,o._isBuffer=!0),r._useTypedArrays&&"number"==typeof e.byteLength)o._set(e);else if(O(l=e)||r.isBuffer(l)||l&&"object"==typeof l&&"number"==typeof l.length)for(a=0;a<s;a++)r.isBuffer(e)?o[a]=e.readUInt8(a):o[a]=e[a];else if("string"==c)o.write(e,0,t);else if("number"==c&&!r._useTypedArrays&&!n)for(a=0;a<s;a++)o[a]=0;return o}function h(e,t,n,i){i||(D("boolean"==typeof n,"missing or invalid endian"),D(null!=t,"missing offset"),D(t+1<e.length,"Trying to read beyond buffer length"));var r,s=e.length;if(!(s<=t))return n?(r=e[t],t+1<s&&(r|=e[t+1]<<8)):(r=e[t]<<8,t+1<s&&(r|=e[t+1])),r}function m(e,t,n,i){i||(D("boolean"==typeof n,"missing or invalid endian"),D(null!=t,"missing offset"),D(t+3<e.length,"Trying to read beyond buffer length"));var r,s=e.length;if(!(s<=t))return n?(t+2<s&&(r=e[t+2]<<16),t+1<s&&(r|=e[t+1]<<8),r|=e[t],t+3<s&&(r+=e[t+3]<<24>>>0)):(t+1<s&&(r=e[t+1]<<16),t+2<s&&(r|=e[t+2]<<8),t+3<s&&(r|=e[t+3]),r+=e[t]<<24>>>0),r}function p(e,t,n,i){if(i||(D("boolean"==typeof n,"missing or invalid endian"),D(null!=t,"missing offset"),D(t+1<e.length,"Trying to read beyond buffer length")),!(e.length<=t)){var r=h(e,t,n,!0);return 32768&r?-1*(65535-r+1):r}}function g(e,t,n,i){if(i||(D("boolean"==typeof n,"missing or invalid endian"),D(null!=t,"missing offset"),D(t+3<e.length,"Trying to read beyond buffer length")),!(e.length<=t)){var r=m(e,t,n,!0);return 2147483648&r?-1*(4294967295-r+1):r}}function v(e,t,n,i){return i||(D("boolean"==typeof n,"missing or invalid endian"),D(t+3<e.length,"Trying to read beyond buffer length")),f.read(e,t,n,23,4)}function b(e,t,n,i){return i||(D("boolean"==typeof n,"missing or invalid endian"),D(t+7<e.length,"Trying to read beyond buffer length")),f.read(e,t,n,52,8)}function y(e,t,n,i,r){r||(D(null!=t,"missing value"),D("boolean"==typeof i,"missing or invalid endian"),D(null!=n,"missing offset"),D(n+1<e.length,"trying to write beyond buffer length"),L(t,65535));var s=e.length;if(!(s<=n))for(var o=0,a=Math.min(s-n,2);o<a;o++)e[n+o]=(t&255<<8*(i?o:1-o))>>>8*(i?o:1-o)}function w(e,t,n,i,r){r||(D(null!=t,"missing value"),D("boolean"==typeof i,"missing or invalid endian"),D(null!=n,"missing offset"),D(n+3<e.length,"trying to write beyond buffer length"),L(t,4294967295));var s=e.length;if(!(s<=n))for(var o=0,a=Math.min(s-n,4);o<a;o++)e[n+o]=t>>>8*(i?o:3-o)&255}function x(e,t,n,i,r){r||(D(null!=t,"missing value"),D("boolean"==typeof i,"missing or invalid endian"),D(null!=n,"missing offset"),D(n+1<e.length,"Trying to write beyond buffer length"),F(t,32767,-32768)),e.length<=n||y(e,0<=t?t:65535+t+1,n,i,r)}function _(e,t,n,i,r){r||(D(null!=t,"missing value"),D("boolean"==typeof i,"missing or invalid endian"),D(null!=n,"missing offset"),D(n+3<e.length,"Trying to write beyond buffer length"),F(t,2147483647,-2147483648)),e.length<=n||w(e,0<=t?t:4294967295+t+1,n,i,r)}function S(e,t,n,i,r){r||(D(null!=t,"missing value"),D("boolean"==typeof i,"missing or invalid endian"),D(null!=n,"missing offset"),D(n+3<e.length,"Trying to write beyond buffer length"),V(t,34028234663852886e22,-34028234663852886e22)),e.length<=n||f.write(e,t,n,i,23,4)}function C(e,t,n,i,r){r||(D(null!=t,"missing value"),D("boolean"==typeof i,"missing or invalid endian"),D(null!=n,"missing offset"),D(n+7<e.length,"Trying to write beyond buffer length"),V(t,17976931348623157e292,-17976931348623157e292)),e.length<=n||f.write(e,t,n,i,52,8)}n.Buffer=r,n.SlowBuffer=r,n.INSPECT_MAX_BYTES=50,r.poolSize=8192,r._useTypedArrays=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray}catch(e){return!1}}(),r.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.isBuffer=function(e){return!(null==e||!e._isBuffer)},r.byteLength=function(e,t){var n;switch(e+="",t||"utf8"){case"hex":n=e.length/2;break;case"utf8":case"utf-8":n=P(e).length;break;case"ascii":case"binary":case"raw":n=e.length;break;case"base64":n=A(e).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*e.length;break;default:throw new Error("Unknown encoding")}return n},r.concat=function(e,t){if(D(O(e),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===e.length)return new r(0);if(1===e.length)return e[0];if("number"!=typeof t)for(s=t=0;s<e.length;s++)t+=e[s].length;for(var n=new r(t),i=0,s=0;s<e.length;s++){var o=e[s];o.copy(n,i),i+=o.length}return n},r.prototype.write=function(e,t,n,i){var s;isFinite(t)?isFinite(n)||(i=n,n=void 0):(s=i,i=t,t=n,n=s),t=Number(t)||0;var o,a,l,c,u,d,f,h=this.length-t;switch((!n||h<(n=Number(n)))&&(n=h),i=String(i||"utf8").toLowerCase()){case"hex":o=function(e,t,n,i){n=Number(n)||0;var s=e.length-n;(!i||s<(i=Number(i)))&&(i=s);var o=t.length;D(o%2==0,"Invalid hex string"),o/2<i&&(i=o/2);for(var a=0;a<i;a++){var l=parseInt(t.substr(2*a,2),16);D(!isNaN(l),"Invalid hex string"),e[n+a]=l}return r._charsWritten=2*a,a}(this,e,t,n);break;case"utf8":case"utf-8":u=e,d=t,f=n,o=r._charsWritten=M(P(u),this,d,f);break;case"ascii":case"binary":o=function(e,t,n,i){return r._charsWritten=M(function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}(this,e,t,n);break;case"base64":a=e,l=t,c=n,o=r._charsWritten=M(A(a),this,l,c);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":o=function(e,t,n,i){return r._charsWritten=M(function(e){for(var t,n,i,r=[],s=0;s<e.length;s++)n=(t=e.charCodeAt(s))>>8,i=t%256,r.push(i),r.push(n);return r}(t),e,n,i)}(this,e,t,n);break;default:throw new Error("Unknown encoding")}return o},r.prototype.toString=function(e,t,n){var i,r,s,o,a=this;if(e=String(e||"utf8").toLowerCase(),t=Number(t)||0,(n=void 0!==n?Number(n):n=a.length)===t)return"";switch(e){case"hex":i=function(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||i<n)&&(n=i);for(var r="",s=t;s<n;s++)r+=k(e[s]);return r}(a,t,n);break;case"utf8":case"utf-8":i=function(e,t,n){var i="",r="";n=Math.min(e.length,n);for(var s=t;s<n;s++)e[s]<=127?(i+=T(r)+String.fromCharCode(e[s]),r=""):r+="%"+e[s].toString(16);return i+T(r)}(a,t,n);break;case"ascii":case"binary":i=function(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;r++)i+=String.fromCharCode(e[r]);return i}(a,t,n);break;case"base64":r=a,o=n,i=0===(s=t)&&o===r.length?d.fromByteArray(r):d.fromByteArray(r.slice(s,o));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":i=function(e,t,n){for(var i=e.slice(t,n),r="",s=0;s<i.length;s+=2)r+=String.fromCharCode(i[s]+256*i[s+1]);return r}(a,t,n);break;default:throw new Error("Unknown encoding")}return i},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},r.prototype.copy=function(e,t,n,i){if(n=n||0,i||0===i||(i=this.length),t=t||0,i!==n&&0!==e.length&&0!==this.length){D(n<=i,"sourceEnd < sourceStart"),D(0<=t&&t<e.length,"targetStart out of bounds"),D(0<=n&&n<this.length,"sourceStart out of bounds"),D(0<=i&&i<=this.length,"sourceEnd out of bounds"),i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var s=i-n;if(s<100||!r._useTypedArrays)for(var o=0;o<s;o++)e[o+t]=this[o+n];else e._set(this.subarray(n,n+s),t)}},r.prototype.slice=function(e,t){var n=this.length;if(e=j(e,n,0),t=j(t,n,n),r._useTypedArrays)return r._augment(this.subarray(e,t));for(var i=t-e,s=new r(i,void 0,!0),o=0;o<i;o++)s[o]=this[o+e];return s},r.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},r.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},r.prototype.readUInt8=function(e,t){if(t||(D(null!=e,"missing offset"),D(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return this[e]},r.prototype.readUInt16LE=function(e,t){return h(this,e,!0,t)},r.prototype.readUInt16BE=function(e,t){return h(this,e,!1,t)},r.prototype.readUInt32LE=function(e,t){return m(this,e,!0,t)},r.prototype.readUInt32BE=function(e,t){return m(this,e,!1,t)},r.prototype.readInt8=function(e,t){if(t||(D(null!=e,"missing offset"),D(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return 128&this[e]?-1*(255-this[e]+1):this[e]},r.prototype.readInt16LE=function(e,t){return p(this,e,!0,t)},r.prototype.readInt16BE=function(e,t){return p(this,e,!1,t)},r.prototype.readInt32LE=function(e,t){return g(this,e,!0,t)},r.prototype.readInt32BE=function(e,t){return g(this,e,!1,t)},r.prototype.readFloatLE=function(e,t){return v(this,e,!0,t)},r.prototype.readFloatBE=function(e,t){return v(this,e,!1,t)},r.prototype.readDoubleLE=function(e,t){return b(this,e,!0,t)},r.prototype.readDoubleBE=function(e,t){return b(this,e,!1,t)},r.prototype.writeUInt8=function(e,t,n){n||(D(null!=e,"missing value"),D(null!=t,"missing offset"),D(t<this.length,"trying to write beyond buffer length"),L(e,255)),t>=this.length||(this[t]=e)},r.prototype.writeUInt16LE=function(e,t,n){y(this,e,t,!0,n)},r.prototype.writeUInt16BE=function(e,t,n){y(this,e,t,!1,n)},r.prototype.writeUInt32LE=function(e,t,n){w(this,e,t,!0,n)},r.prototype.writeUInt32BE=function(e,t,n){w(this,e,t,!1,n)},r.prototype.writeInt8=function(e,t,n){n||(D(null!=e,"missing value"),D(null!=t,"missing offset"),D(t<this.length,"Trying to write beyond buffer length"),F(e,127,-128)),t>=this.length||(0<=e?this.writeUInt8(e,t,n):this.writeUInt8(255+e+1,t,n))},r.prototype.writeInt16LE=function(e,t,n){x(this,e,t,!0,n)},r.prototype.writeInt16BE=function(e,t,n){x(this,e,t,!1,n)},r.prototype.writeInt32LE=function(e,t,n){_(this,e,t,!0,n)},r.prototype.writeInt32BE=function(e,t,n){_(this,e,t,!1,n)},r.prototype.writeFloatLE=function(e,t,n){S(this,e,t,!0,n)},r.prototype.writeFloatBE=function(e,t,n){S(this,e,t,!1,n)},r.prototype.writeDoubleLE=function(e,t,n){C(this,e,t,!0,n)},r.prototype.writeDoubleBE=function(e,t,n){C(this,e,t,!1,n)},r.prototype.fill=function(e,t,n){if(e=e||0,t=t||0,n=n||this.length,"string"==typeof e&&(e=e.charCodeAt(0)),D("number"==typeof e&&!isNaN(e),"value is not a number"),D(t<=n,"end < start"),n!==t&&0!==this.length){D(0<=t&&t<this.length,"start out of bounds"),D(0<=n&&n<=this.length,"end out of bounds");for(var i=t;i<n;i++)this[i]=e}},r.prototype.inspect=function(){for(var e=[],t=this.length,i=0;i<t;i++)if(e[i]=k(this[i]),i===n.INSPECT_MAX_BYTES){e[i+1]="...";break}return"<Buffer "+e.join(" ")+">"},r.prototype.toArrayBuffer=function(){if("undefined"==typeof Uint8Array)throw new Error("Buffer.toArrayBuffer not supported in this browser");if(r._useTypedArrays)return new r(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;t<n;t+=1)e[t]=this[t];return e.buffer};var E=r.prototype;function j(e,t,n){return"number"!=typeof e?n:t<=(e=~~e)?t:0<=e||0<=(e+=t)?e:0}function I(e){return(e=~~Math.ceil(+e))<0?0:e}function O(e){return(Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)}function k(e){return e<16?"0"+e.toString(16):e.toString(16)}function P(e){for(var t=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<=127)t.push(e.charCodeAt(n));else{var r=n;55296<=i&&i<=57343&&n++;for(var s=encodeURIComponent(e.slice(r,n+1)).substr(1).split("%"),o=0;o<s.length;o++)t.push(parseInt(s[o],16))}}return t}function A(e){return d.toByteArray(e)}function M(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);r++)t[r+n]=e[r];return r}function T(e){try{return decodeURIComponent(e)}catch(e){return String.fromCharCode(65533)}}function L(e,t){D("number"==typeof e,"cannot write a non-number as a number"),D(0<=e,"specified a negative value for writing an unsigned value"),D(e<=t,"value is larger than maximum value for type"),D(Math.floor(e)===e,"value has a fractional component")}function F(e,t,n){D("number"==typeof e,"cannot write a non-number as a number"),D(e<=t,"value larger than maximum allowed value"),D(n<=e,"value smaller than minimum allowed value"),D(Math.floor(e)===e,"value has a fractional component")}function V(e,t,n){D("number"==typeof e,"cannot write a non-number as a number"),D(e<=t,"value larger than maximum allowed value"),D(n<=e,"value smaller than minimum allowed value")}function D(e,t){if(!e)throw new Error(t||"Failed assertion")}r._augment=function(e){return e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=E.get,e.set=E.set,e.write=E.write,e.toString=E.toString,e.toLocaleString=E.toString,e.toJSON=E.toJSON,e.copy=E.copy,e.slice=E.slice,e.readUInt8=E.readUInt8,e.readUInt16LE=E.readUInt16LE,e.readUInt16BE=E.readUInt16BE,e.readUInt32LE=E.readUInt32LE,e.readUInt32BE=E.readUInt32BE,e.readInt8=E.readInt8,e.readInt16LE=E.readInt16LE,e.readInt16BE=E.readInt16BE,e.readInt32LE=E.readInt32LE,e.readInt32BE=E.readInt32BE,e.readFloatLE=E.readFloatLE,e.readFloatBE=E.readFloatBE,e.readDoubleLE=E.readDoubleLE,e.readDoubleBE=E.readDoubleBE,e.writeUInt8=E.writeUInt8,e.writeUInt16LE=E.writeUInt16LE,e.writeUInt16BE=E.writeUInt16BE,e.writeUInt32LE=E.writeUInt32LE,e.writeUInt32BE=E.writeUInt32BE,e.writeInt8=E.writeInt8,e.writeInt16LE=E.writeInt16LE,e.writeInt16BE=E.writeInt16BE,e.writeInt32LE=E.writeInt32LE,e.writeInt32BE=E.writeInt32BE,e.writeFloatLE=E.writeFloatLE,e.writeFloatBE=E.writeFloatBE,e.writeDoubleLE=E.writeDoubleLE,e.writeDoubleBE=E.writeDoubleBE,e.fill=E.fill,e.inspect=E.inspect,e.toArrayBuffer=E.toArrayBuffer,e}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:11,lYpoI2:10}],4:[function(e,t,n){(function(n,i,r,s,o,a,l,c,u){r=e("buffer").Buffer;var d=new r(4);d.fill(0),t.exports={hash:function(e,t,n,i){return r.isBuffer(e)||(e=new r(e)),function(e,t,n){for(var i=new r(t),s=n?i.writeInt32BE:i.writeInt32LE,o=0;o<e.length;o++)s.call(i,e[o],4*o,!0);return i}(t(function(e,t){var n;e.length%4!=0&&(n=e.length+(4-e.length%4),e=r.concat([e,d],n));for(var i=[],s=t?e.readInt32BE:e.readInt32LE,o=0;o<e.length;o+=4)i.push(s.call(e,o));return i}(e,i),8*e.length),n,i)}}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:10}],5:[function(e,t,n){(function(t,i,r,s,o,a,l,c,u){r=e("buffer").Buffer;var d=e("./sha"),f=e("./sha256"),h=e("./rng"),m={sha1:d,sha256:f,md5:e("./md5")},p=64,g=new r(p);function v(e,t){var n=m[e=e||"sha1"],i=[];return n||b("algorithm:",e,"is not yet supported"),{update:function(e){return r.isBuffer(e)||(e=new r(e)),i.push(e),e.length,this},digest:function(e){var s=r.concat(i),o=t?function(e,t,n){r.isBuffer(t)||(t=new r(t)),r.isBuffer(n)||(n=new r(n)),t.length>p?t=e(t):t.length<p&&(t=r.concat([t,g],p));for(var i=new r(p),s=new r(p),o=0;o<p;o++)i[o]=54^t[o],s[o]=92^t[o];var a=e(r.concat([i,n]));return e(r.concat([s,a]))}(n,t,s):n(s);return i=null,e?o.toString(e):o}}}function b(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}g.fill(0),n.createHash=function(e){return v(e)},n.createHmac=v,n.randomBytes=function(e,t){if(!t||!t.call)return new r(h(e));try{t.call(this,void 0,new r(h(e)))}catch(e){t(e)}},function(e,t){for(var n in e)t(e[n])}(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],(function(e){n[e]=function(){b("sorry,",e,"is not implemented yet")}}))}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:10}],6:[function(e,t,n){(function(n,i,r,s,o,a,l,c,u){var d=e("./helpers");function f(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,i=-271733879,r=-1732584194,s=271733878,o=0;o<e.length;o+=16){var a=n,l=i,c=r,u=s;n=m(n,i,r,s,e[o+0],7,-680876936),s=m(s,n,i,r,e[o+1],12,-389564586),r=m(r,s,n,i,e[o+2],17,606105819),i=m(i,r,s,n,e[o+3],22,-1044525330),n=m(n,i,r,s,e[o+4],7,-176418897),s=m(s,n,i,r,e[o+5],12,1200080426),r=m(r,s,n,i,e[o+6],17,-1473231341),i=m(i,r,s,n,e[o+7],22,-45705983),n=m(n,i,r,s,e[o+8],7,1770035416),s=m(s,n,i,r,e[o+9],12,-1958414417),r=m(r,s,n,i,e[o+10],17,-42063),i=m(i,r,s,n,e[o+11],22,-1990404162),n=m(n,i,r,s,e[o+12],7,1804603682),s=m(s,n,i,r,e[o+13],12,-40341101),r=m(r,s,n,i,e[o+14],17,-1502002290),n=p(n,i=m(i,r,s,n,e[o+15],22,1236535329),r,s,e[o+1],5,-165796510),s=p(s,n,i,r,e[o+6],9,-1069501632),r=p(r,s,n,i,e[o+11],14,643717713),i=p(i,r,s,n,e[o+0],20,-373897302),n=p(n,i,r,s,e[o+5],5,-701558691),s=p(s,n,i,r,e[o+10],9,38016083),r=p(r,s,n,i,e[o+15],14,-660478335),i=p(i,r,s,n,e[o+4],20,-405537848),n=p(n,i,r,s,e[o+9],5,568446438),s=p(s,n,i,r,e[o+14],9,-1019803690),r=p(r,s,n,i,e[o+3],14,-187363961),i=p(i,r,s,n,e[o+8],20,1163531501),n=p(n,i,r,s,e[o+13],5,-1444681467),s=p(s,n,i,r,e[o+2],9,-51403784),r=p(r,s,n,i,e[o+7],14,1735328473),n=g(n,i=p(i,r,s,n,e[o+12],20,-1926607734),r,s,e[o+5],4,-378558),s=g(s,n,i,r,e[o+8],11,-2022574463),r=g(r,s,n,i,e[o+11],16,1839030562),i=g(i,r,s,n,e[o+14],23,-35309556),n=g(n,i,r,s,e[o+1],4,-1530992060),s=g(s,n,i,r,e[o+4],11,1272893353),r=g(r,s,n,i,e[o+7],16,-155497632),i=g(i,r,s,n,e[o+10],23,-1094730640),n=g(n,i,r,s,e[o+13],4,681279174),s=g(s,n,i,r,e[o+0],11,-358537222),r=g(r,s,n,i,e[o+3],16,-722521979),i=g(i,r,s,n,e[o+6],23,76029189),n=g(n,i,r,s,e[o+9],4,-640364487),s=g(s,n,i,r,e[o+12],11,-421815835),r=g(r,s,n,i,e[o+15],16,530742520),n=v(n,i=g(i,r,s,n,e[o+2],23,-995338651),r,s,e[o+0],6,-198630844),s=v(s,n,i,r,e[o+7],10,1126891415),r=v(r,s,n,i,e[o+14],15,-1416354905),i=v(i,r,s,n,e[o+5],21,-57434055),n=v(n,i,r,s,e[o+12],6,1700485571),s=v(s,n,i,r,e[o+3],10,-1894986606),r=v(r,s,n,i,e[o+10],15,-1051523),i=v(i,r,s,n,e[o+1],21,-2054922799),n=v(n,i,r,s,e[o+8],6,1873313359),s=v(s,n,i,r,e[o+15],10,-30611744),r=v(r,s,n,i,e[o+6],15,-1560198380),i=v(i,r,s,n,e[o+13],21,1309151649),n=v(n,i,r,s,e[o+4],6,-145523070),s=v(s,n,i,r,e[o+11],10,-1120210379),r=v(r,s,n,i,e[o+2],15,718787259),i=v(i,r,s,n,e[o+9],21,-343485551),n=b(n,a),i=b(i,l),r=b(r,c),s=b(s,u)}return Array(n,i,r,s)}function h(e,t,n,i,r,s){return b((o=b(b(t,e),b(i,s)))<<(a=r)|o>>>32-a,n);var o,a}function m(e,t,n,i,r,s,o){return h(t&n|~t&i,e,t,r,s,o)}function p(e,t,n,i,r,s,o){return h(t&i|n&~i,e,t,r,s,o)}function g(e,t,n,i,r,s,o){return h(t^n^i,e,t,r,s,o)}function v(e,t,n,i,r,s,o){return h(n^(t|~i),e,t,r,s,o)}function b(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}t.exports=function(e){return d.hash(e,f,16)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],7:[function(e,t,n){(function(e,n,i,r,s,o,a,l,c){var u;u=function(e){for(var t,n=new Array(e),i=0;i<e;i++)!(3&i)&&(t=4294967296*Math.random()),n[i]=t>>>((3&i)<<3)&255;return n},t.exports=u}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:10}],8:[function(e,t,n){(function(n,i,r,s,o,a,l,c,u){var d=e("./helpers");function f(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var n,i,r,s,o,a=Array(80),l=1732584193,c=-271733879,u=-1732584194,d=271733878,f=-1009589776,p=0;p<e.length;p+=16){for(var g=l,v=c,b=u,y=d,w=f,x=0;x<80;x++){a[x]=x<16?e[p+x]:m(a[x-3]^a[x-8]^a[x-14]^a[x-16],1);var _=h(h(m(l,5),(r=c,s=u,o=d,(i=x)<20?r&s|~r&o:!(i<40)&&i<60?r&s|r&o|s&o:r^s^o)),h(h(f,a[x]),(n=x)<20?1518500249:n<40?1859775393:n<60?-1894007588:-899497514));f=d,d=u,u=m(c,30),c=l,l=_}l=h(l,g),c=h(c,v),u=h(u,b),d=h(d,y),f=h(f,w)}return Array(l,c,u,d,f)}function h(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function m(e,t){return e<<t|e>>>32-t}t.exports=function(e){return d.hash(e,f,20,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],9:[function(e,t,n){(function(n,i,r,s,o,a,l,c,u){function d(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function f(e,t){return e>>>t|e<<32-t}function h(e,t){var n,i,r,s,o,a,l,c,u,h,m=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),p=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),g=new Array(64);e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var v,b,y,w,x,_,S,C,E=0;E<e.length;E+=16){n=p[0],i=p[1],r=p[2],s=p[3],o=p[4],a=p[5],l=p[6],c=p[7];for(var j=0;j<64;j++)g[j]=j<16?e[j+E]:d(d(d(f(C=g[j-2],17)^f(C,19)^C>>>10,g[j-7]),f(S=g[j-15],7)^f(S,18)^S>>>3),g[j-16]),u=d(d(d(d(c,f(_=o,6)^f(_,11)^f(_,25)),(x=o)&a^~x&l),m[j]),g[j]),h=d(f(w=n,2)^f(w,13)^f(w,22),(v=n)&(b=i)^v&(y=r)^b&y),c=l,l=a,a=o,o=d(s,u),s=r,r=i,i=n,n=d(u,h);p[0]=d(n,p[0]),p[1]=d(i,p[1]),p[2]=d(r,p[2]),p[3]=d(s,p[3]),p[4]=d(o,p[4]),p[5]=d(a,p[5]),p[6]=d(l,p[6]),p[7]=d(c,p[7])}return p}var m=e("./helpers");t.exports=function(e){return m.hash(e,h,32,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],10:[function(e,t,n){(function(e,n,i,r,s,o,a,l,c){function u(){}(e=t.exports={}).nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",(function(e){var t=e.source;t!==window&&null!==t||"process-tick"!==e.data||(e.stopPropagation(),0<n.length&&n.shift()())}),!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.on=u,e.addListener=u,e.once=u,e.off=u,e.removeListener=u,e.removeAllListeners=u,e.emit=u,e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:10}],11:[function(e,t,n){(function(e,t,i,r,s,o,a,l,c){n.read=function(e,t,n,i,r){var s,o,a=8*r-i-1,l=(1<<a)-1,c=l>>1,u=-7,d=n?r-1:0,f=n?-1:1,h=e[t+d];for(d+=f,s=h&(1<<-u)-1,h>>=-u,u+=a;0<u;s=256*s+e[t+d],d+=f,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=i;0<u;o=256*o+e[t+d],d+=f,u-=8);if(0===s)s=1-c;else{if(s===l)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,i),s-=c}return(h?-1:1)*o*Math.pow(2,s-i)},n.write=function(e,t,n,i,r,s){var o,a,l,c=8*s-r-1,u=(1<<c)-1,d=u>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:s-1,m=i?1:-1,p=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),2<=(t+=1<=o+d?f/l:f*Math.pow(2,1-d))*l&&(o++,l/=2),u<=o+d?(a=0,o=u):1<=o+d?(a=(t*l-1)*Math.pow(2,r),o+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,r),o=0));8<=r;e[n+h]=255&a,h+=m,a/=256,r-=8);for(o=o<<r|a,c+=r;0<c;e[n+h]=255&o,h+=m,o/=256,c-=8);e[n+h-m]|=128*p}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/ieee754/index.js","/node_modules/ieee754")},{buffer:3,lYpoI2:10}]},{},[1])(1)},694:(e,t,n)=>{"use strict";var i=n(925);function r(){}function s(){}s.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,s,o){if(o!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:r};return n.PropTypes=n,n}},556:(e,t,n)=>{e.exports=n(694)()},925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},731:e=>{var t={:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"AE",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"C",:"C",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"D",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"Y",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"ae",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"c",:"c",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"d",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"y",:"y",:"A",:"a",:"A",:"a",:"A",:"a",:"C",:"c",:"C",:"c",:"C",:"c",:"C",:"c",C:"C",c:"c",:"D",:"d",:"D",:"d",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"G",:"G",:"g",:"g",:"G",:"g",:"G",:"g",:"G",:"g",:"H",:"h",:"H",:"h",:"H",:"h",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"IJ",:"ij",:"J",:"j",:"K",:"k",:"K",:"k",K:"K",k:"k",:"L",:"l",:"L",:"l",:"L",:"l",:"L",:"l",:"l",:"l",:"M",:"m",M:"M",m:"m",:"N",:"n",:"N",:"n",:"N",:"n",:"n",N:"N",n:"n",:"O",:"o",:"O",:"o",:"O",:"o",:"OE",:"oe",P:"P",p:"p",:"R",:"r",:"R",:"r",:"R",:"r",R:"R",r:"r",:"R",:"r",:"S",:"s",:"S",:"s",:"S",:"S",:"s",:"s",:"S",:"s",:"T",:"t",:"t",:"T",:"T",:"t",:"T",:"t",T:"T",t:"t",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",V:"V",v:"v",:"W",:"w",:"W",:"w",X:"X",x:"x",:"Y",:"y",:"Y",Y:"Y",y:"y",:"Z",:"z",:"Z",:"z",:"Z",:"z",:"s",:"f",:"O",:"o",:"U",:"u",:"A",:"a",:"I",:"i",:"O",:"o",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"A",:"a",:"AE",:"ae",:"O",:"o",:"TH",:"th",:"P",:"p",:"S",:"s",X:"X",x:"x",:"",:"",:"",:"",A:"A",a:"a",E:"E",e:"e",I:"I",i:"i",:"N",:"n",:"O",:"o",:"O",:"o",:"U",:"u",:"W",:"w",:"Y",:"y",:"A",:"a",:"E",:"e",:"I",:"i",:"O",:"o",:"R",:"r",:"U",:"u",B:"B",b:"b",:"C",:"c",:"E",:"e",F:"F",f:"f",:"G",:"g",:"H",:"h",J:"J",:"j",:"K",:"k",M:"M",m:"m",P:"P",p:"p",Q:"Q",q:"q",:"R",:"r",:"S",:"s",V:"V",v:"v",W:"W",w:"w",X:"X",x:"x",Y:"Y",y:"y",A:"A",a:"a",B:"B",b:"b",:"D",:"d",:"E",:"e",:"E",:"e",:"H",:"h",I:"I",i:"i",:"I",:"i",M:"M",m:"m",O:"O",o:"o",Q:"Q",q:"q",U:"U",u:"u",X:"X",x:"x",Z:"Z",z:"z",:"",:"",:"",:""},n=Object.keys(t).join("|"),i=new RegExp(n,"g"),r=new RegExp(n,"");function s(e){return t[e]}var o=function(e){return e.replace(i,s)};e.exports=o,e.exports.has=function(e){return!!e.match(r)},e.exports.remove=o},699:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=s(n(609)),l=o(n(742));t.default=({children:e,fallback:t,errorMessage:n,errorComponent:i})=>{const r=i||l.default;return a.createElement(r,{errorMessage:n},a.createElement(a.Suspense,{fallback:t},e))}},742:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=s(n(609));class a extends o.Component{static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps({errorMessage:e},t){return t.error?{errorMessage:"function"==typeof e?e(t.error):e||t.error.message}:t}constructor(e){super(e),this.state={}}render(){return this.state.errorMessage?this.state.errorMessage:this.props.children}}t.default=a},286:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.resourceCache=void 0;const r=i(n(802)),s=new Map;t.resourceCache=function(e){s.has(e)||s.set(e,new Map);const t=s.get(e);return{get:(...e)=>t.get((0,r.default)(e)),set:(e,...n)=>t.set((0,r.default)(n),e),delete:(...e)=>t.delete((0,r.default)(e)),clear:()=>(s.delete(e),t.clear())}}},405:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeDataReader=void 0;const i=n(286);t.initializeDataReader=function(e,...t){const n=(0,i.resourceCache)(e),r=n.get(...t);if(r)return r;let s,o,a="init";const l=e(...t).then((e=>(s=e,a="done",e))).catch((e=>{o=e,a="error"}));function c(e){if("init"===a)throw l;if("error"===a)throw o;return"function"==typeof e?e(s):s}return n.set(c,...t),c}},484:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.script=t.image=void 0,t.image=function(e){return new Promise(((t,n)=>{const i=new Image;i.onload=()=>{t(e)},i.onerror=n,i.src=e}))},t.script=function(e){return new Promise(((t,n)=>{const i=document.createElement("script");i.onload=()=>{t(e)},i.onerror=n,i.src=e,document.getElementsByTagName("body")[0].appendChild(i)}))}},912:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncResourceContent=t.resourceCache=t.fileResource=t.preloadResource=t.useAsyncResource=void 0,s(n(469),t);const l=n(715);Object.defineProperty(t,"useAsyncResource",{enumerable:!0,get:function(){return l.useAsyncResource}});const c=o(n(484));t.fileResource=c;const u=n(286);Object.defineProperty(t,"resourceCache",{enumerable:!0,get:function(){return u.resourceCache}});const d=n(405);Object.defineProperty(t,"preloadResource",{enumerable:!0,get:function(){return d.initializeDataReader}});const f=a(n(699));t.AsyncResourceContent=f.default},469:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},715:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useAsyncResource=void 0;const i=n(609),r=n(405);t.useAsyncResource=function(e,...t){const n=(0,i.useRef)((()=>{}));(0,i.useMemo)((()=>{t.length&&(!e.length&&1===t.length&&Array.isArray(t[0])&&0===t[0].length?n.current=(0,r.initializeDataReader)(e):n.current=(0,r.initializeDataReader)(e,...t))}),[e,...t]);const[,s]=(0,i.useState)(0),o=(0,i.useCallback)(((...t)=>{n.current=(0,r.initializeDataReader)(e,...t),s((e=>1-e))}),[e]);return[n.current,o]}},942:(e,t)=>{var n;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,s(n)))}return e}function s(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)i.call(e,n)&&e[n]&&(t=o(t,n));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},785:(e,t,n)=>{"use strict";n.d(t,{FH:()=>V,lN:()=>T,mN:()=>je,xI:()=>D});var i=n(609),r=e=>"checkbox"===e.type,s=e=>e instanceof Date,o=e=>null==e;const a=e=>"object"==typeof e;var l=e=>!o(e)&&!Array.isArray(e)&&a(e)&&!s(e),c=e=>l(e)&&e.target?r(e.target)?e.target.checked:e.target.value:e,u=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),d=e=>{const t=e.constructor&&e.constructor.prototype;return l(t)&&t.hasOwnProperty("isPrototypeOf")},f="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function h(e){let t;const n=Array.isArray(e),i="undefined"!=typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(f&&(e instanceof Blob||i)||!n&&!l(e))return e;if(t=n?[]:{},n||d(e))for(const n in e)e.hasOwnProperty(n)&&(t[n]=h(e[n]));else t=e}return t}var m=e=>Array.isArray(e)?e.filter(Boolean):[],p=e=>void 0===e,g=(e,t,n)=>{if(!t||!l(e))return n;const i=m(t.split(/[,[\].]+?/)).reduce(((e,t)=>o(e)?e:e[t]),e);return p(i)||i===e?p(e[t])?n:e[t]:i},v=e=>"boolean"==typeof e,b=e=>/^\w*$/.test(e),y=e=>m(e.replace(/["|']|\]/g,"").split(/\.|\[/)),w=(e,t,n)=>{let i=-1;const r=b(t)?[t]:y(t),s=r.length,o=s-1;for(;++i<s;){const t=r[i];let s=n;if(i!==o){const n=e[t];s=l(n)||Array.isArray(n)?n:isNaN(+r[i+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=s,e=e[t]}return e};const x={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},_={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},S="pattern",C="required",E=i.createContext(null),j=()=>i.useContext(E);var I=(e,t,n,i=!0)=>{const r={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(r,s,{get:()=>{const r=s;return t._proxyFormState[r]!==_.all&&(t._proxyFormState[r]=!i||_.all),n&&(n[r]=!0),e[r]}});return r},O=e=>l(e)&&!Object.keys(e).length,k=(e,t,n,i)=>{n(e);const{name:r,...s}=e;return O(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find((e=>t[e]===(!i||_.all)))},P=e=>Array.isArray(e)?e:[e],A=(e,t,n)=>!e||!t||e===t||P(e).some((e=>e&&(n?e===t:e.startsWith(t)||t.startsWith(e))));function M(e){const t=i.useRef(e);t.current=e,i.useEffect((()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}}),[e.disabled])}function T(e){const t=j(),{control:n=t.control,disabled:r,name:s,exact:o}=e||{},[a,l]=i.useState(n._formState),c=i.useRef(!0),u=i.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=i.useRef(s);return d.current=s,M({disabled:r,next:e=>c.current&&A(d.current,e.name,o)&&k(e,u.current,n._updateFormState)&&l({...n._formState,...e}),subject:n._subjects.state}),i.useEffect((()=>(c.current=!0,u.current.isValid&&n._updateValid(!0),()=>{c.current=!1})),[n]),i.useMemo((()=>I(a,n,u.current,!1)),[a,n])}var L=e=>"string"==typeof e,F=(e,t,n,i,r)=>L(e)?(i&&t.watch.add(e),g(n,e,r)):Array.isArray(e)?e.map((e=>(i&&t.watch.add(e),g(n,e)))):(i&&(t.watchAll=!0),n);function V(e){const t=j(),{control:n=t.control,name:r,defaultValue:s,disabled:o,exact:a}=e||{},l=i.useRef(r);l.current=r,M({disabled:o,subject:n._subjects.values,next:e=>{A(l.current,e.name,a)&&u(h(F(l.current,n._names,e.values||n._formValues,!1,s)))}});const[c,u]=i.useState(n._getWatch(r,s));return i.useEffect((()=>n._removeUnmounted())),c}const D=e=>e.render(function(e){const t=j(),{name:n,disabled:r,control:s=t.control,shouldUnregister:o}=e,a=u(s._names.array,n),l=V({control:s,name:n,defaultValue:g(s._formValues,n,g(s._defaultValues,n,e.defaultValue)),exact:!0}),d=T({control:s,name:n,exact:!0}),f=i.useRef(s.register(n,{...e.rules,value:l,...v(e.disabled)?{disabled:e.disabled}:{}})),m=i.useMemo((()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!g(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!g(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!g(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!g(d.validatingFields,n)},error:{enumerable:!0,get:()=>g(d.errors,n)}})),[d,n]),b=i.useMemo((()=>({name:n,value:l,...v(r)||d.disabled?{disabled:d.disabled||r}:{},onChange:e=>f.current.onChange({target:{value:c(e),name:n},type:x.CHANGE}),onBlur:()=>f.current.onBlur({target:{value:g(s._formValues,n),name:n},type:x.BLUR}),ref:e=>{const t=g(s._fields,n);t&&e&&(t._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})}})),[n,s._formValues,r,d.disabled,l,s._fields]);return i.useEffect((()=>{const e=s._options.shouldUnregister||o,t=(e,t)=>{const n=g(s._fields,e);n&&n._f&&(n._f.mount=t)};if(t(n,!0),e){const e=h(g(s._options.defaultValues,n));w(s._defaultValues,n,e),p(g(s._formValues,n))&&w(s._formValues,n,e)}return()=>{(a?e&&!s._state.action:e)?s.unregister(n):t(n,!1)}}),[n,s,a,o]),i.useEffect((()=>{v(r)&&g(s._fields,n)&&s._updateDisabledField({disabled:r,fields:s._fields,name:n,value:g(s._fields,n)._f.value})}),[r,n,s]),i.useMemo((()=>({field:b,formState:d,fieldState:m})),[b,d,m])}(e));var N=(e,t,n,i,r)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[i]:r||!0}}:{},B=e=>({isOnSubmit:!e||e===_.onSubmit,isOnBlur:e===_.onBlur,isOnChange:e===_.onChange,isOnAll:e===_.all,isOnTouch:e===_.onTouched}),R=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))));const z=(e,t,n,i)=>{for(const r of n||Object.keys(e)){const n=g(e,r);if(n){const{_f:e,...s}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],r)&&!i)return!0;if(e.ref&&t(e.ref,e.name)&&!i)return!0;if(z(s,t))break}else if(l(s)&&z(s,t))break}}};var H=(e,t,n)=>{const i=P(g(e,n));return w(i,"root",t[n]),w(e,n,i),e},$=e=>"file"===e.type,U=e=>"function"==typeof e,W=e=>{if(!f)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},q=e=>L(e),Y=e=>"radio"===e.type,X=e=>e instanceof RegExp;const G={value:!1,isValid:!1},K={value:!0,isValid:!0};var Z=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!p(e[0].attributes.value)?p(e[0].value)||""===e[0].value?K:{value:e[0].value,isValid:!0}:K:G}return G};const J={isValid:!1,value:null};var Q=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),J):J;function ee(e,t,n="validate"){if(q(e)||Array.isArray(e)&&e.every(q)||v(e)&&!e)return{type:n,message:q(e)?e:"",ref:t}}var te=e=>l(e)&&!X(e)?e:{value:e,message:""},ne=async(e,t,n,i,s)=>{const{ref:a,refs:c,required:u,maxLength:d,minLength:f,min:h,max:m,pattern:b,validate:y,name:w,valueAsNumber:x,mount:_,disabled:E}=e._f,j=g(t,w);if(!_||E)return{};const I=c?c[0]:a,k=e=>{i&&I.reportValidity&&(I.setCustomValidity(v(e)?"":e||""),I.reportValidity())},P={},A=Y(a),M=r(a),T=A||M,F=(x||$(a))&&p(a.value)&&p(j)||W(a)&&""===a.value||""===j||Array.isArray(j)&&!j.length,V=N.bind(null,w,n,P),D=(e,t,n,i="maxLength",r="minLength")=>{const s=e?t:n;P[w]={type:e?i:r,message:s,ref:a,...V(e?i:r,s)}};if(s?!Array.isArray(j)||!j.length:u&&(!T&&(F||o(j))||v(j)&&!j||M&&!Z(c).isValid||A&&!Q(c).isValid)){const{value:e,message:t}=q(u)?{value:!!u,message:u}:te(u);if(e&&(P[w]={type:C,message:t,ref:I,...V(C,t)},!n))return k(t),P}if(!(F||o(h)&&o(m))){let e,t;const i=te(m),r=te(h);if(o(j)||isNaN(j)){const n=a.valueAsDate||new Date(j),s=e=>new Date((new Date).toDateString()+" "+e),o="time"==a.type,l="week"==a.type;L(i.value)&&j&&(e=o?s(j)>s(i.value):l?j>i.value:n>new Date(i.value)),L(r.value)&&j&&(t=o?s(j)<s(r.value):l?j<r.value:n<new Date(r.value))}else{const n=a.valueAsNumber||(j?+j:j);o(i.value)||(e=n>i.value),o(r.value)||(t=n<r.value)}if((e||t)&&(D(!!e,i.message,r.message,"max","min"),!n))return k(P[w].message),P}if((d||f)&&!F&&(L(j)||s&&Array.isArray(j))){const e=te(d),t=te(f),i=!o(e.value)&&j.length>+e.value,r=!o(t.value)&&j.length<+t.value;if((i||r)&&(D(i,e.message,t.message),!n))return k(P[w].message),P}if(b&&!F&&L(j)){const{value:e,message:t}=te(b);if(X(e)&&!j.match(e)&&(P[w]={type:S,message:t,ref:a,...V(S,t)},!n))return k(t),P}if(y)if(U(y)){const e=ee(await y(j,t),I);if(e&&(P[w]={...e,...V("validate",e.message)},!n))return k(e.message),P}else if(l(y)){let e={};for(const i in y){if(!O(e)&&!n)break;const r=ee(await y[i](j,t),I,i);r&&(e={...r,...V(i,r.message)},k(r.message),n&&(P[w]=e))}if(!O(e)&&(P[w]={ref:I,...e},!n))return P}return k(!0),P};function ie(e,t){const n=Array.isArray(t)?t:b(t)?[t]:y(t),i=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let i=0;for(;i<n;)e=p(e)?i++:e[t[i++]];return e}(e,n),r=n.length-1,s=n[r];return i&&delete i[s],0!==r&&(l(i)&&O(i)||Array.isArray(i)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!p(e[t]))return!1;return!0}(i))&&ie(e,n.slice(0,-1)),e}var re=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}},se=e=>o(e)||!a(e);function oe(e,t){if(se(e)||se(t))return e===t;if(s(e)&&s(t))return e.getTime()===t.getTime();const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(const r of n){const n=e[r];if(!i.includes(r))return!1;if("ref"!==r){const e=t[r];if(s(n)&&s(e)||l(n)&&l(e)||Array.isArray(n)&&Array.isArray(e)?!oe(n,e):n!==e)return!1}}return!0}var ae=e=>"select-multiple"===e.type,le=e=>Y(e)||r(e),ce=e=>W(e)&&e.isConnected,ue=e=>{for(const t in e)if(U(e[t]))return!0;return!1};function de(e,t={}){const n=Array.isArray(e);if(l(e)||n)for(const n in e)Array.isArray(e[n])||l(e[n])&&!ue(e[n])?(t[n]=Array.isArray(e[n])?[]:{},de(e[n],t[n])):o(e[n])||(t[n]=!0);return t}function fe(e,t,n){const i=Array.isArray(e);if(l(e)||i)for(const i in e)Array.isArray(e[i])||l(e[i])&&!ue(e[i])?p(t)||se(n[i])?n[i]=Array.isArray(e[i])?de(e[i],[]):{...de(e[i])}:fe(e[i],o(t)?{}:t[i],n[i]):n[i]=!oe(e[i],t[i]);return n}var he=(e,t)=>fe(e,t,de(t)),me=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:i})=>p(e)?e:t?""===e?NaN:e?+e:e:n&&L(e)?new Date(e):i?i(e):e;function pe(e){const t=e.ref;if(!(e.refs?e.refs.every((e=>e.disabled)):t.disabled))return $(t)?t.files:Y(t)?Q(e.refs).value:ae(t)?[...t.selectedOptions].map((({value:e})=>e)):r(t)?Z(e.refs).value:me(p(t.value)?e.ref.value:t.value,e)}var ge=(e,t,n,i)=>{const r={};for(const n of e){const e=g(t,n);e&&w(r,n,e._f)}return{criteriaMode:n,names:[...e],fields:r,shouldUseNativeValidation:i}},ve=e=>p(e)?e:X(e)?e.source:l(e)?X(e.value)?e.value.source:e.value:e;const be="AsyncFunction";var ye=e=>!!e&&!!e.validate&&!!(U(e.validate)&&e.validate.constructor.name===be||l(e.validate)&&Object.values(e.validate).find((e=>e.constructor.name===be))),we=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function xe(e,t,n){const i=g(e,n);if(i||b(n))return{error:i,name:n};const r=n.split(".");for(;r.length;){const i=r.join("."),s=g(t,i),o=g(e,i);if(s&&!Array.isArray(s)&&n!==i)return{name:n};if(o&&o.type)return{name:i,error:o};r.pop()}return{name:n}}var _e=(e,t,n,i,r)=>!r.isOnAll&&(!n&&r.isOnTouch?!(t||e):(n?i.isOnBlur:r.isOnBlur)?!e:!(n?i.isOnChange:r.isOnChange)||e),Se=(e,t)=>!m(g(e,t)).length&&ie(e,t);const Ce={mode:_.onSubmit,reValidateMode:_.onChange,shouldFocusError:!0};function Ee(e={}){let t,n={...Ce,...e},i={submitCount:0,isDirty:!1,isLoading:U(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},a={},d=(l(n.defaultValues)||l(n.values))&&h(n.defaultValues||n.values)||{},b=n.shouldUnregister?{}:h(d),y={action:!1,mount:!1,watch:!1},S={mount:new Set,unMount:new Set,array:new Set,watch:new Set},C=0;const E={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},j={values:re(),array:re(),state:re()},I=B(n.mode),k=B(n.reValidateMode),A=n.criteriaMode===_.all,M=async e=>{if(!n.disabled&&(E.isValid||e)){const e=n.resolver?O((await N()).errors):await q(a,!0);e!==i.isValid&&j.state.next({isValid:e})}},T=(e,t)=>{n.disabled||!E.isValidating&&!E.validatingFields||((e||Array.from(S.mount)).forEach((e=>{e&&(t?w(i.validatingFields,e,t):ie(i.validatingFields,e))})),j.state.next({validatingFields:i.validatingFields,isValidating:!O(i.validatingFields)}))},V=(e,t,n,i)=>{const r=g(a,e);if(r){const s=g(b,e,p(n)?g(d,e):n);p(s)||i&&i.defaultChecked||t?w(b,e,t?s:pe(r._f)):G(e,s),y.mount&&M()}},D=(e,t,r,s,o)=>{let l=!1,c=!1;const u={name:e};if(!n.disabled){const n=!!(g(a,e)&&g(a,e)._f&&g(a,e)._f.disabled);if(!r||s){E.isDirty&&(c=i.isDirty,i.isDirty=u.isDirty=Y(),l=c!==u.isDirty);const r=n||oe(g(d,e),t);c=!(n||!g(i.dirtyFields,e)),r||n?ie(i.dirtyFields,e):w(i.dirtyFields,e,!0),u.dirtyFields=i.dirtyFields,l=l||E.dirtyFields&&c!==!r}if(r){const t=g(i.touchedFields,e);t||(w(i.touchedFields,e,r),u.touchedFields=i.touchedFields,l=l||E.touchedFields&&t!==r)}l&&o&&j.state.next(u)}return l?u:{}},N=async e=>{T(e,!0);const t=await n.resolver(b,n.context,ge(e||S.mount,a,n.criteriaMode,n.shouldUseNativeValidation));return T(e),t},q=async(e,t,r={valid:!0})=>{for(const s in e){const o=e[s];if(o){const{_f:e,...a}=o;if(e){const a=S.array.has(e.name),l=o._f&&ye(o._f);l&&E.validatingFields&&T([s],!0);const c=await ne(o,b,A,n.shouldUseNativeValidation&&!t,a);if(l&&E.validatingFields&&T([s]),c[e.name]&&(r.valid=!1,t))break;!t&&(g(c,e.name)?a?H(i.errors,c,e.name):w(i.errors,e.name,c[e.name]):ie(i.errors,e.name))}!O(a)&&await q(a,t,r)}}return r.valid},Y=(e,t)=>!n.disabled&&(e&&t&&w(b,e,t),!oe(te(),d)),X=(e,t,n)=>F(e,S,{...y.mount?b:p(t)?d:L(e)?{[e]:t}:t},n,t),G=(e,t,n={})=>{const i=g(a,e);let s=t;if(i){const n=i._f;n&&(!n.disabled&&w(b,e,me(t,n)),s=W(n.ref)&&o(t)?"":t,ae(n.ref)?[...n.ref.options].forEach((e=>e.selected=s.includes(e.value))):n.refs?r(n.ref)?n.refs.length>1?n.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(s)?!!s.find((t=>t===e.value)):s===e.value))):n.refs[0]&&(n.refs[0].checked=!!s):n.refs.forEach((e=>e.checked=e.value===s)):$(n.ref)?n.ref.value="":(n.ref.value=s,n.ref.type||j.values.next({name:e,values:{...b}})))}(n.shouldDirty||n.shouldTouch)&&D(e,s,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&ee(e)},K=(e,t,n)=>{for(const i in t){const r=t[i],o=`${e}.${i}`,c=g(a,o);(S.array.has(e)||l(r)||c&&!c._f)&&!s(r)?K(o,r,n):G(o,r,n)}},Z=(e,t,n={})=>{const r=g(a,e),s=S.array.has(e),l=h(t);w(b,e,l),s?(j.array.next({name:e,values:{...b}}),(E.isDirty||E.dirtyFields)&&n.shouldDirty&&j.state.next({name:e,dirtyFields:he(d,b),isDirty:Y(e,l)})):!r||r._f||o(l)?G(e,l,n):K(e,l,n),R(e,S)&&j.state.next({...i}),j.values.next({name:y.mount?e:void 0,values:{...b}})},J=async e=>{y.mount=!0;const r=e.target;let o=r.name,l=!0;const u=g(a,o),d=e=>{l=Number.isNaN(e)||s(e)&&isNaN(e.getTime())||oe(e,g(b,o,e))};if(u){let s,f;const h=r.type?pe(u._f):c(e),m=e.type===x.BLUR||e.type===x.FOCUS_OUT,p=!we(u._f)&&!n.resolver&&!g(i.errors,o)&&!u._f.deps||_e(m,g(i.touchedFields,o),i.isSubmitted,k,I),y=R(o,S,m);w(b,o,h),m?(u._f.onBlur&&u._f.onBlur(e),t&&t(0)):u._f.onChange&&u._f.onChange(e);const _=D(o,h,m,!1),P=!O(_)||y;if(!m&&j.values.next({name:o,type:e.type,values:{...b}}),p)return E.isValid&&("onBlur"===n.mode?m&&M():M()),P&&j.state.next({name:o,...y?{}:_});if(!m&&y&&j.state.next({...i}),n.resolver){const{errors:e}=await N([o]);if(d(h),l){const t=xe(i.errors,a,o),n=xe(e,a,t.name||o);s=n.error,o=n.name,f=O(e)}}else T([o],!0),s=(await ne(u,b,A,n.shouldUseNativeValidation))[o],T([o]),d(h),l&&(s?f=!1:E.isValid&&(f=await q(a,!0)));l&&(u._f.deps&&ee(u._f.deps),((e,r,s,o)=>{const a=g(i.errors,e),l=E.isValid&&v(r)&&i.isValid!==r;var c;if(n.delayError&&s?(c=()=>((e,t)=>{w(i.errors,e,t),j.state.next({errors:i.errors})})(e,s),t=e=>{clearTimeout(C),C=setTimeout(c,e)},t(n.delayError)):(clearTimeout(C),t=null,s?w(i.errors,e,s):ie(i.errors,e)),(s?!oe(a,s):a)||!O(o)||l){const t={...o,...l&&v(r)?{isValid:r}:{},errors:i.errors,name:e};i={...i,...t},j.state.next(t)}})(o,f,s,_))}},Q=(e,t)=>{if(g(i.errors,t)&&e.focus)return e.focus(),1},ee=async(e,t={})=>{let r,s;const o=P(e);if(n.resolver){const t=await(async e=>{const{errors:t}=await N(e);if(e)for(const n of e){const e=g(t,n);e?w(i.errors,n,e):ie(i.errors,n)}else i.errors=t;return t})(p(e)?e:o);r=O(t),s=e?!o.some((e=>g(t,e))):r}else e?(s=(await Promise.all(o.map((async e=>{const t=g(a,e);return await q(t&&t._f?{[e]:t}:t)})))).every(Boolean),(s||i.isValid)&&M()):s=r=await q(a);return j.state.next({...!L(e)||E.isValid&&r!==i.isValid?{}:{name:e},...n.resolver||!e?{isValid:r}:{},errors:i.errors}),t.shouldFocus&&!s&&z(a,Q,e?o:S.mount),s},te=e=>{const t={...y.mount?b:d};return p(e)?t:L(e)?g(t,e):e.map((e=>g(t,e)))},se=(e,t)=>({invalid:!!g((t||i).errors,e),isDirty:!!g((t||i).dirtyFields,e),error:g((t||i).errors,e),isValidating:!!g(i.validatingFields,e),isTouched:!!g((t||i).touchedFields,e)}),ue=(e,t,n)=>{const r=(g(a,e,{_f:{}})._f||{}).ref,s=g(i.errors,e)||{},{ref:o,message:l,type:c,...u}=s;w(i.errors,e,{...u,...t,ref:r}),j.state.next({name:e,errors:i.errors,isValid:!1}),n&&n.shouldFocus&&r&&r.focus&&r.focus()},de=(e,t={})=>{for(const r of e?P(e):S.mount)S.mount.delete(r),S.array.delete(r),t.keepValue||(ie(a,r),ie(b,r)),!t.keepError&&ie(i.errors,r),!t.keepDirty&&ie(i.dirtyFields,r),!t.keepTouched&&ie(i.touchedFields,r),!t.keepIsValidating&&ie(i.validatingFields,r),!n.shouldUnregister&&!t.keepDefaultValue&&ie(d,r);j.values.next({values:{...b}}),j.state.next({...i,...t.keepDirty?{isDirty:Y()}:{}}),!t.keepIsValid&&M()},fe=({disabled:e,name:t,field:n,fields:i,value:r})=>{if(v(e)&&y.mount||e){const s=e?void 0:p(r)?pe(n?n._f:g(i,t)._f):r;(e||!e&&!p(s))&&w(b,t,s),D(t,s,!1,!1,!0)}},be=(e,t={})=>{let i=g(a,e);const r=v(t.disabled)||v(n.disabled);return w(a,e,{...i||{},_f:{...i&&i._f?i._f:{ref:{name:e}},name:e,mount:!0,...t}}),S.mount.add(e),i?fe({field:i,disabled:v(t.disabled)?t.disabled:n.disabled,name:e,value:t.value}):V(e,!0,t.value),{...r?{disabled:t.disabled||n.disabled}:{},...n.progressive?{required:!!t.required,min:ve(t.min),max:ve(t.max),minLength:ve(t.minLength),maxLength:ve(t.maxLength),pattern:ve(t.pattern)}:{},name:e,onChange:J,onBlur:J,ref:r=>{if(r){be(e,t),i=g(a,e);const n=p(r.value)&&r.querySelectorAll&&r.querySelectorAll("input,select,textarea")[0]||r,s=le(n),o=i._f.refs||[];if(s?o.find((e=>e===n)):n===i._f.ref)return;w(a,e,{_f:{...i._f,...s?{refs:[...o.filter(ce),n,...Array.isArray(g(d,e))?[{}]:[]],ref:{type:n.type,name:e}}:{ref:n}}}),V(e,!1,void 0,n)}else i=g(a,e,{}),i._f&&(i._f.mount=!1),(n.shouldUnregister||t.shouldUnregister)&&(!u(S.array,e)||!y.action)&&S.unMount.add(e)}}},Ee=()=>n.shouldFocusError&&z(a,Q,S.mount),je=(e,t)=>async r=>{let s;if(r&&(r.preventDefault&&r.preventDefault(),r.persist&&r.persist()),n.disabled)return void(t&&await t({...i.errors},r));let o=h(b);if(j.state.next({isSubmitting:!0}),n.resolver){const{errors:e,values:t}=await N();i.errors=e,o=t}else await q(a);if(ie(i.errors,"root"),O(i.errors)){j.state.next({errors:{}});try{await e(o,r)}catch(e){s=e}}else t&&await t({...i.errors},r),Ee(),setTimeout(Ee);if(j.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:O(i.errors)&&!s,submitCount:i.submitCount+1,errors:i.errors}),s)throw s},Ie=(e,t={})=>{const r=e?h(e):d,s=h(r),o=O(e),l=o?d:s;if(t.keepDefaultValues||(d=r),!t.keepValues){if(t.keepDirtyValues){const e=new Set([...S.mount,...Object.keys(he(d,b))]);for(const t of Array.from(e))g(i.dirtyFields,t)?w(l,t,g(b,t)):Z(t,g(l,t))}else{if(f&&p(e))for(const e of S.mount){const t=g(a,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(W(e)){const t=e.closest("form");if(t){t.reset();break}}}}a={}}b=n.shouldUnregister?t.keepDefaultValues?h(d):{}:h(l),j.array.next({values:{...l}}),j.values.next({values:{...l}})}S={mount:t.keepDirtyValues?S.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},y.mount=!E.isValid||!!t.keepIsValid||!!t.keepDirtyValues,y.watch=!!n.shouldUnregister,j.state.next({submitCount:t.keepSubmitCount?i.submitCount:0,isDirty:!o&&(t.keepDirty?i.isDirty:!(!t.keepDefaultValues||oe(e,d))),isSubmitted:!!t.keepIsSubmitted&&i.isSubmitted,dirtyFields:o?{}:t.keepDirtyValues?t.keepDefaultValues&&b?he(d,b):i.dirtyFields:t.keepDefaultValues&&e?he(d,e):t.keepDirty?i.dirtyFields:{},touchedFields:t.keepTouched?i.touchedFields:{},errors:t.keepErrors?i.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&i.isSubmitSuccessful,isSubmitting:!1})},Oe=(e,t)=>Ie(U(e)?e(b):e,t);return{control:{register:be,unregister:de,getFieldState:se,handleSubmit:je,setError:ue,_executeSchema:N,_getWatch:X,_getDirty:Y,_updateValid:M,_removeUnmounted:()=>{for(const e of S.unMount){const t=g(a,e);t&&(t._f.refs?t._f.refs.every((e=>!ce(e))):!ce(t._f.ref))&&de(e)}S.unMount=new Set},_updateFieldArray:(e,t=[],r,s,o=!0,l=!0)=>{if(s&&r&&!n.disabled){if(y.action=!0,l&&Array.isArray(g(a,e))){const t=r(g(a,e),s.argA,s.argB);o&&w(a,e,t)}if(l&&Array.isArray(g(i.errors,e))){const t=r(g(i.errors,e),s.argA,s.argB);o&&w(i.errors,e,t),Se(i.errors,e)}if(E.touchedFields&&l&&Array.isArray(g(i.touchedFields,e))){const t=r(g(i.touchedFields,e),s.argA,s.argB);o&&w(i.touchedFields,e,t)}E.dirtyFields&&(i.dirtyFields=he(d,b)),j.state.next({name:e,isDirty:Y(e,t),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else w(b,e,t)},_updateDisabledField:fe,_getFieldArray:e=>m(g(y.mount?b:d,e,n.shouldUnregister?g(d,e,[]):[])),_reset:Ie,_resetDefaultValues:()=>U(n.defaultValues)&&n.defaultValues().then((e=>{Oe(e,n.resetOptions),j.state.next({isLoading:!1})})),_updateFormState:e=>{i={...i,...e}},_disableForm:e=>{v(e)&&(j.state.next({disabled:e}),z(a,((t,n)=>{const i=g(a,n);i&&(t.disabled=i._f.disabled||e,Array.isArray(i._f.refs)&&i._f.refs.forEach((t=>{t.disabled=i._f.disabled||e})))}),0,!1))},_subjects:j,_proxyFormState:E,_setErrors:e=>{i.errors=e,j.state.next({errors:i.errors,isValid:!1})},get _fields(){return a},get _formValues(){return b},get _state(){return y},set _state(e){y=e},get _defaultValues(){return d},get _names(){return S},set _names(e){S=e},get _formState(){return i},set _formState(e){i=e},get _options(){return n},set _options(e){n={...n,...e}}},trigger:ee,register:be,handleSubmit:je,watch:(e,t)=>U(e)?j.values.subscribe({next:n=>e(X(void 0,t),n)}):X(e,t,!0),setValue:Z,getValues:te,reset:Oe,resetField:(e,t={})=>{g(a,e)&&(p(t.defaultValue)?Z(e,h(g(d,e))):(Z(e,t.defaultValue),w(d,e,h(t.defaultValue))),t.keepTouched||ie(i.touchedFields,e),t.keepDirty||(ie(i.dirtyFields,e),i.isDirty=t.defaultValue?Y(e,h(g(d,e))):Y()),t.keepError||(ie(i.errors,e),E.isValid&&M()),j.state.next({...i}))},clearErrors:e=>{e&&P(e).forEach((e=>ie(i.errors,e))),j.state.next({errors:e?i.errors:{}})},unregister:de,setError:ue,setFocus:(e,t={})=>{const n=g(a,e),i=n&&n._f;if(i){const e=i.refs?i.refs[0]:i.ref;e.focus&&(e.focus(),t.shouldSelect&&U(e.select)&&e.select())}},getFieldState:se}}function je(e={}){const t=i.useRef(void 0),n=i.useRef(void 0),[r,s]=i.useState({isDirty:!1,isValidating:!1,isLoading:U(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:U(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...Ee(e),formState:r});const o=t.current.control;return o._options=e,M({subject:o._subjects.state,next:e=>{k(e,o._proxyFormState,o._updateFormState,!0)&&s({...o._formState})}}),i.useEffect((()=>o._disableForm(e.disabled)),[o,e.disabled]),i.useEffect((()=>{if(o._proxyFormState.isDirty){const e=o._getDirty();e!==r.isDirty&&o._subjects.state.next({isDirty:e})}}),[o,r.isDirty]),i.useEffect((()=>{e.values&&!oe(e.values,n.current)?(o._reset(e.values,o._options.resetOptions),n.current=e.values,s((e=>({...e})))):o._resetDefaultValues()}),[e.values,o]),i.useEffect((()=>{e.errors&&o._setErrors(e.errors)}),[e.errors,o]),i.useEffect((()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()})),i.useEffect((()=>{e.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})}),[e.shouldUnregister,o]),t.current.formState=I(r,o),t.current}}}]);