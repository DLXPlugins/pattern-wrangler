{"version":3,"file":"dlx-pw-post-utilities.js","mappings":";;;;AAAE,aAAW;EACZ,YAAY;;EAEZ,IAAQA,EAAE,GAAKC,EAAE,CAACC,IAAI,CAAdF,EAAE;EACV,IAAQG,KAAK,GAAKF,EAAE,CAACG,IAAI,CAAjBD,KAAK;;EAEb;AACD;AACA;AACA;AACA;AACA;EACC,IAAME,SAAS,GAAG,SAAZA,SAASA,CAAKC,OAAO,EAAM;IAChC,IAAMC,KAAK,GAAGC,MAAM,CAACC,gBAAgB,CAAEH,OAAQ,CAAC;IAChD,OACCC,KAAK,CAACG,OAAO,KAAK,MAAM,IACfH,KAAK,CAACI,UAAU,KAAK,QAAQ,IAC7BJ,KAAK,CAACK,OAAO,KAAK,GAAG;EAEhC,CAAC;;EAED;EACA,IAAMC,oBAAoB,GAAGC,QAAQ,CAACC,gBAAgB,CAAE,uBAAwB,CAAC;EAEjF,IAAMC,kBAAkB,GAAG,OAAOC,aAAa,KAAK,WAAW;EAC/D,IAAKD,kBAAkB,IAAIH,oBAAoB,EAAG;IACjDA,oBAAoB,CAACK,OAAO,CAAE,UAAEC,MAAM,EAAM;MAC3CA,MAAM,CAACC,SAAS,CAACC,MAAM,CAAE,2BAA4B,CAAC;MAEtDF,MAAM,CAACG,gBAAgB,CAAE,OAAO,EAAE,UAAEC,KAAK,EAAM;QAC9CA,KAAK,CAACC,cAAc,CAAC,CAAC;;QAEtB;QACA,IAAMC,KAAK,GAAGN,MAAM,CAACO,sBAAsB;QAC3C,IAAKD,KAAK,IAAIA,KAAK,CAACE,OAAO,CAACC,WAAW,CAAC,CAAC,KAAK,OAAO,EAAG;UACvD,IAAMC,cAAc,GAAGJ,KAAK,CAACK,KAAK;;UAElC;UACAC,SAAS,CAACC,SAAS,CAACC,SAAS,CAAEJ,cAAe,CAAC,CAACK,IAAI,CAAE,YAAM;YAC3D;;YAEA;YACA/B,KAAK,CAAEH,EAAE,CAAE,+BAA+B,EAAE,kBAAmB,CAAC,EAAE,WAAY,CAAC;YAE/E,IAAMmC,UAAU,GAAGhB,MAAM,CAACiB,aAAa,CAAE,MAAO,CAAC;;YAEjD;YACAD,UAAU,CAACf,SAAS,CAACC,MAAM,CAAE,qBAAsB,CAAC;YACpDc,UAAU,CAACf,SAAS,CAACiB,GAAG,CAAE,eAAgB,CAAC;;YAE3C;YACAC,UAAU,CAAE,YAAM;cACjBH,UAAU,CAACf,SAAS,CAACC,MAAM,CAAE,eAAgB,CAAC;cAC9Cc,UAAU,CAACf,SAAS,CAACiB,GAAG,CAAE,qBAAsB,CAAC;YAClD,CAAC,EAAE,IAAK,CAAC;UACV,CAAE,CAAC,SAAM,CAAE,UAAEE,KAAK,EAAM;YACvB;YACAC,OAAO,CAACD,KAAK,CAAE,uCAAuC,EAAEA,KAAM,CAAC;UAChE,CAAE,CAAC;QACJ;MACD,CAAE,CAAC;IACJ,CAAE,CAAC;EACJ;AACD,CAAC,EAAC,CAAC,C","sources":["webpack://pattern-wrangler/./src/js/utils/index.js"],"sourcesContent":["( function() {\n\t'use strict';\n\n\tconst { __ } = wp.i18n;\n\tconst { speak } = wp.a11y;\n\n\t/**\n\t * Determine if an element is visible or not.\n\t *\n\t * @param {Element} element The element to check if visible or not.\n\t * @return {boolean} true if visible, false if not.\n\t */\n\tconst isVisible = ( element ) => {\n\t\tconst style = window.getComputedStyle( element );\n\t\treturn (\n\t\t\tstyle.display !== 'none' &&\n            style.visibility !== 'hidden' &&\n            style.opacity !== '0'\n\t\t);\n\t};\n\n\t// Set up copy event.\n\tconst copyShortcodeButtons = document.querySelectorAll( '.dlxpw-copy-shortcode' );\n\n\tconst clipboardSupported = typeof ClipboardItem !== 'undefined';\n\tif ( clipboardSupported && copyShortcodeButtons ) {\n\t\tcopyShortcodeButtons.forEach( ( button ) => {\n\t\t\tbutton.classList.remove( 'dlx-copy-shortcode-hidden' );\n\n\t\t\tbutton.addEventListener( 'click', ( event ) => {\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\t// Get the value of the previous input element.\n\t\t\t\tconst input = button.previousElementSibling;\n\t\t\t\tif ( input && input.tagName.toLowerCase() === 'input' ) {\n\t\t\t\t\tconst shortcodeValue = input.value;\n\n\t\t\t\t\t// Copy the value to the clipboard.\n\t\t\t\t\tnavigator.clipboard.writeText( shortcodeValue ).then( () => {\n\t\t\t\t\t\t// Logs success message  in console.\n\n\t\t\t\t\t\t// a11y text here.\n\t\t\t\t\t\tspeak( __( 'Shortcode copied to clipboard', 'pattern-wrangler' ), 'assertive' );\n\n\t\t\t\t\t\tconst buttonIcon = button.querySelector( 'span' );\n\n\t\t\t\t\t\t// Replace button content with \"Copied\" text.\n\t\t\t\t\t\tbuttonIcon.classList.remove( 'dashicons-clipboard' );\n\t\t\t\t\t\tbuttonIcon.classList.add( 'dashicons-yes' );\n\n\t\t\t\t\t\t// Revert back to original state after 3 seconds.\n\t\t\t\t\t\tsetTimeout( () => {\n\t\t\t\t\t\t\tbuttonIcon.classList.remove( 'dashicons-yes' );\n\t\t\t\t\t\t\tbuttonIcon.classList.add( 'dashicons-clipboard' );\n\t\t\t\t\t\t}, 3000 );\n\t\t\t\t\t} ).catch( ( error ) => {\n\t\t\t\t\t\t// Logs error message  in console.\n\t\t\t\t\t\tconsole.error( 'Error copying shortcode to clipboard:', error );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n}() );\n"],"names":["__","wp","i18n","speak","a11y","isVisible","element","style","window","getComputedStyle","display","visibility","opacity","copyShortcodeButtons","document","querySelectorAll","clipboardSupported","ClipboardItem","forEach","button","classList","remove","addEventListener","event","preventDefault","input","previousElementSibling","tagName","toLowerCase","shortcodeValue","value","navigator","clipboard","writeText","then","buttonIcon","querySelector","add","setTimeout","error","console"],"sourceRoot":""}